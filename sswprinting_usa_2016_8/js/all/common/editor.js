(function(c){function f(a){if("string"===typeof a.data){var h=a.handler,f=a.data.toLowerCase().split(" ");a.handler=function(a){if(!(this!==a.target&&(/textarea|select/i.test(a.target.nodeName)||"text"===a.target.type))){var p="keypress"!==a.type&&c.hotkeys.specialKeys[a.which],l=String.fromCharCode(a.which).toLowerCase(),q="",z={};a.altKey&&"alt"!==p&&(q+="alt+");a.ctrlKey&&"ctrl"!==p&&(q+="ctrl+");a.metaKey&&(!a.ctrlKey&&"meta"!==p)&&(q+="meta+");a.shiftKey&&"shift"!==p&&(q+="shift+");p?z[q+p]=
!0:(z[q+l]=!0,z[q+c.hotkeys.shiftNums[l]]=!0,"shift+"===q&&(z[c.hotkeys.shiftNums[l]]=!0));p=0;for(l=f.length;p<l;p++)if(z[f[p]])return h.apply(this,arguments)}}}}c.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",
109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta",219:"[",221:"]"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};c.each(["keydown","keyup","keypress"],function(){c.event.special[this]={add:f}})})(jQuery);
(function(c,f){function a(a){return"string"===typeof a}function h(a){var c=q.call(arguments,1);return function(){return a.apply(this,c.concat(q.call(arguments)))}}function n(c,h,n,o,p){var q;o!==l?(h=n.match(c?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),n=h[3]||"",2===p&&a(o)?o=o.replace(c?K:J,""):(q=B(h[2]),o=a(o)?B[c?R:N](o):o,o=2===p?o:1===p?$j.extend({},o,q):$j.extend({},q,o),o=A(o),c&&(o=o.replace(X,z))),c=h[1]+(c?"#":o||!h[1]?"?":"")+o+n):c=h(n!==l?n:f[T][M]);return c}function o(c,h,f){h===
l||"boolean"===typeof h?(f=h,h=A[c?R:N]()):h=a(h)?h.replace(c?K:J,""):h;return B(h,f)}function p(c,h,f,n){!a(f)&&"object"!==typeof f&&(n=f,f=h,h=l);return this.each(function(){var a=$j(this),l=h||I()[(this.nodeName||"").toLowerCase()]||"",o=l&&a.attr(l)||"";a.attr(l,A[c](o,f,n))})}var l,q=Array.prototype.slice,z=decodeURIComponent,A=$j.param,u,B,E,C=$j.bbq=$j.bbq||{},G,F,I,O=$j.event.special,N="querystring",R="fragment",T="location",M="href",J=/^.*\?|#.*$/g,K=/^.*\#/,X,L={};A[N]=h(n,0,function(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,
"$1")});A[R]=u=h(n,1,function(a){return a.replace(/^[^#]*#?(.*)$/,"$1")});u.noEscape=function(a){a=$j.map((a||"").split(""),encodeURIComponent);X=RegExp(a.join("|"),"g")};u.noEscape(",/");$j.deparam=B=function(a,c){var h={},f={"true":!0,"false":!1,"null":null};$j.each(a.replace(/\+/g," ").split("&"),function(a,n){var o=n.split("="),p=z(o[0]),q=h,u=0,A=p.split("]["),B=A.length-1;/\[/.test(A[0])&&/\]$/.test(A[B])?(A[B]=A[B].replace(/\]$/,""),A=A.shift().split("[").concat(A),B=A.length-1):B=0;if(2===
o.length)if(o=z(o[1]),c&&(o=o&&!isNaN(o)?+o:"undefined"===o?l:f[o]!==l?f[o]:o),B)for(;u<=B;u++)p=""===A[u]?q.length:A[u],q=q[p]=u<B?q[p]||(A[u+1]&&isNaN(A[u+1])?{}:[]):o;else $j.isArray(h[p])?h[p].push(o):h[p]=h[p]!==l?[h[p],o]:o;else p&&(h[p]=c?l:"")});return h};B[N]=h(o,0);B[R]=E=h(o,1);c.elemUrlAttr||(c.elemUrlAttr=function(a){return $j.extend(L,a)})({a:M,base:M,iframe:"src",img:"src",input:"src",form:"action",link:M,script:"src"});I=c.elemUrlAttr;$j.fn[N]=h(p,N);$j.fn[R]=h(p,R);C.pushState=G=
function(c,h){a(c)&&(/^#/.test(c)&&h===l)&&(h=2);var n=c!==l,n=u(f[T][M],n?c:{},n?h:2);f[T][M]=n+(/#/.test(n)?"":"#")};C.getState=F=function(a,c){return a===l||"boolean"===typeof a?E(a):E(c)[a]};C.removeState=function(a){var c={};a!==l&&(c=F(),$j.each($j.isArray(a)?a:arguments,function(a,l){delete c[l]}));G(c,2)};O.hashchange=$j.extend(O.hashchange,{add:function(a){function c(a){var f=a[R]=u();a.getState=function(a,c){return a===l||"boolean"===typeof a?B(f,a):B(f,c)[a]};h.apply(this,arguments)}var h;
if($j.isFunction(a))return h=a,c;h=a.handler;a.handler=c}})})(jQuery,this);
(function(c,f,a){function h(a){a=a||f[p][l];return a.replace(/^[^#]*#?(.*)$/,"$1")}var n,o=$j.event.special,p="location",l="href",q=document.documentMode,z=$j.browser.msie&&(q===a||8>q),A="onhashchange"in f&&!z;c.hashchangeDelay=100;o.hashchange=$j.extend(o.hashchange,{setup:function(){if(A)return!1;$j(n.start)},teardown:function(){if(A)return!1;$j(n.stop)}});var a={},u,B,E,C;a.start=function(){if(!u){var a=h();E||(E=C=function(a){return a},z&&(B=$j('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,
C=function(){return h(B.document[p][l])},E=function(a,c){if(a!==c){var l=B.document;l.open().close();l[p].hash="#"+a}},E(h())));(function I(){var n=h(),o=C(a);if(n!==a){E(a=n,o);$j(f).trigger("hashchange")}else o!==a&&(f[p][l]=f[p][l].replace(/#.*/,"")+"#"+o);u=setTimeout(I,c.hashchangeDelay)})()}};a.stop=function(){B||(u&&clearTimeout(u),u=0)};n=a})(jQuery,this);
(function(c){var f={},a;c.svgIcons=function(h,n){function o(a,h){if("ajax"!==a){if(F)return;var f=(E=T[0].contentDocument)&&E.getElementById("svg_eof");if(!f&&(!h||!f)){I++;50>I?setTimeout(o,20):(l(),F=!0);return}F=!0}B=c(E.firstChild).children();n.no_img?setTimeout(function(){G||p()},500):(f=R+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNzUiIGhlaWdodD0iMjc1Ij48L3N2Zz4%3D",C=c(new Image).attr({src:f,width:0,height:0}).appendTo("body").load(function(){p(!0)}).error(function(){p()}))}
function p(l,h){if(!G){n.no_img&&(l=!1);if(l){var o=c(document.createElement("div"));o.hide().appendTo("body")}if(h){var p=n.fallback_path?n.fallback_path:"";c.each(h,function(a,l){c("#"+a);var h=c(new Image).attr({"class":"svg_icon",src:p+l,width:A,height:u,alt:"icon"});X(h,a)})}else for(var J=B.length,F=0;F<J;F++){var E=B[F],M=E.id;if("svg_eof"===M)break;c("#"+M);var E=E.getElementsByTagNameNS(q,"svg")[0],I=document.createElementNS(q,"svg");I.setAttributeNS(q,"viewBox",[0,0,A,u].join(" "));var O=
E.getAttribute("width"),ia=E.getAttribute("height");E.removeAttribute("width");E.removeAttribute("height");E.getAttribute("viewBox")||E.setAttribute("viewBox",[0,0,O,ia].join(" "));I.setAttribute("xmlns",q);I.setAttribute("width",A);I.setAttribute("height",u);I.setAttribute("xmlns:xlink",z);I.setAttribute("class","svg_icon");N||(E=E.cloneNode(!0));I.appendChild(E);if(l){N||I.cloneNode(!0);o.empty().append(I);E=R;I=o.html();if(window.btoa)I=window.btoa(I);else{var O=Array(4*Math.floor((I.length+2)/
3)),L=void 0,Za=ia=void 0,Na=void 0,Oa=L=void 0,Ia=void 0,Pa=0,ab=0;do L=I.charCodeAt(Pa++),ia=I.charCodeAt(Pa++),Za=I.charCodeAt(Pa++),Na=L>>2,L=(L&3)<<4|ia>>4,Oa=(ia&15)<<2|Za>>6,Ia=Za&63,isNaN(ia)?Oa=Ia=64:isNaN(Za)&&(Ia=64),O[ab++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Na),O[ab++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(L),O[ab++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Oa),O[ab++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Ia);
while(Pa<I.length);I=O.join("")}E+=I;E=c(new Image).attr({"class":"svg_icon",src:E})}else E=a(c(I),F);X(E,M)}n.placement&&c.each(n.placement,function(h,n){f[n]&&c(h).each(function(h){var o=f[n].clone();0<h&&!l&&(o=a(o,h,!0));K(c(this),o,n)})});h||(l&&o.remove(),T&&T.remove(),C&&C.remove());n.resize&&c.resizeSvgIcons(n.resize);G=!0;n.callback&&n.callback(f)}}function l(){if(-1!=h.indexOf(".svgz")){var a=h.replace(".svgz",".svg");c.svgIcons(a,n)}else n.fallback&&p(!1,n.fallback)}var q="http://www.w3.org/2000/svg",
z="http://www.w3.org/1999/xlink",A=n.w?n.w:24,u=n.h?n.h:24,B,E,C,G=!1,F=!1,I=0,O=navigator.userAgent,N=!!window.opera;-1<O.indexOf("Safari/")&&O.indexOf("Chrome/");var R="data:image/svg+xml;charset=utf-8;base64,";if(n.svgz){var T=c('<object data="'+h+'" type=image/svg+xml>').appendTo("body").hide();try{E=T[0].contentDocument,T.load(o),o(0,!0)}catch(M){l()}}else{var J=new DOMParser;c.ajax({url:h,dataType:"string",success:function(a){a?(E=J.parseFromString(a,"text/xml"),c(function(){o("ajax")})):c(l)},
error:function(a){window.opera?c(function(){l()}):a.responseText?(E=J.parseFromString(a.responseText,"text/xml"),E.childNodes.length||c(l),c(function(){o("ajax")})):c(l)}})}var K=function(a,c,l,h){N&&c.css("visibility","hidden");n.replace?(h&&c.attr("id",l),(l=a.attr("class"))&&c.attr("class","svg_icon "+l),a.replaceWith(c)):a.append(c);N&&setTimeout(function(){c.removeAttr("style")},1)},X=function(a,c){(void 0===n.id_match||!1!==n.id_match)&&K(L,a,c,!0);f[c]=a},L;a=function(a,l){var h=a.find("defs");
if(!h.length)return a;var h=N?h.find("*").filter(function(){return!!this.id}):h.find("[id]"),f=a[0].getElementsByTagName("*"),n=f.length;h.each(function(a){var h=this.id;c(E).find("#"+h);this.id=a="x"+h+l+a;for(var h="url(#"+h+")",o="url(#"+a+")",a=0;a<n;a++){var p=f[a];p.getAttribute("fill")===h&&p.setAttribute("fill",o);p.getAttribute("stroke")===h&&p.setAttribute("stroke",o);p.getAttribute("filter")===h&&p.setAttribute("filter",o)}});return a}};c.getSvgIcon=function(c,n){var o=f[c];n&&o&&(o=a(o,
0,!0).clone(!0));return o};c.resizeSvgIcons=function(a){var f=!c(".svg_icon:first").length;c.each(a,function(a,h){var l=c.isArray(h),q=l?h[0]:h,z=l?h[1]:h;f&&(a=a.replace(/\.svg_icon/g,"svg"));c(a).each(function(){this.setAttribute("width",q);this.setAttribute("height",z);window.opera&&window.widget&&(this.parentNode.style.width=q+"px",this.parentNode.style.height=z+"px")})})}})(jQuery);
(function(c){Math.precision=function(a,c){void 0===c&&(c=0);return Math.round(a*Math.pow(10,c))/Math.pow(10,c)};var f=function(a,l){var h,f,n=this,o=a.find("img:first"),B=0,E=100,C=100,G=0,F=100,I=100,O=0,N=0,R,T=[],M=function(a){for(var c=0;c<T.length;c++)T[c].call(n,n,a)},J=function(l){var o=a.offset();h=o.left|0;f=o.top|0;clearTimeout(R);R=setTimeout(function(){L.call(n,l)},0);c(document).bind("mousemove",K).bind("mouseup",X);l.preventDefault()},K=function(a){clearTimeout(R);R=setTimeout(function(){L.call(n,
a)},0);a.stopPropagation();a.preventDefault();return!1},X=function(a){c(document).unbind("mouseup",X).unbind("mousemove",K);a.stopPropagation();a.preventDefault();return!1},L=function(c){var l=c.pageX-h,c=c.pageY-f,o=a.w,u=a.h;0>l?l=0:l>o&&(l=o);0>c?c=0:c>u&&(c=u);da.call(n,"xy",{x:l/o*C+B,y:c/u*I+G})},da=function(a,c,l){if(void 0===c){if(void 0===a||null==a)a="xy";switch(a.toLowerCase()){case "x":return O;case "y":return N;default:return{x:O,y:N}}}if(!(null!=l&&l==n)){var h=!1,f,o;null==a&&(a="xy");
switch(a.toLowerCase()){case "x":f=c&&(c.x&&c.x|0||c|0)||0;break;case "y":o=c&&(c.y&&c.y|0||c|0)||0;break;default:f=c&&c.x&&c.x|0||0,o=c&&c.y&&c.y|0||0}null!=f&&(f<B?f=B:f>E&&(f=E),O!=f&&(O=f,h=!0));null!=o&&(o<G?o=G:o>F&&(o=F),N!=o&&(N=o,h=!0));h&&M.call(n,l||n)}},V=function(a){c.isFunction(a)&&T.push(a)};c.extend(!0,n,{val:da,range:function(a,c){if(c===void 0){if(a===void 0||a==null)a="all";switch(a.toLowerCase()){case "minx":return B;case "maxx":return E;case "rangex":return{minX:B,maxX:E,rangeX:C};
case "miny":return G;case "maxy":return F;case "rangey":return{minY:G,maxY:F,rangeY:I};default:return{minX:B,maxX:E,rangeX:C,minY:G,maxY:F,rangeY:I}}}var l,h,f,n;a==null&&(a="all");switch(a.toLowerCase()){case "minx":l=c&&(c.minX&&c.minX|0||c|0)||0;break;case "maxx":h=c&&(c.maxX&&c.maxX|0||c|0)||0;break;case "rangex":l=c&&c.minX&&c.minX|0||0;h=c&&c.maxX&&c.maxX|0||0;break;case "miny":f=c&&(c.minY&&c.minY|0||c|0)||0;break;case "maxy":n=c&&(c.maxY&&c.maxY|0||c|0)||0;break;case "rangey":f=c&&c.minY&&
c.minY|0||0;n=c&&c.maxY&&c.maxY|0||0;break;default:l=c&&c.minX&&c.minX|0||0;h=c&&c.maxX&&c.maxX|0||0;f=c&&c.minY&&c.minY|0||0;n=c&&c.maxY&&c.maxY|0||0}if(l!=null&&B!=l){B=l;C=E-B}if(h!=null&&E!=h){E=h;C=E-B}if(f!=null&&G!=f){G=f;I=F-G}if(n!=null&&F!=n){F=n;I=F-G}},bind:V,unbind:function(a){if(c.isFunction(a))for(var l;(l=c.inArray(a,T))!=-1;)T.splice(l,1)},destroy:function(){c(document).unbind("mouseup",X).unbind("mousemove",K);a.unbind("mousedown",J);T=o=a=null}});o.src=l.arrow&&l.arrow.image;o.w=
l.arrow&&l.arrow.width||o.width();o.h=l.arrow&&l.arrow.height||o.height();a.w=l.map&&l.map.width||a.width();a.h=l.map&&l.map.height||a.height();a.bind("mousedown",J);V.call(n,function(){var c=0,l=0,h=a.w,f=a.h,n=o.w,q=o.h;setTimeout(function(){0<C&&(c=O==E?h:O/C*h|0);0<I&&(l=N==F?f:N/I*f|0);c=n>=h?(h>>1)-(n>>1):c-(n>>1);l=q>=f?(f>>1)-(q>>1):l-(q>>1);o.css({left:c+"px",top:l+"px"})},0)})},a=function(a,l,h,f){var n=this,a=a.find("td.Text input"),o=a.eq(3),B=a.eq(4),E=a.eq(5),C=7<a.length?a.eq(6):null,
G=a.eq(0),F=a.eq(1),I=a.eq(2),O=a.eq(7<a.length?7:6),N=7<a.length?a.eq(8):null,R=function(a){if(!(""==a.target.value&&a.target!=O.get(0)&&(null!=h&&a.target!=h.get(0)||null==h))){var c;a:{switch(a.keyCode){case 9:case 16:case 29:case 37:case 38:case 40:c=!1;break a;case "c".charCodeAt():case "v".charCodeAt():if(a.ctrlKey){c=!1;break a}}c=!0}if(!c)return a;switch(a.target){case o.get(0):o.val(M.call(n,o.val(),0,255));l.val("r",o.val(),a.target);break;case B.get(0):B.val(M.call(n,B.val(),0,255));l.val("g",
B.val(),a.target);break;case E.get(0):E.val(M.call(n,E.val(),0,255));l.val("b",E.val(),a.target);break;case C&&C.get(0):C.val(M.call(n,C.val(),0,100));l.val("a",Math.precision(255*C.val()/100,f),a.target);break;case G.get(0):G.val(M.call(n,G.val(),0,360));l.val("h",G.val(),a.target);break;case F.get(0):F.val(M.call(n,F.val(),0,100));l.val("s",F.val(),a.target);break;case I.get(0):I.val(M.call(n,I.val(),0,100));l.val("v",I.val(),a.target);break;case O.get(0):O.val(O.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,
6));h&&h.val(O.val());l.val("hex",""!=O.val()?O.val():null,a.target);break;case h&&h.get(0):h.val(h.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6));O.val(h.val());l.val("hex",""!=h.val()?h.val():null,a.target);break;case N&&N.get(0):N.val(N.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,2)),l.val("a",null!=N.val()?parseInt(N.val(),16):null,a.target)}}},T=function(a){if(null!=l.val())switch(a.target){case o.get(0):o.val(l.val("r"));break;case B.get(0):B.val(l.val("g"));
break;case E.get(0):E.val(l.val("b"));break;case C&&C.get(0):C.val(Math.precision(100*l.val("a")/255,f));break;case G.get(0):G.val(l.val("h"));break;case F.get(0):F.val(l.val("s"));break;case I.get(0):I.val(l.val("v"));break;case O.get(0):case h&&h.get(0):O.val(l.val("hex"));h&&h.val(l.val("hex"));break;case N&&N.get(0):N.val(l.val("ahex").substring(6))}},M=function(a,c,l){return""==a||isNaN(a)?c:a>l?l:a<c?c:a},J=function(a,c){var l=a.val("all");c!=o.get(0)&&o.val(null!=l?l.r:"");c!=B.get(0)&&B.val(null!=
l?l.g:"");c!=E.get(0)&&E.val(null!=l?l.b:"");C&&c!=C.get(0)&&C.val(null!=l?Math.precision(100*l.a/255,f):"");c!=G.get(0)&&G.val(null!=l?l.h:"");c!=F.get(0)&&F.val(null!=l?l.s:"");c!=I.get(0)&&I.val(null!=l?l.v:"");if(c!=O.get(0)&&(h&&c!=h.get(0)||!h))O.val(null!=l?l.hex:"");h&&(c!=h.get(0)&&c!=O.get(0))&&h.val(null!=l?l.hex:"");N&&c!=N.get(0)&&N.val(null!=l?l.ahex.substring(6):"")};c.extend(!0,n,{destroy:function(){o.add(B).add(E).add(C).add(G).add(F).add(I).add(O).add(h).add(N).unbind("keyup",R).unbind("blur",
T);l.unbind(J);N=O=I=F=G=C=E=B=o=null}});o.add(B).add(E).add(C).add(G).add(F).add(I).add(O).add(h).add(N).bind("keyup",R).bind("blur",T);l.bind(J)};c.jPicker={List:[],Color:function(a){var l=this,h,f,n,u,B,E,C,G=[],F=function(a){for(var c=0;c<G.length;c++)G[c].call(l,l,a)},I=function(a,c,p){if(void 0===c){if(void 0===a||null==a||""==a)a="all";if(null==h)return null;switch(a.toLowerCase()){case "ahex":return o.rgbaToHex({r:h,g:f,b:n,a:u});case "hex":return I("ahex").substring(0,6);case "all":return{r:h,
g:f,b:n,a:u,h:B,s:E,v:C,hex:I.call(l,"hex"),ahex:I.call(l,"ahex")};default:for(var c={},T=0;T<a.length;T++)switch(a.charAt(T)){case "r":1==a.length?c=h:c.r=h;break;case "g":1==a.length?c=f:c.g=f;break;case "b":1==a.length?c=n:c.b=n;break;case "a":1==a.length?c=u:c.a=u;break;case "h":1==a.length?c=B:c.h=B;break;case "s":1==a.length?c=E:c.s=E;break;case "v":1==a.length?c=C:c.v=C}return c=={}?I.call(l,"all"):c}}if(!(null!=p&&p==l)){var M=!1;null==a&&(a="");if(null==c)null!=h&&(h=null,M=!0),null!=f&&
(f=null,M=!0),null!=n&&(n=null,M=!0),null!=u&&(u=null,M=!0),null!=B&&(B=null,M=!0),null!=E&&(E=null,M=!0),null!=C&&(C=null,M=!0),M&&F.call(l,p||l);else switch(a.toLowerCase()){case "ahex":case "hex":c=o.hexToRgba(c&&(c.ahex||c.hex)||c||"00000000");I.call(l,"rgba",{r:c.r,g:c.g,b:c.b,a:"ahex"==a?c.a:null!=u?u:255},p);break;default:if(c&&(null!=c.ahex||null!=c.hex)){I.call(l,"ahex",c.ahex||c.hex||"00000000",p);break}var J,K=!1,G=!1;void 0!==c.r&&-1==!a.indexOf("r")&&(a+="r");void 0!==c.g&&-1==!a.indexOf("g")&&
(a+="g");void 0!==c.b&&-1==!a.indexOf("b")&&(a+="b");void 0!==c.a&&-1==!a.indexOf("a")&&(a+="a");void 0!==c.h&&-1==!a.indexOf("h")&&(a+="h");void 0!==c.s&&-1==!a.indexOf("s")&&(a+="s");void 0!==c.v&&-1==!a.indexOf("v")&&(a+="v");for(T=0;T<a.length;T++)switch(a.charAt(T)){case "r":if(G)continue;K=!0;J=c&&c.r&&c.r|0||c&&c|0||0;0>J?J=0:255<J&&(J=255);h!=J&&(h=J,M=!0);break;case "g":if(G)continue;K=!0;J=c&&c.g&&c.g|0||c&&c|0||0;0>J?J=0:255<J&&(J=255);f!=J&&(f=J,M=!0);break;case "b":if(G)continue;K=!0;
J=c&&c.b&&c.b|0||c&&c|0||0;0>J?J=0:255<J&&(J=255);n!=J&&(n=J,M=!0);break;case "a":J=c&&null!=c.a?c.a|0:null!=c?c|0:255;0>J?J=0:255<J&&(J=255);u!=J&&(u=J,M=!0);break;case "h":if(K)continue;G=!0;J=c&&c.h&&c.h|0||c&&c|0||0;0>J?J=0:360<J&&(J=360);B!=J&&(B=J,M=!0);break;case "s":if(K)continue;G=!0;J=c&&null!=c.s?c.s|0:null!=c?c|0:100;0>J?J=0:100<J&&(J=100);E!=J&&(E=J,M=!0);break;case "v":if(K)continue;G=!0;J=c&&null!=c.v?c.v|0:null!=c?c|0:100;0>J?J=0:100<J&&(J=100);C!=J&&(C=J,M=!0)}M&&(K?(h=h||0,f=f||
0,n=n||0,c=o.rgbToHsv({r:h,g:f,b:n}),B=c.h,E=c.s,C=c.v):G&&(B=B||0,E=null!=E?E:100,C=null!=C?C:100,c=o.hsvToRgb({h:B,s:E,v:C}),h=c.r,f=c.g,n=c.b),u=null!=u?u:255,F.call(l,p||l))}}};c.extend(!0,l,{val:I,bind:function(a){c.isFunction(a)&&G.push(a)},unbind:function(a){if(c.isFunction(a))for(var l;(l=c.inArray(a,G))!=-1;)G.splice(l,1)},destroy:function(){G=null}});a&&(null!=a.ahex?I("ahex",a):null!=a.hex?I((null!=a.a?"a":"")+"hex",null!=a.a?{ahex:a.hex+o.intToHex(a.a)}:a):null!=a.r&&null!=a.g&&null!=
a.b?I("rgb"+(null!=a.a?"a":""),a):null!=a.h&&(null!=a.s&&null!=a.v)&&I("hsv"+(null!=a.a?"a":""),a))},ColorMethods:{hexToRgba:function(a){a=this.validateHex(a);if(""==a)return{r:null,g:null,b:null,a:null};var c="00",h="00",f="00",n="255";6==a.length&&(a+="ff");6<a.length?(c=a.substring(0,2),h=a.substring(2,4),f=a.substring(4,6),n=a.substring(6,a.length)):(4<a.length&&(c=a.substring(4,a.length),a=a.substring(0,4)),2<a.length&&(h=a.substring(2,a.length),a=a.substring(0,2)),0<a.length&&(f=a.substring(0,
a.length)));return{r:this.hexToInt(c),g:this.hexToInt(h),b:this.hexToInt(f),a:this.hexToInt(n)}},validateHex:function(a){a=a.toLowerCase().replace(/[^a-f0-9]/g,"");8<a.length&&(a=a.substring(0,8));return a},rgbaToHex:function(a){return this.intToHex(a.r)+this.intToHex(a.g)+this.intToHex(a.b)+this.intToHex(a.a)},intToHex:function(a){a=(a|0).toString(16);1==a.length&&(a="0"+a);return a.toLowerCase()},hexToInt:function(a){return parseInt(a,16)},rgbToHsv:function(a){var c=a.r/255,h=a.g/255,a=a.b/255,
f={h:0,s:0,v:0},n=0,o=0;c>=h&&c>=a?(o=c,n=h>a?a:h):h>=a&&h>=c?(o=h,n=c>a?a:c):(o=a,n=h>c?c:h);f.v=o;f.s=o?(o-n)/o:0;f.s?(n=o-n,f.h=c==o?(h-a)/n:h==o?2+(a-c)/n:4+(c-h)/n,f.h=parseInt(60*f.h),0>f.h&&(f.h+=360)):f.h=0;f.s=100*f.s|0;f.v=100*f.v|0;return f},hsvToRgb:function(a){var c={r:0,g:0,b:0,a:100},h=a.h,f=a.s,a=a.v;if(0==f)c.r=0==a?c.g=c.b=0:c.g=c.b=255*a/100|0;else{360==h&&(h=0);var h=h/60,f=f/100,a=a/100,n=h|0,o=h-n,h=a*(1-f),B=a*(1-f*o),f=a*(1-f*(1-o));switch(n){case 0:c.r=a;c.g=f;c.b=h;break;
case 1:c.r=B;c.g=a;c.b=h;break;case 2:c.r=h;c.g=a;c.b=f;break;case 3:c.r=h;c.g=B;c.b=a;break;case 4:c.r=f;c.g=h;c.b=a;break;case 5:c.r=a,c.g=h,c.b=B}c.r=255*c.r|0;c.g=255*c.g|0;c.b=255*c.b|0}return c}}};var h=c.jPicker.Color,n=c.jPicker.List,o=c.jPicker.ColorMethods;c.fn.jPicker=function(p){var l=arguments;return this.each(function(){var q=this,z=c.extend(!0,{},c.fn.jPicker.defaults,p);"input"==c(q).get(0).nodeName.toLowerCase()&&(c.extend(!0,z,{window:{bindToInput:!0,expandable:!0,input:c(q)}}),
""==c(q).val()?(z.color.active=new h({hex:null}),z.color.current=new h({hex:null})):o.validateHex(c(q).val())&&(z.color.active=new h({hex:c(q).val(),a:z.color.active.val("a")}),z.color.current=new h({hex:c(q).val(),a:z.color.active.val("a")})));z.window.expandable?c(q).after('<span class="jPicker"><span class="Icon"><span class="Color">&nbsp;</span><span class="Alpha">&nbsp;</span><span class="Image" title="Click To Open Color Picker">&nbsp;</span><span class="Container">&nbsp;</span></span></span>'):
z.window.liveUpdate=!1;var A=7>parseFloat(navigator.appVersion.split("MSIE")[1])&&document.body.filters,u=null,B=null,E=null,C=null,G=null,F=null,I=null,O=null,N=null,R=null,T=null,M=null,J=null,K=null,X=null,L=null,da=null,V=null,U=null,aa=null,ca=null,qa=null,ba=null,ea=null,la=null,ga=null,ia=null,ya=null,Za=function(a){var c=Aa.active,l=c.val("hex"),h,f;z.color.mode=a;switch(a){case "h":setTimeout(function(){Sa.call(q,B,"transparent");ra.call(q,C,0);pa.call(q,C,100);ra.call(q,G,260);pa.call(q,
G,100);Sa.call(q,E,"transparent");ra.call(q,I,0);pa.call(q,I,100);ra.call(q,O,260);pa.call(q,O,100);ra.call(q,N,260);pa.call(q,N,100);ra.call(q,R,260);pa.call(q,R,100);ra.call(q,M,260);pa.call(q,M,100)},0);J.range("all",{minX:0,maxX:100,minY:0,maxY:100});K.range("rangeY",{minY:0,maxY:360});if(c.val("ahex")==null)break;J.val("xy",{x:c.val("s"),y:100-c.val("v")},J);K.val("y",360-c.val("h"),K);break;case "s":setTimeout(function(){Sa.call(q,B,"transparent");ra.call(q,C,-260);ra.call(q,G,-520);ra.call(q,
I,-260);ra.call(q,O,-520);ra.call(q,M,260);pa.call(q,M,100)},0);J.range("all",{minX:0,maxX:360,minY:0,maxY:100});K.range("rangeY",{minY:0,maxY:100});if(c.val("ahex")==null)break;J.val("xy",{x:c.val("h"),y:100-c.val("v")},J);K.val("y",100-c.val("s"),K);break;case "v":setTimeout(function(){Sa.call(q,B,"000000");ra.call(q,C,-780);ra.call(q,G,260);Sa.call(q,E,l);ra.call(q,I,-520);ra.call(q,O,260);pa.call(q,O,100);ra.call(q,M,260);pa.call(q,M,100)},0);J.range("all",{minX:0,maxX:360,minY:0,maxY:100});K.range("rangeY",
{minY:0,maxY:100});if(c.val("ahex")==null)break;J.val("xy",{x:c.val("h"),y:100-c.val("s")},J);K.val("y",100-c.val("v"),K);break;case "r":h=-1040;f=-780;J.range("all",{minX:0,maxX:255,minY:0,maxY:255});K.range("rangeY",{minY:0,maxY:255});if(c.val("ahex")==null)break;J.val("xy",{x:c.val("b"),y:255-c.val("g")},J);K.val("y",255-c.val("r"),K);break;case "g":h=-1560;f=-1820;J.range("all",{minX:0,maxX:255,minY:0,maxY:255});K.range("rangeY",{minY:0,maxY:255});if(c.val("ahex")==null)break;J.val("xy",{x:c.val("b"),
y:255-c.val("r")},J);K.val("y",255-c.val("g"),K);break;case "b":h=-2080;f=-2860;J.range("all",{minX:0,maxX:255,minY:0,maxY:255});K.range("rangeY",{minY:0,maxY:255});if(c.val("ahex")==null)break;J.val("xy",{x:c.val("r"),y:255-c.val("g")},J);K.val("y",255-c.val("b"),K);break;case "a":setTimeout(function(){Sa.call(q,B,"transparent");ra.call(q,C,-260);ra.call(q,G,-520);ra.call(q,I,260);ra.call(q,O,260);pa.call(q,O,100);ra.call(q,M,0);pa.call(q,M,100)},0);J.range("all",{minX:0,maxX:360,minY:0,maxY:100});
K.range("rangeY",{minY:0,maxY:255});if(c.val("ahex")==null)break;J.val("xy",{x:c.val("h"),y:100-c.val("v")},J);K.val("y",255-c.val("a"),K);break;default:throw"Invalid Mode";}switch(a){case "s":case "v":case "a":setTimeout(function(){pa.call(q,C,100);pa.call(q,I,100);ra.call(q,N,260);pa.call(q,N,100);ra.call(q,R,260);pa.call(q,R,100)},0);break;case "r":case "g":case "b":setTimeout(function(){Sa.call(q,B,"transparent");Sa.call(q,E,"transparent");pa.call(q,I,100);pa.call(q,C,100);ra.call(q,C,h);ra.call(q,
G,h-260);ra.call(q,I,f-780);ra.call(q,O,f-520);ra.call(q,N,f);ra.call(q,R,f-260);ra.call(q,M,260);pa.call(q,M,100)},0)}c.val("ahex")!=null&&Na.call(q,c)},Na=function(a,c){(c==null||c!=K&&c!=J)&&Pa.call(q,a,c);setTimeout(function(){ab.call(q,a);Va.call(q,a);Ka.call(q,a)},0)},Oa=function(a,c){var l=Aa.active;if(!(c!=J&&l.val()==null)){var h=a.val("all");switch(z.color.mode){case "h":l.val("sv",{s:h.x,v:100-h.y},c);break;case "s":case "a":l.val("hv",{h:h.x,v:100-h.y},c);break;case "v":l.val("hs",{h:h.x,
s:100-h.y},c);break;case "r":l.val("gb",{g:255-h.y,b:h.x},c);break;case "g":l.val("rb",{r:255-h.y,b:h.x},c);break;case "b":l.val("rg",{r:h.x,g:255-h.y},c)}}},Ia=function(a,c){var l=Aa.active;if(!(c!=K&&l.val()==null))switch(z.color.mode){case "h":l.val("h",{h:360-a.val("y")},c);break;case "s":l.val("s",{s:100-a.val("y")},c);break;case "v":l.val("v",{v:100-a.val("y")},c);break;case "r":l.val("r",{r:255-a.val("y")},c);break;case "g":l.val("g",{g:255-a.val("y")},c);break;case "b":l.val("b",{b:255-a.val("y")},
c);break;case "a":l.val("a",255-a.val("y"),c)}},Pa=function(a,c){if(c!=J)switch(z.color.mode){case "h":var l=a.val("sv");J.val("xy",{x:l!=null?l.s:100,y:100-(l!=null?l.v:100)},c);break;case "s":case "a":l=a.val("hv");J.val("xy",{x:l&&l.h||0,y:100-(l!=null?l.v:100)},c);break;case "v":l=a.val("hs");J.val("xy",{x:l&&l.h||0,y:100-(l!=null?l.s:100)},c);break;case "r":l=a.val("bg");J.val("xy",{x:l&&l.b||0,y:255-(l&&l.g||0)},c);break;case "g":l=a.val("br");J.val("xy",{x:l&&l.b||0,y:255-(l&&l.r||0)},c);break;
case "b":l=a.val("rg");J.val("xy",{x:l&&l.r||0,y:255-(l&&l.g||0)},c)}if(c!=K)switch(z.color.mode){case "h":K.val("y",360-(a.val("h")||0),c);break;case "s":l=a.val("s");K.val("y",100-(l!=null?l:100),c);break;case "v":l=a.val("v");K.val("y",100-(l!=null?l:100),c);break;case "r":K.val("y",255-(a.val("r")||0),c);break;case "g":K.val("y",255-(a.val("g")||0),c);break;case "b":K.val("y",255-(a.val("b")||0),c);break;case "a":l=a.val("a");K.val("y",255-(l!=null?l:255),c)}},ab=function(a){try{var c=a.val("all");
aa.css({backgroundColor:c&&"#"+c.hex||"transparent"});pa.call(q,aa,c&&Math.precision(c.a*100/255,4)||0)}catch(l){}},Va=function(a){switch(z.color.mode){case "h":Sa.call(q,B,(new h({h:a.val("h")||0,s:100,v:100})).val("hex"));break;case "s":case "a":var c=a.val("s");pa.call(q,G,100-(c!=null?c:100));break;case "v":c=a.val("v");pa.call(q,C,c!=null?c:100);break;case "r":pa.call(q,G,Math.precision((a.val("r")||0)/255*100,4));break;case "g":pa.call(q,G,Math.precision((a.val("g")||0)/255*100,4));break;case "b":pa.call(q,
G,Math.precision((a.val("b")||0)/255*100))}a=a.val("a");pa.call(q,F,Math.precision((255-(a||0))*100/255,4))},Ka=function(a){switch(z.color.mode){case "h":var c=a.val("a");pa.call(q,T,Math.precision((255-(c||0))*100/255,4));break;case "s":var c=a.val("hva"),l=new h({h:c&&c.h||0,s:100,v:c!=null?c.v:100});Sa.call(q,E,l.val("hex"));pa.call(q,O,100-(c!=null?c.v:100));pa.call(q,T,Math.precision((255-(c&&c.a||0))*100/255,4));break;case "v":c=a.val("hsa");l=new h({h:c&&c.h||0,s:c!=null?c.s:100,v:100});Sa.call(q,
E,l.val("hex"));pa.call(q,T,Math.precision((255-(c&&c.a||0))*100/255,4));break;case "r":case "g":case "b":l=c=0;a=a.val("rgba");if(z.color.mode=="r"){c=a&&a.b||0;l=a&&a.g||0}else if(z.color.mode=="g"){c=a&&a.b||0;l=a&&a.r||0}else if(z.color.mode=="b"){c=a&&a.r||0;l=a&&a.g||0}var f=l>c?c:l;pa.call(q,O,c>l?Math.precision((c-l)/(255-l)*100,4):0);pa.call(q,N,l>c?Math.precision((l-c)/(255-c)*100,4):0);pa.call(q,R,Math.precision(f/255*100,4));pa.call(q,T,Math.precision((255-(a&&a.a||0))*100/255,4));break;
case "a":c=a.val("a");Sa.call(q,E,a.val("hex")||"000000");pa.call(q,T,c!=null?0:100);pa.call(q,M,c!=null?100:0)}},Sa=function(a,c){a.css({backgroundColor:c&&c.length==6&&"#"+c||"transparent"})},Qa=function(a,c){if(A&&(c.indexOf("AlphaBar.png")!=-1||c.indexOf("Bars.png")!=-1||c.indexOf("Maps.png")!=-1)){a.attr("pngSrc",c);a.css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+c+"', sizingMethod='scale')"})}else a.css({backgroundImage:"url("+c+")"})},ra=function(a,
c){a.css({top:c+"px"})},pa=function(a,c){a.css({visibility:c>0?"visible":"hidden"});if(c>0&&c<100)if(A){var l=a.attr("pngSrc");l!=null&&(l.indexOf("AlphaBar.png")!=-1||l.indexOf("Bars.png")!=-1||l.indexOf("Maps.png")!=-1)?a.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+l+"', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity="+c+")"}):a.css({opacity:Math.precision(c/100,4)})}else a.css({opacity:Math.precision(c/100,4)});else if(c==0||c==100)if(A){l=a.attr("pngSrc");
l!=null&&(l.indexOf("AlphaBar.png")!=-1||l.indexOf("Bars.png")!=-1||l.indexOf("Maps.png")!=-1)?a.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+l+"', sizingMethod='scale')"}):a.css({opacity:""})}else a.css({opacity:""})},Wa=function(){Aa.active.val("ahex",Aa.current.val("ahex"))},mb=function(){Aa.current.val("ahex",Aa.active.val("ahex"))},Xa=function(a){c(this).parents("tbody:first").find('input:radio[value!="'+a.target.value+'"]').removeAttr("checked");Za.call(q,a.target.value)},
sb=function(){Wa.call(q)},ib=function(){Wa.call(q);z.window.expandable&&gb.call(q);c.isFunction(La)&&La.call(q,Aa.active,ba)},Fa=function(){mb.call(q);z.window.expandable&&gb.call(q);c.isFunction(sa)&&sa.call(q,Aa.active,qa)},cb=function(){tb.call(q)},nb=function(a){var c=a.val("hex");ca.css({backgroundColor:c&&"#"+c||"transparent"});pa.call(q,ca,Math.precision((a.val("a")||0)*100/255,4))},jb=function(a){var c=a.val("hex"),a=a.val("va");la.css({backgroundColor:c&&"#"+c||"transparent"});pa.call(q,
ga,Math.precision((255-(a&&a.a||0))*100/255,4));z.window.bindToInput&&z.window.updateInputColor&&z.window.input.css({backgroundColor:c&&"#"+c||"transparent",color:a==null||a.v>75?"#000000":"#ffffff"})},Ea=function(a){L=parseInt(u.css("left"));da=parseInt(u.css("top"));V=a.pageX;U=a.pageY;c(document).bind("mousemove",na).bind("mouseup",ka);a.preventDefault()},na=function(a){u.css({left:L-(V-a.pageX)+"px",top:da-(U-a.pageY)+"px"});z.window.expandable&&!c.support.boxModel&&u.prev().css({left:u.css("left"),
top:u.css("top")});a.stopPropagation();a.preventDefault();return false},ka=function(a){c(document).unbind("mousemove",na).unbind("mouseup",ka);a.stopPropagation();a.preventDefault();return false},xa=function(a){a.preventDefault();a.stopPropagation();Aa.active.val("ahex",c(this).attr("title")||null,a.target);return false},sa=c.isFunction(l[1])&&l[1]||null,pb=c.isFunction(l[2])&&l[2]||null,La=c.isFunction(l[3])&&l[3]||null,tb=function(){Aa.current.val("ahex",Aa.active.val("ahex"));var a=function(){if(z.window.expandable&&
!c.support.boxModel){var a=u.find("table:first");u.before("<iframe/>");u.prev().css({width:a.width(),height:u.height(),opacity:0,position:"absolute",left:u.css("left"),top:u.css("top")})}};if(z.window.expandable){c(document.body).children("div.jPicker.Container").css({zIndex:10});u.css({zIndex:20})}switch(z.window.effects.type){case "fade":u.fadeIn(z.window.effects.speed.show,a);break;case "slide":u.slideDown(z.window.effects.speed.show,a);break;default:u.show(z.window.effects.speed.show,a)}},gb=
function(){var a=function(){z.window.expandable&&u.css({zIndex:10});z.window.expandable&&!c.support.boxModel&&u.prev().remove()};switch(z.window.effects.type){case "fade":u.fadeOut(z.window.effects.speed.hide,a);break;case "slide":u.slideUp(z.window.effects.speed.hide,a);break;default:u.hide(z.window.effects.speed.hide,a)}},Ab=function(){var l=z.window,n=l.expandable?c(q).next().find(".Container:first"):null;u=l.expandable?c("<div/>"):c(q);u.addClass("jPicker Container");l.expandable&&u.hide();u.get(0).onselectstart=
function(){return false};var o=Aa.active.val("all");if(l.alphaPrecision<0)l.alphaPrecision=0;else if(l.alphaPrecision>2)l.alphaPrecision=2;var p='<table class="jPicker" cellpadding="0" cellspacing="0"><tbody>'+(l.expandable?'<tr><td class="Move" colspan="5">&nbsp;</td></tr>':"")+'<tr><td rowspan="9"><h2 class="Title">'+(l.title||Ba.text.title)+'</h2><div class="Map"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><img src="'+Ma.clientPath+Ma.colorMap.arrow.file+
'" class="Arrow"/></div></td><td rowspan="9"><div class="Bar"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><span class="Map4">&nbsp;</span><span class="Map5">&nbsp;</span><span class="Map6">&nbsp;</span><img src="'+Ma.clientPath+Ma.colorBar.arrow.file+'" class="Arrow"/></div></td><td colspan="2" class="Preview">'+Ba.text.newColor+'<div><span class="Active" title="'+Ba.tooltips.colors.newColor+'">&nbsp;</span><span class="Current" title="'+Ba.tooltips.colors.currentColor+
'">&nbsp;</span></div>'+Ba.text.currentColor+'</td><td rowspan="9" class="Button"><input type="button" class="Ok" value="'+Ba.text.ok+'" title="'+Ba.tooltips.buttons.ok+'"/><input type="button" class="Cancel" value="'+Ba.text.cancel+'" title="'+Ba.tooltips.buttons.cancel+'"/><hr/><div class="Grid">&nbsp;</div></td></tr><tr class="Hue"><td class="Radio"><label title="'+Ba.tooltips.hue.radio+'"><input type="radio" value="h"'+(z.color.mode=="h"?' checked="checked"':"")+'/>H:</label></td><td class="Text"><input type="text" maxlength="3" value="'+
(o!=null?o.h:"")+'" title="'+Ba.tooltips.hue.textbox+'"/>&nbsp;&deg;</td></tr><tr class="Saturation"><td class="Radio"><label title="'+Ba.tooltips.saturation.radio+'"><input type="radio" value="s"'+(z.color.mode=="s"?' checked="checked"':"")+'/>S:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(o!=null?o.s:"")+'" title="'+Ba.tooltips.saturation.textbox+'"/>&nbsp;%</td></tr><tr class="Value"><td class="Radio"><label title="'+Ba.tooltips.value.radio+'"><input type="radio" value="v"'+
(z.color.mode=="v"?' checked="checked"':"")+'/>V:</label><br/><br/></td><td class="Text"><input type="text" maxlength="3" value="'+(o!=null?o.v:"")+'" title="'+Ba.tooltips.value.textbox+'"/>&nbsp;%<br/><br/></td></tr><tr class="Red"><td class="Radio"><label title="'+Ba.tooltips.red.radio+'"><input type="radio" value="r"'+(z.color.mode=="r"?' checked="checked"':"")+'/>R:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(o!=null?o.r:"")+'" title="'+Ba.tooltips.red.textbox+'"/></td></tr><tr class="Green"><td class="Radio"><label title="'+
Ba.tooltips.green.radio+'"><input type="radio" value="g"'+(z.color.mode=="g"?' checked="checked"':"")+'/>G:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(o!=null?o.g:"")+'" title="'+Ba.tooltips.green.textbox+'"/></td></tr><tr class="Blue"><td class="Radio"><label title="'+Ba.tooltips.blue.radio+'"><input type="radio" value="b"'+(z.color.mode=="b"?' checked="checked"':"")+'/>B:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(o!=null?o.b:"")+'" title="'+
Ba.tooltips.blue.textbox+'"/></td></tr><tr class="Alpha"><td class="Radio">'+(l.alphaSupport?'<label title="'+Ba.tooltips.alpha.radio+'"><input type="radio" value="a"'+(z.color.mode=="a"?' checked="checked"':"")+"/>A:</label>":"&nbsp;")+'</td><td class="Text">'+(l.alphaSupport?'<input type="text" maxlength="'+(3+l.alphaPrecision)+'" value="'+(o!=null?Math.precision(o.a*100/255,l.alphaPrecision):"")+'" title="'+Ba.tooltips.alpha.textbox+'"/>&nbsp;%':"&nbsp;")+'</td></tr><tr class="Hex"><td colspan="2" class="Text"><label title="'+
Ba.tooltips.hex.textbox+'">#:<input type="text" maxlength="6" class="Hex" value="'+(o!=null?o.hex:"")+'"/></label>'+(l.alphaSupport?'<input type="text" maxlength="2" class="AHex" value="'+(o!=null?o.ahex.substring(6):"")+'" title="'+Ba.tooltips.hex.alpha+'"/></td>':"&nbsp;")+"</tr></tbody></table>";if(l.expandable){u.html(p);c(document.body).children("div.jPicker.Container").length==0?c(document.body).prepend(u):c(document.body).children("div.jPicker.Container:last").after(u);u.mousedown(function(){c(document.body).children("div.jPicker.Container").css({zIndex:10});
u.css({zIndex:20})});u.css({left:l.position.x=="left"?n.offset().left-530-(l.position.y=="center"?25:0)+"px":l.position.x=="center"?n.offset().left-260+"px":l.position.x=="right"?n.offset().left-10+(l.position.y=="center"?25:0)+"px":l.position.x=="screenCenter"?(c(document).width()>>1)-260+"px":n.offset().left+parseInt(l.position.x)+"px",position:"absolute",top:l.position.y=="top"?n.offset().top-312+"px":l.position.y=="center"?n.offset().top-156+"px":l.position.y=="bottom"?n.offset().top+25+"px":
n.offset().top+parseInt(l.position.y)+"px"})}else{u=c(q);u.html(p)}p=u.find("tbody:first");B=p.find("div.Map:first");E=p.find("div.Bar:first");var A=B.find("span"),L=E.find("span");C=A.filter(".Map1:first");G=A.filter(".Map2:first");F=A.filter(".Map3:first");I=L.filter(".Map1:first");O=L.filter(".Map2:first");N=L.filter(".Map3:first");R=L.filter(".Map4:first");T=L.filter(".Map5:first");M=L.filter(".Map6:first");J=new f(B,{map:{width:Ma.colorMap.width,height:Ma.colorMap.height},arrow:{image:Ma.clientPath+
Ma.colorMap.arrow.file,width:Ma.colorMap.arrow.width,height:Ma.colorMap.arrow.height}});J.bind(Oa);K=new f(E,{map:{width:Ma.colorBar.width,height:Ma.colorBar.height},arrow:{image:Ma.clientPath+Ma.colorBar.arrow.file,width:Ma.colorBar.arrow.width,height:Ma.colorBar.arrow.height}});K.bind(Ia);X=new a(p,Aa.active,l.expandable&&l.bindToInput?l.input:null,l.alphaPrecision);var A=o!=null?o.hex:null,Ca=p.find(".Preview"),L=p.find(".Button");aa=Ca.find(".Active:first").css({backgroundColor:A&&"#"+A||"transparent"});
ca=Ca.find(".Current:first").css({backgroundColor:A&&"#"+A||"transparent"}).bind("click",sb);pa.call(q,ca,Math.precision(Aa.current.val("a")*100)/255,4);qa=L.find(".Ok:first").bind("click",Fa);ba=L.find(".Cancel:first").bind("click",ib);ea=L.find(".Grid:first");setTimeout(function(){Qa.call(q,C,Ma.clientPath+"Maps.png");Qa.call(q,G,Ma.clientPath+"Maps.png");Qa.call(q,F,Ma.clientPath+"map-opacity.png");Qa.call(q,I,Ma.clientPath+"Bars.png");Qa.call(q,O,Ma.clientPath+"Bars.png");Qa.call(q,N,Ma.clientPath+
"Bars.png");Qa.call(q,R,Ma.clientPath+"Bars.png");Qa.call(q,T,Ma.clientPath+"bar-opacity.png");Qa.call(q,M,Ma.clientPath+"AlphaBar.png");Qa.call(q,Ca.find("div:first"),Ma.clientPath+"preview-opacity.png")},0);p.find("td.Radio input").bind("click",Xa);if(Aa.quickList&&Aa.quickList.length>0){L="";for(i=0;i<Aa.quickList.length;i++){(typeof Aa.quickList[i]).toString().toLowerCase()=="string"&&(Aa.quickList[i]=new h({hex:Aa.quickList[i]}));var ob=Aa.quickList[i].val("a"),Ib=Aa.quickList[i].val("ahex");
!l.alphaSupport&&Ib&&(Ib=Ib.substring(0,6)+"ff");var qb=Aa.quickList[i].val("hex"),L=L+('<span class="QuickColor"'+(Ib&&' title="#'+Ib+'"'||"")+' style="background-color:'+(qb&&"#"+qb||"")+";"+(qb?"":"background-image:url("+Ma.clientPath+"NoColor.png)")+(l.alphaSupport&&ob&&ob<255?";opacity:"+Math.precision(ob/255,4)+";filter:Alpha(opacity="+Math.precision(ob/2.55,4)+")":"")+'">&nbsp;</span>')}Qa.call(q,ea,Ma.clientPath+"bar-opacity.png");ea.html(L);ea.find(".QuickColor").click(xa)}Za.call(q,z.color.mode);
Aa.active.bind(Na);c.isFunction(pb)&&Aa.active.bind(pb);Aa.current.bind(nb);if(l.expandable){q.icon=n.parents(".Icon:first");la=q.icon.find(".Color:first").css({backgroundColor:A&&"#"+A||"transparent"});ga=q.icon.find(".Alpha:first");Qa.call(q,ga,Ma.clientPath+"bar-opacity.png");pa.call(q,ga,Math.precision((255-(o!=null?o.a:0))*100/255,4));ia=q.icon.find(".Image:first").css({backgroundImage:"url("+Ma.clientPath+Ma.picker.file+")"}).bind("click",cb);l.bindToInput&&l.updateInputColor&&l.input.css({backgroundColor:A&&
"#"+A||"transparent",color:o==null||o.v>75?"#000000":"#ffffff"});ya=p.find(".Move:first").bind("mousedown",Ea);Aa.active.bind(jb)}else tb.call(q)},Ma=z.images,Ba=z.localization,Aa={active:"string"==(typeof z.color.active).toString().toLowerCase()?new h({ahex:!z.window.alphaSupport&&z.color.active?z.color.active.substring(0,6)+"ff":z.color.active}):new h({ahex:!z.window.alphaSupport&&z.color.active.val("ahex")?z.color.active.val("ahex").substring(0,6)+"ff":z.color.active.val("ahex")}),current:"string"==
(typeof z.color.active).toString().toLowerCase()?new h({ahex:!z.window.alphaSupport&&z.color.active?z.color.active.substring(0,6)+"ff":z.color.active}):new h({ahex:!z.window.alphaSupport&&z.color.active.val("ahex")?z.color.active.val("ahex").substring(0,6)+"ff":z.color.active.val("ahex")}),quickList:z.color.quickList};c.extend(!0,q,{commitCallback:sa,liveCallback:pb,cancelCallback:La,color:Aa,show:tb,hide:gb,destroy:function(){u.find("td.Radio input").unbind("click",Xa);ca.unbind("click",sb);ba.unbind("click",
ib);qa.unbind("click",Fa);if(z.window.expandable){ia.unbind("click",cb);ya.unbind("mousedown",Ea);q.icon=null}u.find(".QuickColor").unbind("click",xa);M=T=R=N=O=I=F=G=C=E=B=null;J.destroy();J=null;K.destroy();K=null;X.destroy();pb=La=sa=ea=ba=qa=ca=aa=X=null;u.html("");for(i=0;i<n.length;i++)n[i]==q&&n.splice(i,1)}});n.push(q);setTimeout(function(){Ab.call(q)},0)})};c.fn.jPicker.defaults={window:{title:null,effects:{type:"slide",speed:{show:"slow",hide:"fast"}},position:{x:"screenCenter",y:"top"},
expandable:!1,liveUpdate:!0,alphaSupport:!1,alphaPrecision:0,updateInputColor:!0},color:{mode:"h",active:new h({ahex:"#ffcc00ff"}),quickList:[new h({h:360,s:33,v:100}),new h({h:360,s:66,v:100}),new h({h:360,s:100,v:100}),new h({h:360,s:100,v:75}),new h({h:360,s:100,v:50}),new h({h:180,s:0,v:100}),new h({h:30,s:33,v:100}),new h({h:30,s:66,v:100}),new h({h:30,s:100,v:100}),new h({h:30,s:100,v:75}),new h({h:30,s:100,v:50}),new h({h:180,s:0,v:90}),new h({h:60,s:33,v:100}),new h({h:60,s:66,v:100}),new h({h:60,
s:100,v:100}),new h({h:60,s:100,v:75}),new h({h:60,s:100,v:50}),new h({h:180,s:0,v:80}),new h({h:90,s:33,v:100}),new h({h:90,s:66,v:100}),new h({h:90,s:100,v:100}),new h({h:90,s:100,v:75}),new h({h:90,s:100,v:50}),new h({h:180,s:0,v:70}),new h({h:120,s:33,v:100}),new h({h:120,s:66,v:100}),new h({h:120,s:100,v:100}),new h({h:120,s:100,v:75}),new h({h:120,s:100,v:50}),new h({h:180,s:0,v:60}),new h({h:150,s:33,v:100}),new h({h:150,s:66,v:100}),new h({h:150,s:100,v:100}),new h({h:150,s:100,v:75}),new h({h:150,
s:100,v:50}),new h({h:180,s:0,v:50}),new h({h:180,s:33,v:100}),new h({h:180,s:66,v:100}),new h({h:180,s:100,v:100}),new h({h:180,s:100,v:75}),new h({h:180,s:100,v:50}),new h({h:180,s:0,v:40}),new h({h:210,s:33,v:100}),new h({h:210,s:66,v:100}),new h({h:210,s:100,v:100}),new h({h:210,s:100,v:75}),new h({h:210,s:100,v:50}),new h({h:180,s:0,v:30}),new h({h:240,s:33,v:100}),new h({h:240,s:66,v:100}),new h({h:240,s:100,v:100}),new h({h:240,s:100,v:75}),new h({h:240,s:100,v:50}),new h({h:180,s:0,v:20}),
new h({h:270,s:33,v:100}),new h({h:270,s:66,v:100}),new h({h:270,s:100,v:100}),new h({h:270,s:100,v:75}),new h({h:270,s:100,v:50}),new h({h:180,s:0,v:10}),new h({h:300,s:33,v:100}),new h({h:300,s:66,v:100}),new h({h:300,s:100,v:100}),new h({h:300,s:100,v:75}),new h({h:300,s:100,v:50}),new h({h:180,s:0,v:0}),new h({h:330,s:33,v:100}),new h({h:330,s:66,v:100}),new h({h:330,s:100,v:100}),new h({h:330,s:100,v:75}),new h({h:330,s:100,v:50}),new h]},images:{clientPath:"/jPicker/images/",colorMap:{width:256,
height:256,arrow:{file:"mappoint.gif",width:15,height:15}},colorBar:{width:20,height:256,arrow:{file:"rangearrows.gif",width:20,height:7}},picker:{file:"picker.gif",width:25,height:24}},localization:{text:{title:"Drag Markers To Pick A Color",newColor:"new",currentColor:"current",ok:"OK",cancel:"Cancel"},tooltips:{colors:{newColor:"New Color - Press &ldquo;OK&rdquo; To Commit",currentColor:"Click To Revert To Original Color"},buttons:{ok:"Commit To This Color Selection",cancel:"Cancel And Revert To Original Color"},
hue:{radio:"Set To &ldquo;Hue&rdquo; Color Mode",textbox:"Enter A &ldquo;Hue&rdquo; Value (0-360&deg;)"},saturation:{radio:"Set To &ldquo;Saturation&rdquo; Color Mode",textbox:"Enter A &ldquo;Saturation&rdquo; Value (0-100%)"},value:{radio:"Set To &ldquo;Value&rdquo; Color Mode",textbox:"Enter A &ldquo;Value&rdquo; Value (0-100%)"},red:{radio:"Set To &ldquo;Red&rdquo; Color Mode",textbox:"Enter A &ldquo;Red&rdquo; Value (0-255)"},green:{radio:"Set To &ldquo;Green&rdquo; Color Mode",textbox:"Enter A &ldquo;Green&rdquo; Value (0-255)"},
blue:{radio:"Set To &ldquo;Blue&rdquo; Color Mode",textbox:"Enter A &ldquo;Blue&rdquo; Value (0-255)"},alpha:{radio:"Set To &ldquo;Alpha&rdquo; Color Mode",textbox:"Enter A &ldquo;Alpha&rdquo; Value (0-100)"},hex:{textbox:"Enter A &ldquo;Hex&rdquo; Color Value (#000000-#ffffff)",alpha:"Enter A &ldquo;Alpha&rdquo; Value (#00-#ff)"}}}}})(jQuery,"1.1.5");
(function(){function c(c,n,o){c=document.createElementNS(f.svg,c);if(a)for(var p in n)c.setAttribute(p,n[p]);else for(p in n){var l=n[p],q=c[p];q&&"SVGLength"===q.constructor?q.baseVal.value=l:c.setAttribute(p,l)}o&&o.appendChild(c);return c}var f={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"};window.console||(window.console=new function(){this.log=function(){};this.dir=function(){}});$j.jGraduate={Paint:function(a){a=a||{};this.alpha=isNaN(a.alpha)?100:a.alpha;if(a.copy){this.type=
a.copy.type;this.alpha=a.copy.alpha;this.radialGradient=this.linearGradient=this.solidColor=null;switch(this.type){case "solidColor":this.solidColor=a.copy.solidColor;break;case "linearGradient":this.linearGradient=a.copy.linearGradient.cloneNode(true);break;case "radialGradient":this.radialGradient=a.copy.radialGradient.cloneNode(true)}}else if(a.linearGradient){this.type="linearGradient";this.radialGradient=this.solidColor=null;this.linearGradient=a.linearGradient.cloneNode(true)}else if(a.radialGradient){this.type=
"radialGradient";this.linearGradient=this.solidColor=null;this.radialGradient=a.radialGradient.cloneNode(true)}else if(a.solidColor){this.type="solidColor";this.solidColor=a.solidColor}else{this.type="none";this.radialGradient=this.linearGradient=this.solidColor=null}}};jQuery.fn.jGraduateDefaults={paint:new $j.jGraduate.Paint,window:{pickerTitle:"Drag markers to pick a paint"},images:{clientPath:"images/"},newstop:"inverse"};var a=0<=navigator.userAgent.indexOf("Gecko/");jQuery.fn.jGraduate=function(a){var n=
arguments;return this.each(function(){function o(a,h,f,n,o){var q=o||c("stop",{"stop-color":h,"stop-opacity":f,offset:a},K);if(o){h=o.getAttribute("stop-color");f=o.getAttribute("stop-opacity");a=o.getAttribute("offset")}else K.appendChild(q);f===null&&(f=1);var o=c("path",{d:"M-6.2,0.9c3.6-4,6.7-4.3,6.7-12.4c-0.2,7.9,3.1,8.8,6.5,12.4c3.5,3.8,2.9,9.6,0,12.3c-3.1,2.8-10.4,2.7-13.2,0C-9.6,9.9-9.4,4.4-6.2,0.9z",fill:"url(#jGraduate_trans)",transform:"translate("+(10+a*R)+", 26)"},ab),A=c("path",{d:"M-6.2,0.9c3.6-4,6.7-4.3,6.7-12.4c-0.2,7.9,3.1,8.8,6.5,12.4c3.5,3.8,2.9,9.6,0,12.3c-3.1,2.8-10.4,2.7-13.2,0C-9.6,9.9-9.4,4.4-6.2,0.9z",
fill:h,"fill-opacity":f,transform:"translate("+(10+a*R)+", 26)",stroke:"#000","stroke-width":1.5},ab);$j(A).mousedown(function(a){p(this);Qa=Ka;I.mousemove(z).mouseup(l);pa=Va.offset();a.preventDefault();return false}).data("stop",q).data("bg",o).dblclick(function(){$j("div.jGraduate_LightBox").show();for(var a=this,c=+q.getAttribute("stop-opacity")||1,l=q.getAttribute("stop-color")||1,f=(parseFloat(c)*255).toString(16);f.length<2;)f="0"+f;h=l.substr(1)+f;$j("#"+B+"_jGraduate_stopPicker").css({left:100,
bottom:15}).jPicker({window:{title:"Pick the start color and opacity for the gradient"},images:{clientPath:u.images.clientPath},color:{active:h,alphaSupport:true}},function(h){l=h.val("hex")?"#"+h.val("hex"):"none";c=h.val("a")!==null?h.val("a")/256:1;a.setAttribute("fill",l);a.setAttribute("fill-opacity",c);q.setAttribute("stop-color",l);q.setAttribute("stop-opacity",c);$j("div.jGraduate_LightBox").hide();$j("#"+B+"_jGraduate_stopPicker").hide()},null,function(){$j("div.jGraduate_LightBox").hide();
$j("#"+B+"_jGraduate_stopPicker").hide()})});$j(K).find("stop").each(function(){var c=$j(this);if(+this.getAttribute("offset")>a){if(!h){var l=this.getAttribute("stop-color"),f=this.getAttribute("stop-opacity");q.setAttribute("stop-color",l);A.setAttribute("fill",l);q.setAttribute("stop-opacity",f===null?1:f);A.setAttribute("fill-opacity",f===null?1:f)}c.before(q);return false}});n&&p(A);return q}function p(a){Ka&&Ka.setAttribute("stroke","#000");a.setAttribute("stroke","blue");Ka=a;Ka.parentNode.appendChild(Ka)}
function l(){I.unbind("mousemove",z);if(ra.getAttribute("display")!=="none"){ra.setAttribute("display","none");var a=$j(Ka),c=a.data("stop"),a=a.data("bg");$j([Ka,c,a]).remove()}Qa=null}function q(){var a=Xa?"rotate("+Xa+","+sb+","+ib+") ":"";Wa===1&&mb===1?K.removeAttribute("gradientTransform"):K.setAttribute("gradientTransform",a+"translate("+-sb*(Wa-1)+","+-ib*(mb-1)+") scale("+Wa+","+mb+")")}function z(a){var c=a.pageX-pa.left,a=a.pageY-pa.top,c=c<10?10:c>R+10?R+10:c,l="translate("+c+", 26)";
if(a<-60||a>130){ra.setAttribute("display","block");ra.setAttribute("transform",l)}else ra.setAttribute("display","none");Qa.setAttribute("transform",l);$j.data(Qa,"bg").setAttribute("transform",l);$j.data(Qa,"stop").setAttribute("offset",(c-10)/R);var h=0;$j(K).find("stop").each(function(){var a=this.getAttribute("offset"),c=$j(this);if(a<h){c.prev().before(c);Pa=$j(K).find("stop")}h=a})}var A=$j(this),u=$j.extend(true,{},jQuery.fn.jGraduateDefaults,a),B=A.attr("id"),E="#"+A.attr("id")+" ";if(E){var C=
function(){switch(A.paint.type){case "radialGradient":A.paint.linearGradient=null;break;case "linearGradient":A.paint.radialGradient=null;break;case "solidColor":A.paint.radialGradient=A.paint.linearGradient=null}$j.isFunction(A.okCallback)&&A.okCallback(A.paint);A.hide()},G=function(){$j.isFunction(A.cancelCallback)&&A.cancelCallback();A.hide()};$j.extend(true,A,{paint:new $j.jGraduate.Paint({copy:u.paint}),okCallback:$j.isFunction(n[1])&&n[1]||null,cancelCallback:$j.isFunction(n[2])&&n[2]||null});
A.position();var F=null,I=$j(window);if(A.paint.type=="none")A.paint=$j.jGraduate.Paint({solidColor:"ffffff"});A.addClass("jGraduate_Picker");A.html('<ul class="jGraduate_tabs"><li class="jGraduate_tab_color jGraduate_tab_current" data-type="col">Solid Color</li><li class="jGraduate_tab_lingrad" data-type="lg">Linear Gradient</li><li class="jGraduate_tab_radgrad" data-type="rg">Radial Gradient</li></ul><div class="jGraduate_colPick"></div><div class="jGraduate_gradPick"></div><div class="jGraduate_LightBox"></div><div id="'+
B+'_jGraduate_stopPicker" class="jGraduate_stopPicker"></div>');var O=$j(E+"> .jGraduate_colPick"),N=$j(E+"> .jGraduate_gradPick");N.html('<div id="'+B+'_jGraduate_Swatch" class="jGraduate_Swatch"><h2 class="jGraduate_Title">'+u.window.pickerTitle+'</h2><div id="'+B+'_jGraduate_GradContainer" class="jGraduate_GradContainer"></div><div id="'+B+'_jGraduate_StopSlider" class="jGraduate_StopSlider"></div></div><div class="jGraduate_Form jGraduate_Points jGraduate_lg_field"><div class="jGraduate_StopSection"><label class="jGraduate_Form_Heading">Begin Point</label><div class="jGraduate_Form_Section"><label>x:</label><input type="text" id="'+
B+'_jGraduate_x1" size="3" title="Enter starting x value between 0.0 and 1.0"/><label> y:</label><input type="text" id="'+B+'_jGraduate_y1" size="3" title="Enter starting y value between 0.0 and 1.0"/></div></div><div class="jGraduate_StopSection"><label class="jGraduate_Form_Heading">End Point</label><div class="jGraduate_Form_Section"><label>x:</label><input type="text" id="'+B+'_jGraduate_x2" size="3" title="Enter ending x value between 0.0 and 1.0"/><label> y:</label><input type="text" id="'+
B+'_jGraduate_y2" size="3" title="Enter ending y value between 0.0 and 1.0"/></div></div></div><div class="jGraduate_Form jGraduate_Points jGraduate_rg_field"><div class="jGraduate_StopSection"><label class="jGraduate_Form_Heading">Center Point</label><div class="jGraduate_Form_Section"><label>x:</label><input type="text" id="'+B+'_jGraduate_cx" size="3" title="Enter x value between 0.0 and 1.0"/><label> y:</label><input type="text" id="'+B+'_jGraduate_cy" size="3" title="Enter y value between 0.0 and 1.0"/></div></div><div class="jGraduate_StopSection"><label class="jGraduate_Form_Heading">Focal Point</label><div class="jGraduate_Form_Section"><label>Match center: <input type="checkbox" checked="checked" id="'+
B+'_jGraduate_match_ctr"/></label><br/><label>x:</label><input type="text" id="'+B+'_jGraduate_fx" size="3" title="Enter x value between 0.0 and 1.0"/><label> y:</label><input type="text" id="'+B+'_jGraduate_fy" size="3" title="Enter y value between 0.0 and 1.0"/></div></div></div><div class="jGraduate_StopSection jGraduate_SpreadMethod"><label class="jGraduate_Form_Heading">Spread method</label><div class="jGraduate_Form_Section"><select class="jGraduate_spreadMethod"><option value=pad selected>Pad</option><option value=reflect>Reflect</option><option value=repeat>Repeat</option></select></div></div><div class="jGraduate_Form"><div class="jGraduate_Slider jGraduate_RadiusField jGraduate_rg_field"><label class="prelabel">Radius:</label><div id="'+
B+'_jGraduate_Radius" class="jGraduate_SliderBar jGraduate_Radius" title="Click to set radius"><img id="'+B+'_jGraduate_RadiusArrows" class="jGraduate_RadiusArrows" src="'+u.images.clientPath+'rangearrows2.gif"></div><label><input type="text" id="'+B+'_jGraduate_RadiusInput" size="3" value="100"/>%</label></div><div class="jGraduate_Slider jGraduate_EllipField jGraduate_rg_field"><label class="prelabel">Ellip:</label><div id="'+B+'_jGraduate_Ellip" class="jGraduate_SliderBar jGraduate_Ellip" title="Click to set Ellip"><img id="'+
B+'_jGraduate_EllipArrows" class="jGraduate_EllipArrows" src="'+u.images.clientPath+'rangearrows2.gif"></div><label><input type="text" id="'+B+'_jGraduate_EllipInput" size="3" value="0"/>%</label></div><div class="jGraduate_Slider jGraduate_AngleField jGraduate_rg_field"><label class="prelabel">Angle:</label><div id="'+B+'_jGraduate_Angle" class="jGraduate_SliderBar jGraduate_Angle" title="Click to set Angle"><img id="'+B+'_jGraduate_AngleArrows" class="jGraduate_AngleArrows" src="'+u.images.clientPath+
'rangearrows2.gif"></div><label><input type="text" id="'+B+'_jGraduate_AngleInput" size="3" value="0"/>deg</label></div><div class="jGraduate_Slider jGraduate_OpacField"><label class="prelabel">Opac:</label><div id="'+B+'_jGraduate_Opac" class="jGraduate_SliderBar jGraduate_Opac" title="Click to set Opac"><img id="'+B+'_jGraduate_OpacArrows" class="jGraduate_OpacArrows" src="'+u.images.clientPath+'rangearrows2.gif"></div><label><input type="text" id="'+B+'_jGraduate_OpacInput" size="3" value="100"/>%</label></div></div><div class="jGraduate_OkCancel"><input type="button" id="'+
B+'_jGraduate_Ok" class="jGraduate_Ok" value="OK"/><input type="button" id="'+B+'_jGraduate_Cancel" class="jGraduate_Cancel" value="Cancel"/></div>');var R=256,T=R-0,M=R-0,J,K,X,L={};$j(".jGraduate_SliderBar").width(145);var da=$j("#"+B+"_jGraduate_GradContainer")[0],V=c("svg",{id:B+"_jgraduate_svg",width:R,height:R,xmlns:f.svg},da);J=J||A.paint.type;var U=K=A.paint[J],aa=A.paint.alpha,ca=J==="solidColor";switch(J){case "solidColor":case "linearGradient":if(!ca){K.id=B+"_lg_jgraduate_grad";U=K=V.appendChild(K)}c("radialGradient",
{id:B+"_rg_jgraduate_grad"},V);if(J==="linearGradient")break;case "radialGradient":if(!ca){K.id=B+"_rg_jgraduate_grad";U=K=V.appendChild(K)}c("linearGradient",{id:B+"_lg_jgraduate_grad"},V)}if(ca){U=K=$j("#"+B+"_lg_jgraduate_grad")[0];F=A.paint[J];o(0,"#"+F,1);var qa=typeof u.newstop;if(qa==="string")switch(u.newstop){case "same":o(1,"#"+F,1);break;case "inverse":for(var qa="",ba=0;ba<6;ba=ba+2){F.substr(ba,2);var ea=(255-parseInt(F.substr(ba,2),16)).toString(16);ea.length<2&&(ea=0+ea);qa=qa+ea}o(1,
"#"+qa,1);break;case "white":o(1,"#ffffff",1);break;case "black":o(1,"#000000",1)}else qa==="object"&&o(1,u.newstop.color||"#"+F,"opac"in u.newstop?u.newstop.opac:1)}var F=parseFloat(U.getAttribute("x1")||0),qa=parseFloat(U.getAttribute("y1")||0),ba=parseFloat(U.getAttribute("x2")||1),ea=parseFloat(U.getAttribute("y2")||0),la=parseFloat(U.getAttribute("cx")||0.5),ga=parseFloat(U.getAttribute("cy")||0.5),ia=parseFloat(U.getAttribute("fx")||la),ya=parseFloat(U.getAttribute("fy")||ga);X=c("rect",{id:B+
"_jgraduate_rect",x:0,y:0,width:T,height:M,fill:"url(#"+B+"_jgraduate_grad)","fill-opacity":aa/100},V);var Za=$j("<div/>").attr({"class":"grad_coord jGraduate_lg_field",title:"Begin Stop"}).text(1).css({top:qa*R,left:F*R}).data("coord","start").appendTo(da),Na=Za.clone().text(2).css({top:ea*R,left:ba*R}).attr("title","End stop").data("coord","end").appendTo(da),Oa=$j("<div/>").attr({"class":"grad_coord jGraduate_rg_field",title:"Center stop"}).text("C").css({top:ga*R,left:la*R}).data("coord","center").appendTo(da),
Ia=Oa.clone().text("F").css({top:ya*R,left:ia*R,display:"none"}).attr("title","Focus point").data("coord","focus").appendTo(da);Ia[0].id=B+"_jGraduate_focusCoord";$j(E+" .grad_coord");$j.each(["x1","y1","x2","y2","cx","cy","fx","fy"],function(a,c){var l=K.getAttribute(c),h=isNaN(c[1]);l||(l=h?"0.5":c==="x2"?"1.0":"0.0");L[c]=$j("#"+B+"_jGraduate_"+c).val(l).change(function(){if(isNaN(parseFloat(this.value))||this.value<0)this.value=0;else if(this.value>1)this.value=1;if(c[0]!=="f"||ka)(h&&J==="radialGradient"||
!h&&J==="linearGradient")&&K.setAttribute(c,this.value);var a=h?c[0]==="c"?Oa:Ia:c[1]==="1"?Za:Na,l=c.indexOf("x")>=0?"left":"top";a.css(l,this.value*R)}).change()});var Pa,ab,Va=$j("#"+B+"_jGraduate_StopSlider"),Ka,Sa,Qa,ra=c("path",{d:"m9.75,-6l-19.5,19.5m0,-19.5l19.5,19.5",fill:"none",stroke:"#D00","stroke-width":5,display:"none"},Sa),pa,Wa=1,mb=1,Xa=0,sb=la,ib=ga;Sa=c("svg",{width:"100%",height:45},Va[0]);da=c("pattern",{width:16,height:16,patternUnits:"userSpaceOnUse",id:"jGraduate_trans"},Sa);
c("image",{width:16,height:16},da).setAttributeNS(f.xlink,"xlink:href",u.images.clientPath+"map-opacity.png");$j(Sa).click(function(a){pa=Va.offset();if(a.target.tagName!=="path"){var c=a.pageX-pa.left-8,c=c<10?10:c>R+10?R+10:c;o(c/R,0,0,true);a.stopPropagation()}});$j(Sa).mouseover(function(){Sa.appendChild(ra)});ab=c("g",{},Sa);c("line",{x1:10,y1:15,x2:R+10,y2:15,"stroke-width":2,stroke:"#000"},Sa);var Fa=N.find(".jGraduate_spreadMethod").change(function(){K.setAttribute("spreadMethod",$j(this).val())}),
cb=null,nb=function(a){var c=a.pageX-na.left,l=a.pageY-na.top,c=c<0?0:c>R?R:c,l=l<0?0:l>R?R:l;cb.css("left",c).css("top",l);var c=c/T,l=l/M,h=cb.data("coord"),f=K;switch(h){case "start":L.x1.val(c);L.y1.val(l);f.setAttribute("x1",c);f.setAttribute("y1",l);break;case "end":L.x2.val(c);L.y2.val(l);f.setAttribute("x2",c);f.setAttribute("y2",l);break;case "center":L.cx.val(c);L.cy.val(l);f.setAttribute("cx",c);f.setAttribute("cy",l);sb=c;ib=l;q();break;case "focus":L.fx.val(c);L.fy.val(l);f.setAttribute("fx",
c);f.setAttribute("fy",l);q()}a.preventDefault()},jb=function(){cb=null;I.unbind("mousemove",nb).unbind("mouseup",jb)};Pa=K.getElementsByTagNameNS(f.svg,"stop");if(Ea<2){for(;Ea<2;){K.appendChild(document.createElementNS(f.svg,"stop"));++Ea}Pa=K.getElementsByTagNameNS(f.svg,"stop")}for(var Ea=Pa.length,ba=0;ba<Ea;ba++)o(0,0,0,0,Pa[ba]);Fa.val(K.getAttribute("spreadMethod")||"pad");var na,ka=false;X.setAttribute("fill-opacity",aa/100);$j("#"+B+" div.grad_coord").mousedown(function(a){a.preventDefault();
cb=$j(this);cb.offset();na=cb.parent().offset();I.mousemove(nb).mouseup(jb)});$j("#"+B+"_jGraduate_Ok").bind("click",function(){J==="linearGradient"?$j("#color_picker_jGraduate_y1").val($j("#color_picker_jGraduate_y1").val()).change():J==="radialGradient"&&$j("#color_picker_jGraduate_cy").val($j("#color_picker_jGraduate_cy").val()).change();A.paint.type=J;A.paint[J]=K.cloneNode(true);A.paint.solidColor=null;C()});$j("#"+B+"_jGraduate_Cancel").bind("click",function(){G()});if(J==="radialGradient")if(ka)Ia.show();
else{Ia.hide();L.fx.val("");L.fy.val("")}$j("#"+B+"_jGraduate_match_ctr")[0].checked=!ka;var xa,sa;$j("#"+B+"_jGraduate_match_ctr").change(function(){ka=!this.checked;Ia.toggle(ka);L.fx.val("");L.fy.val("");var a=K;if(ka){var c=xa||0.5,l=sa||0.5;a.setAttribute("fx",c);a.setAttribute("fy",l);L.fx.val(c);L.fy.val(l)}else{xa=a.getAttribute("fx");sa=a.getAttribute("fy");a.removeAttribute("fx");a.removeAttribute("fy")}});Pa=K.getElementsByTagNameNS(f.svg,"stop");Ea=Pa.length;if(Ea<2){for(;Ea<2;){K.appendChild(document.createElementNS(f.svg,
"stop"));++Ea}Pa=K.getElementsByTagNameNS(f.svg,"stop")}var pb,aa=N=0;if(J==="radialGradient"){V=K.gradientTransform.baseVal;if(V.numberOfItems===2){Ea=V.getItem(0);V=V.getItem(1);if(Ea.type===2&&V.type===3){Ea=V.matrix;Ea.a!==1?N=Math.round(-(1-Ea.a)*100):Ea.d!==1&&(N=Math.round((1-Ea.d)*100))}}else if(V.numberOfItems===3){da=V.getItem(0);Ea=V.getItem(1);V=V.getItem(2);if(da.type===4&&Ea.type===2&&V.type===3){aa=Math.round(da.angle);Ea=V.matrix;Ea.a!==1?N=Math.round(-(1-Ea.a)*100):Ea.d!==1&&(N=Math.round((1-
Ea.d)*100))}}}N={radius:{handle:"#"+B+"_jGraduate_RadiusArrows",input:"#"+B+"_jGraduate_RadiusInput",val:(K.getAttribute("r")||0.5)*100},opacity:{handle:"#"+B+"_jGraduate_OpacArrows",input:"#"+B+"_jGraduate_OpacInput",val:A.paint.alpha||100},ellip:{handle:"#"+B+"_jGraduate_EllipArrows",input:"#"+B+"_jGraduate_EllipInput",val:N},angle:{handle:"#"+B+"_jGraduate_AngleArrows",input:"#"+B+"_jGraduate_AngleInput",val:aa}};$j.each(N,function(a,c){var l=$j(c.handle);l.mousedown(function(h){var f=l.parent();
pb={type:a,elem:l,input:$j(c.input),parent:f,offset:f.offset()};I.mousemove(La).mouseup(tb);h.preventDefault()});$j(c.input).val(c.val).change(function(){var c=+this.value,h=0,f=J==="radialGradient";switch(a){case "radius":f&&K.setAttribute("r",c/100);h=Math.pow(c/100,0.4)/2*145;break;case "opacity":A.paint.alpha=c;X.setAttribute("fill-opacity",c/100);h=c*1.45;break;case "ellip":Wa=mb=1;if(c===0){h=72.5;break}c>99.5&&(c=99.5);c>0?mb=1-c/100:Wa=-(c/100)-1;h=145*((c+100)/2)/100;f&&q();break;case "angle":Xa=
c;h=Xa/180;h=(h+0.5)*145;f&&q()}h>145?h=145:h<0&&(h=0);l.css({"margin-left":h-5})}).change()});for(var La=function(a){var c=a.pageX-pb.offset.left-parseInt(pb.parent.css("border-left-width"));c>145&&(c=145);c<=0&&(c=0);var l=c-5,c=c/145;switch(pb.type){case "radius":c=Math.pow(c*2,2.5);c>0.98&&c<1.02&&(c=1);c<=0.01&&(c=0.01);K.setAttribute("r",c);break;case "opacity":A.paint.alpha=parseInt(c*100);X.setAttribute("fill-opacity",c);break;case "ellip":mb=Wa=1;if(c<0.5){c=c/0.5;Wa=c<=0?0.01:c}else if(c>
0.5){c=2-c/0.5;mb=c<=0?0.01:c}q();c=c-1;mb===c+1&&(c=Math.abs(c));break;case "angle":Xa=c=(c-0.5)*180;q();c=c/100}pb.elem.css({"margin-left":l});c=Math.round(c*100);pb.input.val(c);a.preventDefault()},tb=function(){I.unbind("mousemove",La).unbind("mouseup",tb);pb=null},N=(A.paint.alpha*255/100).toString(16);N.length<2;)N="0"+N;N=N.split(".")[0];F=A.paint.solidColor=="none"?"":A.paint.solidColor+N;ca||(F=Pa[0].getAttribute("stop-color"));$j.extend($j.fn.jPicker.defaults.window,{alphaSupport:true,effects:{type:"show",
speed:0}});O.jPicker({window:{title:u.window.pickerTitle},images:{clientPath:u.images.clientPath},color:{active:F,alphaSupport:true}},function(a){A.paint.type="solidColor";A.paint.alpha=a.val("ahex")?Math.round(a.val("a")/255*100):100;A.paint.solidColor=a.val("hex")?a.val("hex"):"none";A.paint.radialGradient=null;C()},null,function(){G()});var gb=$j(E+" .jGraduate_tabs li");gb.click(function(){gb.removeClass("jGraduate_tab_current");$j(this).addClass("jGraduate_tab_current");$j(E+" > div").hide();
var a=$j(this).attr("data-type");$j(E+" .jGraduate_gradPick").show();if(a==="rg"||a==="lg"){$j(".jGraduate_"+a+"_field").show();$j(".jGraduate_"+(a==="lg"?"rg":"lg")+"_field").hide();$j("#"+B+"_jgraduate_rect")[0].setAttribute("fill","url(#"+B+"_"+a+"_jgraduate_grad)");J=a==="lg"?"linearGradient":"radialGradient";$j("#"+B+"_jGraduate_OpacInput").val(A.paint.alpha).change();var c=$j("#"+B+"_"+a+"_jgraduate_grad")[0];if(K!==c){var l=$j(K).find("stop");$j(c).empty().append(l);K=c;c=Fa.val();K.setAttribute("spreadMethod",
c)}ka=a==="rg"&&K.getAttribute("fx")!=null&&!(la==ia&&ga==ya);$j("#"+B+"_jGraduate_focusCoord").toggle(ka);if(ka)$j("#"+B+"_jGraduate_match_ctr")[0].checked=false}else{$j(E+" .jGraduate_gradPick").hide();$j(E+" .jGraduate_colPick").show()}});$j(E+" > div").hide();gb.removeClass("jGraduate_tab_current");var Ab;switch(A.paint.type){case "linearGradient":Ab=$j(E+" .jGraduate_tab_lingrad");break;case "radialGradient":Ab=$j(E+" .jGraduate_tab_radgrad");break;default:Ab=$j(E+" .jGraduate_tab_color")}A.show();
setTimeout(function(){Ab.addClass("jGraduate_tab_current").click();if(J==="radialGradient"){var a=parseFloat($j("#color_picker_jGraduate_cy").val())+1E-5;$j("#color_picker_jGraduate_cy").val(a).change()}},10)}else alert("Container element must have an id attribute to maintain unique id strings for sub-elements.")})}})();
(function(c){function f(a){var h=a||window.event,f=[].slice.call(arguments,1),l=0,q=0,z=0;return a=c.event.fix(h),a.type="mousewheel",h.wheelDelta&&(l=h.wheelDelta/120),h.detail&&(l=-h.detail/3),z=l,void 0!==h.axis&&h.axis===h.HORIZONTAL_AXIS&&(z=0,q=-1*l),void 0!==h.wheelDeltaY&&(z=h.wheelDeltaY/120),void 0!==h.wheelDeltaX&&(q=-1*h.wheelDeltaX/120),f.unshift(a,l,q,z),(c.event.dispatch||c.event.handle).apply(this,f)}var a=["DOMMouseScroll","mousewheel"];if(c.event.fixHooks)for(var h=a.length;h;)c.event.fixHooks[a[--h]]=
c.event.mouseHooks;c.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var c=a.length;c;)this.addEventListener(a[--c],f,!1);else this.onmousewheel=f},teardown:function(){if(this.removeEventListener)for(var c=a.length;c;)this.removeEventListener(a[--c],f,!1);else this.onmousewheel=null}};c.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
(function(c){var f,a,h,n,o=c.GreenSockGlobals||c,p=function(a){for(var c=a.split("."),l=o,a=0;c.length>a;a++)l[c[a]]=l=l[c[a]]||{};return l},l=p("com.greensock"),q={},z=function(a,l,h,f){this.sc=q[a]?q[a].sc:[];q[a]=this;this.gsClass=null;this.func=h;var n=[];this.check=function(u){for(var A,B,C=l.length,F=C;-1<--C;)(A=q[l[C]]||new z(l[C],[])).gsClass?(n[C]=A.gsClass,F--):u&&A.sc.push(this);if(0===F&&h){u=("com.greensock."+a).split(".");A=u.pop();B=p(u.join("."))[A]=this.gsClass=h.apply(h,n);f&&(o[A]=
B,"function"==typeof define&&define.amd?define((c.GreenSockAMDPath?c.GreenSockAMDPath+"/":"")+a.split(".").join("/"),[],function(){return B}):"undefined"!=typeof module&&module.exports&&(module.exports=B));for(C=0;this.sc.length>C;C++)this.sc[C].check()}};this.check(!0)},A=c._gsDefine=function(a,c,l,h){return new z(a,c,l,h)},u=l._class=function(a,c,l){return c=c||function(){},A(a,[],function(){return c},l),c},B=[0,0,1,1],E=[],C=u("easing.Ease",function(a,c,l,h){this._func=a;this._type=l||0;this._power=
h||0;this._params=c?B.concat(c):B},!0),G=C.map={},F=C.register=function(a,c,h,f){for(var n,o,q,c=c.split(","),p=c.length,z=(h||"easeIn,easeOut,easeInOut").split(",");-1<--p;){n=c[p];h=f?u("easing."+n,null,!0):l.easing[n]||{};for(o=z.length;-1<--o;)q=z[o],G[n+"."+q]=G[q+n]=h[q]=a.getRatio?a:a[q]||new a}};h=C.prototype;h._calcEnd=!1;h.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var c=this._type,l=this._power,h=1===c?1-a:2===c?a:0.5>a?2*a:2*(1-a);return 1===
l?h*=h:2===l?h*=h*h:3===l?h*=h*h*h:4===l&&(h*=h*h*h*h),1===c?1-h:2===c?h:0.5>a?h/2:1-h/2};f=["Linear","Quad","Cubic","Quart","Quint,Strong"];for(a=f.length;-1<--a;)h=f[a]+",Power"+a,F(new C(null,null,1,a),h,"easeOut",!0),F(new C(null,null,2,a),h,"easeIn"+(0===a?",easeNone":"")),F(new C(null,null,3,a),h,"easeInOut");G.linear=l.easing.Linear.easeIn;G.swing=l.easing.Quad.easeInOut;var I=u("events.EventDispatcher",function(a){this._listeners={};this._eventTarget=a||this});h=I.prototype;h.addEventListener=
function(a,c,l,h,f){var f=f||0,n,o=this._listeners[a],q=0;null==o&&(this._listeners[a]=o=[]);for(n=o.length;-1<--n;)a=o[n],a.c===c?o.splice(n,1):0===q&&f>a.pr&&(q=n+1);o.splice(q,0,{c:c,s:l,up:h,pr:f})};h.removeEventListener=function(a,c){var l,h=this._listeners[a];if(h)for(l=h.length;-1<--l;)if(h[l].c===c)return h.splice(l,1),void 0};h.dispatchEvent=function(a){var c=this._listeners[a];if(c)for(var l,h=c.length,f=this._eventTarget;-1<--h;)l=c[h],l.up?l.c.call(l.s||f,{type:a,target:f}):l.c.call(l.s||
f)};var O=c.requestAnimationFrame,N=c.cancelAnimationFrame,R=Date.now||function(){return(new Date).getTime()};f=["ms","moz","webkit","o"];for(a=f.length;-1<--a&&!O;)O=c[f[a]+"RequestAnimationFrame"],N=c[f[a]+"CancelAnimationFrame"]||c[f[a]+"CancelRequestAnimationFrame"];u("Ticker",function(a,l){var h,f,n,o,q,p=this,z=R(),u=!1!==l&&O,A=function(){null!=n&&(u&&N?N(n):c.clearTimeout(n),n=null)},B=function(a){p.time=(R()-z)/1E3;(!h||p.time>=q||!0===a)&&(p.frame++,q=p.time>q?p.time+o-(p.time-q):p.time+
o-0.0010,p.time+0.0010>q&&(q=p.time+0.0010),p.dispatchEvent("tick"));!0!==a&&(n=f(B))};I.call(p);this.time=this.frame=0;this.tick=function(){B(!0)};this.fps=function(a){return arguments.length?(h=a,o=1/(h||60),q=this.time+o,f=0===h?function(){}:u&&O?O:function(a){return setTimeout(a,1E3*(q-p.time)+1>>0||1)},A(),n=f(B),void 0):h};this.useRAF=function(a){return arguments.length?(A(),u=a,p.fps(h),void 0):u};p.fps(a);setTimeout(function(){u&&!n&&p.useRAF(!1)},1E3)});h=l.Ticker.prototype=new l.events.EventDispatcher;
h.constructor=l.Ticker;var T=u("core.Animation",function(a,c){if(this.vars=c||{},this._duration=this._totalDuration=a||0,this._delay=Number(this.vars.delay)||0,this._timeScale=1,this._active=!0===this.vars.immediateRender,this.data=this.vars.data,this._reversed=!0===this.vars.reversed,qa){n||(M.tick(),n=!0);var l=this.vars.useFrames?ca:qa;l.add(this,l._time);this.vars.paused&&this.paused(!0)}}),M=T.ticker=new l.Ticker;h=T.prototype;h._dirty=h._gc=h._initted=h._paused=!1;h._totalTime=h._time=0;h._rawPrevTime=
-1;h._next=h._last=h._onUpdate=h._timeline=h.timeline=null;h._paused=!1;h.play=function(a,c){return arguments.length&&this.seek(a,c),this.reversed(!1),this.paused(!1)};h.pause=function(a,c){return arguments.length&&this.seek(a,c),this.paused(!0)};h.resume=function(a,c){return arguments.length&&this.seek(a,c),this.paused(!1)};h.seek=function(a,c){return this.totalTime(Number(a),!1!==c)};h.restart=function(a,c){return this.reversed(!1),this.paused(!1),this.totalTime(a?-this._delay:0,!1!==c)};h.reverse=
function(a,c){return arguments.length&&this.seek(a||this.totalDuration(),c),this.reversed(!0),this.paused(!1)};h.render=function(){};h.invalidate=function(){return this};h._enabled=function(a,c){return this._gc=!a,this._active=a&&!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration,!0!==c&&(a&&null==this.timeline?this._timeline.add(this,this._startTime-this._delay):a||null==this.timeline||this._timeline._remove(this,!0)),!1};h._kill=function(){return this._enabled(!1,!1)};h.kill=
function(a,c){return this._kill(a,c),this};h._uncache=function(a){for(a=a?this:this.timeline;a;)a._dirty=!0,a=a.timeline;return this};h.eventCallback=function(a,c,l,h){if(null==a)return null;if("on"===a.substr(0,2)){if(1===arguments.length)return this.vars[a];if(null==c)delete this.vars[a];else if(this.vars[a]=c,this.vars[a+"Params"]=l,this.vars[a+"Scope"]=h,l)for(var f=l.length;-1<--f;)"{self}"===l[f]&&(l=this.vars[a+"Params"]=l.concat(),l[f]=this);"onUpdate"===a&&(this._onUpdate=c)}return this};
h.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay};h.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)};h.totalDuration=function(a){return this._dirty=!1,arguments.length?
this.duration(a):this._totalDuration};h.time=function(a,c){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this.totalTime(a,c)):this._time};h.totalTime=function(a,c){if(!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&(a+=this.totalDuration()),this._timeline.smoothChildTiming&&(this._dirty&&this.totalDuration(),a>this._totalDuration&&(a=this._totalDuration),this._startTime=(this._paused?this._pauseTime:this._timeline._time)-(this._reversed?
this._totalDuration-a:a)/this._timeScale,this._timeline._dirty||this._uncache(!1),!this._timeline._active))for(var l=this._timeline;l._timeline;)l.totalTime(l._totalTime,!0),l=l._timeline;this._gc&&this._enabled(!0,!1);this._totalTime!==a&&this.render(a,c,!1)}return this};h.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime};h.timeScale=function(a){if(!arguments.length)return this._timeScale;
if(a=a||1E-6,this._timeline&&this._timeline.smoothChildTiming){var c=this._pauseTime||0===this._pauseTime?this._pauseTime:this._timeline._totalTime;this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)};h.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._totalTime,!0)),this):this._reversed};h.paused=function(a){return arguments.length?(a!=this._paused&&this._timeline&&(!a&&this._timeline.smoothChildTiming&&
(this._startTime+=this._timeline.rawTime()-this._pauseTime,this._uncache(!1)),this._pauseTime=a?this._timeline.rawTime():null,this._paused=a,this._active=!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration),this._gc&&(a||this._enabled(!0,!1)),this):this._paused};f=u("core.SimpleTimeline",function(a){T.call(this,0,a);this.autoRemoveChildren=this.smoothChildTiming=!0});h=f.prototype=new T;h.constructor=f;h.kill()._gc=!1;h._first=h._last=null;h._sortChildren=!1;h.add=function(a,c){var l,
h;if(a._startTime=Number(c||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),l=this._last,this._sortChildren)for(h=a._startTime;l&&l._startTime>h;)l=l._prev;return l?(a._next=l._next,l._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=l,this._timeline&&this._uncache(!0),this};h.insert=h.add;h._remove=function(a,
c){return a.timeline===this&&(c||a._enabled(!1,!0),a.timeline=null,a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),this._timeline&&this._uncache(!0)),this};h.render=function(a,c){var l,h=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;h;)l=h._next,(h._active||a>=h._startTime&&!h._paused)&&(h._reversed?h.render((h._dirty?h.totalDuration():h._totalDuration)-(a-h._startTime)*h._timeScale,c,!1):h.render((a-
h._startTime)*h._timeScale,c,!1)),h=l};h.rawTime=function(){return this._totalTime};var J=u("TweenLite",function(a,c,l){if(T.call(this,c,l),null==a)throw"Cannot tween an undefined reference.";this.target=a="string"!=typeof a?a:J.selector(a)||a;this._overwrite=null==this.vars.overwrite?aa[J.defaultOverwrite]:"number"==typeof this.vars.overwrite?this.vars.overwrite>>0:aa[this.vars.overwrite];if(((l=a.jquery||"function"==typeof a.each&&a[0]&&a[0].nodeType&&a[0].style)||a instanceof Array)&&"number"!=
typeof a[0]){this._targets=l&&!a.slice?X(a):a.slice(0);this._propLookup=[];this._siblings=[];for(a=0;this._targets.length>a;a++)(l=this._targets[a])?"string"!=typeof l?"function"==typeof l.each&&l[0]&&l[0].nodeType&&l[0].style?(this._targets.splice(a--,1),this._targets=this._targets.concat(X(l))):(this._siblings[a]=ba(l,this,!1),1===this._overwrite&&1<this._siblings[a].length&&ea(l,this,null,1,this._siblings[a])):(l=this._targets[a--]=J.selector(l),"string"==typeof l&&this._targets.splice(a+1,1)):
this._targets.splice(a--,1)}else this._propLookup={},this._siblings=ba(a,this,!1),1===this._overwrite&&1<this._siblings.length&&ea(a,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&!1!==this.vars.immediateRender)&&this.render(-this._delay,!1,!0)},!0),K=function(a){return"function"==typeof a.each&&a[0]&&a[0].nodeType&&a[0].style},X=function(a){var c=[];return a.each(function(){c.push(this)}),c};h=J.prototype=new T;h.constructor=J;h.kill()._gc=!1;h.ratio=0;h._firstPT=
h._targets=h._overwrittenProps=null;h._notifyPluginsOfEnabled=!1;J.version="1.8.4";J.defaultEase=h._ease=new C(null,null,1,1);J.defaultOverwrite="auto";J.ticker=M;J.selector=c.$||c.jQuery||function(a){return c.$?(J.selector=c.$,c.$(a)):c.document?c.document.getElementById("#"===a.charAt(0)?a.substr(1):a):a};var L=J._plugins={},da=J._tweenLookup={},V=0,U={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,
onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,orientToBezier:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},aa={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},ca=T._rootFramesTimeline=new f,qa=T._rootTimeline=new f;qa._startTime=M.time;ca._startTime=M.frame;qa._active=ca._active=!0;T._updateRoot=function(){if(qa.render((M.time-
qa._startTime)*qa._timeScale,!1,!1),ca.render((M.frame-ca._startTime)*ca._timeScale,!1,!1),!(M.frame%120)){var a,c,l;for(l in da){c=da[l].tweens;for(a=c.length;-1<--a;)c[a]._gc&&c.splice(a,1);0===c.length&&delete da[l]}}};M.addEventListener("tick",T._updateRoot);var ba=function(a,c,l){var h,f,n=a._gsTweenID;if(da[n||(a._gsTweenID=n="t"+V++)]||(da[n]={target:a,tweens:[]}),c&&(h=da[n].tweens,h[f=h.length]=c,l))for(;-1<--f;)h[f]===c&&h.splice(f,1);return da[n].tweens},ea=function(a,c,l,h,f){var n,o,
q;if(1===h||4<=h){a=f.length;for(n=0;a>n;n++)if((q=f[n])!==c)q._gc||q._enabled(!1,!1)&&(o=!0);else if(5===h)break;return o}var p,z=c._startTime+1E-10,u=[],A=0,B=0===c._duration;for(n=f.length;-1<--n;)(q=f[n])===c||q._gc||q._paused||(q._timeline!==c._timeline?(p=p||la(c,0,B),0===la(q,p,B)&&(u[A++]=q)):z>=q._startTime&&q._startTime+q.totalDuration()/q._timeScale+1E-10>z&&((B||!q._initted)&&2E-10>=z-q._startTime||(u[A++]=q)));for(n=A;-1<--n;)q=u[n],2===h&&q._kill(l,a)&&(o=!0),(2!==h||!q._firstPT&&q._initted)&&
q._enabled(!1,!1)&&(o=!0);return o},la=function(a,c,l){for(var h=a._timeline,f=h._timeScale,n=a._startTime;h._timeline;){if(n+=h._startTime,f*=h._timeScale,h._paused)return-100;h=h._timeline}return n/=f,n>c?n-c:l&&n===c||!a._initted&&2E-10>n-c?1E-10:(n+=a.totalDuration()/a._timeScale/f)>c?0:n-c-1E-10};h._init=function(){var a,c,l=this.vars;a=l.ease;if(l.startAt&&(l.startAt.overwrite=0,l.startAt.immediateRender=!0,J.to(this.target,0,l.startAt)),this._ease=a?a instanceof C?l.easeParams instanceof Array?
a.config.apply(a,l.easeParams):a:"function"==typeof a?new C(a,l.easeParams):G[a]||J.defaultEase:J.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;-1<--a;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],this._overwrittenProps?this._overwrittenProps[a]:null)&&(c=!0);else c=this._initProps(this.target,this._propLookup,this._siblings,this._overwrittenProps);if(c&&J._onPluginEvent("_onInitAllProps",
this),this._overwrittenProps&&null==this._firstPT&&"function"!=typeof this.target&&this._enabled(!1,!1),l.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=l.onUpdate;this._initted=!0};h._initProps=function(a,c,l,h){var f,n,o,q,p,z;if(null==a)return!1;if(!this.vars.css&&a.style&&a.nodeType&&L.css&&!1!==this.vars.autoCSS){n=this.vars;var u,A={};for(u in n)U[u]||u in a&&"x"!==u&&"y"!==u&&"width"!==u&&"height"!==u||L[u]&&(!L[u]||!L[u]._autoCSS)||(A[u]=n[u],delete n[u]);n.css=
A}for(f in this.vars){if(U[f]){if(("onStartParams"===f||"onUpdateParams"===f||"onCompleteParams"===f||"onReverseCompleteParams"===f||"onRepeatParams"===f)&&(p=this.vars[f]))for(n=p.length;-1<--n;)"{self}"===p[n]&&(p=this.vars[f]=p.concat(),p[n]=this)}else if(L[f]&&(q=new L[f])._onInitTween(a,this.vars[f],this)){this._firstPT=z={_next:this._firstPT,t:q,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:q._priority};for(n=q._overwriteProps.length;-1<--n;)c[q._overwriteProps[n]]=this._firstPT;(q._priority||q._onInitAllProps)&&
(o=!0);(q._onDisable||q._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=z={_next:this._firstPT,t:a,p:f,f:"function"==typeof a[f],n:f,pg:!1,pr:0},z.s=z.f?a[f.indexOf("set")||"function"!=typeof a["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(a[f]),n=this.vars[f],z.c="string"==typeof n&&"="===n.charAt(1)?parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)):Number(n)-z.s||0;z&&z._next&&(z._next._prev=z)}return h&&this._kill(h,a)?this._initProps(a,c,l,h):1<this._overwrite&&this._firstPT&&
1<l.length&&ea(a,this,c,this._overwrite,l)?(this._kill(c,a),this._initProps(a,c,l,h)):o};h.render=function(a,c,l){var h,f,n=this._time;if(a>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(h=!0,f="onComplete"),0===this._duration&&((0===a||0>this._rawPrevTime)&&this._rawPrevTime!==a&&(l=!0),this._rawPrevTime=a);else if(0>=a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==n||0===
this._duration&&0<this._rawPrevTime)&&(f="onReverseComplete",h=this._reversed),0>a?(this._active=!1,0===this._duration&&(0<=this._rawPrevTime&&(l=!0),this._rawPrevTime=a)):this._initted||(l=!0);else if(this._totalTime=this._time=a,this._easeType){var o=a/this._duration,q=this._easeType,p=this._easePower;(1===q||3===q&&0.5<=o)&&(o=1-o);3===q&&(o*=2);1===p?o*=o:2===p?o*=o*o:3===p?o*=o*o*o:4===p&&(o*=o*o*o*o);this.ratio=1===q?1-o:2===q?o:0.5>a/this._duration?o/2:1-o/2}else this.ratio=this._ease.getRatio(a/
this._duration);if(this._time!==n||l){this._initted||(this._init(),!h&&this._time&&(this.ratio=this._ease.getRatio(this._time/this._duration)));this._active||this._paused||(this._active=!0);0===n&&this.vars.onStart&&(0!==this._time||0===this._duration)&&(c||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||E));for(a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(c||this._onUpdate.apply(this.vars.onUpdateScope||this,
this.vars.onUpdateParams||E));f&&(this._gc||(h&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),c||this.vars[f]&&this.vars[f].apply(this.vars[f+"Scope"]||this,this.vars[f+"Params"]||E)))}};h._kill=function(a,c){if("all"===a&&(a=null),null==a&&(null==c||c===this.target))return this._enabled(!1,!1);var c="string"!=typeof c?c||this._targets||this.target:J.selector(c)||c,l,h,f,n,o,q,p;if((c instanceof Array||K(c))&&"number"!=typeof c[0])for(l=c.length;-1<--l;)this._kill(a,c[l])&&
(q=!0);else{if(this._targets)for(l=this._targets.length;-1<--l;){if(c===this._targets[l]){o=this._propLookup[l]||{};this._overwrittenProps=this._overwrittenProps||[];h=this._overwrittenProps[l]=a?this._overwrittenProps[l]||{}:"all";break}}else{if(c!==this.target)return!1;o=this._propLookup;h=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(o)for(f in l=a||o,p=a!==h&&"all"!==h&&a!==o&&(null==a||!0!==a._tempKill),l)(n=o[f])&&(n.pg&&n.t._kill(l)&&(q=!0),n.pg&&0!==n.t._overwriteProps.length||
(n._prev?n._prev._next=n._next:n===this._firstPT&&(this._firstPT=n._next),n._next&&(n._next._prev=n._prev),n._next=n._prev=null),delete o[f]),p&&(h[f]=1)}return q};h.invalidate=function(){return this._notifyPluginsOfEnabled&&J._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this};h._enabled=function(a,c){if(a&&this._gc)if(this._targets)for(var l=this._targets.length;-1<
--l;)this._siblings[l]=ba(this._targets[l],this,!0);else this._siblings=ba(this.target,this,!0);return T.prototype._enabled.call(this,a,c),this._notifyPluginsOfEnabled&&this._firstPT?J._onPluginEvent(a?"_onEnable":"_onDisable",this):!1};J.to=function(a,c,l){return new J(a,c,l)};J.from=function(a,c,l){return l.runBackwards=!0,!1!==l.immediateRender&&(l.immediateRender=!0),new J(a,c,l)};J.fromTo=function(a,c,l,h){return h.startAt=l,l.immediateRender&&(h.immediateRender=!0),new J(a,c,h)};J.delayedCall=
function(a,c,l,h,f){return new J(c,0,{delay:a,onComplete:c,onCompleteParams:l,onCompleteScope:h,onReverseComplete:c,onReverseCompleteParams:l,onReverseCompleteScope:h,immediateRender:!1,useFrames:f,overwrite:0})};J.set=function(a,c){return new J(a,0,c)};J.killTweensOf=J.killDelayedCallsTo=function(a,c){for(var l=J.getTweensOf(a),h=l.length;-1<--h;)l[h]._kill(c,a)};J.getTweensOf=function(a){if(null!=a){var a="string"!=typeof a?a:J.selector(a)||a,c,l,h;if((a instanceof Array||K(a))&&"number"!=typeof a[0]){c=
a.length;for(l=[];-1<--c;)l=l.concat(J.getTweensOf(a[c]));for(c=l.length;-1<--c;){h=l[c];for(a=c;-1<--a;)h===l[a]&&l.splice(c,1)}}else{l=ba(a).concat();for(c=l.length;-1<--c;)l[c]._gc&&l.splice(c,1)}return l}};var ga=u("plugins.TweenPlugin",function(a,c){this._overwriteProps=(a||"").split(",");this._propName=this._overwriteProps[0];this._priority=c||0},!0);if(h=ga.prototype,ga.version=12,ga.API=2,h._firstPT=null,h._addTween=function(a,c,l,h,f,n){var o,q;null!=h&&(o="number"==typeof h||"="!==h.charAt(1)?
Number(h)-l:parseInt(h.charAt(0)+"1",10)*Number(h.substr(2)))&&(this._firstPT=q={_next:this._firstPT,t:a,p:c,s:l,c:o,f:"function"==typeof a[c],n:f||c,r:n},q._next&&(q._next._prev=q))},h.setRatio=function(a){for(var c,l=this._firstPT;l;)c=l.c*a+l.s,l.r&&(c=c+(0<c?0.5:-0.5)>>0),l.f?l.t[l.p](c):l.t[l.p]=c,l=l._next},h._kill=function(a){if(null!=a[this._propName])this._overwriteProps=[];else for(var c=this._overwriteProps.length;-1<--c;)null!=a[this._overwriteProps[c]]&&this._overwriteProps.splice(c,
1);for(c=this._firstPT;c;)null!=a[c.n]&&(c._next&&(c._next._prev=c._prev),c._prev?(c._prev._next=c._next,c._prev=null):this._firstPT===c&&(this._firstPT=c._next)),c=c._next;return!1},h._roundProps=function(a,c){for(var l=this._firstPT;l;)(a[this._propName]||null!=l.n&&a[l.n.split(this._propName+"_").join("")])&&(l.r=c),l=l._next},J._onPluginEvent=function(a,c){var l,h=c._firstPT;if("_onInitAllProps"===a){for(var f,n,o,q;h;){q=h._next;for(f=n;f&&f.pr>h.pr;)f=f._next;(h._prev=f?f._prev:o)?h._prev._next=
h:n=h;(h._next=f)?f._prev=h:o=h;h=q}h=c._firstPT=n}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(l=!0),h=h._next;return l},ga.activate=function(a){for(var c=a.length;-1<--c;)a[c].API===ga.API&&(J._plugins[(new a[c])._propName]=a[c]);return!0},f=c._gsQueue){for(a=0;f.length>a;a++)f[a]();for(h in q)q[h].func||c.console.log("GSAP encountered missing dependency: com.greensock."+h)}n=!1})(window);
(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(c){var f,a,h,n,o=function(){c.call(this,"css");this._overwriteProps.length=0},p={},l=o.prototype=new c("css");l.constructor=o;o.version="1.8.4";o.API=2;o.defaultTransformPerspective=0;l="px";o.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l};var q,z,A,u,B,E,C=/(?:\d|\-\d|\.\d|\-\.\d)+/g,G=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
F=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,I=/[^\d\-\.]/g,O=/(?:\d|\-|\+|=|#|\.)*/g,N=/opacity *= *([^)]*)/,R=/opacity:([^;]*)/,T=/alpha\(opacity *=.+?\)/i,M=/([A-Z])/g,J=/-([a-z])/gi,K=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,X=function(a,c){return c.toUpperCase()},L=/(?:Left|Right|Width)/i,da=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,V=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,U=Math.PI/180,aa=180/Math.PI,ca={},qa=document,ba=qa.createElement("div"),ea=qa.createElement("img"),la=o._internals=
{_specialProps:p},ga=navigator.userAgent,ia,ya,Za=ga.indexOf("Android"),Na=qa.createElement("div");ia=(A=-1!==ga.indexOf("Safari")&&-1===ga.indexOf("Chrome")&&(-1===Za||3<Number(ga.substr(Za+8,1))),B=A&&6>Number(ga.substr(ga.indexOf("Version/")+8,1)),u=-1!==ga.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(ga),E=parseFloat(RegExp.$1),Na.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",ya=Na.getElementsByTagName("a")[0],ya?/^0.55/.test(ya.style.opacity):!1);var Oa=function(a){return N.test("string"==
typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Ia="",Pa="",ab=function(a,c){var c=c||ba,l,h,f=c.style;if(void 0!==f[a])return a;a=a.charAt(0).toUpperCase()+a.substr(1);l=["O","Moz","ms","Ms","Webkit"];for(h=5;-1<--h&&void 0===f[l[h]+a];);return 0<=h?(Pa=3===h?"ms":l[h],Ia="-"+Pa.toLowerCase()+"-",Pa+a):null},Va=qa.defaultView?qa.defaultView.getComputedStyle:function(){},Ka=o.getStyle=function(a,c,l,h,f){var n;return ia||"opacity"!==c?(!h&&a.style[c]?
n=a.style[c]:(l=l||Va(a,null))?(a=l.getPropertyValue(c.replace(M,"-$1").toLowerCase()),n=a||l.length?a:l[c]):a.currentStyle&&(l=a.currentStyle,n=l[c]),null==f||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:f):Oa(a)},Sa=function(a,c,l){var h,f,n={},o=a._gsOverwrittenClassNamePT;if(o&&!l){for(;o;)o.setRatio(0),o=o._next;a._gsOverwrittenClassNamePT=null}if(c=c||Va(a,null))if(h=c.length)for(;-1<--h;)n[c[h].replace(J,X)]=c.getPropertyValue(c[h]);else for(h in c)n[h]=c[h];else if(c=a.currentStyle||a.style)for(h in c)n[h.replace(J,
X)]=c[h];return ia||(n.opacity=Oa(a)),f=Aa(a,c,!1),n.rotation=f.rotation*aa,n.skewX=f.skewX*aa,n.scaleX=f.scaleX,n.scaleY=f.scaleY,n.x=f.x,n.y=f.y,Ba&&(n.z=f.z,n.rotationX=f.rotationX*aa,n.rotationY=f.rotationY*aa,n.scaleZ=f.scaleZ),n.filters&&delete n.filters,n},Qa=function(a,c,l,h){var f,n,o,q={},a=a.style;for(n in l)"cssText"!==n&&"length"!==n&&isNaN(n)&&c[n]!==(f=l[n])&&-1===n.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(q[n]=""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof c[n]||
""===c[n].replace(I,"")?f:0,void 0!==a[n]&&(o=new na(a,n,a[n],o)));if(h)for(n in h)"className"!==n&&(q[n]=h[n]);return{difs:q,firstMPT:o}},ra={width:["Left","Right"],height:["Top","Bottom"]},pa=["marginLeft","marginRight","marginTop","marginBottom"],Wa=function(a,c,l,h,f){if("px"===h||!h)return l;if("auto"===h||!l)return 0;var n,o=L.test(c),q=a,p=ba.style,z=0>l;return z&&(l=-l),"%"===h&&-1!==c.indexOf("border")?n=l/100*(o?a.clientWidth:a.clientHeight):(p.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;",
"%"!==h&&"em"!==h&&q.appendChild?p[o?"borderLeftWidth":"borderTopWidth"]=l+h:(q=a.parentNode||qa.body,p[o?"width":"height"]=l+h),q.appendChild(ba),n=parseFloat(ba[o?"offsetWidth":"offsetHeight"]),q.removeChild(ba),0!==n||f||(n=Wa(a,c,l,h,!0))),z?-n:n},mb=function(a,c){(null==a||""===a||"auto"===a||"auto auto"===a)&&(a="0 0");var l=a.split(" "),h=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":l[0],f=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":l[1];return null==f?f="0":"center"===
f&&(f="50%"),("center"===h||isNaN(parseFloat(h)))&&(h="50%"),c&&(c.oxp=-1!==h.indexOf("%"),c.oyp=-1!==f.indexOf("%"),c.oxr="="===h.charAt(1),c.oyr="="===f.charAt(1),c.ox=parseFloat(h.replace(I,"")),c.oy=parseFloat(f.replace(I,""))),h+" "+f+(2<l.length?" "+l[2]:"")},Xa=function(a,c){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(c)},sb=function(a,c){return null==a?c:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+
"1",10)*Number(a.substr(2))+c:parseFloat(a)},ib=function(a,c){if(null==a)return c;var l=-1===a.indexOf("rad")?U:1,h="="===a.charAt(1);return a=Number(a.replace(I,""))*l,h?a+c:a},Fa=function(a,c){var l=(("number"==typeof a?a*U:ib(a,c))-c)%(2*Math.PI);return l!==l%Math.PI&&(l+=Math.PI*(0>l?2:-2)),c+l},cb={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,
255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},nb=function(a){if(!a||""===a)return cb.black;if(cb[a])return cb[a];if("number"==typeof a)return[a>>16,255&a>>8,255&a];if("#"===a.charAt(0)){if(4===a.length)var c=a.charAt(1),l=a.charAt(2),a=a.charAt(3),a="#"+c+c+l+l+a+a;return a=parseInt(a.substr(1),16),[a>>16,255&a>>8,255&a]}return a=a.match(C)||cb.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),
a[2]=Number(a[2]),3<a.length&&(a[3]=Number(a[3])),a},jb="(?:\\b(?:(?:rgb|rgba)\\(.+?\\))|\\B#.+?\\b";for(l in cb)jb+="|"+l+"\\b";var jb=RegExp(jb+")","gi"),Ea=function(a,c,l){if(null==a)return function(a){return a};var h=c?(a.match(jb)||[""])[0]:"",f=a.split(h).join("").match(F)||[],n=a.substr(0,a.indexOf(f[0])),o=")"===a.charAt(a.length-1)?")":"",q=-1!==a.indexOf(" ")?" ":",",p=f.length,z=0<p?f[0].replace(C,""):"";return c?function(a){"number"==typeof a&&(a+=z);var c=(a.match(jb)||[h])[0],a=a.split(c).join("").match(F)||
[],u=a.length;if(p>u--)for(;p>++u;)a[u]=l?a[(u-1)/2>>0]:f[u];return n+a.join(q)+q+c+o}:function(a){"number"==typeof a&&(a+=z);var a=a.match(F)||[],c=a.length;if(p>c--)for(;p>++c;)a[c]=l?a[(c-1)/2>>0]:f[c];return n+a.join(q)+o}},ga=function(a){return a=a.split(","),function(c,l,h,f,n,o,q){h=(l+"").split(" ");q={};for(l=0;4>l;l++)q[a[l]]=h[l]=h[l]||h[(l-1)/2>>0];return f.parse(c,q,n,o)}},na=(la._setPluginRatio=function(a){this.plugin.setRatio(a);for(var c,l,h=this.data,f=h.proxy,n=h.firstMPT;n;)c=f[n.v],
n.r?c=0<c?c+0.5>>0:c-0.5>>0:1E-6>c&&-1E-6<c&&(c=0),n.t[n.p]=c,n=n._next;if(h.autoRotate&&(h.autoRotate.rotation=f.rotation),1===a)for(n=h.firstMPT;n;){if(l=n.t,l.type){if(1===l.type){c=l.xs0+l.s+l.xs1;for(a=1;l.l>a;a++)c+=l["xn"+a]+l["xs"+(a+1)];l.e=c}}else l.e=l.s+l.xs0;n=n._next}},function(a,c,l,h,f){this.t=a;this.p=c;this.v=l;this.r=f;h&&(h._prev=this,this._next=h)}),ka=(la._parseToProxy=function(a,c,l,h,f,n){var o,q,p,z=h,u={},A={};q=l._transform;var B=ca;l._transform=null;ca=c;h=a=l.parse(a,
c,h,f);ca=B;for(n&&(l._transform=q,z&&(z._prev=null,z._prev&&(z._prev._next=null)));h&&h!==z;){if(1>=h.type&&(o=h.p,A[o]=h.s+h.c,u[o]=h.s,n||(p=new na(h,"s",o,p,h.r),h.c=0),1===h.type))for(l=h.l;0<--l;)q="xn"+l,o=h.p+"_"+q,A[o]=h.data[q],u[o]=h[q],n||(p=new na(h,q,o,p,h.rxp[q]));h=h._next}return{proxy:u,end:A,firstMPT:p,pt:a}},la.CSSPropTween=function(a,c,l,h,o,q,p,z,u,A,B){this.t=a;this.p=c;this.s=l;this.c=h;this.n=p||"css_"+c;a instanceof ka||n.push(this.n);this.r=z;this.type=q||0;u&&(this.pr=u,
f=!0);this.b=void 0===A?l:A;this.e=void 0===B?l+h:B;o&&(this._next=o,o._prev=this)}),xa=o.parseComplex=function(a,c,l,h,f,n,o,p,z,u){var o=new ka(a,c,0,0,o,u?2:1,null,!1,p,l,h),A,B,F,J,E,M,a=l.split(", ").join(",").split(" "),c=(h+"").split(", ").join(",").split(" "),l=a.length,p=!1!==q;l!==c.length&&(a=(n||"").split(" "),l=a.length);o.plugin=z;o.setRatio=u;for(n=0;l>n;n++)if(B=a[n],u=c[n],J=parseFloat(B),J||0===J)o.appendXtra("",J,Xa(u,J),u.replace(G,""),p&&-1!==u.indexOf("px"),!0);else if(f&&("#"===
B.charAt(0)||0===B.indexOf("rgb")||cb[B]))B=nb(B),u=nb(u),(z=6<B.length+u.length)&&!ia&&0===u[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(c[n]).join("transparent")):(ia||(z=!1),o.appendXtra(z?"rgba(":"rgb(",B[0],u[0]-B[0],",",!0,!0).appendXtra("",B[1],u[1]-B[1],",",!0).appendXtra("",B[2],u[2]-B[2],z?",":")",!0),z&&(B=4>B.length?1:B[3],o.appendXtra("",B,(4>u.length?1:u[3])-B,")",!1)));else if(z=B.match(C)){if(F=u.match(G),!F||F.length!==z.length)return o;for(u=A=0;z.length>u;u++)M=
z[u],E=B.indexOf(M,A),o.appendXtra(B.substr(A,E-A),Number(M),Xa(F[u],M),"",p&&"px"===B.substr(E+M.length,2),0===u),A=E+M.length;o["xs"+o.l]+=B.substr(A)}else o["xs"+o.l]+=o.l?" "+B:B;if(-1!==h.indexOf("=")&&o.data){h=o.xs0+o.data.s;for(n=1;o.l>n;n++)h+=o["xs"+n]+o.data["xn"+n];o.e=h+o["xs"+n]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},sa=9,l=ka.prototype;for(l.l=l.pr=0;0<--sa;)l["xn"+sa]=0,l["xs"+sa]="";l.xs0="";l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null;l.appendXtra=function(a,
c,l,h,f,n){var o=this.l;return this["xs"+o]+=n&&o?" "+a:a||"",l||0===o||this.plugin?(this.l++,this.type=this.setRatio?2:1,this["xs"+this.l]=h||"",0<o?(this.data["xn"+o]=c+l,this.rxp["xn"+o]=f,this["xn"+o]=c,this.plugin||(this.xfirst=new ka(this,"xn"+o,c,l,this.xfirst||this,0,this.n,f,this.pr),this.xfirst.xs0=0),this):(this.data={s:c+l},this.rxp={},this.s=c,this.c=l,this.r=f,this)):(this["xs"+o]+=c+(h||""),this)};var pb=function(a,c,l,h,f,n,o){this.p=h?ab(a)||a:a;p[a]=p[this.p]=this;this.format=n||
Ea(c,f);l&&(this.parse=l);this.clrs=f;this.dflt=c;this.pr=o||0},La=la._registerComplexSpecialProp=function(a,c,l,h,f,n,o){for(var a=a.split(","),c=c instanceof Array?c:[c],q=a.length;-1<--q;)new pb(a[q],c[q],l,h&&0===q,f,n,o)},la=function(a){if(!p[a]){var c=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";La(a,null,function(a,l,h,f,n,o,q){var z=(window.GreenSockGlobals||window).com.greensock.plugins[c];z?a=(z._cssRegister(),p[h].parse(a,l,h,f,n,o,q)):(window.console&&console.log("Error: "+c+" js file not loaded."),
a=n);return a})}},l=pb.prototype;l.parseComplex=function(a,c,l,h,f,n){return xa(a,this.p,c,l,this.clrs,this.dflt,h,this.pr,f,n)};l.parse=function(a,c,l,f,n,o){return this.parseComplex(a.style,this.format(Ka(a,l,h,!1,this.dflt)),this.format(c),n,o)};o.registerSpecialProp=function(a,c,l){La(a,null,function(a,h,f,n,o,q){o=new ka(a,f,0,0,o,2,f,!1,l);return o.plugin=q,o.setRatio=c(a,h,n._tween,f),o},!1,!1,null,l)};var tb="scaleX scaleY scaleZ x y z skewX rotation rotationX rotationY perspective".split(" "),
gb=ab("transform"),Ab=Ia+"transform",Ma=ab("transformOrigin"),Ba=null!==ab("perspective"),Aa=function(a,c,l){var h,f,n,q,p,z,u,B,A,C=l?a._gsTransform||{skewY:0}:{skewY:0},F=0>C.scaleX,J=-Math.PI+1E-4,E=Math.PI-1E-4,M=Ba?parseFloat(Ka(a,Ma,c,!1,"0 0 0").split(" ")[2])||C.zOrigin||0:0;gb?h=Ka(a,Ab,c,!0):a.currentStyle&&(h=a.currentStyle.filter.match(da),h=h&&4===h.length?h[0].substr(4)+","+Number(h[2].substr(4))+","+Number(h[1].substr(4))+","+h[3].substr(4)+","+(C?C.x:0)+","+(C?C.y:0):null);h=(h||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||
[];for(c=h.length;-1<--c;)f=Number(h[c]),h[c]=(1E5*f+(0>f?-0.5:0.5)>>0)/1E5;if(16===h.length){F=h[8];f=h[9];var T=h[10],N=h[12],I=h[13],R=h[14];if(C.zOrigin&&(R=-C.zOrigin,N=F*R-h[12],I=f*R-h[13],R=T*R+C.zOrigin-h[14]),!l||N!==C.x||I!==C.y||R!==C.z){var G=h[0],K=h[1],L=h[2],O=h[3],ga=h[4],X=h[5],V=h[6],ia=h[7];h=h[11];var U=C.rotationX=Math.atan2(V,T),H=J>U||U>E;U&&(z=Math.cos(-U),u=Math.sin(-U),n=ga*z+F*u,q=X*z+f*u,p=V*z+T*u,F=ga*-u+F*z,f=X*-u+f*z,T=V*-u+T*z,h=ia*-u+h*z,ga=n,X=q,V=p);(U=C.rotationY=
Math.atan2(F,G))&&(B=J>U||U>E,z=Math.cos(-U),u=Math.sin(-U),n=G*z-F*u,q=K*z-f*u,p=L*z-T*u,f=K*u+f*z,T=L*u+T*z,h=O*u+h*z,G=n,K=q,L=p);(U=C.rotation=Math.atan2(K,X))&&(A=J>U||U>E,z=Math.cos(-U),u=Math.sin(-U),G=G*z+ga*u,q=K*z+X*u,X=K*-u+X*z,V=L*-u+V*z,K=q);A&&H?C.rotation=C.rotationX=0:A&&B?C.rotation=C.rotationY=0:B&&H&&(C.rotationY=C.rotationX=0);C.scaleX=(1E5*Math.sqrt(G*G+K*K)+0.5>>0)/1E5;C.scaleY=(1E5*Math.sqrt(X*X+f*f)+0.5>>0)/1E5;C.scaleZ=(1E5*Math.sqrt(V*V+T*T)+0.5>>0)/1E5;C.skewX=0;C.perspective=
h?1/(0>h?-h:h):0;C.x=N;C.y=I;C.z=R}}else if(!Ba||0===h.length||C.x!==h[4]||C.y!==h[5]||!C.rotationX&&!C.rotationY)q=(n=6<=h.length)?h[0]:1,z=h[1]||0,p=h[2]||0,u=n?h[3]:1,C.x=h[4]||0,C.y=h[5]||0,h=Math.sqrt(q*q+z*z),n=Math.sqrt(u*u+p*p),q=q||z?Math.atan2(z,q):C.rotation||0,p=p||u?Math.atan2(p,u)+q:C.skewX||0,z=h-Math.abs(C.scaleX||0),u=n-Math.abs(C.scaleY||0),Math.abs(p)>Math.PI/2&&Math.abs(p)<1.5*Math.PI&&(F?(h*=-1,p+=0>=q?Math.PI:-Math.PI,q+=0>=q?Math.PI:-Math.PI):(n*=-1,p+=0>=p?Math.PI:-Math.PI)),
B=(q-C.rotation)%Math.PI,A=(p-C.skewX)%Math.PI,(void 0===C.skewX||2E-5<z||-2E-5>z||2E-5<u||-2E-5>u||B>J&&E>B&&0!==1E5*B>>0||A>J&&E>A&&0!==1E5*A>>0)&&(C.scaleX=h,C.scaleY=n,C.rotation=q,C.skewX=p),Ba&&(C.rotationX=C.rotationY=C.z=0,C.perspective=parseFloat(o.defaultTransformPerspective)||0,C.scaleZ=1);C.zOrigin=M;for(c in C)2E-5>C[c]&&-2E-5<C[c]&&(C[c]=0);return l&&(a._gsTransform=C),C},Gb=function(a){var c,l,h=this.data,f=-h.rotation;c=f+h.skewX;var n=(1E5*Math.cos(f)*h.scaleX>>0)/1E5,f=(1E5*Math.sin(f)*
h.scaleX>>0)/1E5,o=(1E5*Math.sin(c)*-h.scaleY>>0)/1E5,q=(1E5*Math.cos(c)*h.scaleY>>0)/1E5,p=this.t.style,z=this.t.currentStyle;if(z){l=f;f=-o;o=-l;c=z.filter;p.filter="";var u,B,A=this.t.offsetWidth;l=this.t.offsetHeight;var C="absolute"!==z.position,F="progid:DXImageTransform.Microsoft.Matrix(M11="+n+", M12="+f+", M21="+o+", M22="+q,J=h.x,M=h.y;if(null!=h.ox&&(u=(h.oxp?0.01*A*h.ox:h.ox)-A/2,B=(h.oyp?0.01*l*h.oy:h.oy)-l/2,J+=u-(u*n+B*f),M+=B-(u*o+B*q)),C)u=A/2,B=l/2,F+=", Dx="+(u-(u*n+B*f)+J)+", Dy="+
(B-(u*o+B*q)+M)+")";else{var T=8>E?1:-1;u=h.ieOffsetX||0;B=h.ieOffsetY||0;h.ieOffsetX=Math.round((A-((0>n?-n:n)*A+(0>f?-f:f)*l))/2+J);h.ieOffsetY=Math.round((l-((0>q?-q:q)*l+(0>o?-o:o)*A))/2+M);for(sa=0;4>sa;sa++)A=pa[sa],l=z[A],l=-1!==l.indexOf("px")?parseFloat(l):Wa(this.t,A,parseFloat(l),l.replace(O,""))||0,J=l!==h[A]?2>sa?-h.ieOffsetX:-h.ieOffsetY:2>sa?u-h.ieOffsetX:B-h.ieOffsetY,p[A]=(h[A]=Math.round(l-J*(0===sa||2===sa?1:T)))+"px";F+=", sizingMethod='auto expand')"}p.filter=-1!==c.indexOf("DXImageTransform.Microsoft.Matrix(")?
c.replace(V,F):F+" "+c;(0===a||1===a)&&1===n&&0===f&&0===o&&1===q&&(C&&-1===F.indexOf("Dx=0, Dy=0")||N.test(c)&&100!==parseFloat(RegExp.$1)||-1===c.indexOf("gradient(")&&p.removeAttribute("filter"))}},ub=function(){var a,c,l,h,f,n,o,q,p,z=this.data,B=this.t.style,A=z.perspective,C=z.scaleX,F=0,J=0,E=0,M=0,T=z.scaleY,N=0,I=0,R=0,G=0,K=z.scaleZ,L=0,O=0,ga=0,X=A?-1/A:0,V=z.rotation,ia=z.zOrigin;u&&(o=Ka(this.t,"top",null,!1,"0"),q=parseFloat(o)||0,p=o.substr((q+"").length),z._ffFix=!z._ffFix,B.top=(z._ffFix?
q+0.05:q-0.05)+(""===p?"px":p));(V||z.skewX)&&(l=C*Math.cos(V),h=T*Math.sin(V),V-=z.skewX,F=C*-Math.sin(V),T*=Math.cos(V),C=l,M=h);(V=z.rotationY)&&(a=Math.cos(V),c=Math.sin(V),l=C*a,h=M*a,f=K*-c,n=X*-c,J=C*c,N=M*c,K*=a,X*=a,C=l,M=h,R=f,O=n);(V=z.rotationX)&&(a=Math.cos(V),c=Math.sin(V),l=F*a+J*c,h=T*a+N*c,f=G*a+K*c,n=ga*a+X*c,J=F*-c+J*a,N=T*-c+N*a,K=G*-c+K*a,X=ga*-c+X*a,F=l,T=h,G=f,ga=n);ia&&(L-=ia,E=J*L,I=N*L,L=K*L+ia);E+=z.x;I+=z.y;L=(1E5*(L+z.z)>>0)/1E5;B[gb]="matrix3d("+(1E5*C>>0)/1E5+","+(1E5*
M>>0)/1E5+","+(1E5*R>>0)/1E5+","+(1E5*O>>0)/1E5+","+(1E5*F>>0)/1E5+","+(1E5*T>>0)/1E5+","+(1E5*G>>0)/1E5+","+(1E5*ga>>0)/1E5+","+(1E5*J>>0)/1E5+","+(1E5*N>>0)/1E5+","+(1E5*K>>0)/1E5+","+(1E5*X>>0)/1E5+","+(1E5*E>>0)/1E5+","+(1E5*I>>0)/1E5+","+L+","+(A?1+-L/A:1)+")"},Ya=function(){var a,c,l,h,f,n,o,q=this.data,p=this.t;u&&(a=Ka(p,"top",null,!1,"0"),c=parseFloat(a)||0,l=a.substr((c+"").length),q._ffFix=!q._ffFix,p.style.top=(q._ffFix?c+0.05:c-0.05)+(""===l?"px":l));q.rotation||q.skewX?(h=q.rotation,
f=h-q.skewX,n=1E5*q.scaleX,o=1E5*q.scaleY,p.style[gb]="matrix("+(Math.cos(h)*n>>0)/1E5+","+(Math.sin(h)*n>>0)/1E5+","+(Math.sin(f)*-o>>0)/1E5+","+(Math.cos(f)*o>>0)/1E5+","+q.x+","+q.y+")"):p.style[gb]="matrix("+q.scaleX+",0,0,"+q.scaleY+","+q.x+","+q.y+")"};La("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective",null,function(a,c,l,f,n,o,q){if(f._transform)return n;
var p,z,u,B,A,C,c=f._transform=Aa(a,h,!0),F=a.style,J=tb.length;"string"==typeof q.transform&&gb?(B=F.cssText,F[gb]=q.transform,F.display="block",p=Aa(a,null,!1),F.cssText=B):"object"==typeof q&&(z=null!=q.rotation?q.rotation:null!=q.rotationZ?q.rotationZ:c.rotation*aa,p={scaleX:sb(null!=q.scaleX?q.scaleX:q.scale,c.scaleX),scaleY:sb(null!=q.scaleY?q.scaleY:q.scale,c.scaleY),scaleZ:sb(null!=q.scaleZ?q.scaleZ:q.scale,c.scaleZ),x:sb(q.x,c.x),y:sb(q.y,c.y),z:sb(q.z,c.z),perspective:sb(q.transformPerspective,
c.perspective)},p.rotation=null!=q.shortRotation||null!=q.shortRotationZ?Fa(q.shortRotation||q.shortRotationZ||0,c.rotation):"number"==typeof z?z*U:ib(z,c.rotation),Ba&&(p.rotationX=null!=q.shortRotationX?Fa(q.shortRotationX,c.rotationX):"number"==typeof q.rotationX?q.rotationX*U:ib(q.rotationX,c.rotationX),p.rotationY=null!=q.shortRotationY?Fa(q.shortRotationY,c.rotationY):"number"==typeof q.rotationY?q.rotationY*U:ib(q.rotationY,c.rotationY),1E-6>p.rotationX&&-1E-6<p.rotationX&&(p.rotationX=0),
1E-6>p.rotationY&&-1E-6<p.rotationY&&(p.rotationY=0)),p.skewX=null==q.skewX?c.skewX:"number"==typeof q.skewX?q.skewX*U:ib(q.skewX,c.skewX),p.skewY=null==q.skewY?c.skewY:"number"==typeof q.skewY?q.skewY*U:ib(q.skewY,c.skewY),(u=p.skewY-c.skewY)&&(p.skewX+=u,p.rotation+=u),1E-6>p.skewY&&-1E-6<p.skewY&&(p.skewY=0),1E-6>p.skewX&&-1E-6<p.skewX&&(p.skewX=0),1E-6>p.rotation&&-1E-6<p.rotation&&(p.rotation=0));for((z=c.z||c.rotationX||c.rotationY||p.z||p.rotationX||p.rotationY||p.perspective)||null==q.scale||
(p.scaleZ=1);-1<--J;)l=tb[J],A=p[l]-c[l],(1E-6<A||-1E-6>A||null!=ca[l])&&(C=!0,n=new ka(c,l,c[l],A,n),n.xs0=0,n.plugin=o,f._overwriteProps.push(n.n));return A=q.transformOrigin,(A||Ba&&z&&c.zOrigin)&&(gb?(C=!0,A=(A||Ka(a,l,h,!1,"50% 50%"))+"",l=Ma,n=new ka(F,l,0,0,n,-1,"css_transformOrigin"),n.b=F[l],n.plugin=o,Ba?(B=c.zOrigin,A=A.split(" "),c.zOrigin=(2<A.length?parseFloat(A[2]):B)||0,n.xs0=n.e=F[l]=A[0]+" "+(A[1]||"50%")+" 0px",n=new ka(c,"zOrigin",0,0,n,-1,n.n),n.b=B,n.xs0=n.e=c.zOrigin):n.xs0=
n.e=F[l]=A):mb(A+"",c)),C&&(f._transformType=z||3===this._transformType?3:2),n},!0);La("boxShadow","0px 0px 0px 0px #999",function(a,c,l,f,n,o){l=-1!==(c+"").indexOf("inset")?" inset":"";return this.parseComplex(a.style,this.format(Ka(a,this.p,h,!1,this.dflt))+l,this.format(c)+l,n,o)},!0,!0);La("borderRadius","0px",function(c,l,f,n,o){var l=this.format(l),q,p,z,u,A,B,C,F,J,E,M,T,N,I,K=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],R=c.style,n=parseFloat(c.offsetWidth);
F=parseFloat(c.offsetHeight);l=l.split(" ");for(q=0;K.length>q;q++)this.p.indexOf("border")&&(K[q]=ab(K[q])),u=z=Ka(c,K[q],h,!1,"0px"),-1!==u.indexOf(" ")&&(z=u.split(" "),u=z[0],z=z[1]),A=p=l[q],B=parseFloat(u),E=u.substr((B+"").length),(M="="===A.charAt(1))?(C=parseInt(A.charAt(0)+"1",10),A=A.substr(2),C*=parseFloat(A),J=A.substr((C+"").length-(0>C?1:0))||""):(C=parseFloat(A),J=A.substr((C+"").length)),""===J&&(J=a[f]||E),J!==E&&(T=Wa(c,"borderLeft",B,E),N=Wa(c,"borderTop",B,E),"%"===J?(u=100*(T/
n)+"%",z=100*(N/F)+"%"):"em"===J?(I=Wa(c,"borderLeft",1,"em"),u=T/I+"em",z=N/I+"em"):(u=T+"px",z=N+"px"),M&&(A=parseFloat(u)+C+J,p=parseFloat(z)+C+J)),o=xa(R,K[q],u+" "+z,A+" "+p,!1,"0px",o);return o},!0,!1,Ea("0px 0px 0px 0px",!1,!0));La("backgroundPosition","0 0",function(a,c,l,f,n,o){var q,p,z,l=h||Va(a,null),l=this.format((l?E?l.getPropertyValue("background-position-x")+" "+l.getPropertyValue("background-position-y"):l.getPropertyValue("background-position"):a.currentStyle.backgroundPositionX+
" "+a.currentStyle.backgroundPositionY)||"0 0"),u=this.format(c);if(-1!==l.indexOf("%")!=(-1!==u.indexOf("%"))&&(q=Ka(a,"backgroundImage").replace(K,""),q&&"none"!==q)){c=l.split(" ");f=u.split(" ");ea.setAttribute("src",q);for(q=2;-1<--q;)l=c[q],p=-1!==l.indexOf("%"),p!==(-1!==f[q].indexOf("%"))&&(z=0===q?a.offsetWidth-ea.width:a.offsetHeight-ea.height,c[q]=p?parseFloat(l)/100*z+"px":100*(parseFloat(l)/z)+"%");l=c.join(" ")}return this.parseComplex(a.style,l,u,n,o)},!1,!1,mb);La("backgroundSize",
"0 0",null,!1,!1,mb);La("perspective","0px",null,!0);La("perspectiveOrigin","50% 50%",null,!0);La("transformStyle","preserve-3d",null,!0);La("backfaceVisibility","visible",null,!0);La("margin",null,ga("marginTop,marginRight,marginBottom,marginLeft"));La("padding",null,ga("paddingTop,paddingRight,paddingBottom,paddingLeft"));La("clip","rect(0px,0px,0px,0px)");La("textShadow","0px 0px 0px #999",null,!1,!0);La("autoRound,strictUnits",null,function(a,c,l,h,f){return f});La("border","0px solid #000",function(a,
c,l,f,n,o){return this.parseComplex(a.style,this.format(Ka(a,"borderTopWidth",h,!1,"0px")+" "+Ka(a,"borderTopStyle",h,!1,"solid")+" "+Ka(a,"borderTopColor",h,!1,"#000")),this.format(c),n,o)},!1,!0,function(a){var c=a.split(" ");return c[0]+" "+(c[1]||"solid")+" "+(a.match(jb)||["#000"])[0]});var fb=function(a){var c,l=this.t,h=l.filter,a=this.s+this.c*a>>0;100===a&&(-1===h.indexOf("atrix(")&&-1===h.indexOf("radient(")?(l.removeAttribute("filter"),c=!Ka(this.data,"filter")):(l.filter=h.replace(T,""),
c=!0));c||(this.xn1&&(l.filter=h=h||"alpha(opacity=100)"),-1===h.indexOf("opacity")?l.filter+=" alpha(opacity="+a+")":l.filter=h.replace(N,"opacity="+a))};La("opacity,alpha,autoAlpha","1",function(a,c,l,f,n,o){var q,p=parseFloat(Ka(a,"opacity",h,!1,"1")),z=a.style;return c=parseFloat(c),"autoAlpha"===l&&(q=Ka(a,"visibility",h),1===p&&"hidden"===q&&0!==c&&(p=0),n=new ka(z,"visibility",0,0,n,-1,null,!1,0,0!==p?"visible":"hidden",0===c?"hidden":"visible"),n.xs0="visible",f._overwriteProps.push(n.n)),
ia?n=new ka(z,"opacity",p,c-p,n):(n=new ka(z,"opacity",100*p,100*(c-p),n),n.xn1="autoAlpha"===l?1:0,z.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=a,n.plugin=o,n.setRatio=fb),n});var rb=function(a){if(1===a||0===a){this.t.className=1===a?this.e:this.b;for(var a=this.data,c=this.t.style,l=c.removeProperty?"removeProperty":"removeAttribute";a;)a.v?c[a.p]=a.v:c[l](a.p.replace(M,"-$1").toLowerCase()),a=a._next}else this.t.className!==this.b&&(this.t.className=
this.b)};La("className",null,function(a,c,l,n,o,q,p){var z,u,A=a.className,B=a.style.cssText;return o=n._classNamePT=new ka(a,l,0,0,o,2),o.setRatio=rb,o.pr=-11,f=!0,o.b=A,o.e="="!==c.charAt(1)?c:"+"===c.charAt(0)?A+" "+c.substr(2):A.split(c.substr(2)).join(""),n._tween._duration&&(u=Sa(a,h,!0),a.className=o.e,z=Qa(a,u,Sa(a),p),a.className=A,o.data=z.firstMPT,a.style.cssText=B,o=o.xfirst=n.parse(a,z.difs,o,q)),o});var kb=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration)for(var c=
"all"===this.e,l=this.t.style,h=c?l.cssText.split(";"):this.e.split(","),f=l.removeProperty?"removeProperty":"removeAttribute",n=h.length,o=p.transform.parse;-1<--n;)a=h[n],c&&(a=a.substr(0,a.indexOf(":")).split(" ").join("")),p[a]&&(a=p[a].parse===o?gb:p[a].p),a&&l[f](a.replace(M,"-$1").toLowerCase())};La("clearProps",null,function(a,c,l,h,n){return n=new ka(a,l,0,0,n,2),n.setRatio=kb,n.e=c,n.pr=-10,n.data=h._tween,f=!0,n});l=["bezier","throwProps","physicsProps","physics2D"];for(sa=l.length;sa--;)la(l[sa]);
return l=o.prototype,l._firstPT=null,l._onInitTween=function(c,l,p){if(!c.nodeType)return!1;this._target=c;this._tween=p;this._vars=l;q=l.autoRound;f=!1;a=l.suffixMap||o.suffixMap;h=Va(c,"");n=this._overwriteProps;var u,C,F,J,E=c.style;if(z&&""===E.zIndex&&(u=Ka(c,"zIndex",h),("auto"===u||""===u)&&(E.zIndex=0)),"string"==typeof l&&(F=E.cssText,u=Sa(c,h),E.cssText=F+";"+l,u=Qa(c,u,Sa(c)).difs,!ia&&R.test(l)&&(u.opacity=parseFloat(RegExp.$1)),l=u,E.cssText=F),this._firstPT=p=this.parse(c,l,null),this._transformType){l=
3===this._transformType;gb?A&&(z=!0,""===E.zIndex&&(C=Ka(c,"zIndex",h),("auto"===C||""===C)&&(E.zIndex=0)),B&&(E.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(l?"visible":"hidden"))):E.zoom=1;for(C=p;C&&C._next;)C=C._next;u=new ka(c,"transform",0,0,null,2);this._linkCSSP(u,null,C);u.setRatio=l&&Ba?ub:gb?Ya:Gb;u.data=this._transform||Aa(c,h,!0);n.pop()}if(f){for(;p;){c=p._next;for(C=F;C&&C.pr>p.pr;)C=C._next;(p._prev=C?C._prev:J)?p._prev._next=p:F=p;(p._next=C)?C._prev=p:J=p;p=c}this._firstPT=
F}return!0},l.parse=function(c,l,f,n){var o,z,u,A,B,C,F,J,E,M=c.style;for(o in l){B=l[o];if(z=p[o])f=z.parse(c,B,o,this,f,n,l);else if(z=Ka(c,o,h)+"",J="string"==typeof B,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||J&&!B.indexOf("rgb"))J||(B=nb(B),B=(3<B.length?"rgba(":"rgb(")+B.join(",")+")"),f=xa(M,o,z,B,!0,"transparent",f,0,n);else if(!J||-1===B.indexOf(" ")&&-1===B.indexOf(",")){C=(u=parseFloat(z))||0===u?z.substr((u+"").length):"";if(""===z||"auto"===z)if("width"===o||"height"===
o){u=c;var T=o;C=h;E=parseFloat("width"===T?u.offsetWidth:u.offsetHeight);var T=ra[T],N=T.length;for(C=C||Va(u,null);-1<--N;)E-=parseFloat(Ka(u,"padding"+T[N],C,!0))||0,E-=parseFloat(Ka(u,"border"+T[N]+"Width",C,!0))||0;u=E;C="px"}else u="opacity"!==o?0:1,C="";(E=J&&"="===B.charAt(1))?(A=parseInt(B.charAt(0)+"1",10),B=B.substr(2),A*=parseFloat(B),F=B.substr((A+"").length-(0>A?1:0))||""):(A=parseFloat(B),F=J?B.substr((A+"").length)||"":"");""===F&&(F=a[o]||C);B=A||0===A?(E?A+u:A)+F:l[o];C!==F&&""!==
F&&(A||0===A)&&(u||0===u)&&(u=Wa(c,o,u,C),"%"===F?(u/=Wa(c,o,100,"%")/100,100<u&&(u=100),!0!==l.strictUnits&&(z=u+"%")):"em"===F?u/=Wa(c,o,1,"em"):(A=Wa(c,o,A,F),F="px"),E&&(A||0===A)&&(B=A+u+F));E&&(A+=u);!u&&0!==u||!A&&0!==A?B||"NaN"!=B+""&&null!=B?(f=new ka(M,o,A||u||0,0,f,-1,"css_"+o,!1,0,z,B),f.xs0="display"===o&&"none"===B?z:B):window.console&&console.log("invalid "+o+" tween value. "):(f=new ka(M,o,u,A-u,f,0,"css_"+o,!1!==q&&("px"===F||"zIndex"===o),0,z,B),f.xs0=F)}else f=xa(M,o,z,B,!0,null,
f,0,n);n&&f&&!f.plugin&&(f.plugin=n)}return f},l.setRatio=function(a){var c,l,h,f=this._firstPT;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1E-6===this._tween._rawPrevTime)for(;f;){if(c=f.c*a+f.s,f.r?c=0<c?c+0.5>>0:c-0.5>>0:1E-6>c&&-1E-6<c&&(c=0),f.type)if(1===f.type)if(h=f.l,2===h)f.t[f.p]=f.xs0+c+f.xs1+f.xn1+f.xs2;else if(3===h)f.t[f.p]=f.xs0+c+f.xs1+f.xn1+f.xs2+f.xn2+f.xs3;else if(4===h)f.t[f.p]=
f.xs0+c+f.xs1+f.xn1+f.xs2+f.xn2+f.xs3+f.xn3+f.xs4;else if(5===h)f.t[f.p]=f.xs0+c+f.xs1+f.xn1+f.xs2+f.xn2+f.xs3+f.xn3+f.xs4+f.xn4+f.xs5;else{l=f.xs0+c+f.xs1;for(h=1;f.l>h;h++)l+=f["xn"+h]+f["xs"+(h+1)];f.t[f.p]=l}else-1===f.type?f.t[f.p]=f.xs0:f.setRatio&&f.setRatio(a);else f.t[f.p]=c+f.xs0;f=f._next}else for(;f;)2!==f.type?f.t[f.p]=f.b:f.setRatio(a),f=f._next;else for(;f;)2!==f.type?f.t[f.p]=f.e:f.setRatio(a),f=f._next},l._enableTransforms=function(a){this._transformType=a||3===this._transformType?
3:2},l._linkCSSP=function(a,c,l,h){return a&&(c&&(c._prev=a),a._next&&(a._next._prev=a._prev),l?l._next=a:h||null!==this._firstPT||(this._firstPT=a),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next),a._next=c,a._prev=l),a},l._kill=function(a){var l,h,f,n=a,o=!1;if(a.css_autoAlpha||a.css_alpha){n={};for(h in a)n[h]=a[h];n.css_opacity=1;n.css_autoAlpha&&(n.css_visibility=1)}return a.css_className&&(l=this._classNamePT)&&(f=l.xfirst,f&&f._prev?this._linkCSSP(f._prev,l._next,f._prev._prev):
f===this._firstPT&&(this._firstPT=null),l._next&&this._linkCSSP(l._next,l._next._next,f._prev),this._target._gsOverwrittenClassNamePT=this._linkCSSP(l,this._target._gsOverwrittenClassNamePT),this._classNamePT=null,o=!0),c.prototype._kill.call(this,n)||o},c.activate([o]),o},!0)});window._gsDefine&&window._gsQueue.pop()();
(function(c){var f={init:function(a){a=c.extend(!0,{set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0},callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},
onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},a);c(document).data("mCS-is-touch-device",!1);"ontouchstart"in window&&c(document).data("mCS-is-touch-device",!0);return this.each(function(){var h=c(this);a.set_width&&h.css("width",a.set_width);a.set_height&&h.css("height",a.set_height);if(c(document).data("mCustomScrollbar-index")){var f=parseInt(c(document).data("mCustomScrollbar-index"));c(document).data("mCustomScrollbar-index",f+1)}else c(document).data("mCustomScrollbar-index",
"1");h.wrapInner("<div class='mCustomScrollBox mCS-"+a.theme+"' id='mCSB_"+c(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+c(document).data("mCustomScrollbar-index"));var o=h.children(".mCustomScrollBox");a.horizontalScroll?(o.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />"),f=o.children(".mCSB_h_wrapper"),f.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:f.children().outerWidth(),
position:"relative"}).unwrap()):o.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var p=o.children(".mCSB_container");c(document).data("mCS-is-touch-device")&&p.addClass("mCS_touch");p.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");
var f=o.children(".mCSB_scrollTools"),l=f.children(".mCSB_draggerContainer").children(".mCSB_dragger");a.horizontalScroll?l.data("minDraggerWidth",l.width()):l.data("minDraggerHeight",l.height());a.scrollButtons.enable&&(a.horizontalScroll?f.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>"):f.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>"));
o.bind("scroll",function(){h.is(".mCS_disabled")||o.scrollTop(0).scrollLeft(0)});h.data({mCS_Init:!0,mCustomScrollbarIndex:c(document).data("mCustomScrollbar-index"),horizontalScroll:a.horizontalScroll,scrollInertia:a.scrollInertia,scrollEasing:Power4.easeOut,mouseWheel:a.mouseWheel,mouseWheelPixels:a.mouseWheelPixels,autoDraggerLength:a.autoDraggerLength,autoHideScrollbar:a.autoHideScrollbar,scrollButtons_enable:a.scrollButtons.enable,scrollButtons_scrollType:a.scrollButtons.scrollType,scrollButtons_scrollSpeed:a.scrollButtons.scrollSpeed,
scrollButtons_scrollAmount:a.scrollButtons.scrollAmount,autoExpandHorizontalScroll:a.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:a.advanced.autoScrollOnFocus,onScrollStart_Callback:a.callbacks.onScrollStart,onScroll_Callback:a.callbacks.onScroll,onTotalScroll_Callback:a.callbacks.onTotalScroll,onTotalScrollBack_Callback:a.callbacks.onTotalScrollBack,onTotalScroll_Offset:a.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:a.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:a.callbacks.whileScrolling,
bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1});if(a.horizontalScroll)"none"!==h.css("max-width")&&!a.advanced.updateOnContentResize&&(a.advanced.updateOnContentResize=
!0);else if("none"!==h.css("max-height")){var q=!1,f=parseInt(h.css("max-height"));0<=h.css("max-height").indexOf("%")&&(q=f,f=h.parent().height()*q/100);h.css("overflow","hidden");o.css("max-height",f)}h.mCustomScrollbar("update");if(a.advanced.updateOnBrowserResize){var z,A=c(window).width(),u=c(window).height();c(window).resize(function(){z&&clearTimeout(z);z=setTimeout(function(){if(!h.is(".mCS_disabled")&&!h.is(".mCS_destroyed")){var a=c(window).width(),l=c(window).height();if(A!==a||u!==l){h.css("max-height")!==
"none"&&q&&o.css("max-height",h.parent().height()*q/100);h.mCustomScrollbar("update");A=a;u=l}}},150)})}if(a.advanced.updateOnContentResize){var B=a.horizontalScroll?p.outerWidth():p.outerHeight();setInterval(function(){if(a.horizontalScroll){a.advanced.autoExpandHorizontalScroll&&p.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:p.outerWidth(),position:"relative"}).unwrap();var c=p.outerWidth()}else c=p.outerHeight();
if(c!=B){h.mCustomScrollbar("update");B=c}},300)}})},update:function(){var a=c(this),h=a.children(".mCustomScrollBox"),f=h.children(".mCSB_container");f.removeClass("mCS_no_scrollbar");a.removeClass("mCS_disabled mCS_destroyed");h.scrollTop(0).scrollLeft(0);var o=h.children(".mCSB_scrollTools"),p=o.children(".mCSB_draggerContainer"),l=p.children(".mCSB_dragger");if(a.data("horizontalScroll")){var q=o.children(".mCSB_buttonLeft"),z=o.children(".mCSB_buttonRight"),A=h.width();a.data("autoExpandHorizontalScroll")&&
f.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:f.outerWidth(),position:"relative"}).unwrap();var u=f.outerWidth()}else var B=o.children(".mCSB_buttonUp"),E=o.children(".mCSB_buttonDown"),C=h.height(),G=f.outerHeight();G>C&&!a.data("horizontalScroll")?(o.css("display","block"),A=p.height(),a.data("autoDraggerLength")&&(u=Math.round(C/G*A),o=l.data("minDraggerHeight"),u<=o?l.css({height:o}):u>=A-10?l.css({height:A-
10}):l.css({height:u}),l.children(".mCSB_dragger_bar").css({"line-height":l.height()+"px"})),u=l.height(),a.data("scrollAmount",(G-C)/(A-u)).mCustomScrollbar("scrolling",h,f,p,l,B,E,q,z),h=Math.abs(f.position().top),a.mCustomScrollbar("scrollTo",h,{scrollInertia:0})):u>A&&a.data("horizontalScroll")?(o.css("display","block"),C=p.width(),a.data("autoDraggerLength")&&(G=Math.round(A/u*C),o=l.data("minDraggerWidth"),G<=o?l.css({width:o}):G>=C-10?l.css({width:C-10}):l.css({width:G})),G=l.width(),a.data("scrollAmount",
(u-A)/(C-G)).mCustomScrollbar("scrolling",h,f,p,l,B,E,q,z),h=Math.abs(f.position().left),a.mCustomScrollbar("scrollTo",h,{scrollInertia:0})):(h.unbind("mousewheel focusin"),a.data("horizontalScroll")?l.add(f).css("left",0):l.add(f).css("top",0),o.css("display","none"),f.addClass("mCS_no_scrollbar"),a.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1}))},scrolling:function(a,h,f,o,p,l,q,z){function A(a,c,l,h){u.data("horizontalScroll")?u.mCustomScrollbar("scrollTo",o.position().left-c+h,{moveDragger:!0,
trigger:"internal"}):u.mCustomScrollbar("scrollTo",o.position().top-a+l,{moveDragger:!0,trigger:"internal"})}var u=c(this);if(!u.data("bindEvent_scrollbar_drag")){var B,E;window.navigator.msPointerEnabled?(o.bind("MSPointerDown",function(a){a.preventDefault();u.data({on_drag:!0});o.addClass("mCSB_dragger_onDrag");var l=c(this),h=l.offset(),f=a.originalEvent.pageX-h.left,a=a.originalEvent.pageY-h.top;f<l.width()&&(0<f&&a<l.height()&&0<a)&&(B=a,E=f)}),c(document).bind("MSPointerMove."+u.data("mCustomScrollbarIndex"),
function(a){a.preventDefault();if(u.data("on_drag")){var c=o.offset();A(B,E,a.originalEvent.pageY-c.top,a.originalEvent.pageX-c.left)}}).bind("MSPointerUp."+u.data("mCustomScrollbarIndex"),function(a){a.preventDefault();u.data({on_drag:!1});o.removeClass("mCSB_dragger_onDrag")})):(o.bind("mousedown touchstart",function(a){a.preventDefault();a.stopImmediatePropagation();var l=c(this),h=l.offset(),f;"touchstart"===a.type?a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:(u.data({on_drag:!0}),
o.addClass("mCSB_dragger_onDrag"));f=a.pageX-h.left;h=a.pageY-h.top;f<l.width()&&(0<f&&h<l.height()&&0<h)&&(B=h,E=f)}).bind("touchmove",function(a){a.preventDefault();a.stopImmediatePropagation();var a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],l=c(this).offset();A(B,E,a.pageY-l.top,a.pageX-l.left)}),c(document).bind("mousemove."+u.data("mCustomScrollbarIndex"),function(a){a.preventDefault();if(u.data("on_drag")){var c=o.offset();A(B,E,a.pageY-c.top,a.pageX-c.left)}}).bind("mouseup."+
u.data("mCustomScrollbarIndex"),function(a){a.preventDefault();u.data({on_drag:!1});o.removeClass("mCSB_dragger_onDrag")}));u.data({bindEvent_scrollbar_drag:!0})}if(c(document).data("mCS-is-touch-device")&&!u.data("bindEvent_content_touch")){var C,G,F,I,O,N,R;h.bind("touchstart",function(a){a.stopImmediatePropagation();C=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];G=c(this);F=G.offset();O=C.pageX-F.left;N=I=C.pageY-F.top;R=O});h.bind("touchmove",function(a){a.preventDefault();a.stopImmediatePropagation();
C=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];G=c(this).parent();F=G.offset();O=C.pageX-F.left;I=C.pageY-F.top;u.data("horizontalScroll")?u.mCustomScrollbar("scrollTo",R-O,{trigger:"internal"}):u.mCustomScrollbar("scrollTo",N-I,{trigger:"internal"})})}u.data("bindEvent_scrollbar_click")||(f.bind("click",function(a){var l=(a.pageY-f.offset().top)*u.data("scrollAmount"),h=c(a.target);u.data("horizontalScroll")&&(l=(a.pageX-f.offset().left)*u.data("scrollAmount"));(h.hasClass("mCSB_draggerContainer")||
h.hasClass("mCSB_draggerRail"))&&u.mCustomScrollbar("scrollTo",l,{trigger:"internal"})}),u.data({bindEvent_scrollbar_click:!0}));u.data("mouseWheel")&&!u.data("bindEvent_mousewheel")&&(a.bind("mousewheel",function(a,c){var l=u.data("mouseWheelPixels"),q=Math.abs(h.position().top),p=o.position().top,z=f.height()-o.height(),c=c<0?-1:1;l==="auto"&&(l=100+Math.round(u.data("scrollAmount")/2));if(u.data("horizontalScroll")){p=o.position().left;z=f.width()-o.width();q=Math.abs(h.position().left)}if(c>0&&
p!==0||c<0&&p!==z){a.preventDefault();a.stopImmediatePropagation()}u.mCustomScrollbar("scrollTo",q-c*l,{trigger:"internal"})}),u.data({bindEvent_mousewheel:!0}));if(u.data("scrollButtons_enable"))if("pixels"===u.data("scrollButtons_scrollType")){u.data("horizontalScroll")?(z.add(q).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",M,J),u.data({bindEvent_buttonsContinuous_x:!1}),u.data("bindEvent_buttonsPixels_x")||(z.bind("click",function(a){a.preventDefault();
T(Math.abs(h.position().left)+u.data("scrollButtons_scrollAmount"))}),q.bind("click",function(a){a.preventDefault();T(Math.abs(h.position().left)-u.data("scrollButtons_scrollAmount"))}),u.data({bindEvent_buttonsPixels_x:!0}))):(l.add(p).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",M,J),u.data({bindEvent_buttonsContinuous_y:!1}),u.data("bindEvent_buttonsPixels_y")||(l.bind("click",function(a){a.preventDefault();T(Math.abs(h.position().top)+u.data("scrollButtons_scrollAmount"))}),
p.bind("click",function(a){a.preventDefault();T(Math.abs(h.position().top)-u.data("scrollButtons_scrollAmount"))}),u.data({bindEvent_buttonsPixels_y:!0})));var T=function(a){if(!o.data("preventAction")){o.data("preventAction",true);u.mCustomScrollbar("scrollTo",a,{trigger:"internal"})}}}else{if(u.data("horizontalScroll")){if(z.add(q).unbind("click"),u.data({bindEvent_buttonsPixels_x:!1}),!u.data("bindEvent_buttonsContinuous_x")){z.bind("mousedown touchstart MSPointerDown",function(a){a.preventDefault();
var c=K();u.data({mCSB_buttonScrollRight:setInterval(function(){u.mCustomScrollbar("scrollTo",Math.abs(h.position().left)+c,{trigger:"internal"})},17)})});var M=function(a){a.preventDefault();clearInterval(u.data("mCSB_buttonScrollRight"))};z.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",M);q.bind("mousedown touchstart MSPointerDown",function(a){a.preventDefault();var c=K();u.data({mCSB_buttonScrollLeft:setInterval(function(){u.mCustomScrollbar("scrollTo",Math.abs(h.position().left)-c,
{trigger:"internal"})},17)})});var J=function(a){a.preventDefault();clearInterval(u.data("mCSB_buttonScrollLeft"))};q.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",J);u.data({bindEvent_buttonsContinuous_x:!0})}}else l.add(p).unbind("click"),u.data({bindEvent_buttonsPixels_y:!1}),u.data("bindEvent_buttonsContinuous_y")||(l.bind("mousedown touchstart MSPointerDown",function(a){a.preventDefault();var c=K();u.data({mCSB_buttonScrollDown:setInterval(function(){u.mCustomScrollbar("scrollTo",
Math.abs(h.position().top)+c,{trigger:"internal"})},17)})}),l.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",function(a){a.preventDefault();clearInterval(u.data("mCSB_buttonScrollDown"))}),p.bind("mousedown touchstart MSPointerDown",function(a){a.preventDefault();var c=K();u.data({mCSB_buttonScrollUp:setInterval(function(){u.mCustomScrollbar("scrollTo",Math.abs(h.position().top)-c,{trigger:"internal"})},17)})}),p.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",function(a){a.preventDefault();
clearInterval(u.data("mCSB_buttonScrollUp"))}),u.data({bindEvent_buttonsContinuous_y:!0}));var K=function(){var a=u.data("scrollButtons_scrollSpeed");u.data("scrollButtons_scrollSpeed")==="auto"&&(a=Math.round((u.data("scrollInertia")+100)/20));return a}}u.data("autoScrollOnFocus")&&!u.data("bindEvent_focusin")&&(a.bind("focusin",function(){a.scrollTop(0).scrollLeft(0);var l=c(document.activeElement);if(l.is("input,textarea,select,button,a[tabindex],area,object")){var f=h.position().top,n=l.position().top,
o=a.height()-l.outerHeight();if(u.data("horizontalScroll")){f=h.position().left;n=l.position().left;o=a.width()-l.outerWidth()}(f+n<0||f+n>o)&&u.mCustomScrollbar("scrollTo",n,{trigger:"internal"})}}),u.data({bindEvent_focusin:!0}));u.data("autoHideScrollbar")&&!u.data("bindEvent_autoHideScrollbar")&&(a.bind("mouseenter",function(){a.addClass("mCS-mouse-over").children(".mCSB_scrollTools").stop().animate({opacity:1},"fast")}).bind("mouseleave touchend",function(c){a.removeClass("mCS-mouse-over");c.type===
"mouseleave"&&a.children(".mCSB_scrollTools").stop().animate({opacity:0},"fast")}),u.data({bindEvent_autoHideScrollbar:!0}))},scrollTo:function(a,h){function f(a){this.mcs={top:u.position().top,left:u.position().left,draggerTop:E.position().top,draggerLeft:E.position().left,topPct:Math.round(100*Math.abs(u.position().top)/Math.abs(u.outerHeight()-A.height())),leftPct:Math.round(100*Math.abs(u.position().left)/Math.abs(u.outerWidth()-A.width()))};switch(a){case "onScrollStart":l.data("mCS_tweenRunning",
!0).data("onScrollStart_Callback").call(l,this.mcs);break;case "whileScrolling":l.data("whileScrolling_Callback").call(l,this.mcs);break;case "onScroll":l.data("onScroll_Callback").call(l,this.mcs);break;case "onTotalScrollBack":l.data("onTotalScrollBack_Callback").call(l,this.mcs);break;case "onTotalScroll":l.data("onTotalScroll_Callback").call(l,this.mcs)}}function o(){TweenLite.to(B,0.15,{css:{opacity:1},ease:Power2.easeIn})}function p(){A.hasClass("mCS-mouse-over")||TweenLite.to(B,0.15,{css:{opacity:0},
ease:Power2.easeIn})}var l=c(this),q={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:l.data("scrollInertia"),scrollEasing:l.data("scrollEasing")},h=c.extend(q,h),z,A=l.children(".mCustomScrollBox"),u=A.children(".mCSB_container"),B=A.children(".mCSB_scrollTools"),q=B.children(".mCSB_draggerContainer"),E=q.children(".mCSB_dragger"),C=draggerSpeed=h.scrollInertia,G,F,I,O;l.data({mCS_trigger:h.trigger});0<h.scrollInertia&&(C=draggerSpeed=h.scrollInertia/1E3);l.data("mCS_Init")&&(h.callbacks=
!1);if(a||0===a)"number"===typeof a?h.moveDragger?(z=a,a=l.data("horizontalScroll")?E.position().left*l.data("scrollAmount"):E.position().top*l.data("scrollAmount"),draggerSpeed=0):z=a/l.data("scrollAmount"):"string"===typeof a&&(z="top"===a?0:"bottom"===a&&!l.data("horizontalScroll")?u.outerHeight()-A.height():"left"===a?0:"right"===a&&l.data("horizontalScroll")?u.outerWidth()-A.width():"first"===a?l.find(".mCSB_container").find(":first"):"last"===a?l.find(".mCSB_container").find(":last"):l.find(a),
1===z.length?(a=l.data("horizontalScroll")?z.position().left:z.position().top,z=a/l.data("scrollAmount")):z=a=z),l.data("horizontalScroll")?(l.data("onTotalScrollBack_Offset")&&(F=-l.data("onTotalScrollBack_Offset")),l.data("onTotalScroll_Offset")&&(O=A.width()-u.outerWidth()+l.data("onTotalScroll_Offset")),0>z?(z=a=0,clearInterval(l.data("mCSB_buttonScrollLeft")),F||(G=!0)):z>=q.width()-E.width()?(z=q.width()-E.width(),a=A.width()-u.outerWidth(),clearInterval(l.data("mCSB_buttonScrollRight")),O||
(I=!0)):a=-a,TweenLite.to(E,draggerSpeed,{css:{left:Math.round(z)},overwrite:"all",ease:h.scrollEasing}),TweenLite.to(u,C,{css:{left:Math.round(a)},overwrite:"all",ease:h.scrollEasing,onStart:function(){h.callbacks&&!l.data("mCS_tweenRunning")&&f("onScrollStart");l.data("autoHideScrollbar")&&o()},onUpdate:function(){h.callbacks&&f("whileScrolling")},onComplete:function(){if(h.callbacks){f("onScroll");(G||F&&u.position().left>=F)&&f("onTotalScrollBack");(I||O&&u.position().left<=O)&&f("onTotalScroll")}E.data("preventAction",
false);l.data("mCS_tweenRunning",false);l.data("autoHideScrollbar")&&p()}})):(l.data("onTotalScrollBack_Offset")&&(F=-l.data("onTotalScrollBack_Offset")),l.data("onTotalScroll_Offset")&&(O=A.height()-u.outerHeight()+l.data("onTotalScroll_Offset")),0>z?(z=a=0,clearInterval(l.data("mCSB_buttonScrollUp")),F||(G=!0)):z>=q.height()-E.height()?(z=q.height()-E.height(),a=A.height()-u.outerHeight(),clearInterval(l.data("mCSB_buttonScrollDown")),O||(I=!0)):a=-a,TweenLite.to(E,draggerSpeed,{css:{top:Math.round(z)},
overwrite:"all",ease:h.scrollEasing}),TweenLite.to(u,C,{css:{top:Math.round(a)},overwrite:"all",ease:h.scrollEasing,onStart:function(){h.callbacks&&!l.data("mCS_tweenRunning")&&f("onScrollStart");l.data("autoHideScrollbar")&&o()},onUpdate:function(){h.callbacks&&f("whileScrolling")},onComplete:function(){if(h.callbacks){f("onScroll");(G||F&&u.position().top>=F)&&f("onTotalScrollBack");(I||O&&u.position().top<=O)&&f("onTotalScroll")}E.data("preventAction",false);l.data("mCS_tweenRunning",false);l.data("autoHideScrollbar")&&
p()}})),l.data("mCS_Init")&&l.data({mCS_Init:!1})},stop:function(){var a=c(this),h=a.children().children(".mCSB_container"),a=a.children().children().children().children(".mCSB_dragger");TweenLite.killTweensOf(h);TweenLite.killTweensOf(a)},disable:function(a){var h=c(this),f=h.children(".mCustomScrollBox"),o=f.children(".mCSB_container"),p=f.children(".mCSB_scrollTools"),l=p.children().children(".mCSB_dragger");f.unbind("mousewheel focusin mouseenter mouseleave touchend");o.unbind("touchstart touchmove");
a&&(h.data("horizontalScroll")?l.add(o).css("left",0):l.add(o).css("top",0));p.css("display","none");o.addClass("mCS_no_scrollbar");h.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var a=c(this);a.removeClass("mCustomScrollbar _mCS_"+a.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove();
c(document).unbind("mousemove."+a.data("mCustomScrollbarIndex")+" mouseup."+a.data("mCustomScrollbarIndex")+" MSPointerMove."+a.data("mCustomScrollbarIndex")+" MSPointerUp."+a.data("mCustomScrollbarIndex"))}};c.fn.mCustomScrollbar=function(a){if(f[a])return f[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return f.init.apply(this,arguments);c.error("Method "+a+" does not exist")}})(jQuery);var cross_domain="";
$j(function(){var c=$j("#vtab>ul>li");c.click(function(){c.removeClass("selected");$j(this).addClass("selected");var f=c.index($j(this));$j("#vtab>div").hide().eq(f).show();$j(".flickr_div").mCustomScrollbar("update");width=$j(".flickr_div .mCSB_container").width();$j(".picasa_div").mCustomScrollbar("update");width=$j(".picasa_div .mCSB_container").width();$j(".instagram_div").mCustomScrollbar("update");width=$j(".instagram_div .mCSB_container").width();$j(".facebook_div").mCustomScrollbar("update");
width=$j(".facebook_div .mCSB_container").width();$j(".myimages_div").mCustomScrollbar("update");width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+4)}).eq(0).click()});
function show1(c,f,a,h){var n=$j(f),o=a,p=h,a=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,h=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,l=window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop,c=a,q=h,a=(o||n.width())+60,h=(p||n.height())+60,n=Math.max(q/2-h/2+l,0),c=c/2-a/2;$j(f).animate({top:n+"px",left:c+"px",opacity:"show",width:a,height:h},500,null,
function(){});return!1}
function getFlickrImages(){flickr_username=document.getElementById("flickr_username").value;""==flickr_username?$$("label.flickr_error")[0].innerHTML="Please enter a flickr username":void 0!=flickr_username&&($$("p.flickr_loading")[0].innerHTML='<img src="/js/all/niko/niko_css/icons/slider_progress.gif"/>',$$("label.flickr_error")[0].innerHTML="",url="/dol/images/getFlickrImages",$j(".flickr_login").hide(),$j(".flickr_loading").show(),$j(".flickr_logo").hide(),$j(".flickr_div").hide(),""==cross_domain||
void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{flickr_username:flickr_username},onSuccess:function(c){response=c.responseText.evalJSON();$j(".flickr_login").show();$j(".flickr_loading").hide();$j(".flickr_div").show();response.error?($j(".flickr_logo").show(),$$("label.flickr_error")[0].innerHTML=response.error):($j(".flickr_div ul#colorSet").html(response.images),$$("div.flickr_div")[0].style.display="block",$$("form.flickr_login")[0].style.display="none",$$(".flickr_hdr")[0].innerHTML=
response.hdr,$$("label.flickr_error")[0].innerHTML="",$j(".flickr_div ul#colorSet img").load(function(){$j(".flickr_div").mCustomScrollbar("update");width=$j(".flickr_div .mCSB_container").width();$j(".flickr_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/images/getFlickrImages",type:"POST",jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",crossDomain:!0,data:{flickr_username:flickr_username,callback:"?"},
success:function(c){response=c;$j(".flickr_login").show();response.error?$$("label.flickr_error")[0].innerHTML=response.error:($j(".flickr_div ul#colorSet").html(response.images),$$("div.flickr_div")[0].style.display="block",$$("form.flickr_login")[0].style.display="none",$$(".flickr_hdr")[0].innerHTML=response.hdr,$$("label.flickr_error")[0].innerHTML="",$j(".flickr_div ul#colorSet img").load(function(){$j(".flickr_div").mCustomScrollbar("update");width=$j(".flickr_div .mCSB_container").width();
$j(".flickr_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}))}
function getFlickrPhotosetImages(c){void 0!=c&&($$(".flickr_loading")[0].innerHTML='<img src="/js/all/niko/niko_css/icons/slider_progress.gif"/>',url="/dol/images/getFlickrPhotosetImages",$j(".flickr_login").hide(),$j(".flickr_div").hide(),$j(".flickr_loading").show(),""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{flickr_photoset_id:c},onSuccess:function(c){$j(".flickr_login").show();$j(".flickr_div").show();$j(".flickr_loading").hide();response=
c.responseText.evalJSON();response.error?($$("label.flickr_error")[0].innerHTML=response.error,$$("div.flickr_div")[0].style.display="none",$$("form.flickr_login")[0].style.display="block",$$(".flickr_hdr")[0].innerHTML="Flickr Images"):($j(".flickr_div ul#colorSet").html(response.images),$$("div.flickr_div")[0].style.display="block",$$("form.flickr_login")[0].style.display="none",$$(".flickr_hdr")[0].innerHTML=response.hdr,$$("label.flickr_error")[0].innerHTML="",$j(".flickr_div ul#colorSet img").load(function(){$j(".flickr_div").mCustomScrollbar("update");
width=$j(".flickr_div .mCSB_container").width();$j(".flickr_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/images/getFlickrPhotosetImages",type:"POST",jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",data:{flickr_photoset_id:c,callback:"?"},success:function(c){$j(".flickr_login").show();$j(".flickr_div").show();$j(".flickr_loading").hide();response=c;response.error?($$("label.flickr_error")[0].innerHTML=
response.error,$$("div.flickr_div")[0].style.display="none",$$("form.flickr_login")[0].style.display="block",$$(".flickr_hdr")[0].innerHTML="Flickr Images"):($j(".flickr_div ul#colorSet").html(response.images),$$("div.flickr_div")[0].style.display="block",$$("form.flickr_login")[0].style.display="none",$$(".flickr_hdr")[0].innerHTML=response.hdr,$$("label.flickr_error")[0].innerHTML="",$j(".flickr_div ul#colorSet img").load(function(){$j(".flickr_div").mCustomScrollbar("update");width=$j(".flickr_div .mCSB_container").width();
$j(".flickr_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}))}function changeFlickrUsername(){$$("div.flickr_div")[0].style.display="none";$$("form.flickr_login")[0].style.display="block";$$(".flickr_hdr")[0].innerHTML="Flickr Images";$$("label.flickr_error")[0].innerHTML="";$j(".flickr_logo").show()}
function getPicasaImages(){picasa_username=document.getElementById("picasa_username").value;""==picasa_username?$$("label.picasa_error")[0].innerHTML="Please enter a picasa username":void 0!=picasa_username&&($$("p.picasa_loading")[0].innerHTML='<img src="/js/all/niko/niko_css/icons/slider_progress.gif"/>',$$("label.picasa_error")[0].innerHTML="",$j(".picasa_login").hide(),$j(".picasa_loading").show(),$j(".picasa_div").hide(),$j(".picasa_logo").hide(),url="/dol/images/getPicasaImages",""==cross_domain||
void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{picasa_username:picasa_username},onSuccess:function(c){response=c.responseText.evalJSON();$j(".picasa_login").show();$j(".picasa_loading").hide();$j(".picasa_div").show();response.error?($j(".picasa_login").show(),$j(".picasa_logo").show(),$$("label.picasa_error")[0].innerHTML=response.error):($$("label.picasa_error")[0].innerHTML="",$$(".picasa_div ul#colorSet")[0].innerHTML=response.images,$$("div.picasa_div")[0].style.display=
"block",$$("form.picasa_login")[0].style.display="none",$$(".picasa_hdr")[0].innerHTML=response.hdr,$j(".picasa_div ul#colorSet img").load(function(){$j(".picasa_div").mCustomScrollbar("update");width=$j(".picasa_div .mCSB_container").width();$j(".picasa_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/images/getPicasaImages",type:"POST",jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",data:{picasa_username:picasa_username,
callback:"?"},success:function(c){$j(".picasa_login").show();$j(".picasa_loading").hide();$j(".picasa_div").show();response=c;response.error?($j(".picasa_logo").show(),$j(".picasa_login").show(),$j(".picasa_loading").hide(),$j(".picasa_div").show(),$$("label.picasa_error")[0].innerHTML=response.error):($$("label.picasa_error")[0].innerHTML="",$$(".picasa_div ul#colorSet")[0].innerHTML=response.images,$$("div.picasa_div")[0].style.display="block",$$("form.picasa_login")[0].style.display="none",$$(".picasa_hdr")[0].innerHTML=
response.hdr,$j(".picasa_div ul#colorSet img").load(function(){$j(".picasa_div").mCustomScrollbar("update");width=$j(".picasa_div .mCSB_container").width();$j(".picasa_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}))}
function getPicasaAlbumImages(c){$$(".picasa_loading")[0].innerHTML='<img src="/js/all/niko/niko_css/icons/slider_progress.gif"/>';picasa_username=document.getElementById("picasa_username").value;void 0!=c&&(url="/dol/images/getPicasaAlbumImages",$j(".picasa_login").hide(),$j(".picasa_loading").show(),$j(".picasa_div").hide(),""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{picasa_album_id:c,picasa_username:picasa_username},onSuccess:function(c){$j(".picasa_login").show();
$j(".picasa_loading").hide();$j(".picasa_div").hide();response=c.responseText.evalJSON();response.error?($j(".picasa_login").show(),$j(".picasa_loading").hide(),$$("label.picasa_error")[0].style.display="block",$$("label.picasa_error")[0].innerHTML=response.error,$$("div.picasa_div")[0].style.display="none",$$("form.picasa_login")[0].style.display="block",$$(".picasa_hdr")[0].innerHTML="Picasa Images"):($j(".picasa_div").show(),$$("label.picasa_error")[0].innerHTML="",$$(".picasa_div ul#colorSet")[0].innerHTML=
response.images,$$("div.picasa_div")[0].style.display="block",$$("form.picasa_login")[0].style.display="none",$$(".picasa_hdr")[0].innerHTML=response.hdr,$j(".picasa_div ul#colorSet img").load(function(){$j(".picasa_div").mCustomScrollbar("update");width=$j(".picasa_div .mCSB_container").width();$j(".picasa_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/images/getPicasaAlbumImages",type:"POST",jsonpCallback:"jsonCallback",
contentType:"application/json",dataType:"jsonp",data:{picasa_album_id:c,picasa_username:picasa_username,callback:"?"},success:function(c){$j(".picasa_login").show();$j(".picasa_loading").hide();$j(".picasa_div").show();response=c;response.error?($j(".picasa_login").show(),$j(".picasa_loading").hide(),$$("label.picasa_error")[0].style.display="block",$$("label.picasa_error")[0].innerHTML=response.error,$$("div.picasa_div")[0].style.display="none",$$("form.picasa_login")[0].style.display="block",$$(".picasa_hdr")[0].innerHTML=
"Picasa Images"):($j(".picasa_div").show(),$$("label.picasa_error")[0].innerHTML="",$$(".picasa_div ul#colorSet")[0].innerHTML=response.images,$$("div.picasa_div")[0].style.display="block",$$("form.picasa_login")[0].style.display="none",$$(".picasa_hdr")[0].innerHTML=response.hdr,$j(".picasa_div ul#colorSet img").load(function(){$j(".picasa_div").mCustomScrollbar("update");width=$j(".picasa_div .mCSB_container").width();$j(".picasa_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}))}
function changePicasaUsername(){$$("div.picasa_div")[0].style.display="none";$$("form.picasa_login")[0].style.display="block";$$(".picasa_hdr")[0].innerHTML="Picasa Images";$$("label.picasa_error")[0].innerHTML="";$j(".picasa_logo").show()}function loginInstagram(){""==cross_domain||void 0==cross_domain?window.open("/dol/auth/instagram","","width=600,height=350"):window.open("http://"+cross_domain+"/dol/auth/instagram","","width=600,height=350")}$j(document).on("click",".instagram_hdr a",function(){instagramLogout()});
function getInstagramImages(){$$("p.instagram_loading")[0].innerHTML='<img src="/js/all/niko/niko_css/icons/slider_progress.gif"/>';$$("label.instagram_error")[0].innerHTML="";url="/dol/images/getInstagramImages";$j(".instagram_loading").show();$j(".instagram_login").hide();$j(".instagram_logo").hide();""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{},onSuccess:function(c){response=c.responseText.evalJSON();$j(".instagram_loading").hide();$j(".instagram_login").show();
response.error?($j(".instagram_logo").show(),$$("label.instagram_error")[0].style.display="block",$$("label.instagram_error")[0].innerHTML=response.error):($$("label.instagram_error")[0].innerHTML="",$$("div.instagram_div ul#colorSet")[0].innerHTML=response.images,$$("div.instagram_div")[0].style.display="block",$$("form.instagram_login")[0].style.display="none",$$(".instagram_hdr")[0].innerHTML=response.hdr,$j(".instagram_div ul#colorSet img").load(function(){$j(".instagram_div").mCustomScrollbar("update");
width=$j(".instagram_div .mCSB_container").width();$j(".instagram_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/images/getInstagramImages?callback=?",method:"POST",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",parameters:{},onSuccess:function(c){response=c.responseText.evalJSON();$j(".instagram_loading").hide();$j(".instagram_login").show();response.error?($j(".instagram_logo").show(),
$$("label.instagram_error")[0].style.display="block",$$("label.instagram_error")[0].innerHTML=response.error):($$("label.instagram_error")[0].innerHTML="",$$("div.instagram_div ul#colorSet")[0].innerHTML=response.images,$$("div.instagram_div")[0].style.display="block",$$("form.instagram_login")[0].style.display="none",$$(".instagram_hdr")[0].innerHTML=response.hdr,$j(".instagram_div ul#colorSet img").load(function(){$j(".instagram_div").mCustomScrollbar("update");width=$j(".instagram_div .mCSB_container").width();
$j(".instagram_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}})}function instagramLogout(){var c=window.open("https://instagram.com/accounts/logout/","","width=600,height=350");$$("div.instagram_div")[0].style.display="none";$$("form.instagram_login")[0].style.display="block";$$(".instagram_hdr span")[0].style.display="none";setTimeout(function(){c.close()},3E3);$j(".instagram_logo").show()}var fb_albums="",fb_albums_hdr="";
function getFacebookAlbums(){""==fb_albums?($$("p.fb_loading")[0].innerHTML='<img src="/js/all/niko/niko_css/icons/slider_progress.gif"/>',$$("label.facebook_error")[0].innerHTML="",url="/facebook/customer/albums",$j(".fb_loading").show(),$j(".facebook_login").hide(),$j(".facebook_logo").hide(),""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{},onSuccess:function(c){response=c.responseText.evalJSON();$j(".fb_loading").hide();$j(".facebook_login").show();
response.error?($j(".facebook_logo").show(),$$("label.facebook_error")[0].style.display="block",$$("label.facebook_error")[0].innerHTML=response.error,$$("div.facebook_div")[0].style.display="none",$$("form.facebook_login")[0].style.display="block",$$(".facebook_hdr")[0].innerHTML="Facebook Images"):($$("label.facebook_error")[0].innerHTML="",$$("div.facebook_div ul#colorSet")[0].innerHTML=response.images,$$("div.facebook_div")[0].style.display="block",$$("form.facebook_login")[0].style.display="none",
$$(".facebook_hdr")[0].innerHTML=response.hdr,window.fb_albums=response.images,window.fb_albums_hdr=response.hdr,$j(".facebook_div ul#colorSet img").load(function(){$j(".facebook_div").mCustomScrollbar("update");width=$j(".facebook_div .mCSB_container").width();$j(".facebook_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/facebook/customer/albums?callback=?",type:"POST",jsonpCallback:"jsonCallback",contentType:"application/json",
dataType:"jsonp",data:{},success:function(c){response=c;$j(".fb_loading").hide();$j(".facebook_login").show();response.error?($j(".facebook_logo").show(),$$("label.facebook_error")[0].style.display="block",$$("label.facebook_error")[0].innerHTML=response.error,$$("div.facebook_div")[0].style.display="none",$$("form.facebook_login")[0].style.display="block",$$(".facebook_hdr")[0].innerHTML="Facebook Images"):($$("label.facebook_error")[0].innerHTML="",$$("div.facebook_div ul#colorSet")[0].innerHTML=
response.images,$$("div.facebook_div")[0].style.display="block",$$("form.facebook_login")[0].style.display="none",$$(".facebook_hdr")[0].innerHTML=response.hdr,window.fb_albums=response.images,window.fb_albums_hdr=response.hdr,$j(".facebook_div ul#colorSet img").load(function(){$j(".facebook_div").mCustomScrollbar("update");width=$j(".facebook_div .mCSB_container").width();$j(".facebook_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}})):($$("label.facebook_error")[0].innerHTML=
"",$$("div.facebook_div ul#colorSet")[0].innerHTML=window.fb_albums,$$("div.facebook_div")[0].style.display="block",$$("form.facebook_login")[0].style.display="none",$$(".facebook_hdr")[0].innerHTML=window.fb_albums_hdr,$j(".facebook_div ul#colorSet img").load(function(){$j(".facebook_div").mCustomScrollbar("update");width=$j(".facebook_div .mCSB_container").width();$j(".facebook_div .mCSB_container").css("width",width+4)}))}
function getFacebookAlbumImages(c,f){$$("label.facebook_error")[0].innerHTML="";void 0!=c&&(url="/facebook/customer/albumImages",$j(".fb_loading").show(),$j(".facebook_div").hide(),$j(".facebook_login").hide(),""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{facebook_album_id:c,facebook_album_name:f},onSuccess:function(a){response=a.responseText.evalJSON();$j(".fb_loading").hide();$j(".facebook_div").show();$j(".facebook_login").show();response.error?
($$("label.facebook_error")[0].style.display="block",$$("label.facebook_error")[0].innerHTML=response.error,$$("div.facebook_div")[0].style.display="none",$$("form.facebook_login")[0].style.display="block",$$(".facebook_hdr")[0].innerHTML="Facebook Images"):($$("label.facebook_error")[0].innerHTML="",$$("div.facebook_div ul#colorSet")[0].innerHTML=response.images,$$("div.facebook_div")[0].style.display="block",$$("form.facebook_login")[0].style.display="none",$$(".facebook_hdr")[0].innerHTML=response.hdr,
$j(".facebook_div ul#colorSet img").load(function(){$j(".facebook_div").mCustomScrollbar("update");width=$j(".facebook_div .mCSB_container").width();$j(".facebook_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/facebook/customer/albumImages",type:"POST",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",data:{facebook_album_id:c,facebook_album_name:f,callback:"?"},success:function(a){$j(".fb_loading").hide();
$j(".facebook_div").show();$j(".facebook_login").show();response=a.responseText.evalJSON();response.error?($$("label.facebook_error")[0].style.display="block",$$("label.facebook_error")[0].innerHTML=response.error,$$("p.fb_loading")[0].innerHTML="<br/>",$$("div.facebook_div")[0].style.display="none",$$("form.facebook_login")[0].style.display="block",$$(".facebook_hdr")[0].innerHTML="Facebook Images"):($$("label.facebook_error")[0].innerHTML="",$$("div.facebook_div ul#colorSet")[0].innerHTML=response.images,
$$("div.facebook_div")[0].style.display="block",$$("form.facebook_login")[0].style.display="none",$$(".facebook_hdr")[0].innerHTML=response.hdr,$$("p.fb_loading")[0].innerHTML="<br/>",$j(".facebook_div ul#colorSet img").load(function(){$j(".facebook_div").mCustomScrollbar("update");width=$j(".facebook_div .mCSB_container").width();$j(".facebook_div .mCSB_container").css("width",width+4)}))},onFailure:function(){return""}}))}
function loginAndGetMyImages(){px_username=document.getElementById("px_username").value;px_password=document.getElementById("px_password").value;$$("p.myimages_loading")[0].innerHTML='<img src="/js/all/niko/niko_css/icons/slider_progress.gif"/>';$$("label.myimages_error")[0].innerHTML="";url="/dol/ajax/loginPost";$j(".myimages_loading").show();$j(".myimages_login").hide();""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{username:px_username,password:px_password},
onSuccess:function(c){$j(".myimages_loading").hide();$j(".myimages_login").show();response=c.responseText.evalJSON();response.error?($$("label.myimages_error")[0].style.display="block",$$("label.myimages_error")[0].innerHTML=response.error):getMyImages()},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/ajax/loginPost",type:"POST",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",data:{username:px_username,password:px_password,callback:"?"},
success:function(c){$j(".myimages_loading").show();$j(".myimages_login").hide();response=c;response.error?($$("label.myimages_error")[0].style.display="block",$$("label.myimages_error")[0].innerHTML=response.error):getMyImages()},onFailure:function(){return""}})}
function isMobile(){var c=["android","webos","iPhone","iPad","blackberry"];for(i in c)if(-1<navigator.userAgent.indexOf(c[i]))return input.removeAttribute("multiple"),input1.removeAttribute("multiple"),$j("#uploaded").hide(),$j("#uploaded1").hide(),!0;return!1}
function getMyImages(){0!=$j(".myimages_loginform").length&&($$("p.myimages_loading")[0].innerHTML='<img src="/js/all/niko/niko_css/icons/slider_progress.gif"/>',$$("label.myimages_error")[0].innerHTML="",url="/dol/ajax/getMyImages",$j(".myimages_loading").show(),$j(".myimages_login").hide(),""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{},onSuccess:function(c){response=c.responseText.evalJSON();$j(".myimages_loading").hide();$j(".myimages_login").show();
response.error?($$("label.myimages_error")[0].style.display="block",$$("label.myimages_error")[0].innerHTML=response.error):($$("label.myimages_error")[0].innerHTML="",$$("div.myimages_div ul#colorSet")[0].innerHTML=response.images,$$("div.myimages_div")[0].style.display="block",$$("form.myimages_login")[0].style.display="none",$$(".myimages_hdr")[0].innerHTML=response.hdr,$j(".upicon").show(),$j(".myimages_div .draggable img"),$j(".myimages_div ul#colorSet img").load(function(){$j(".myimages_div").mCustomScrollbar("update");
width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+6)}),isMobile(),""==cross_domain||void 0==cross_domain?new Ajax.Request("/dol/ajax/links",{method:"GET",dataType:"html",parameters:{},onSuccess:function(c){"undefined"!=c.responseText&&"error"!=c.responseText&&($$("div.b-right")[0].innerHTML=c.responseText);input=document.getElementById("uploaded");var c=navigator.userAgent.toLowerCase(),a=!1;-1!=c.indexOf("safari")&&(a=-1<c.indexOf("chrome")?!1:
-1!==c.indexOf("windows")?!0:!1);a?input.removeAttribute("multiple"):input.setAttribute("multiple","true")},onFailure:function(){return""}}):new Ajax.Request("http://"+cross_domain+"/dol/ajax/links?callback=?",{method:"GET",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",parameters:{},onSuccess:function(c){"undefined"!=c.responseText&&"error"!=c.responseText&&($$("div.b-right")[0].innerHTML=c.responseText);input=document.getElementById("uploaded");var c=navigator.userAgent.toLowerCase(),
a=!1;-1!=c.indexOf("safari")&&(a=-1<c.indexOf("chrome")?!1:-1!==c.indexOf("windows")?!0:!1);a?input.removeAttribute("multiple"):input.setAttribute("multiple","true")},onFailure:function(){return""}}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/ajax/getMyImages?callback=?",type:"POST",jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",success:function(c){response=c;$j(".myimages_loading").hide();$j(".myimages_login").show();response.error?
($$("label.myimages_error")[0].style.display="block",$$("label.myimages_error")[0].innerHTML=response.error):($$("label.myimages_error")[0].innerHTML="",$$("div.myimages_div ul#colorSet")[0].innerHTML=response.images,$$("div.myimages_div")[0].style.display="block",$$("form.myimages_login")[0].style.display="none",$$(".myimages_hdr")[0].innerHTML=response.hdr,$j(".upicon").show(),$j(".myimages_div .draggable img"),$j(".myimages_div ul#colorSet img").load(function(){$j(".myimages_div").mCustomScrollbar("update");
width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+6)}),isMobile(),$j.ajax({url:"http://"+cross_domain+"/dol/ajax/links?callback=?",method:"GET",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",parameters:{},onSuccess:function(c){"undefined"!=c&&"error"!=c&&($$("div.b-right")[0].innerHTML=c);input=document.getElementById("uploaded");var c=navigator.userAgent.toLowerCase(),a=!1;-1!=c.indexOf("safari")&&(a=-1<
c.indexOf("chrome")?!1:-1!==c.indexOf("windows")?!0:!1);a?input.removeAttribute("multiple"):input.setAttribute("multiple","true")},onFailure:function(){return""}}))},onFailure:function(){return""}}))}function sized(c){for(var f=0;1023<c;)c/=1024,++f;return f?c.toFixed(2)+[""," KB"," MB"," GB"," TB"][f]:c+" bytes"}
$j(document).on("click",".vclose",function(){0<$j("#svg_editor").length?($j("#vtab").animate({height:0},{duration:500,complete:function(){$j("#vtab").hide()}}),$j("#tool_image").attr("rel","false")):$j("#vtab").slideUp("slow")});
uploads=function(){input=document.getElementById("uploaded");document.getElementById("img_progress");document.getElementById("progress");document.getElementById("total_txt");document.getElementById("img_title");var c=navigator.userAgent.toLowerCase(),f=!1;-1!=c.indexOf("safari")&&(f=-1<c.indexOf("chrome")?!1:!0);for(i=0;i<input.files.length;i++)if(!input.files[i].name.toLowerCase().match(/(svg|gif|jpg|jpeg|pdf|eps|png|tiff|tif)$/)){alert("Unsupported file format. Please upload a valid JPEG, PNG, PDF, EPS, GIF, TIFF or SVG file.");
return}""!=input.value&&$j("#fileupload_box").dialog("open");sendMultipleFiles({files:input.files,onloadstart:function(){div.innerHTML="Init upload ... ";$j("#img_progress").progressbar("option","value",0);$j("#progress").progressbar("option","value",0);img_name.innerHTML=""},onprogress:function(a){img_name.innerHTML=void 0!=this.file.fileName?this.file.fileName:this.file.name;div.innerHTML="Total Sent: "+sized(this.sent+a.loaded)+" of "+sized(this.total);$j("#img_progress").progressbar("option",
"value",300*a.loaded/a.total>>0);$j("#progress").progressbar("option","value",300*(this.sent+a.loaded)/this.total>>0)},onload:function(){file_bar.style.width="300px";total_bar.style.width="300px";0<$j("#fileupload_box").length&&setTimeout(function(){$j("#fileupload_box").dialog("close")},1E3);input.removeAttribute("disabled")},onerror:function(){img_name=void 0!=this.file.fileName?this.file.fileName:this.file.name;div.innerHTML="The file "+img_name+" is too big ["+sized(f?this.file.fileSize:this.file.size)+
"]";input.removeAttribute("disabled")}})};
function myImagesLogout(){url="/dol/ajax/ajaxLogout";""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{},onSuccess:function(){$j(".myimages_div ul.colorSet").empty()}}):$j.ajax({url:"http://"+cross_domain+"/dol/ajax/ajaxLogout?callback=?",type:"GET",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",parameters:{},onSuccess:function(){$j(".myimages_div ul.colorSet").empty()}});$j(".myimages_div").hide();$j(".myimages_login").show();
$j(".loggedin").hide();$j(".myimages_loginform").show();content='<p class="images_drag">Drag and Drop your Uploaded Images</p>&nbsp; &nbsp;<div class="img_upload1" ><button class="button button-new-upload upicon" name="send" title="" type="button"><i></i><span><span class="uploadicon">Upload More</span></span></button><input type="file" multiple="multiple" class="uploaded" id="uploaded" onchange="uploads()" accept="image/*"/></div><span>&nbsp; &nbsp;|&nbsp; &nbsp; <a type="button" title="Login" name="send" style="cursor:pointer;" class="button button-new-showlogin" id="send2">Login</a></span><span class="lowres-warning"><img width="16px" height="16px" style="cursor:help;" src="/js/all/editor/images/warning-small22.png"> = Low Resolution<div class="tooltip_full_value"> <p><b>Image Resolution is Low</b><br>Required dimensions for each Square Canvas is 1200x1200px.<br>The quality of final print may get affected.</p></div></span>';
$j(".myimages_hdr").html(content);$j(".myimages_photos ul#colorSet").html("");input=document.getElementById("uploaded");var c=navigator.userAgent.toLowerCase(),f=!1;-1!=c.indexOf("safari")&&(f=-1<c.indexOf("chrome")?!1:-1!==c.indexOf("windows")?!0:!1);f?input.removeAttribute("multiple"):input.setAttribute("multiple","true");isMobile();""==cross_domain||void 0==cross_domain?new Ajax.Request("/dol/ajax/links",{method:"GET",dataType:"html",parameters:{},onSuccess:function(a){"undefined"!=a.responseText&&
"error"!=a.responseText&&($$("div.b-right")[0].innerHTML=a.responseText)},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/ajax/links?callback=?",type:"GET",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",parameters:{},success:function(a){"undefined"!=a.responseText&&"error"!=a.responseText&&($$("div.b-right")[0].innerHTML=a)},onFailure:function(){return""}});$j(".button-new-showlogin").parent().hide()}
function closeSaveDesignLoginBox(){document.getElementById("save_design_login_box").style.display="none"}
function saveDesign(){document.getElementById("save_design_box").style.display="block";url="/dol/ajax/checkLogin";""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{},onSuccess:function(c){response=c.responseText.evalJSON();response.error?(document.getElementById("save_design_box").style.display="none",$$("h2.sd_login_error")[0].innerHTML="",$j("#save_design_login_box").dialog("open")):saveDesignPost()},onFailure:function(){return!1}}):$j.ajax({url:"http://"+
cross_domain+"/dol/ajax/checkLogin?callback=?",type:"POST",jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",data:{},success:function(c){response=c;response.error?(document.getElementById("save_design_box").style.display="none",$$("h2.sd_login_error")[0].innerHTML="",$j("#save_design_login_box").dialog("open")):saveDesignPost()},onFailure:function(){return!1}})}
function saveDesignPost(){$j("#svg_data").val(svgCanvas.getSvgString());pageno=1;0<$j(".page_tab li.active").length&&(id=$j(".page_tab li.active").attr("id"),pageno=id.replace("page_",""));$j("#textsvg_"+pageno).val(svgCanvas.getSvgString());params=$j("#product_addtocart_form").serialize();url="/checkout/cart/saveDesign";if(""==cross_domain||void 0==cross_domain)new Ajax.Request(url,{method:"POST",dataType:"json",parameters:params,onSuccess:function(c){response=c.responseText.evalJSON();if(response.error){document.getElementById("save_design_box_desc").innerHTML=
'<font color="red">'+response.error+"</font>";timeout=setTimeout(function(){document.getElementById("save_design_box").style.display="none";clearTimeout(timeout)},2E3)}else{document.getElementById("save_design_box_desc").innerHTML="Design Saved Successfully!";$j("#save_design_box_desc").parent().css({width:"218px","margin-left":"-109px"});timeout=setTimeout(function(){document.getElementById("save_design_box").style.display="none";document.getElementById("save_design_box_desc").innerHTML="Savin Design <img src ="+
$j(".desc img").attr("src")+"></img>";$j("#save_design_box_desc").parent().css({width:"200px","margin-left":"-100px"});clearTimeout(timeout)},1E3)}},onFailure:function(){return false}});else{var c="http://"+cross_domain+"/checkout/cart/saveDesign";xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){response=xmlhttp.responseText.evalJSON();if(response.error){document.getElementById("save_design_box_desc").innerHTML='<font color="red">'+response.error+
"</font>";timeout=setTimeout(function(){document.getElementById("save_design_box").style.display="none";clearTimeout(timeout)},2E3)}else{document.getElementById("save_design_box_desc").innerHTML="Design Saved Successfully!";$j("#save_design_box_desc").parent().css({width:"218px","margin-left":"-109px"});timeout=setTimeout(function(){document.getElementById("save_design_box").style.display="none";document.getElementById("save_design_box_desc").innerHTML="Savin Design <img src ="+$j(".desc img").attr("src")+
"></img>";$j("#save_design_box_desc").parent().css({width:"200px","margin-left":"-100px"});clearTimeout(timeout)},1E3)}}};xmlhttp.open("POST",c,!0);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.send(params)}}
function isUserLoggedIn(){url="/dol/ajax/checkLogin";""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{},onSuccess:function(c){response=c.responseText.evalJSON();return response.error?!1:!0},onFailure:function(){return!1}}):$j.ajax({url:"http://"+cross_domain+"/dol/ajax/checkLogin?callback=?",type:"POST",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",parameters:{},onSuccess:function(c){response=c;return response.error?
!1:!0},onFailure:function(){return!1}})}
function loginAndSaveDesign(){px_username=document.getElementById("px_sd_username").value;px_password=document.getElementById("px_sd_password").value;url="/dol/ajax/loginPost";""==cross_domain||void 0==cross_domain?new Ajax.Request(url,{method:"POST",dataType:"json",parameters:{username:px_username,password:px_password},onSuccess:function(c){response=c.responseText.evalJSON();response.error?$$("h2.sd_login_error")[0].innerHTML='<br/><font color="red">'+response.error+"</font><br/>":($j("#save_design_login_box").dialog("close"),
document.getElementById("save_design_box").style.display="block",saveDesignPost(),new Ajax.Request("/dol/ajax/links",{method:"GET",dataType:"html",parameters:{},onSuccess:function(c){"undefined"!=c.responseText&&"error"!=c.responseText&&($$("div.b-right")[0].innerHTML=c.responseText)},onFailure:function(){return""}}))},onFailure:function(){return""}}):$j.ajax({url:"http://"+cross_domain+"/dol/ajax/loginPost",type:"POST",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",
data:{username:px_username,password:px_password,callback:"?"},success:function(c){response=c;response.error?$$("h2.sd_login_error")[0].innerHTML='<br/><font color="red">'+response.error+"</font><br/>":($j("#save_design_login_box").dialog("close"),document.getElementById("save_design_box").style.display="block",saveDesignPost(),$j.ajax({url:"http://"+cross_domain+"/dol/ajax/links?callback=?",method:"GET",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",parameters:{},
onSuccess:function(c){"undefined"!=c.responseText&&"error"!=c.responseText&&($$("div.b-right")[0].innerHTML=c.responseText)},onFailure:function(){return""}}))},onFailure:function(){return""}})}
function previewPDF(){$j("#svg_data").val(svgCanvas.getSvgString());pageno=1;0<$j(".page_tab li.active").length&&(id=$j(".page_tab li.active").attr("id"),pageno=id.replace("page_",""));$j("#textsvg_"+pageno).val(svgCanvas.getSvgString());layout_fg_pg1=document.getElementById("layout_fg_pg1").value;layout_bg_pg1=document.getElementById("layout_bg_pg1").value;document.getElementById("review_proof_box").style.display="block";params=$("product_addtocart_form").serialize(!0);if(void 0!=svg_data)if(url=
"/dol/index/processSVGPdf",""==cross_domain||void 0==cross_domain)new Ajax.Request(url,{method:"POST",dataType:"json",parameters:params,onSuccess:function(c){response=c.responseText.evalJSON();if(response.error){document.getElementById("review_proof_box_desc").innerHTML='<font color="red">An unexpected error occurred</font>';timeout=setTimeout(function(){document.getElementById("review_proof_box").style.display="none";clearTimeout(timeout)},2E3)}else{url=response.url;random_number=Math.floor(Math.random()*
1E3+1);if(pdfPopup=window.open("/dol/index/streamFile?url="+url,"pdf"+random_number,"width=400,height=200")){pdfPopup.onload=function(){setTimeout(function(){if(pdfPopup.screenX===0){document.getElementById("review_proof_box").style.display="block";document.getElementById("review_proof_box_desc").innerHTML='<font color="red">Please allow popup in your browser to enable Proof download</font>';timeout=setTimeout(function(){document.getElementById("review_proof_box").style.display="none";document.getElementById("review_proof_box_desc").innerHTML=
"Processing Proof PDF.... <img src ="+$j(".desc img").attr("src")+"></img>";clearTimeout(timeout)},2E3)}else document.getElementById("review_proof_box").style.display="none"},0)};document.getElementById("review_proof_box").style.display="none"}else{document.getElementById("review_proof_box").style.display="block";document.getElementById("review_proof_box_desc").innerHTML='<font color="red">Please allow popup in your browser to enable Proof download</font>';timeout=setTimeout(function(){document.getElementById("review_proof_box").style.display=
"none";document.getElementById("review_proof_box_desc").innerHTML="Processing Proof PDF.... <img src ="+$j(".desc img").attr("src")+"></img>";clearTimeout(timeout)},2E3)}}},onFailure:function(){return""}});else{params1=$j("#product_addtocart_form").serialize();var c="http://"+cross_domain+"/dol/index/processSVGPdf";xmlhttp1=new XMLHttpRequest;xmlhttp1.onreadystatechange=function(){if(xmlhttp1.readyState==4&&xmlhttp1.status==200){response=xmlhttp1.responseText.evalJSON();if(response.error){document.getElementById("review_proof_box_desc").innerHTML=
'<font color="red">An unexpected error occurred</font>';timeout=setTimeout(function(){document.getElementById("review_proof_box").style.display="none";clearTimeout(timeout)},2E3)}else{url=response.url;random_number=Math.floor(Math.random()*1E3+1);if(pdfPopup=window.open(url,"pdf"+random_number,"width=400,height=200")){pdfPopup.onload=function(){setTimeout(function(){if(pdfPopup.screenX===0){document.getElementById("review_proof_box").style.display="block";document.getElementById("review_proof_box_desc").innerHTML=
'<font color="red">Please allow popup in your browser to enable Proof download</font>';timeout=setTimeout(function(){document.getElementById("review_proof_box").style.display="none";document.getElementById("review_proof_box_desc").innerHTML="Processing Proof PDF.... <img src ="+$j(".desc img").attr("src")+"></img>";clearTimeout(timeout)},2E3)}else document.getElementById("review_proof_box").style.display="none"},0)};document.getElementById("review_proof_box").style.display="none"}else{document.getElementById("review_proof_box").style.display=
"block";document.getElementById("review_proof_box_desc").innerHTML='<font color="red">Please allow popup in your browser to enable Proof download</font>';timeout=setTimeout(function(){document.getElementById("review_proof_box").style.display="none";document.getElementById("review_proof_box_desc").innerHTML="Processing Proof PDF.... <img src ="+$j(".desc img").attr("src")+"></img>";clearTimeout(timeout)},2E3)}}}};xmlhttp1.open("POST",c,!0);xmlhttp1.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xmlhttp1.send(params1)}}
$j.fn.SpinButton=function(c){function f(a,c){for(var f=a[c],o=document.body;(a=a.offsetParent)&&a!=o;)f+=a[c];return f}return this.each(function(){this.repeating=!1;this.spinCfg={min:c&&!isNaN(parseFloat(c.min))?Number(c.min):null,max:c&&!isNaN(parseFloat(c.max))?Number(c.max):null,step:c&&c.step?Number(c.step):1,stepfunc:c&&c.stepfunc?c.stepfunc:!1,page:c&&c.page?Number(c.page):10,upClass:c&&c.upClass?c.upClass:"up1",downClass:c&&c.downClass?c.downClass:"down1",reset:c&&c.reset?c.reset:this.value,
delay:c&&c.delay?Number(c.delay):500,interval:c&&c.interval?Number(c.interval):100,_btn_width:20,_direction:null,_delay:null,_repeat:null,callback:c&&c.callback?c.callback:null};this.spinCfg.smallStep=c&&c.smallStep?c.smallStep:this.spinCfg.step/2;this.adjustValue=function(a){a=isNaN(this.value)?this.spinCfg.reset:$j.isFunction(this.spinCfg.stepfunc)?this.spinCfg.stepfunc(this,a):Number((Number(this.value)+Number(a)).toFixed(5));null!==this.spinCfg.min&&(a=Math.max(a,this.spinCfg.min));null!==this.spinCfg.max&&
(a=Math.min(a,this.spinCfg.max));this.value=a;$j.isFunction(this.spinCfg.callback)&&this.spinCfg.callback(this)};$j(this).addClass(c&&c.spinClass?c.spinClass:"spin-button").mousemove(function(a){var c=a.pageX||a.x,n=a.pageY||a.y;$j.browser.msie&&(n-=window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop);var a=a.target||a.srcElement,o=svgEditor.tool_scale||1,p,l=$j("html").attr("dir");p=$j("#dol-popup").length?3:6;this.spinCfg._btn_width="rtl"==l?120:12;0!=$j(".pxhotice").length&&
(this.spinCfg._btn_width=0);p=$j(a).height()/2+p;$j.browser.msie&&(c+=document.documentElement.scrollLeft,n+=document.documentElement.scrollTop);c=c>f(a,"offsetLeft")+a.offsetWidth*o-this.spinCfg._btn_width?n<f(a,"offsetTop")+p*o?1:-1:0;if(c!==this.spinCfg._direction){switch(c){case 1:$j(this).removeClass(this.spinCfg.downClass).addClass(this.spinCfg.upClass);break;case -1:$j(this).removeClass(this.spinCfg.upClass).addClass(this.spinCfg.downClass);break;default:$j(this).removeClass(this.spinCfg.upClass).removeClass(this.spinCfg.downClass)}this.spinCfg._direction=
c}}).mouseout(function(){$j(this).removeClass(this.spinCfg.upClass).removeClass(this.spinCfg.downClass);this.spinCfg._direction=null;window.clearInterval(this.spinCfg._repeat);window.clearTimeout(this.spinCfg._delay)}).mousedown(function(a){if(0===a.button&&0!=this.spinCfg._direction){var c=this,f=a.shiftKey?c.spinCfg.smallStep:c.spinCfg.step,o=function(){c.adjustValue(c.spinCfg._direction*f)};o();c.spinCfg._delay=window.setTimeout(function(){o();c.spinCfg._repeat=window.setInterval(o,c.spinCfg.interval)},
c.spinCfg.delay)}}).mouseup(function(){window.clearInterval(this.spinCfg._repeat);window.clearTimeout(this.spinCfg._delay)}).dblclick(function(){$j.browser.msie&&this.adjustValue(this.spinCfg._direction*this.spinCfg.step)}).keydown(function(a){switch(a.keyCode){case 38:this.adjustValue(this.spinCfg.step);break;case 40:this.adjustValue(-this.spinCfg.step);break;case 33:this.adjustValue(this.spinCfg.page);break;case 34:this.adjustValue(-this.spinCfg.page)}}).keypress(function(a){if(this.repeating)switch(a.keyCode){case 38:this.adjustValue(this.spinCfg.step);
break;case 40:this.adjustValue(-this.spinCfg.step);break;case 33:this.adjustValue(this.spinCfg.page);break;case 34:this.adjustValue(-this.spinCfg.page)}else this.repeating=!0}).keyup(function(a){this.repeating=!1;switch(a.keyCode){case 38:case 40:case 33:case 34:case 13:this.adjustValue(0)}}).bind("mousewheel",function(a){120<=a.wheelDelta?this.adjustValue(this.spinCfg.step):-120>=a.wheelDelta&&this.adjustValue(-this.spinCfg.step);a.preventDefault()}).change(function(){this.adjustValue(0)});this.addEventListener&&
this.addEventListener("DOMMouseScroll",function(a){0<a.detail?this.adjustValue(-this.spinCfg.step):0>a.detail&&this.adjustValue(this.spinCfg.step);a.preventDefault()},!1)})};
jQuery&&function(){var c=$j(window),f=$j("#svgcanvas");$j.extend($j.fn,{contextMenu:function(a,h){if(void 0==a.menu)return!1;void 0==a.inSpeed&&(a.inSpeed=150);void 0==a.outSpeed&&(a.outSpeed=75);0==a.inSpeed&&(a.inSpeed=-1);0==a.outSpeed&&(a.outSpeed=-1);$j(this).each(function(){var n=$j(this),o=$j(n).offset(),p=$j("#"+a.menu);p.addClass("contextMenu");$j(this).bind("mousedown",function(l){$j(this).mouseup(function(q){var z=$j(this);z.unbind("mouseup");if(2===l.button||a.allowLeft||l.ctrlKey&&svgedit.browser.isMac()){q.stopPropagation();
$j(".contextMenu").hide();if(n.hasClass("disabled"))return!1;var A=svgedit.math.transformPoint,u=svgCanvas.getZoom(),B=q.pageX,E=q.pageY,C=svgcontent.getScreenCTM().inverse(),G=window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop;svgedit.browser.isGecko()?(ff23=0<=navigator.userAgent.indexOf("Firefox/23")||0<=navigator.userAgent.indexOf("Firefox/24")||0<=navigator.userAgent.indexOf("Firefox/25")||0<=navigator.userAgent.indexOf("Firefox/26")||0<=navigator.userAgent.indexOf("Firefox/27")||
0<=navigator.userAgent.indexOf("Firefox/28")||0<=navigator.userAgent.indexOf("Firefox/29")||0<=navigator.userAgent.indexOf("Firefox/30")?$j("#svgcontent").attr("x"):0,q=A(q.pageX,q.pageY-G,C),B=q.x-ff23,E=q.y):(q=A(q.pageX,q.pageY-G,C),B=q.x*u,E=q.y*u);u=$j("#svgcontent").attr("x");q=$j("#svgcontent").attr("y");console.log($j("#svgcontent").position());console.log($j("#svgcontent").offset());c.width();p.width();c.height();p.height();f.unbind("click");p.css({top:E+q+195,left:B+u+130}).fadeIn(a.inSpeed);
p.find("A").mouseover(function(){p.find("LI.hover").removeClass("hover");$j(this).parent().addClass("hover")}).mouseout(function(){p.find("LI.hover").removeClass("hover")});f.keypress(function(a){switch(a.keyCode){case 38:if(p.find("LI.hover").length){p.find("LI.hover").removeClass("hover").prevAll("LI:not(.disabled)").eq(0).addClass("hover");p.find("LI.hover").length||p.find("LI:last").addClass("hover")}else p.find("LI:last").addClass("hover");break;case 40:if(p.find("LI.hover").length==0)p.find("LI:first").addClass("hover");
else{p.find("LI.hover").removeClass("hover").nextAll("LI:not(.disabled)").eq(0).addClass("hover");p.find("LI.hover").length||p.find("LI:first").addClass("hover")}break;case 13:p.find("LI.hover A").trigger("click");break;case 27:f.trigger("click")}});p.find("A").unbind("mouseup");p.find("LI:not(.disabled) A").mouseup(function(){f.unbind("click").unbind("keypress");$j(".contextMenu").hide();h&&h($j(this).attr("href").substr(1),$j(z),{x:B-o.left,y:E-o.top,docX:B,docY:E});return false});setTimeout(function(){f.click(function(){f.unbind("click").unbind("keypress");
p.fadeOut(a.outSpeed);return false})},0)}})});$j.browser.mozilla?$j("#"+a.menu).each(function(){$j(this).css({MozUserSelect:"none"})}):$j.browser.msie?$j("#"+a.menu).each(function(){$j(this).bind("selectstart.disableTextSelect",function(){return!1})}):$j("#"+a.menu).each(function(){$j(this).bind("mousedown.disableTextSelect",function(){return!1})});$j(n).add($j("UL.contextMenu")).bind("contextmenu",function(){return!1})});return $j(this)},disableContextMenuItems:function(a){if(void 0==a)return $j(this).find("LI").addClass("disabled"),
$j(this);$j(this).each(function(){if(void 0!=a)for(var c=a.split(","),f=0;f<c.length;f++)$j(this).find('A[href="'+c[f]+'"]').parent().addClass("disabled")});return $j(this)},enableContextMenuItems:function(a){if(void 0==a)return $j(this).find("LI.disabled").removeClass("disabled"),$j(this);$j(this).each(function(){if(void 0!=a)for(var c=a.split(","),f=0;f<c.length;f++)$j(this).find('A[href="'+c[f]+'"]').parent().removeClass("disabled")});return $j(this)},disableContextMenu:function(){$j(this).each(function(){$j(this).addClass("disabled")});
return $j(this)},enableContextMenu:function(){$j(this).each(function(){$j(this).removeClass("disabled")});return $j(this)},destroyContextMenu:function(){$j(this).each(function(){$j(this).unbind("mousedown").unbind("mouseup")});return $j(this)}})}(jQuery);
(function(){"SVGPathSeg"in window||(window.SVGPathSeg=function(c,f,a){this.pathSegType=c;this.pathSegTypeAsLetter=f;this._owningPathSegList=a},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=
10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},
window.SVGPathSegClosePath=function(c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",c)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(c,f,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,
"M",c);this._x=f;this._y=a},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=
c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(c,f,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",c);this._x=f;this._y=a},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=
function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=
function(c,f,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",c);this._x=f;this._y=a},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,
"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(c,f,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",c);this._x=f;this._y=a},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},
SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},
enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(c,f,a,h,n,o,p){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",c);this._x=f;this._y=a;this._x1=h;this._y1=n;this._x2=o;this._y2=p},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+
" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),
Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(c){this._x1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(c){this._y1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(c){this._x2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,
"y2",{get:function(){return this._y2},set:function(c){this._y2=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(c,f,a,h,n,o,p){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",c);this._x=f;this._y=a;this._x1=h;this._y1=n;this._x2=o;this._y2=p},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=
function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},
set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(c){this._x1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(c){this._y1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(c){this._x2=
c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(c){this._y2=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(c,f,a,h,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",c);this._x=f;this._y=a;this._x1=h;this._y1=n},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},
SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,
"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(c){this._x1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(c){this._y1=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(c,f,a,h,n){SVGPathSeg.call(this,
SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",c);this._x=f;this._y=a;this._x1=h;this._y1=n},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,
this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(c){this._x1=c;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(c){this._y1=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(c,f,a,h,n,o,p,l){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",c);this._x=f;this._y=a;this._r1=h;this._r2=n;this._angle=o;this._largeArcFlag=p;this._sweepFlag=l},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},
SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(c){this._r1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(c){this._r2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,
"angle",{get:function(){return this._angle},set:function(c){this._angle=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(c){this._largeArcFlag=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(c){this._sweepFlag=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(c,
f,a,h,n,o,p,l){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",c);this._x=f;this._y=a;this._r1=h;this._r2=n;this._angle=o;this._largeArcFlag=p;this._sweepFlag=l},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+
this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,
"r1",{get:function(){return this._r1},set:function(c){this._r1=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(c){this._r2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(c){this._angle=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},
set:function(c){this._largeArcFlag=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(c){this._sweepFlag=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(c,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",c);this._x=f},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=
function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(c,f){SVGPathSeg.call(this,
SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",c);this._x=f},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,
"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(c,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",c);this._y=f},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+
" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(c,f){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",c);this._y=f},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=
function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(c,f,a,h,n){SVGPathSeg.call(this,
SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",c);this._x=f;this._y=a;this._x2=h;this._y2=n},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,
this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(c){this._x2=c;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(c){this._y2=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(c,f,a,h,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",c);this._x=f;this._y=a;this._x2=h;this._y2=n},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},
SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,
"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(c){this._x2=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(c){this._y2=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(c,f,a){SVGPathSeg.call(this,
SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",c);this._x=f;this._y=a},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,
this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(c,f,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",c);this._x=
f;this._y=a},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,
"x",{get:function(){return this._x},set:function(c){this._x=c;this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(c){this._y=c;this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(c,f){return new SVGPathSegMovetoAbs(void 0,c,f)},SVGPathElement.prototype.createSVGPathSegMovetoRel=
function(c,f){return new SVGPathSegMovetoRel(void 0,c,f)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(c,f){return new SVGPathSegLinetoAbs(void 0,c,f)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(c,f){return new SVGPathSegLinetoRel(void 0,c,f)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(c,f,a,h,n,o){return new SVGPathSegCurvetoCubicAbs(void 0,c,f,a,h,n,o)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(c,f,a,h,n,o){return new SVGPathSegCurvetoCubicRel(void 0,
c,f,a,h,n,o)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(c,f,a,h){return new SVGPathSegCurvetoQuadraticAbs(void 0,c,f,a,h)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(c,f,a,h){return new SVGPathSegCurvetoQuadraticRel(void 0,c,f,a,h)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(c,f,a,h,n,o,p){return new SVGPathSegArcAbs(void 0,c,f,a,h,n,o,p)},SVGPathElement.prototype.createSVGPathSegArcRel=function(c,f,a,h,n,o,p){return new SVGPathSegArcRel(void 0,
c,f,a,h,n,o,p)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(c){return new SVGPathSegLinetoHorizontalAbs(void 0,c)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(c){return new SVGPathSegLinetoHorizontalRel(void 0,c)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(c){return new SVGPathSegLinetoVerticalAbs(void 0,c)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(c){return new SVGPathSegLinetoVerticalRel(void 0,
c)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(c,f,a,h){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,c,f,a,h)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(c,f,a,h){return new SVGPathSegCurvetoCubicSmoothRel(void 0,c,f,a,h)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(c,f){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,c,f)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(c,
f){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,c,f)});"SVGPathSegList"in window||(window.SVGPathSegList=function(c){this._pathElement=c;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]};this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,
"numberOfItems",{get:function(){this._checkPathSynchronizedToList();return this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){this._pathSegList||(this._pathSegList=new SVGPathSegList(this));return this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},
enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(c){if(this._pathElement){var f=!1;c.forEach(function(a){"d"==a.attributeName&&(f=!0)});f&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},
SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(c){c._owningPathSegList=null});this._list=[];
this._writeListToPath()},SVGPathSegList.prototype.initialize=function(c){this._checkPathSynchronizedToList();this._list=[c];c._owningPathSegList=this;this._writeListToPath();return c},SVGPathSegList.prototype._checkValidIndex=function(c){if(isNaN(c)||0>c||c>=this.numberOfItems)throw"INDEX_SIZE_ERR";},SVGPathSegList.prototype.getItem=function(c){this._checkPathSynchronizedToList();this._checkValidIndex(c);return this._list[c]},SVGPathSegList.prototype.insertItemBefore=function(c,f){this._checkPathSynchronizedToList();
f>this.numberOfItems&&(f=this.numberOfItems);c._owningPathSegList&&(c=c.clone());this._list.splice(f,0,c);c._owningPathSegList=this;this._writeListToPath();return c},SVGPathSegList.prototype.replaceItem=function(c,f){this._checkPathSynchronizedToList();c._owningPathSegList&&(c=c.clone());this._checkValidIndex(f);this._list[f]=c;c._owningPathSegList=this;this._writeListToPath();return c},SVGPathSegList.prototype.removeItem=function(c){this._checkPathSynchronizedToList();this._checkValidIndex(c);var f=
this._list[c];this._list.splice(c,1);this._writeListToPath();return f},SVGPathSegList.prototype.appendItem=function(c){this._checkPathSynchronizedToList();c._owningPathSegList&&(c=c.clone());this._list.push(c);c._owningPathSegList=this;this._writeListToPath();return c},SVGPathSegList._pathSegArrayAsString=function(c){var f="",a=!0;c.forEach(function(c){a?(a=!1,f+=c._asPathString()):f+=" "+c._asPathString()});return f},SVGPathSegList.prototype._parsePath=function(c){if(!c||0==c.length)return[];var f=
this,a=function(){this.pathSegList=[]};a.prototype.appendSegment=function(a){this.pathSegList.push(a)};var h=function(a){this._string=a;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};h.prototype._isCurrentSpace=function(){var a=this._string[this._currentIndex];return" ">=a&&(" "==a||"\n"==a||"\t"==a||"\r"==a||"\f"==a)};h.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;
return this._currentIndex<this._endIndex};h.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))return!1;this._skipOptionalSpaces()&&(this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex))&&(this._currentIndex++,this._skipOptionalSpaces());return this._currentIndex<this._endIndex};h.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex};h.prototype.peekSegmentType=
function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])};h.prototype._pathSegTypeFromChar=function(a){switch(a){case "Z":case "z":return SVGPathSeg.PATHSEG_CLOSEPATH;case "M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case "m":return SVGPathSeg.PATHSEG_MOVETO_REL;case "L":return SVGPathSeg.PATHSEG_LINETO_ABS;case "l":return SVGPathSeg.PATHSEG_LINETO_REL;case "C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case "c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case "Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;
case "q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case "A":return SVGPathSeg.PATHSEG_ARC_ABS;case "a":return SVGPathSeg.PATHSEG_ARC_REL;case "H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case "h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case "V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case "v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case "S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case "s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case "T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;
case "t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}};h.prototype._nextCommandHelper=function(a,c){return("+"==a||"-"==a||"."==a||"0"<=a&&"9">=a)&&c!=SVGPathSeg.PATHSEG_CLOSEPATH?c==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:c==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:c:SVGPathSeg.PATHSEG_UNKNOWN};h.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var a=this.peekSegmentType();return a==
SVGPathSeg.PATHSEG_MOVETO_ABS||a==SVGPathSeg.PATHSEG_MOVETO_REL};h.prototype._parseNumber=function(){var a=0,c=0,h=1,l=0,f=1,z=1,A=this._currentIndex;this._skipOptionalSpaces();this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,f=-1);if(!(this._currentIndex==this._endIndex||("0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))&&
"."!=this._string.charAt(this._currentIndex))){for(var u=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)this._currentIndex++;if(this._currentIndex!=u)for(var B=this._currentIndex-1,E=1;B>=u;)c+=E*(this._string.charAt(B--)-0),E*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){this._currentIndex++;if(this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||
"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)l+=(this._string.charAt(this._currentIndex++)-0)*(h*=0.1)}if(this._currentIndex!=A&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){this._currentIndex++;
"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,z=-1);if(this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)a*=10,a+=this._string.charAt(this._currentIndex)-0,this._currentIndex++}c=(c+l)*f;a&&(c*=Math.pow(10,
z*a));if(A!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}};h.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var a=!1,a=this._string.charAt(this._currentIndex++);if("0"==a)a=!1;else if("1"==a)a=!0;else return;this._skipOptionalSpacesOrDelimiter();return a}};h.prototype.parseSegment=function(){var a,c,h,l,q,z,A;a=this._string[this._currentIndex];c=this._pathSegTypeFromChar(a);if(c==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;
c=this._nextCommandHelper(a,this._previousCommand);if(c==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;this._previousCommand=c;switch(c){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(f,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(f,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(f,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(f,
this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(f,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(f,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(f,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(f,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),
new SVGPathSegClosePath(f);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:return a=this._parseNumber(),c=this._parseNumber(),h=this._parseNumber(),l=this._parseNumber(),q=this._parseNumber(),z=this._parseNumber(),new SVGPathSegCurvetoCubicRel(f,q,z,a,c,h,l);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return a=this._parseNumber(),c=this._parseNumber(),h=this._parseNumber(),l=this._parseNumber(),q=this._parseNumber(),z=this._parseNumber(),new SVGPathSegCurvetoCubicAbs(f,q,z,a,c,h,l);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return h=
this._parseNumber(),l=this._parseNumber(),q=this._parseNumber(),z=this._parseNumber(),new SVGPathSegCurvetoCubicSmoothRel(f,q,z,h,l);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return h=this._parseNumber(),l=this._parseNumber(),q=this._parseNumber(),z=this._parseNumber(),new SVGPathSegCurvetoCubicSmoothAbs(f,q,z,h,l);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return a=this._parseNumber(),c=this._parseNumber(),q=this._parseNumber(),z=this._parseNumber(),new SVGPathSegCurvetoQuadraticRel(f,
q,z,a,c);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return a=this._parseNumber(),c=this._parseNumber(),q=this._parseNumber(),z=this._parseNumber(),new SVGPathSegCurvetoQuadraticAbs(f,q,z,a,c);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(f,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(f,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:return a=
this._parseNumber(),c=this._parseNumber(),h=this._parseNumber(),l=this._parseArcFlag(),A=this._parseArcFlag(),q=this._parseNumber(),z=this._parseNumber(),new SVGPathSegArcRel(f,q,z,a,c,h,l,A);case SVGPathSeg.PATHSEG_ARC_ABS:return a=this._parseNumber(),c=this._parseNumber(),h=this._parseNumber(),l=this._parseArcFlag(),A=this._parseArcFlag(),q=this._parseNumber(),z=this._parseNumber(),new SVGPathSegArcAbs(f,q,z,a,c,h,l,A);default:throw"Unknown path seg type.";}};a=new a;c=new h(c);if(!c.initialCommandIsMoveTo())return[];
for(;c.hasMoreData();){h=c.parseSegment();if(!h)return[];a.appendSegment(h)}return a.pathSegList})})();var svgedit=svgedit||{};
(function(){svgedit.browser||(svgedit.browser={});var c=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;svgedit.browser.supportsSvg=function(){return c};if(svgedit.browser.supportsSvg()){var f=navigator.userAgent,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),h=!!window.opera,n=0<=f.indexOf("AppleWebKit"),o=0<=f.indexOf("Gecko/"),p=0<=f.indexOf("MSIE")||0<=f.indexOf("Trident"),l=0<=f.indexOf("Chrome/"),q=0<=f.indexOf("Windows"),
z=0<=f.indexOf("Macintosh"),A="ontouchstart"in window||navigator.msMaxTouchPoints,u=!!a.querySelector,B=!!document.evaluate,E;a:{var C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d","M0,0 10,10");f=C.pathSegList;C=C.createSVGPathSegLinetoAbs(5,5);try{l||f.replaceItem(C,0);E=!0;break a}catch(G){}E=!1}var F;a:{C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d","M0,0 10,10");f=C.pathSegList;C=C.createSVGPathSegLinetoAbs(5,5);try{l||f.insertItemBefore(C,
0);F=!0;break a}catch(I){}F=!1}var O,f=document.createElementNS("http://www.w3.org/2000/svg","svg"),C=document.createElementNS("http://www.w3.org/2000/svg","svg");document.documentElement.appendChild(f);C.setAttribute("x",5);f.appendChild(C);var N=document.createElementNS("http://www.w3.org/2000/svg","text");N.textContent="a";C.appendChild(N);C=N.getStartPositionOfChar(0).x;document.documentElement.removeChild(f);O=0===C;var R,f=document.createElementNS("http://www.w3.org/2000/svg","svg");document.documentElement.appendChild(f);
C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d","M0,0 C0,0 10,10 10,0");f.appendChild(C);C=C.getBBox();document.documentElement.removeChild(f);R=4<C.height&&5>C.height;var T,f=document.createElementNS("http://www.w3.org/2000/svg","svg");document.documentElement.appendChild(f);C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d","M0,0 10,0");N=document.createElementNS("http://www.w3.org/2000/svg","path");N.setAttribute("d","M5,0 15,0");
var M=document.createElementNS("http://www.w3.org/2000/svg","g");M.appendChild(C);M.appendChild(N);f.appendChild(M);C=M.getBBox();document.documentElement.removeChild(f);T=15==C.width;f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("x",0.1);var J=-1==f.cloneNode(!1).getAttribute("x").indexOf(",");J||$j.alert("NOTE: This version of Opera is known to contain bugs.\n\t\tPlease upgrade to the <a href='http://opera.com'>latest version</a> in which the problems have been fixed.");
var K,f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("style","vector-effect:non-scaling-stroke");K="non-scaling-stroke"===f.style.vectorEffect;var X,f=document.createElementNS("http://www.w3.org/2000/svg","rect").transform.baseVal,a=a.createSVGTransform();f.appendItem(a);X=f.getItem(0)==a;svgedit.browser.isOpera=function(){return h};svgedit.browser.isWebkit=function(){return n};svgedit.browser.isGecko=function(){return o};svgedit.browser.isIE=function(){return p};svgedit.browser.isChrome=
function(){return l};svgedit.browser.isWindows=function(){return q};svgedit.browser.isMac=function(){return z};svgedit.browser.isTouch=function(){return A};svgedit.browser.isMobile=function(){var a;a:{a=["android","webos","iPhone","iPad","blackberry"];for(i in a)if(-1<navigator.userAgent.indexOf(a[i])){a=!0;break a}a=!1}return a};svgedit.browser.supportsSelectors=function(){return u};svgedit.browser.supportsXpath=function(){return B};svgedit.browser.supportsPathReplaceItem=function(){return E};svgedit.browser.supportsPathInsertItemBefore=
function(){return F};svgedit.browser.supportsPathBBox=function(){return R};svgedit.browser.supportsHVLineContainerBBox=function(){return T};svgedit.browser.supportsGoodTextCharPos=function(){return O};svgedit.browser.supportsEditableText=function(){return h};svgedit.browser.supportsGoodDecimals=function(){return J};svgedit.browser.supportsNonScalingStroke=function(){return K};svgedit.browser.supportsNativeTransformLists=function(){return X}}})();svgedit=svgedit||{};
(function(){svgedit.transformlist||(svgedit.transformlist={});var c=document.createElementNS("http://www.w3.org/2000/svg","svg"),f={};svgedit.transformlist.SVGTransformList=function(a){this._elem=a||null;this._xforms=[];this._update=function(){var a="";c.createSVGMatrix();for(var f=0;f<this.numberOfItems;++f){var o=this._list.getItem(f),p=o.matrix,l="";switch(o.type){case 1:l="matrix("+[p.a,p.b,p.c,p.d,p.e,p.f].join()+")";break;case 2:l="translate("+p.e+","+p.f+")";break;case 3:l=p.a==p.d?"scale("+
p.a+")":"scale("+p.a+","+p.d+")";break;case 4:var q=0,l=0;0!=o.angle&&(q=1-p.a,l=(q*p.f+p.b*p.e)/(q*q+p.b*p.b),q=(p.e-p.b*l)/q);l="rotate("+o.angle+" "+q+","+l+")"}a+=l+" "}this._elem.setAttribute("transform",a)};this._list=this;this._init=function(){var a=this._elem.getAttribute("transform");if(a)for(var f=/\s*((scale|matrix|rotate|translate)\s*\(.*?\))\s*,?\s*/,o=!0;o;)if(o=a.match(f),a=a.replace(f,""),o&&o[1]){var p=o[1].split(/\s*\(/),l=p[0],p=p[1].match(/\s*(.*?)\s*\)/);p[1]=p[1].replace(/(\d)-/g,
"$1 -");var q=p[1].split(/[, ]+/),z="abcdef".split(""),A=c.createSVGMatrix();$j.each(q,function(a,c){q[a]=parseFloat(c);"matrix"==l&&(A[z[a]]=q[a])});var p=c.createSVGTransform(),u="set"+l.charAt(0).toUpperCase()+l.slice(1),B="matrix"==l?[A]:q;"scale"==l&&1==B.length?B.push(B[0]):"translate"==l&&1==B.length?B.push(0):"rotate"==l&&1==B.length&&(B.push(0),B.push(0));p[u].apply(p,B);this._list.appendItem(p)}};this._removeFromOtherLists=function(a){if(a){var c=!1,o;for(o in f){for(var p=f[o],l=0,q=p._xforms.length;l<
q;++l)if(p._xforms[l]==a){c=!0;p.removeItem(l);break}if(c)break}}};this.numberOfItems=0;this.clear=function(){this.numberOfItems=0;this._xforms=[]};this.initialize=function(a){this.numberOfItems=1;this._removeFromOtherLists(a);this._xforms=[a]};this.getItem=function(a){if(a<this.numberOfItems&&0<=a)return this._xforms[a];throw{code:1};};this.insertItemBefore=function(a,c){var f=null;if(0<=c)if(c<this.numberOfItems){this._removeFromOtherLists(a);for(var f=Array(this.numberOfItems+1),p=0;p<c;++p)f[p]=
this._xforms[p];f[p]=a;for(var l=p+1;p<this.numberOfItems;++l,++p)f[l]=this._xforms[p];this.numberOfItems++;this._xforms=f;f=a;this._list._update()}else f=this._list.appendItem(a);return f};this.replaceItem=function(a,c){var f=null;c<this.numberOfItems&&0<=c&&(this._removeFromOtherLists(a),f=this._xforms[c]=a,this._list._update());return f};this.removeItem=function(a){if(a<this.numberOfItems&&0<=a){for(var c=this._xforms[a],f=Array(this.numberOfItems-1),p=0;p<a;++p)f[p]=this._xforms[p];for(a=p;a<
this.numberOfItems-1;++a,++p)f[a]=this._xforms[p+1];this.numberOfItems--;this._xforms=f;this._list._update();return c}throw{code:1};};this.appendItem=function(a){this._removeFromOtherLists(a);this._xforms.push(a);this.numberOfItems++;this._list._update();return a}};svgedit.transformlist.resetListMap=function(){f={}};svgedit.transformlist.removeElementFromListMap=function(a){a.id&&f[a.id]&&delete f[a.id]};svgedit.transformlist.getTransformList=function(a){if(svgedit.browser.supportsNativeTransformLists()){if(a.transform)return a.transform.baseVal;
if(a.gradientTransform)return a.gradientTransform.baseVal;if(a.patternTransform)return a.patternTransform.baseVal}else{var c=a.id;c||(c="temp");var n=f[c];if(!n||"temp"==c)f[c]=new svgedit.transformlist.SVGTransformList(a),f[c]._init(),n=f[c];return n}return null}})();svgedit=svgedit||{};
(function(){svgedit.math||(svgedit.math={});var c=document.createElementNS("http://www.w3.org/2000/svg","svg");svgedit.math.transformPoint=function(c,a,h){return{x:h.a*c+h.c*a+h.e,y:h.b*c+h.d*a+h.f}};svgedit.math.isIdentity=function(c){return 1===c.a&&0===c.b&&0===c.c&&1===c.d&&0===c.e&&0===c.f};svgedit.math.matrixMultiply=function(){for(var c=arguments,a=c.length,h=c[a-1];1<a--;)h=c[a-1].multiply(h);1E-14>Math.abs(h.a)&&(h.a=0);1E-14>Math.abs(h.b)&&(h.b=0);1E-14>Math.abs(h.c)&&(h.c=0);1E-14>Math.abs(h.d)&&
(h.d=0);1E-14>Math.abs(h.e)&&(h.e=0);1E-14>Math.abs(h.f)&&(h.f=0);return h};svgedit.math.hasMatrixTransform=function(c){if(!c)return!1;for(var a=c.numberOfItems;a--;){var h=c.getItem(a);if(1==h.type&&!svgedit.math.isIdentity(h.matrix))return!0}return!1};svgedit.math.transformBox=function(c,a,h,n,o){var p={x:c,y:a},l={x:c+h,y:a},h={x:c+h,y:a+n},c={x:c,y:a+n},a=svgedit.math.transformPoint,p=a(p.x,p.y,o),q=n=p.x,z=p.y,A=p.y,l=a(l.x,l.y,o),n=Math.min(n,l.x),q=Math.max(q,l.x),z=Math.min(z,l.y),A=Math.max(A,
l.y),c=a(c.x,c.y,o),n=Math.min(n,c.x),q=Math.max(q,c.x),z=Math.min(z,c.y),A=Math.max(A,c.y),h=a(h.x,h.y,o),n=Math.min(n,h.x),q=Math.max(q,h.x),z=Math.min(z,h.y),A=Math.max(A,h.y);return{tl:p,tr:l,bl:c,br:h,aabox:{x:n,y:z,width:q-n,height:A-z}}};svgedit.math.transformListToTransform=function(f,a,h){if(null==f)return c.createSVGTransformFromMatrix(c.createSVGMatrix());h=void 0==h?f.numberOfItems-1:h;a=parseInt(void 0==a?0:a);h=parseInt(h);if(a>h)var n=h,h=a,a=n;for(n=c.createSVGMatrix();a<=h;++a)var o=
0<=a&&a<f.numberOfItems?f.getItem(a).matrix:c.createSVGMatrix(),n=svgedit.math.matrixMultiply(n,o);return c.createSVGTransformFromMatrix(n)};svgedit.math.getMatrix=function(c){c=svgedit.transformlist.getTransformList(c);return svgedit.math.transformListToTransform(c).matrix};svgedit.math.snapToAngle=function(c,a,h,n){var o=Math.PI/4,h=h-c,p=n-a,n=Math.atan2(p,h),h=Math.sqrt(h*h+p*p),o=Math.round(n/o)*o,c=c+h*Math.cos(o),a=a+h*Math.sin(o);return{x:c,y:a,a:o}};svgedit.math.rectsIntersect=function(c,
a){return a.x<c.x+c.width&&a.x+a.width>c.x&&a.y<c.y+c.height&&a.y+a.height>c.y}})();svgedit=svgedit||{};
(function(){svgedit.units||(svgedit.units={});var c=["x","x1","cx","rx","width"],f=["y","y1","cy","ry","height"],a=$j.merge(["r","radius"],c);$j.merge(a,f);var h,n={px:1};svgedit.units.init=function(a){h=a;a=document.createElementNS("http://www.w3.org/2000/svg","svg");document.body.appendChild(a);var c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("width","1em");c.setAttribute("height","1ex");c.setAttribute("x","1in");a.appendChild(c);c=c.getBBox();document.body.removeChild(a);
a=c.x;n.em=c.width;n.ex=c.height;n["in"]=a;n.cm=a/2.54;n.mm=a/25.4;n.pt=a/72;n.pc=a/6;n["%"]=0};svgedit.units.getTypeMap=function(){return n};svgedit.units.shortFloat=function(a){var c=h.getRoundDigits();if(isNaN(a)){if($j.isArray(a))return svgedit.units.shortFloat(a[0])+","+svgedit.units.shortFloat(a[1])}else return+(+a).toFixed(c);return parseFloat(a).toFixed(c)-0};svgedit.units.convertUnit=function(a,c){c=c||h.getBaseUnit();return svgedit.units.shortFloat(a/n[c])};svgedit.units.setUnitAttr=function(a,
c,h){isNaN(h)||a.getAttribute(c);a.setAttribute(c,h)};var o={line:["x1","x2","y1","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],foreignObject:["x","y","width","height"],rect:["x","y","width","height"],image:["x","y","width","height"],use:["x","y","width","height"],text:["x","y"]};svgedit.units.convertAttrs=function(a){var c=a.tagName,f=h.getBaseUnit();if(c=o[c])for(var z=c.length,A=0;A<z;A++){var u=c[A],B=a.getAttribute(u);B&&!isNaN(B)&&a.setAttribute(u,B/n[f]+f)}};svgedit.units.convertToNum=
function(a,l){if(!isNaN(l))return l-0;if("points"!=a){if("%"===l.substr(-1)){var o=l.substr(0,l.length-1)/100,z=h.getWidth(),A=h.getHeight();return 0<=c.indexOf(a)?o*z:0<=f.indexOf(a)?o*A:o*Math.sqrt(z*z+A*A)/Math.sqrt(2)}z=l.substr(-2);o=l.substr(0,l.length-2);return o*n[z]}};svgedit.units.isValidUnit=function(c,l){var f=!1;if(0<=a.indexOf(c))isNaN(l)?(l=l.toLowerCase(),$j.each(n,function(a){f||RegExp("^-?[\\d\\.]+"+a+"$").test(l)&&(f=!0)})):f=!0;else{if("id"==c){var o=!1;try{o=null==h.getElement(l)}catch(A){}return o}f=
!0}return f}})();svgedit=svgedit||{};
(function(){function c(c){var h=null;if(svgedit.browser.supportsHVLineContainerBBox())try{return c.getBBox()}catch(f){}var n=$j.data(c,"ref"),h=null;if(n){var p=$j(n).children().clone().attr("visibility","hidden");$j(o).append(p);h=p.filter("line, path")}else h=$j(c).find("line, path");var B=!1;h.length?(h.each(function(){var a=this.getBBox();if(!a.width||!a.height)B=!0}),B?(c=n?p:$j(c).children(),h=a.getStrokedBBox(c)):h=c.getBBox()):h=c.getBBox();n&&p.remove();return h}svgedit.utilities||(svgedit.utilities=
{});se_ns="http://www.pixopa.com";var f="a circle ellipse foreignObject g image line path polygon polyline rect svg text tspan use".split(" "),a=null,h=null,n=null,o=null,p=null;svgedit.utilities.init=function(c,f){a=f;h=f.getDOMDocument();n=f.getDOMContainer();o=f.getSVGRoot();p=c};svgedit.utilities.toXml=function(a){return $j("<p/>").text(a).html()};svgedit.utilities.fromXml=function(a){return $j("<p/>").html(a).text()};svgedit.utilities.encode64=function(a){a=svgedit.utilities.convertToXMLReferences(a);
if(window.btoa)return window.btoa(a);var c=Array(4*Math.floor((a.length+2)/3)),h,f,n,o,p,C,G=0,F=0;do h=a.charCodeAt(G++),f=a.charCodeAt(G++),n=a.charCodeAt(G++),o=h>>2,h=(h&3)<<4|f>>4,p=(f&15)<<2|n>>6,C=n&63,isNaN(f)?p=C=64:isNaN(n)&&(C=64),c[F++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(o),c[F++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h),c[F++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(p),c[F++]=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(C);while(G<a.length);return c.join("")};svgedit.utilities.decode64=function(a){if(window.atob)return window.atob(a);var c="",h,f,n="",o,p="",C=0,a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(C++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(C++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(C++)),
p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(C++)),h=h<<2|f>>4,f=(f&15)<<4|o>>2,n=(o&3)<<6|p,c+=String.fromCharCode(h),64!=o&&(c+=String.fromCharCode(f)),64!=p&&(c+=String.fromCharCode(n));while(C<a.length);return unescape(c)};svgedit.utilities.convertToXMLReferences=function(a){for(var c="",h=0;h<a.length;h++){var f=a.charCodeAt(h);128>f?c+=a[h]:127<f&&(c+="&#"+f+";")}return c};svgedit.utilities.text2xml=function(a){0<=a.indexOf("<svg:svg")&&(a=a.replace(/<(\/?)svg:/g,
"<$1").replace("xmlns:svg","xmlns"));var c;try{var h=window.DOMParser?new DOMParser:new ActiveXObject("Microsoft.XMLDOM");h.async=!1}catch(f){throw Error("XML Parser could not be instantiated");}try{c=h.loadXML?h.loadXML(a)?h:!1:h.parseFromString(a,"text/xml")}catch(n){throw Error("Error parsing XML string");}return c};svgedit.utilities.bboxToObj=function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}};svgedit.utilities.walkTree=function(a,c){if(a&&1==a.nodeType){c(a);for(var h=a.childNodes.length;h--;)svgedit.utilities.walkTree(a.childNodes.item(h),
c)}};svgedit.utilities.walkTreePost=function(a,c){if(a&&1==a.nodeType){for(var h=a.childNodes.length;h--;)svgedit.utilities.walkTree(a.childNodes.item(h),c);c(a)}};svgedit.utilities.getUrlFromAttr=function(a){if(a){if(0===a.indexOf('url("'))return a.substring(5,a.indexOf('"',6));if(0===a.indexOf("url('"))return a.substring(5,a.indexOf("'",6));if(0===a.indexOf("url("))return a.substring(4,a.indexOf(")"))}return null};svgedit.utilities.getHref=function(a){return a.getAttributeNS("http://www.w3.org/1999/xlink",
"href")};svgedit.utilities.setHref=function(a,c){a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c)};svgedit.utilities.findDefs=function(c){var c=a.getSVGContent().documentElement,h=c.getElementsByTagNameNS("http://www.w3.org/2000/svg","defs");return 0<h.length?h[0]:c.insertBefore(c.ownerDocument.createElementNS("http://www.w3.org/2000/svg","defs"),c.firstChild.nextSibling)};svgedit.utilities.getPathBBox=function(a){for(var c=a.pathSegList,h=c.numberOfItems,a=[[],[]],f=c.getItem(0),n=
[f.x,f.y],f=0;f<h;f++){var o=c.getItem(f);if("undefined"!=typeof o.x)if(a[0].push(n[0]),a[1].push(n[1]),o.x1){for(var p=[o.x1,o.y1],C=[o.x2,o.y2],G=[o.x,o.y],F=0;2>F;F++){var o=function(a){return Math.pow(1-a,3)*n[F]+3*Math.pow(1-a,2)*a*p[F]+3*(1-a)*Math.pow(a,2)*C[F]+Math.pow(a,3)*G[F]},I=6*n[F]-12*p[F]+6*C[F],O=-3*n[F]+9*p[F]-9*C[F]+3*G[F],N=3*p[F]-3*n[F];if(0==O)0!=I&&(I=-N/I,0<I&&1>I&&a[F].push(o(I)));else if(N=Math.pow(I,2)-4*N*O,!(0>N)){var R=(-I+Math.sqrt(N))/(2*O);0<R&&1>R&&a[F].push(o(R));
I=(-I-Math.sqrt(N))/(2*O);0<I&&1>I&&a[F].push(o(I))}}n=G}else a[0].push(o.x),a[1].push(o.y)}c=Math.min.apply(null,a[0]);h=Math.max.apply(null,a[0])-c;f=Math.min.apply(null,a[1]);a=Math.max.apply(null,a[1])-f;return{x:c,y:f,width:h,height:a}};svgedit.utilities.getBBox=function(l){var h=l||a.getSelectedElements()[0];if(1!=l.nodeType)return null;var l=null,n=h.nodeName;switch(n){case "text":if(""===h.textContent)h.textContent="a",l=h.getBBox(),h.textContent="";else try{l=h.getBBox()}catch(o){}break;
case "path":if(svgedit.browser.supportsPathBBox())try{l=h.getBBox()}catch(p){}else l=svgedit.utilities.getPathBBox(h);break;case "g":case "a":l=c(h);break;default:if("use"===n&&(l=c(h,!0)),"use"===n||"foreignObject"===n)l||(l=h.getBBox()),svgedit.browser.isWebkit()||(n={},n.width=l.width,n.height=l.height,n.x=l.x+parseFloat(h.getAttribute("x")||0),n.y=l.y+parseFloat(h.getAttribute("y")||0),l=n);else if(~f.indexOf(n))try{l=h.getBBox()}catch(B){if(h=$j(h).closest("foreignObject"),h.length)try{l=h[0].getBBox()}catch(E){l=
null}else l=null}}l&&(l=svgedit.utilities.bboxToObj(l));return l};svgedit.utilities.getRotationAngle=function(c,h){var f=c||a.getSelectedElements()[0],f=svgedit.transformlist.getTransformList(f);if(!f)return 0;for(var n=f.numberOfItems,o=0;o<n;++o){var p=f.getItem(o);if(4==p.type)return h?p.angle*Math.PI/180:p.angle}return 0};svgedit.utilities.getElem=svgedit.browser.supportsSelectors()?function(a){return o.querySelector("#"+a)}:svgedit.browser.supportsXpath()?function(a){return h.evaluate('svg:svg[@id="svgroot"]//svg:*[@id="'+
a+'"]',n,function(){return"http://www.w3.org/2000/svg"},9,null).singleNodeValue}:function(a){return $j(o).find("[id="+a+"]")[0]};svgedit.utilities.assignAttributes=function(a,c,h,f){h||(h=0);svgedit.browser.isOpera()||o.suspendRedraw(h);for(var n in c)(h=p.isMultiline?"xml:"===n.substr(0,4)?"http://www.w3.org/XML/1998/namespace":"xlink:"===n.substr(0,6)?"http://www.w3.org/1999/xlink":"se"==n.substr(0,2)?se_ns:null:"xml:"===n.substr(0,4)?"http://www.w3.org/XML/1998/namespace":"xlink:"===n.substr(0,
6)?"http://www.w3.org/1999/xlink":null)?a.setAttributeNS(h,n,c[n]):f?svgedit.units.setUnitAttr(a,n,c[n]):a.setAttribute(n,c[n]);svgedit.browser.isOpera()||o.unsuspendRedraw(null)};svgedit.utilities.cleanupElement=function(a){var c=o.suspendRedraw(60),h={"fill-opacity":1,"stop-opacity":1,opacity:1,stroke:"none","stroke-dasharray":"none","stroke-linejoin":"miter","stroke-linecap":"butt","stroke-opacity":1,"stroke-width":1,rx:0,ry:0},f;for(f in h){var n=h[f];a.getAttribute(f)==n&&a.removeAttribute(f)}o.unsuspendRedraw(c)}})();
svgedit=svgedit||{};
(function(){svgedit.sanitize||(svgedit.sanitize={});var c={"http://www.w3.org/1999/xlink":"xlink","http://www.w3.org/XML/1998/namespace":"xml","http://www.w3.org/2000/xmlns/":"xmlns","http://www.pixopa.com":"se","http://www.w3.org/1999/xhtml":"xhtml","http://www.w3.org/1998/Math/MathML":"mathml"},f={};$j.each(c,function(a,c){f[c]=a});var a={a:"class clip-path clip-rule fill fill-opacity fill-rule filter id mask opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform xlink:href xlink:title".split(" "),circle:"class clip-path clip-rule cx cy fill fill-opacity fill-rule filter id mask opacity r requiredFeatures stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform".split(" "),
clipPath:["class","clipPathUnits","id"],defs:[],style:["type"],desc:[],ellipse:"class clip-path clip-rule cx cy fill fill-opacity fill-rule filter id mask opacity requiredFeatures rx ry stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform".split(" "),feGaussianBlur:["class","color-interpolation-filters","id","requiredFeatures","stdDeviation"],filter:"class color-interpolation-filters filterRes filterUnits height id primitiveUnits requiredFeatures width x xlink:href y".split(" "),
foreignObject:"class font-size height id opacity requiredFeatures style transform width x y".split(" "),g:"class clip-path clip-rule id display fill fill-opacity fill-rule filter mask opacity requiredFeatures stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform font-family font-size font-style font-weight text-anchor".split(" "),image:"class clip-path clip-rule filter height id mask opacity requiredFeatures style systemLanguage transform width x xlink:href xlink:title y".split(" "),
line:"class clip-path clip-rule fill fill-opacity fill-rule filter id marker-end marker-mid marker-start mask opacity requiredFeatures stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform x1 x2 y1 y2".split(" "),linearGradient:"class id gradientTransform gradientUnits requiredFeatures spreadMethod systemLanguage x1 x2 xlink:href y1 y2".split(" "),marker:"id class markerHeight markerUnits markerWidth orient preserveAspectRatio refX refY systemLanguage viewBox".split(" "),
mask:"class height id maskContentUnits maskUnits width x y".split(" "),metadata:["class","id"],path:"class clip-path clip-rule d fill fill-opacity fill-rule filter id marker-end marker-mid marker-start mask opacity requiredFeatures stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform".split(" "),pattern:"class height id patternContentUnits patternTransform patternUnits requiredFeatures style systemLanguage viewBox width x xlink:href y".split(" "),
polygon:"class clip-path clip-rule id fill fill-opacity fill-rule filter id class marker-end marker-mid marker-start mask opacity points requiredFeatures stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform".split(" "),polyline:"class clip-path clip-rule id fill fill-opacity fill-rule filter marker-end marker-mid marker-start mask opacity points requiredFeatures stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform".split(" "),
radialGradient:"class cx cy fx fy gradientTransform gradientUnits id r requiredFeatures spreadMethod systemLanguage xlink:href".split(" "),rect:"class clip-path clip-rule fill fill-opacity fill-rule filter height id mask opacity requiredFeatures rx ry stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform width x y".split(" "),stop:"class id offset requiredFeatures stop-color stop-opacity style systemLanguage".split(" "),
svg:"class clip-path clip-rule filter id height mask preserveAspectRatio requiredFeatures style systemLanguage viewBox width x xmlns xmlns:se xmlns:xlink y".split(" "),"switch":["class","id","requiredFeatures","systemLanguage"],symbol:"class fill fill-opacity fill-rule filter font-family font-size font-style font-weight id opacity preserveAspectRatio requiredFeatures stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage transform viewBox".split(" "),
text:"class clip-path clip-rule fill fill-opacity fill-rule filter font-family font-size font-style font-weight id mask opacity requiredFeatures stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage text-anchor transform x xml:space y".split(" "),textPath:"class id method requiredFeatures spacing startOffset style systemLanguage transform xlink:href".split(" "),title:[],tspan:"class clip-path clip-rule dx dy fill fill-opacity fill-rule filter font-family font-size font-style font-weight id mask opacity requiredFeatures rotate stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style systemLanguage text-anchor textLength transform x xml:space y".split(" "),
use:"class clip-path clip-rule fill fill-opacity fill-rule filter height id mask stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style transform width x xlink:href y".split(" "),annotation:["encoding"],"annotation-xml":["encoding"],maction:["actiontype","other","selection"],math:["class","id","display","xmlns"],menclose:["notation"],merror:[],mfrac:["linethickness"],mi:["mathvariant"],mmultiscripts:[],mn:[],mo:"fence lspace maxsize minsize rspace stretchy".split(" "),
mover:[],mpadded:["lspace","width","height","depth","voffset"],mphantom:[],mprescripts:[],mroot:[],mrow:["xlink:href","xlink:type","xmlns:xlink"],mspace:["depth","height","width"],msqrt:[],mstyle:["displaystyle","mathbackground","mathcolor","mathvariant","scriptlevel"],msub:[],msubsup:[],msup:[],mtable:"align columnalign columnlines columnspacing displaystyle equalcolumns equalrows frame rowalign rowlines rowspacing width".split(" "),mtd:["columnalign","columnspan","rowalign","rowspan"],mtext:[],
mtr:["columnalign","rowalign"],munder:[],munderover:[],none:[],semantics:[]},h={};$j.each(a,function(a,c){var p={};$j.each(c,function(a,c){if(0<=c.indexOf(":")){var h=c.split(":");p[h[1]]=f[h[0]]}else p[c]="xmlns"==c?"http://www.w3.org/2000/xmlns/":null});h[a]=p});svgedit.sanitize.getNSMap=function(){return c};svgedit.sanitize.sanitizeSvg=function(f){3==f.nodeType&&(f.nodeValue=f.nodeValue.replace(/^\s+|\s+$/g,""),f.nodeValue.length||f.parentNode.removeChild(f));if(1==f.nodeType){var o=f.parentNode;
if(f.ownerDocument&&o){var p=a[f.nodeName],l=h[f.nodeName];if(void 0!=p){for(var q=[],z=f.attributes.length;z--;){var A=f.attributes.item(z),u=A.nodeName,B=A.localName,E=A.namespaceURI;if((!l.hasOwnProperty(B)||!(E==l[B]&&"http://www.w3.org/2000/xmlns/"!=E))&&!("http://www.w3.org/2000/xmlns/"==E&&c[A.nodeValue]))0==u.indexOf("se:")&&q.push([u,A.nodeValue]),f.removeAttributeNS(E,B);if(svgedit.browser.isGecko())switch(u){case "transform":case "gradientTransform":case "patternTransform":B=A.nodeValue.replace(/(\d)-/g,
"$1 -"),f.setAttribute(u,B)}if("style"==u){A=A.nodeValue.split(";");for(u=A.length;u--;)B=A[u].split(":"),0<=p.indexOf(B[0])&&f.setAttribute(B[0],B[1]);f.removeAttribute("style")}}$j.each(q,function(a,c){f.setAttributeNS("http://www.pixopa.com",c[0],c[1])});if((z=svgedit.utilities.getHref(f))&&0<="filter linearGradient pattern radialGradient textPath use".split(" ").indexOf(f.nodeName)&&"#"!=z[0])svgedit.utilities.setHref(f,""),f.removeAttributeNS("http://www.w3.org/1999/xlink","href");if("use"==
f.nodeName&&!svgedit.utilities.getHref(f))o.removeChild(f);else{$j.each("clip-path fill filter marker-end marker-mid marker-start mask stroke".split(" "),function(a,c){var l=f.getAttribute(c);if(l&&(l=svgedit.utilities.getUrlFromAttr(l))&&l[0]!=="#"){f.setAttribute(c,"");f.removeAttribute(c)}});for(z=f.childNodes.length;z--;)svgedit.sanitize.sanitizeSvg(f.childNodes.item(z))}}else{for(p=[];f.hasChildNodes();)p.push(o.insertBefore(f.firstChild,f));o.removeChild(f);for(z=p.length;z--;)svgedit.sanitize.sanitizeSvg(p[z])}}}}})();
svgedit=svgedit||{};
(function(){svgedit.history||(svgedit.history={});svgedit.history.HistoryEventTypes={BEFORE_APPLY:"before_apply",AFTER_APPLY:"after_apply",BEFORE_UNAPPLY:"before_unapply",AFTER_UNAPPLY:"after_unapply"};svgedit.history.MoveElementCommand=function(c,f,a,h){this.elem=c;this.text=h?"Move "+c.tagName+" to "+h:"Move "+c.tagName;this.oldNextSibling=f;this.oldParent=a;this.newNextSibling=c.nextSibling;this.newParent=c.parentNode};svgedit.history.MoveElementCommand.type=function(){return"svgedit.history.MoveElementCommand"};svgedit.history.MoveElementCommand.prototype.type=
svgedit.history.MoveElementCommand.type;svgedit.history.MoveElementCommand.prototype.getText=function(){return this.text};svgedit.history.MoveElementCommand.prototype.apply=function(c){var f=[];c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_APPLY,this);if("textpath"==this.elem.getAttribute("text_type")){f=[this.elem.previousSibling,this.elem];console.log(f);for(i=0;2>i;i++)this.elem=this.newParent.insertBefore(f[i],this.newNextSibling)}else this.elem=this.newParent.insertBefore(this.elem,
this.newNextSibling);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY,this)};svgedit.history.MoveElementCommand.prototype.unapply=function(c){c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_UNAPPLY,this);var f=[];if("textpath"==this.elem.getAttribute("text_type")){f=[this.elem.previousSibling,this.elem];for(i=0;2>i;i++)this.elem=this.oldParent.insertBefore(f[i],this.oldNextSibling)}else this.elem=this.oldParent.insertBefore(this.elem,this.oldNextSibling);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY,
this)};svgedit.history.MoveElementCommand.prototype.elements=function(){return[this.elem]};svgedit.history.InsertElementCommand=function(c,f){this.elem=c;this.text=f||"Create "+c.tagName;this.parent=c.parentNode;this.nextSibling=this.elem.nextSibling};svgedit.history.InsertElementCommand.type=function(){return"svgedit.history.InsertElementCommand"};svgedit.history.InsertElementCommand.prototype.type=svgedit.history.InsertElementCommand.type;svgedit.history.InsertElementCommand.prototype.getText=function(){return this.text};
svgedit.history.InsertElementCommand.prototype.apply=function(c){c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_APPLY,this);this.elem=this.parent.insertBefore(this.elem,this.nextSibling);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY,this)};svgedit.history.InsertElementCommand.prototype.unapply=function(c){c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_UNAPPLY,this);this.parent=this.elem.parentNode;this.elem=this.elem.parentNode.removeChild(this.elem);
c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY,this)};svgedit.history.InsertElementCommand.prototype.elements=function(){return[this.elem]};svgedit.history.RemoveElementCommand=function(c,f,a,h){this.elem=c;this.text=h||"Delete "+c.tagName;this.nextSibling=f;this.parent=a;svgedit.transformlist.removeElementFromListMap(c)};svgedit.history.RemoveElementCommand.type=function(){return"svgedit.history.RemoveElementCommand"};svgedit.history.RemoveElementCommand.prototype.type=svgedit.history.RemoveElementCommand.type;
svgedit.history.RemoveElementCommand.prototype.getText=function(){return this.text};svgedit.history.RemoveElementCommand.prototype.apply=function(c){c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_APPLY,this);svgedit.transformlist.removeElementFromListMap(this.elem);this.parent=this.elem.parentNode;this.elem=this.parent.removeChild(this.elem);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY,this)};svgedit.history.RemoveElementCommand.prototype.unapply=function(c){c&&
c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_UNAPPLY,this);svgedit.transformlist.removeElementFromListMap(this.elem);null==this.nextSibling&&window.console&&window.console.log("Error: reference element was lost");this.parent.insertBefore(this.elem,this.nextSibling);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY,this)};svgedit.history.RemoveElementCommand.prototype.elements=function(){return[this.elem]};svgedit.history.ChangeElementCommand=function(c,f,a){this.elem=
c;this.text=a?"Change "+c.tagName+" "+a:"Change "+c.tagName;this.newValues={};this.oldValues=f;for(var h in f)this.newValues[h]="#text"==h?c.textContent:"#href"==h?svgedit.utilities.getHref(c):c.getAttribute(h)};svgedit.history.ChangeElementCommand.type=function(){return"svgedit.history.ChangeElementCommand"};svgedit.history.ChangeElementCommand.prototype.type=svgedit.history.ChangeElementCommand.type;svgedit.history.ChangeElementCommand.prototype.getText=function(){return this.text};svgedit.history.ChangeElementCommand.prototype.apply=
function(c){c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_APPLY,this);var f=!1,a;for(a in this.newValues){if(this.newValues[a])if("#text"==a)this.elem.textContent=this.newValues[a];else if("#href"==a)svgedit.utilities.setHref(this.elem,this.newValues[a]);else{"tspan"!=this.elem.tagName&&this.elem.setAttribute(a,this.newValues[a]);if("text"===this.elem.tagName&&"x"==a){var h=$j(this.elem).children();0<h.length&&h.attr("x",this.newValues[a])}if("text"===this.elem.tagName&&"font-family"==
a){h=$j(this.elem).children();$j(this.elem).attr("font-family",this.newValues[a]);for(i=0;i<h.length;i++)h[i].setAttribute("font-family",this.newValues[a])}"text"===this.elem.tagName&&"fill"==a&&($j(this.elem).attr("fill",this.newValues[a]),$j(this.elem).children().attr("fill",this.newValues[a]));"text"===this.elem.tagName&&"font_size"==a&&$j(this.elem).children().attr("font-size",this.newValues[a])}else"#text"==a?this.elem.textContent="":(this.elem.setAttribute(a,""),this.elem.removeAttribute(a));
"transform"==a&&(f=!0)}if(!f&&(f=svgedit.utilities.getRotationAngle(this.elem)))a=this.elem.getBBox(),f=["rotate(",f," ",a.x+a.width/2,",",a.y+a.height/2,")"].join(""),f!=this.elem.getAttribute("transform")&&this.elem.setAttribute("transform",f);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY,this);return!0};svgedit.history.ChangeElementCommand.prototype.unapply=function(c){c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_UNAPPLY,this);var f=!1,a;for(a in this.oldValues){if(this.oldValues[a])if("#text"==
a)this.elem.textContent=this.oldValues[a];else if("#href"==a)svgedit.utilities.setHref(this.elem,this.oldValues[a]);else{"tspan"!=this.elem.tagName&&this.elem.setAttribute(a,this.oldValues[a]);if("text"===this.elem.tagName&&"x"==a){var h=$j(this.elem).children();0<h.length&&h.attr("x",this.oldValues[a])}if("text"===this.elem.tagName&&"font-family"==a){h=$j(this.elem).children();$j(this.elem).attr("font-family",this.oldValues[a]);for(i=0;i<h.length;i++)h[i].setAttribute("font-family",this.oldValues[a])}"text"===
this.elem.tagName&&"fill"==a&&($j(this.elem).attr("fill",this.oldValues[a]),$j(this.elem).children().attr("fill",this.oldValues[a]));"text"===this.elem.tagName&&"font_size"==a&&$j(this.elem).children().attr("font-size",this.oldValues[a])}else"#text"==a?this.elem.textContent="":this.elem.removeAttribute(a);"transform"==a&&(f=!0)}if(!f&&(f=svgedit.utilities.getRotationAngle(this.elem)))a=this.elem.getBBox(),f=["rotate(",f," ",a.x+a.width/2,",",a.y+a.height/2,")"].join(""),f!=this.elem.getAttribute("transform")&&
this.elem.setAttribute("transform",f);svgedit.transformlist.removeElementFromListMap(this.elem);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY,this);return!0};svgedit.history.ChangeElementCommand.prototype.elements=function(){return[this.elem]};svgedit.history.BatchCommand=function(c){this.text=c||"Batch Command";this.stack=[]};svgedit.history.BatchCommand.type=function(){return"svgedit.history.BatchCommand"};svgedit.history.BatchCommand.prototype.type=svgedit.history.BatchCommand.type;
svgedit.history.BatchCommand.prototype.getText=function(){return this.text};svgedit.history.BatchCommand.prototype.apply=function(c){c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_APPLY,this);for(var f=this.stack.length,a=0;a<f;++a)this.stack[a].apply(c);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY,this)};svgedit.history.BatchCommand.prototype.unapply=function(c){c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_UNAPPLY,this);for(var f=this.stack.length-
1;0<=f;f--)this.stack[f].unapply(c);c&&c.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY,this)};svgedit.history.BatchCommand.prototype.elements=function(){for(var c=[],f=this.stack.length;f--;)for(var a=this.stack[f].elements(),h=a.length;h--;)-1==c.indexOf(a[h])&&c.push(a[h]);return c};svgedit.history.BatchCommand.prototype.addSubCommand=function(c){this.stack.push(c)};svgedit.history.BatchCommand.prototype.isEmpty=function(){return 0==this.stack.length};svgedit.history.UndoManager=
function(c){this.handler_=c||null;this.undoStackPointer=0;this.undoStack=[];this.undoChangeStackPointer=-1;this.undoableChangeStack=[]};svgedit.history.UndoManager.prototype.resetUndoStack=function(){this.undoStack=[];this.undoStackPointer=0};svgedit.history.UndoManager.prototype.getUndoStackSize=function(){return this.undoStackPointer};svgedit.history.UndoManager.prototype.getRedoStackSize=function(){return this.undoStack.length-this.undoStackPointer};svgedit.history.UndoManager.prototype.getNextUndoCommandText=
function(){return 0<this.undoStackPointer?this.undoStack[this.undoStackPointer-1].getText():""};svgedit.history.UndoManager.prototype.getNextRedoCommandText=function(){return this.undoStackPointer<this.undoStack.length?this.undoStack[this.undoStackPointer].getText():""};svgedit.history.UndoManager.prototype.undo=function(){0<this.undoStackPointer&&this.undoStack[--this.undoStackPointer].unapply(this.handler_)};svgedit.history.UndoManager.prototype.redo=function(){this.undoStackPointer<this.undoStack.length&&
0<this.undoStack.length&&this.undoStack[this.undoStackPointer++].apply(this.handler_)};svgedit.history.UndoManager.prototype.addCommandToHistory=function(c){this.undoStackPointer<this.undoStack.length&&0<this.undoStack.length&&(this.undoStack=this.undoStack.splice(0,this.undoStackPointer));this.undoStack.push(c);this.undoStackPointer=this.undoStack.length};svgedit.history.UndoManager.prototype.beginUndoableChange=function(c,f){for(var a=++this.undoChangeStackPointer,h=f.length,n=Array(h),o=Array(h);h--;){var p=
f[h];null!=p&&(o[h]=p,n[h]=p.getAttribute(c))}this.undoableChangeStack[a]={attrName:c,oldValues:n,elements:o}};svgedit.history.UndoManager.prototype.finishUndoableChange=function(){for(var c=this.undoChangeStackPointer--,f=this.undoableChangeStack[c],a=f.elements.length,h=f.attrName,n=new svgedit.history.BatchCommand("Change "+h);a--;){var o=f.elements[a];if(null!=o){var p={};p[h]=f.oldValues[a];p[h]!=o.getAttribute(h)&&n.addSubCommand(new svgedit.history.ChangeElementCommand(o,p,h))}}this.undoableChangeStack[c]=
null;return n}})();svgedit=svgedit||{};
(function(){svgedit.select||(svgedit.select={});var c,f,a;svgedit.select.Selector=function(a,n){this.id=a;this.selectedElement=n;this.locked=!0;this.selectorGroup=c.createSVGElement({element:"g",attr:{id:"selectorGroup"+this.id}});this.selectorRect=this.selectorGroup.appendChild(c.createSVGElement({element:"path",attr:{id:"selectedBox"+this.id,fill:"none",stroke:f.selectorRect.color,"stroke-width":f.selectorRect.strokeWidth,"stroke-dasharray":"5,5",style:"pointer-events:none"}}));this.gripCoords=
{nw:null,n:null,ne:null,e:null,se:null,s:null,sw:null,w:null};this.reset(this.selectedElement)};svgedit.select.Selector.prototype.reset=function(a){this.locked=!0;this.selectedElement=a;this.resize();this.selectorGroup.setAttribute("display","inline")};svgedit.select.Selector.prototype.updateGripCursors=function(c){var f=[],c=Math.round(c/45);0>c&&(c+=8);for(var o in a.selectorGrips)f.push(o);for(;0<c;)f.push(f.shift()),c--;c=0;for(o in a.selectorGrips)a.selectorGrips[o].setAttribute("style","cursor:"+
f[c]+"-resize"),c++};svgedit.select.Selector.prototype.showGrips=function(c){a.selectorGripsGroup.setAttribute("display",c?"inline":"none");var f=this.selectedElement;this.hasGrips=c;f&&c&&(this.selectorGroup.appendChild(a.selectorGripsGroup),this.updateGripCursors(svgedit.utilities.getRotationAngle(f)))};svgedit.select.Selector.prototype.resize=function(){var h=this.selectorRect,n=a,o=n.selectorGrips,p=this.selectedElement,l=p.getAttribute("stroke-width"),q=c.currentZoom(),z=1/q;"none"!==p.getAttribute("stroke")&&
!isNaN(l)&&(z+=l/2);var A=p.tagName;"text"===A&&(z+=2/q);svgedit.browser.isIE()&&""!=$j("#text").val()&&$j("#selectorParentGroup").show();l=svgedit.transformlist.getTransformList(p);l=svgedit.math.transformListToTransform(l).matrix;l.e*=q;l.f*=q;var u=svgedit.utilities.getBBox(p);"g"===A&&!$j.data(p,"gsvg")&&(A=c.getStrokedBBox(p.childNodes))&&(u=A);var A=u.x,B=u.y,E=u.width,u=u.height,z=z*q,A=svgedit.math.transformBox(A*q,B*q,E*q,u*q,l),B=A.aabox,l=B.x-z,q=B.y-z,u=B.width+2*z,C=B.height+2*z,B=l+
u/2,E=q+C/2;if(p=svgedit.utilities.getRotationAngle(p)){q=c.svgRoot().createSVGTransform();q.setRotate(-p,B,E);q=q.matrix;A.tl=svgedit.math.transformPoint(A.tl.x,A.tl.y,q);A.tr=svgedit.math.transformPoint(A.tr.x,A.tr.y,q);A.bl=svgedit.math.transformPoint(A.bl.x,A.bl.y,q);A.br=svgedit.math.transformPoint(A.br.x,A.br.y,q);var q=A.tl,u=q.x,C=q.y,G=q.x,F=q.y,q=Math.min,l=Math.max,u=q(u,q(A.tr.x,q(A.bl.x,A.br.x)))-z,C=q(C,q(A.tr.y,q(A.bl.y,A.br.y)))-z,G=l(G,l(A.tr.x,l(A.bl.x,A.br.x)))+z,F=l(F,l(A.tr.y,
l(A.bl.y,A.br.y)))+z,l=u,q=C,u=G-u,C=F-C}z=c.svgRoot().suspendRedraw(100);h.setAttribute("d","M"+l+","+q+" L"+(l+u)+","+q+" "+(l+u)+","+(q+C)+" "+l+","+(q+C)+"z");h=p?"rotate("+[p,B,E].join()+")":"";this.selectorGroup.setAttribute("transform",h);h=svgedit.browser.isTouch()?q-f.selection.sqr_width_height_ipad:q-f.selection.sqr_width_height;p=svgedit.browser.isTouch()?l-f.selection.sqr_width_height_ipad:l-f.selection.sqr_width_height;A=svgedit.browser.isTouch()?l+u/2-f.selection.sqr_width_height_ipad/
2:l+u/2-f.selection.sqr_width_height/2;"circle"==f.selection.sel_shape?this.gripCoords={nw:[l,q],ne:[l+u,q],sw:[l,q+C],se:[l+u,q+C],n:[l+u/2,q],w:[l,q+C/2],e:[l+u,q+C/2],s:[l+u/2,q+C]}:"rect"==f.selection.sel_shape&&(this.gripCoords={nw:[p,h],ne:[l+u,h],sw:[p,q+C],se:[l+u,q+C],n:[A,h],w:[p,q+C/2-f.selection.sqr_width_height/2],e:[l+u,q+C/2-f.selection.sqr_width_height/2],s:[l+u/2-f.selection.sqr_width_height/2,q+C]});for(var I in this.gripCoords)"circle"==f.selection.sel_shape?(h=this.gripCoords[I],
o[I].setAttribute("cx",h[0]),o[I].setAttribute("cy",h[1])):"rect"==f.selection.sel_shape&&(h=this.gripCoords[I],o[I].setAttribute("x",h[0]),o[I].setAttribute("y",h[1]));o=svgedit.browser.isTouch()?15:10;"circle"==f.selection.sel_shape?(n.rotateGripConnector.setAttribute("x1",l+u/2),n.rotateGripConnector.setAttribute("y1",q-f.selection.circle_r/2),n.rotateGripConnector.setAttribute("x2",l+u/2),n.rotateGripConnector.setAttribute("y2",q-o-f.selection.circle_r/2),I=$j("#selectorGrip_rotateconnector").attr("y1"),
h=$j("#selectorGrip_rotateconnector").attr("y2"),h=I-h,f.selection.circle_r>f.selection_rotate.circle_r?n.rotateGripConnector.setAttribute("y1",q-f.selection.circle_r/2-h):f.selection.circle_r<f.selection_rotate.circle_r&&n.rotateGripConnector.setAttribute("y1",q-f.selection.circle_r/2-h),n.rotateGripConnector.setAttribute("y2",q-o-f.selection.circle_r-h)):(n.rotateGripConnector.setAttribute("x1",l+u/2),n.rotateGripConnector.setAttribute("y1",q-f.selection.sqr_width_height),n.rotateGripConnector.setAttribute("x2",
l+u/2),n.rotateGripConnector.setAttribute("y2",q-o-f.selection.sqr_width_height),I=$j("#selectorGrip_rotateconnector").attr("y1"),h=$j("#selectorGrip_rotateconnector").attr("y2"),h=I-h,I=svgedit.browser.isTouch()?q-f.selection.sqr_width_height_ipad:q-f.selection.sqr_width_height,h=svgedit.browser.isTouch()?q-o-f.selection.sqr_width_height_ipad-h:q-o-f.selection.sqr_width_height-h,n.rotateGripConnector.setAttribute("y1",I),n.rotateGripConnector.setAttribute("y2",h));"circle"==f.selection_rotate.sel_shape?
"rect"==f.selection.sel_shape?(n.rotateGrip.setAttribute("cx",l+u/2),n.rotateGrip.setAttribute("cy",q-o-f.selection.sqr_width_height),I=20,h=$j("#selectorGrip_rotate").attr("y"),l=$j("#selectorGrip_resize_n").attr("cy"),h=l-h,l=$j("#selectorGrip_rotate").attr("r"),u=$j("#selectorGrip_resize_n").attr("width"),n.rotateGrip.setAttribute("cy",q-o-f.selection.sqr_width_height-(I-(h-(l+u)))/2)):(n.rotateGrip.setAttribute("cx",l+u/2),n.rotateGrip.setAttribute("cy",q-o),I=20,h=$j("#selectorGrip_rotate").attr("cy"),
l=$j("#selectorGrip_resize_n").attr("cy"),h=l-h,l=$j("#selectorGrip_rotate").attr("r"),u=$j("#selectorGrip_resize_n").attr("r"),n.rotateGrip.setAttribute("cy",q-o-(I-(h-(l+u))))):"rect"==f.selection_rotate.sel_shape&&("rect"==f.selection.sel_shape?(n.rotateGrip.setAttribute("x",l+u/2-f.selection_rotate.sqr_width_height/2),n.rotateGrip.setAttribute("y",q-o-f.selection_rotate.sqr_width_height),I=20,h=$j("#selectorGrip_rotate").attr("y"),l=$j("#selectorGrip_resize_n").attr("y"),h=l-h,l=$j("#selectorGrip_rotate").attr("width"),
u=$j("#selectorGrip_resize_n").attr("width"),n.rotateGrip.setAttribute("y",q-o-f.selection_rotate.sqr_width_height-(I-(h-(l+u)))/2)):(n.rotateGrip.setAttribute("x",l+u/2-f.selection_rotate.sqr_width_height/2),n.rotateGrip.setAttribute("y",q-o-f.selection_rotate.sqr_width_height),I=20,h=$j("#selectorGrip_rotate").attr("y"),l=$j("#selectorGrip_resize_n").attr("cy"),h=l-h,l=$j("#selectorGrip_rotate").attr("width"),u=$j("#selectorGrip_resize_n").attr("r"),n.rotateGrip.setAttribute("y",q-o-f.selection_rotate.sqr_width_height-
(I-(h-(l+u))))));c.svgRoot().unsuspendRedraw(z)};svgedit.select.SelectorManager=function(){this.rubberBandBox=this.selectorParentGroup=null;this.selectors=[];this.selectorMap={};this.selectorGrips={nw:null,n:null,ne:null,e:null,se:null,s:null,sw:null,w:null};this.rotateGrip=this.rotateGripConnector=this.selectorGripsGroup=null;this.initGroup()};svgedit.select.SelectorManager.prototype.initGroup=function(){this.selectorParentGroup&&this.selectorParentGroup.parentNode&&this.selectorParentGroup.parentNode.removeChild(this.selectorParentGroup);
this.selectorParentGroup=c.createSVGElement({element:"g",attr:{id:"selectorParentGroup"}});this.selectorGripsGroup=c.createSVGElement({element:"g",attr:{display:"none"}});this.selectorParentGroup.appendChild(this.selectorGripsGroup);c.svgRoot().appendChild(this.selectorParentGroup);this.selectorMap={};this.selectors=[];this.rubberBandBox=null;for(var a in this.selectorGrips){if("circle"==f.selection.sel_shape)var n=c.createSVGElement({element:f.selection.sel_shape,attr:{id:"selectorGrip_resize_"+
a,fill:f.selection.color,r:svgedit.browser.isTouch()?f.selection.circle_ipad_r:f.selection.circle_r,style:"cursor:"+a+"-resize","stroke-width":f.selection.stroke_width,"pointer-events":"all"}});else"rect"==f.selection.sel_shape&&(n=c.createSVGElement({element:f.selection.sel_shape,attr:{id:"selectorGrip_resize_"+a,fill:f.selection.color,width:svgedit.browser.isTouch()?f.selection.sqr_width_height_ipad:f.selection.sqr_width_height,height:svgedit.browser.isTouch()?f.selection.sqr_width_height_ipad:
f.selection.sqr_width_height,style:"cursor:"+a+"-resize","stroke-width":f.selection.stroke_width,stroke:f.selection.stroke_color,"pointer-events":"all"}}));$j.data(n,"dir",a);$j.data(n,"type","resize");this.selectorGrips[a]=this.selectorGripsGroup.appendChild(n)}this.rotateGripConnector=this.selectorGripsGroup.appendChild(c.createSVGElement({element:"line",attr:{id:"selectorGrip_rotateconnector",stroke:f.rotateGripConnector.color,"stroke-width":"1"}}));"circle"==f.selection_rotate.sel_shape?this.rotateGrip=
this.selectorGripsGroup.appendChild(c.createSVGElement({element:f.selection_rotate.sel_shape,attr:{id:"selectorGrip_rotate",fill:f.selection_rotate.color,r:svgedit.browser.isTouch()?f.selection_rotate.circle_ipad_r:f.selection_rotate.circle_r,stroke:f.selection_rotate.stroke_color,"stroke-width":f.selection_rotate.stroke_width,style:svgedit.browser.isIE()?"cursor:url("+f.imgPath+"ie-rotate.cur), auto;":"cursor:url("+f.imgPath+"rotate.png) 12 12, auto;"}})):"rect"==f.selection_rotate.sel_shape&&(this.rotateGrip=
this.selectorGripsGroup.appendChild(c.createSVGElement({element:f.selection_rotate.sel_shape,attr:{id:"selectorGrip_rotate",fill:f.selection_rotate.color,width:svgedit.browser.isTouch()?f.selection.sqr_width_height_ipad:f.selection_rotate.sqr_width_height,height:svgedit.browser.isTouch()?f.selection.sqr_width_height_ipad:f.selection_rotate.sqr_width_height,stroke:f.selection_rotate.stroke_color,"stroke-width":f.selection_rotate.stroke_width,style:svgedit.browser.isIE()?"cursor:url("+f.imgPath+"ie-rotate.cur), auto;":
"cursor:url("+f.imgPath+"rotate.png) 12 12, auto;"}})));$j.data(this.rotateGrip,"type","rotate");$j("#canvasBackground").length||(a=f.dimensions,zoom=5*c.currentZoom(),a=c.createSVGElement({element:"svg",attr:{id:"canvasBackground",width:a[0],height:a[1],x:0,y:zoom,overflow:svgedit.browser.isWebkit()?"none":"visible",style:"pointer-events:none"}}),n=svgedit.browser.isOpera()?c.createSVGElement({element:"rect",attr:{width:"100%",height:"100%",x:0,y:0,"stroke-width":1,fill:"#FFF",style:"pointer-events:none"}}):
c.createSVGElement({element:"rect",attr:{width:"100%",height:"100%",x:0,y:0,"stroke-width":1,fill:"#FFF",style:"pointer-events:none",filter:svgedit.browser.isIE()?"":"url(#canvashadow)"}}),c.svgRoot().appendChild(a,c.svgContent()),svgedit.amiconDOL.addBleedLine(f,c),a.appendChild(n))};svgedit.select.SelectorManager.prototype.requestSelector=function(a){if(null==a)return null;var c=this.selectors.length;if("object"==typeof this.selectorMap[a.id])return this.selectorMap[a.id].locked=!0,this.selectorMap[a.id];
for(var f=0;f<c;++f)if(this.selectors[f]&&!this.selectors[f].locked)return this.selectors[f].locked=!0,this.selectors[f].reset(a),this.selectorMap[a.id]=this.selectors[f],this.selectors[f];this.selectors[c]=new svgedit.select.Selector(c,a);this.selectorParentGroup.appendChild(this.selectors[c].selectorGroup);this.selectorMap[a.id]=this.selectors[c];return this.selectors[c]};svgedit.select.SelectorManager.prototype.releaseSelector=function(a){if(null!=a)for(var c=this.selectors.length,f=this.selectorMap[a.id],
p=0;p<c;++p)if(this.selectors[p]&&this.selectors[p]==f){!1==f.locked&&window.console.log("WARNING! selector was released but was already unlocked");delete this.selectorMap[a.id];f.locked=!1;f.selectedElement=null;f.showGrips(!1);try{f.selectorGroup.setAttribute("display","none")}catch(l){}break}};svgedit.select.SelectorManager.prototype.getRubberBandBox=function(){this.rubberBandBox||(this.rubberBandBox=this.selectorParentGroup.appendChild(c.createSVGElement({element:"rect",attr:{id:"selectorRubberBand",
fill:"#22C","fill-opacity":0.15,stroke:"#22C","stroke-width":0.5,display:"none",style:"pointer-events:none"}})));return this.rubberBandBox};svgedit.select.init=function(h,n){f=h;c=n;a=new svgedit.select.SelectorManager};svgedit.select.getSelectorManager=function(){return a}})();svgedit=svgedit||{};
(function(){svgedit.draw||(svgedit.draw={});var c="a circle ellipse foreignObject g image line path polygon polyline rect svg text tspan use".split(" "),f=0;svgedit.draw.Layer=function(a,c){this.name_=a;this.group_=c};svgedit.draw.Layer.prototype.getName=function(){return this.name_};svgedit.draw.Layer.prototype.getGroup=function(){return this.group_};svgedit.draw.randomizeIds=function(a,c){f=!1==a?2:1;1==f&&!c.getNonce()?c.setNonce(Math.floor(100001*Math.random())):2==f&&c.getNonce()&&c.clearNonce()};
svgedit.draw.Drawing=function(a,c){if(!a||!a.tagName||!a.namespaceURI||"svg"!=a.tagName||"http://www.w3.org/2000/svg"!=a.namespaceURI)throw"Error: svgedit.draw.Drawing instance initialized without a <svg> element";this.svgElem_=a;this.obj_num=0;this.idPrefix=c||"svg_";this.releasedNums=[];this.all_layers=[];this.current_layer=null;this.nonce_="";var n=this.svgElem_.getAttributeNS("http://www.pixopa.com","nonce");n&&2!=f?this.nonce_=n:1==f&&this.setNonce(Math.floor(100001*Math.random()))};svgedit.draw.Drawing.prototype.getElem_=
function(a){return this.svgElem_.querySelector?this.svgElem_.querySelector("#"+a):$j(this.svgElem_).find("[id="+a+"]")[0]};svgedit.draw.Drawing.prototype.getSvgElem=function(){return this.svgElem_};svgedit.draw.Drawing.prototype.getNonce=function(){return this.nonce_};svgedit.draw.Drawing.prototype.setNonce=function(a){this.svgElem_.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:se","http://www.pixopa.com");this.svgElem_.setAttributeNS("http://www.pixopa.com","se:nonce",a);this.nonce_=a};svgedit.draw.Drawing.prototype.clearNonce=
function(){this.nonce_=""};svgedit.draw.Drawing.prototype.getId=function(){return this.nonce_?this.idPrefix+this.nonce_+"_"+this.obj_num:this.idPrefix+this.obj_num};svgedit.draw.Drawing.prototype.getNextId=function(){var a=this.obj_num,c=!1;0<this.releasedNums.length?(this.obj_num=this.releasedNums.pop(),c=!0):this.obj_num++;for(var f=this.getId();this.getElem_(f);)c&&(this.obj_num=a,c=!1),this.obj_num++,f=this.getId();c&&(this.obj_num=a);return f};svgedit.draw.Drawing.prototype.releaseId=function(a){var c=
this.idPrefix+(this.nonce_?this.nonce_+"_":"");if("string"!=typeof a||0!=a.indexOf(c))return!1;a=parseInt(a.substr(c.length));if("number"!=typeof a||0>=a||-1!=this.releasedNums.indexOf(a))return!1;this.releasedNums.push(a);return!0};svgedit.draw.Drawing.prototype.getNumLayers=function(){return this.all_layers.length};svgedit.draw.Drawing.prototype.hasLayer=function(a){for(var c=0;c<this.getNumLayers();c++)if(this.all_layers[c][0]==a)return!0;return!1};svgedit.draw.Drawing.prototype.getLayerName=function(a){return 0<=
a&&a<this.getNumLayers()?this.all_layers[a][0]:""};svgedit.draw.Drawing.prototype.getCurrentLayer=function(){return this.current_layer};svgedit.draw.Drawing.prototype.getCurrentLayerName=function(){for(var a=0;a<this.getNumLayers();++a)if(this.all_layers[a][1]==this.current_layer)return this.getLayerName(a);return""};svgedit.draw.Drawing.prototype.setCurrentLayer=function(a){for(var c=0;c<this.getNumLayers();++c)if(a==this.getLayerName(c))return this.current_layer!=this.all_layers[c][1]&&(this.current_layer.setAttribute("style",
"pointer-events:none"),this.current_layer=this.all_layers[c][1],this.current_layer.setAttribute("style","pointer-events:all")),!0;return!1};svgedit.draw.Drawing.prototype.deleteCurrentLayer=function(){if(this.current_layer&&1<this.getNumLayers()){var a=this.current_layer.parentNode.removeChild(this.current_layer);this.identifyLayers();return a}return null};svgedit.draw.Drawing.prototype.identifyLayers=function(){this.all_layers=[];for(var a=this.svgElem_.childNodes.length,h=[],f=[],o=null,p=!1,l=
0;l<a;++l){var q=this.svgElem_.childNodes.item(l);if(q&&1==q.nodeType)if("g"==q.tagName){var p=!0,z=$j("title",q).text();!z&&svgedit.browser.isOpera()&&q.querySelectorAll&&(z=$j(q.querySelectorAll("title")).text());z?(f.push(z),this.all_layers.push([z,q]),o=q,svgedit.utilities.walkTree(q,function(a){a.setAttribute("style","pointer-events:inherit")}),o.setAttribute("style","pointer-events:none")):h.push(q)}else~c.indexOf(q.nodeName)&&(svgedit.utilities.getBBox(q),h.push(q))}a=this.svgElem_.ownerDocument;
if(0<h.length||!p){for(l=1;0<=f.indexOf("Layer "+l);)l++;f="Layer "+l;o=a.createElementNS("http://www.w3.org/2000/svg","g");p=a.createElementNS("http://www.w3.org/2000/svg","title");p.textContent=f;o.appendChild(p);for(p=0;p<h.length;++p)o.appendChild(h[p]);this.svgElem_.appendChild(o);this.all_layers.push([f,o])}svgedit.utilities.walkTree(o,function(a){a.setAttribute("style","pointer-events:inherit")});this.current_layer=o;this.current_layer.setAttribute("style","pointer-events:all")};svgedit.draw.Drawing.prototype.createLayer=
function(a){var c=this.svgElem_.ownerDocument,f=c.createElementNS("http://www.w3.org/2000/svg","g"),c=c.createElementNS("http://www.w3.org/2000/svg","title");c.textContent=a;f.appendChild(c);this.svgElem_.appendChild(f);this.identifyLayers();return f};svgedit.draw.Drawing.prototype.getLayerVisibility=function(a){for(var c=null,f=0;f<this.getNumLayers();++f)if(this.getLayerName(f)==a){c=this.all_layers[f][1];break}return!c?!1:"none"!=c.getAttribute("display")};svgedit.draw.Drawing.prototype.setLayerVisibility=
function(a,c){if("boolean"!=typeof c)return null;for(var f=null,o=0;o<this.getNumLayers();++o)if(this.getLayerName(o)==a){f=this.all_layers[o][1];break}if(!f)return null;f.getAttribute("display");f.setAttribute("display",c?"inline":"none");return f};svgedit.draw.Drawing.prototype.getLayerOpacity=function(a){for(var c=0;c<this.getNumLayers();++c)if(this.getLayerName(c)==a)return(a=this.all_layers[c][1].getAttribute("opacity"))||(a="1.0"),parseFloat(a);return null};svgedit.draw.Drawing.prototype.setLayerOpacity=
function(a,c){if(!("number"!=typeof c||0>c||1<c))for(var f=0;f<this.getNumLayers();++f)if(this.getLayerName(f)==a){this.all_layers[f][1].setAttribute("opacity",c);break}}})();svgedit=svgedit||{};
(function(){svgedit.path||(svgedit.path={});var c={2:["x","y"],4:["x","y"],6:"x y x1 y1 x2 y2".split(" "),8:["x","y","x1","y1"],10:"x y r1 r2 angle largeArcFlag sweepFlag".split(" "),12:["x"],14:["y"],16:["x","y","x2","y2"],18:["x","y"]},f=[],a=!0,h={};svgedit.path.setLinkControlPoints=function(c){a=c};var n=svgedit.path.path=null;svgedit.path.init=function(a){n=a;f=[0,"ClosePath"];$j.each("Moveto Lineto CurvetoCubic CurvetoQuadratic Arc LinetoHorizontal LinetoVertical CurvetoCubicSmooth CurvetoQuadraticSmooth".split(" "),
function(a,c){f.push(c+"Abs");f.push(c+"Rel")})};svgedit.path.insertItemBefore=function(a,c,h){a=a.pathSegList;if(svgedit.browser.supportsPathInsertItemBefore())a.insertItemBefore(c,h);else{for(var f=a.numberOfItems,n=[],o=0;o<f;o++){var B=a.getItem(o);n.push(B)}a.clear();for(o=0;o<f;o++)o==h&&a.appendItem(c),a.appendItem(n[o])}};svgedit.path.ptObjToArr=function(a,l){for(var h=c[a],f=h.length,n=Array(f),o=0;o<f;o++)n[o]=l[h[o]];return n};svgedit.path.getGripPt=function(a,c){var h={x:c?c.x:a.item.x,
y:c?c.y:a.item.y},f=a.path;f.matrix&&(h=svgedit.math.transformPoint(h.x,h.y,f.matrix));h.x*=n.getCurrentZoom();h.y*=n.getCurrentZoom();return h};svgedit.path.getPointFromGrip=function(a,c){var h={x:a.x,y:a.y};c.matrix&&(a=svgedit.math.transformPoint(h.x,h.y,c.imatrix),h.x=a.x,h.y=a.y);h.x/=n.getCurrentZoom();h.y/=n.getCurrentZoom();return h};svgedit.path.addPointGrip=function(a,c,h){var f=svgedit.path.getGripContainer(),n=svgedit.utilities.getElem("pathpointgrip_"+a);n||(n=document.createElementNS("http://www.w3.org/2000/svg",
"circle"),svgedit.utilities.assignAttributes(n,{id:"pathpointgrip_"+a,display:"none",r:4,fill:"#0FF",stroke:"#00F","stroke-width":2,cursor:"move",style:"pointer-events:all","xlink:title":"Drag node to move it. Double-click node to change segment type"}),n=f.appendChild(n),$j("#pathpointgrip_"+a).dblclick(function(){svgedit.path.path&&svgedit.path.path.setSegType()}));c&&h&&svgedit.utilities.assignAttributes(n,{cx:c,cy:h,display:"inline"});return n};svgedit.path.getGripContainer=function(){var a=svgedit.utilities.getElem("pathpointgrip_container");
a||(a=svgedit.utilities.getElem("selectorParentGroup").appendChild(document.createElementNS("http://www.w3.org/2000/svg","g")),a.id="pathpointgrip_container");return a};svgedit.path.addCtrlGrip=function(a){var c=svgedit.utilities.getElem("ctrlpointgrip_"+a);if(c)return c;c=document.createElementNS("http://www.w3.org/2000/svg","circle");svgedit.utilities.assignAttributes(c,{id:"ctrlpointgrip_"+a,display:"none",r:4,fill:"#0FF",stroke:"#55F","stroke-width":1,cursor:"move",style:"pointer-events:all",
"xlink:title":"Drag control point to adjust curve properties"});svgedit.path.getGripContainer().appendChild(c);return c};svgedit.path.getCtrlLine=function(a){var c=svgedit.utilities.getElem("ctrlLine_"+a);if(c)return c;c=document.createElementNS("http://www.w3.org/2000/svg","line");svgedit.utilities.assignAttributes(c,{id:"ctrlLine_"+a,stroke:"#555","stroke-width":1,style:"pointer-events:none"});svgedit.path.getGripContainer().appendChild(c);return c};svgedit.path.getPointGrip=function(a,c){var h=
svgedit.path.addPointGrip(a.index);if(c){var f=svgedit.path.getGripPt(a);svgedit.utilities.assignAttributes(h,{cx:f.x,cy:f.y,display:"inline"})}return h};svgedit.path.getControlPoints=function(a){var c=a.item,h=a.index;if(!("x1"in c)||!("x2"in c))return null;var f={};svgedit.path.getGripContainer();for(var n=[svgedit.path.path.segs[h-1].item,c],o=1;3>o;o++){var B=h+"c"+o,E=f["c"+o+"_line"]=svgedit.path.getCtrlLine(B),C=svgedit.path.getGripPt(a,{x:c["x"+o],y:c["y"+o]}),G=svgedit.path.getGripPt(a,{x:n[o-
1].x,y:n[o-1].y});svgedit.utilities.assignAttributes(E,{x1:C.x,y1:C.y,x2:G.x,y2:G.y,display:"inline"});f["c"+o+"_line"]=E;B=f["c"+o]=svgedit.path.addCtrlGrip(B);svgedit.utilities.assignAttributes(B,{cx:C.x,cy:C.y,display:"inline"});f["c"+o]=B}return f};svgedit.path.replacePathSeg=function(a,c,h,n){n=n||svgedit.path.path.elem;a=n["createSVGPathSeg"+f[a]].apply(n,h);if(svgedit.browser.supportsPathReplaceItem())n.pathSegList.replaceItem(a,c);else{for(var h=n.pathSegList,n=h.numberOfItems,o=[],u=0;u<
n;u++){var B=h.getItem(u);o.push(B)}h.clear();for(u=0;u<n;u++)u==c?h.appendItem(a):h.appendItem(o[u])}};svgedit.path.getSegSelector=function(a,c){var h=a.index,f=svgedit.utilities.getElem("segline_"+h);if(!f){var n=svgedit.path.getGripContainer(),f=document.createElementNS("http://www.w3.org/2000/svg","path");svgedit.utilities.assignAttributes(f,{id:"segline_"+h,display:"none",fill:"none",stroke:"#0FF","stroke-width":2,style:"pointer-events:none",d:"M0,0 0,0"});n.appendChild(f)}if(c){h=a.prev;if(!h)return f.setAttribute("display",
"none"),f;h=svgedit.path.getGripPt(h);svgedit.path.replacePathSeg(2,0,[h.x,h.y],f);for(var n=svgedit.path.ptObjToArr(a.type,a.item,!0),o=0;o<n.length;o+=2)h=svgedit.path.getGripPt(a,{x:n[o],y:n[o+1]}),n[o]=h.x,n[o+1]=h.y;svgedit.path.replacePathSeg(a.type,1,n,f)}return f};svgedit.path.smoothControlPoints=this.smoothControlPoints=function(a,c,h){var f=a.x-h.x,o=a.y-h.y,u=c.x-h.x,B=c.y-h.y;if((0!=f||0!=o)&&(0!=u||0!=B)){a=Math.atan2(o,f);c=Math.atan2(B,u);f=Math.sqrt(f*f+o*o);u=Math.sqrt(u*u+B*B);o=
n.getSVGRoot().createSVGPoint();B=n.getSVGRoot().createSVGPoint();0>a&&(a+=2*Math.PI);0>c&&(c+=2*Math.PI);var E=Math.abs(a-c),C=Math.abs(Math.PI-E)/2;0<a-c?(a=E<Math.PI?a+C:a-C,c=E<Math.PI?c-C:c+C):(a=E<Math.PI?a-C:a+C,c=E<Math.PI?c+C:c-C);o.x=f*Math.cos(a)+h.x;o.y=f*Math.sin(a)+h.y;B.x=u*Math.cos(c)+h.x;B.y=u*Math.sin(c)+h.y;return[o,B]}};svgedit.path.Segment=function(a,c){this.selected=!1;this.index=a;this.item=c;this.type=c.pathSegType;this.ctrlpts=[];this.segsel=this.ptgrip=null};svgedit.path.Segment.prototype.showCtrlPts=
function(a){for(var c in this.ctrlpts)this.ctrlpts[c].setAttribute("display",a?"inline":"none")};svgedit.path.Segment.prototype.selectCtrls=function(a){$j("#ctrlpointgrip_"+this.index+"c1, #ctrlpointgrip_"+this.index+"c2").attr("fill",a?"#0FF":"#EEE")};svgedit.path.Segment.prototype.show=function(a){this.ptgrip&&(this.ptgrip.setAttribute("display",a?"inline":"none"),this.segsel.setAttribute("display",a?"inline":"none"),this.showCtrlPts(a))};svgedit.path.Segment.prototype.select=function(a){this.ptgrip&&
(this.ptgrip.setAttribute("stroke",a?"#0FF":"#00F"),this.segsel.setAttribute("display",a?"inline":"none"),this.ctrlpts&&this.selectCtrls(a),this.selected=a)};svgedit.path.Segment.prototype.addGrip=function(){this.ptgrip=svgedit.path.getPointGrip(this,!0);this.ctrlpts=svgedit.path.getControlPoints(this,!0);this.segsel=svgedit.path.getSegSelector(this,!0)};svgedit.path.Segment.prototype.update=function(a){if(this.ptgrip){var c=svgedit.path.getGripPt(this);svgedit.utilities.assignAttributes(this.ptgrip,
{cx:c.x,cy:c.y});svgedit.path.getSegSelector(this,!0);this.ctrlpts&&(a&&(this.item=svgedit.path.path.elem.pathSegList.getItem(this.index),this.type=this.item.pathSegType),svgedit.path.getControlPoints(this))}};svgedit.path.Segment.prototype.move=function(a,c){var h=this.item,h=this.ctrlpts?[h.x+=a,h.y+=c,h.x1,h.y1,h.x2+=a,h.y2+=c]:[h.x+=a,h.y+=c];svgedit.path.replacePathSeg(this.type,this.index,h);this.next&&this.next.ctrlpts&&(h=this.next.item,h=[h.x,h.y,h.x1+=a,h.y1+=c,h.x2,h.y2],svgedit.path.replacePathSeg(this.next.type,
this.next.index,h));this.mate&&(h=this.mate.item,h=[h.x+=a,h.y+=c],svgedit.path.replacePathSeg(this.mate.type,this.mate.index,h));this.update(!0);this.next&&this.next.update(!0)};svgedit.path.Segment.prototype.setLinked=function(a){var c,h,f;if(2==a){h=1;c=this.next;if(!c)return;f=this.item}else{h=2;c=this.prev;if(!c)return;f=c.item}var n=c.item;n["x"+h]=f.x+(f.x-this.item["x"+a]);n["y"+h]=f.y+(f.y-this.item["y"+a]);svgedit.path.replacePathSeg(c.type,c.index,[n.x,n.y,n.x1,n.y1,n.x2,n.y2]);c.update(!0)};
svgedit.path.Segment.prototype.moveCtrl=function(a,c,h){var f=this.item;f["x"+a]+=c;f["y"+a]+=h;svgedit.path.replacePathSeg(this.type,this.index,[f.x,f.y,f.x1,f.y1,f.x2,f.y2]);this.update(!0)};svgedit.path.Segment.prototype.setType=function(a,c){svgedit.path.replacePathSeg(a,this.index,c);this.type=a;this.item=svgedit.path.path.elem.pathSegList.getItem(this.index);this.showCtrlPts(6===a);this.ctrlpts=svgedit.path.getControlPoints(this);this.update(!0)};svgedit.path.Path=function(a){if(!a||"path"!==
a.tagName)throw"svgedit.path.Path constructed without a <path> element";this.elem=a;this.segs=[];this.selected_pts=[];svgedit.path.path=this;this.init()};svgedit.path.Path.prototype.init=function(){$j(svgedit.path.getGripContainer()).find("*").attr("display","none");var a=this.elem.pathSegList,c=a.numberOfItems;this.segs=[];this.selected_pts=[];this.first_seg=null;for(var h=0;h<c;h++){var f=a.getItem(h),f=new svgedit.path.Segment(h,f);f.path=this;this.segs.push(f)}a=this.segs;f=null;for(h=0;h<c;h++){var n=
a[h],o=h+1>=c?null:a[h+1],B=0>h-1?null:a[h-1];2===n.type?(B&&1!==B.type&&(o=a[f],o.next=a[f+1],o.next.prev=o,o.addGrip()),f=h):o&&1===o.type?(n.next=a[f+1],n.next.prev=n,n.mate=a[f],n.addGrip(),null==this.first_seg&&(this.first_seg=n)):o?1!==n.type&&(n.addGrip(),o&&2!==o.type&&(n.next=o,n.next.prev=n)):1!==n.type&&(o=a[f],o.next=a[f+1],o.next.prev=o,o.addGrip(),n.addGrip(),this.first_seg||(this.first_seg=a[f]))}return this};svgedit.path.Path.prototype.eachSeg=function(a){for(var c=this.segs.length,
h=0;h<c&&!1!==a.call(this.segs[h],h);h++);};svgedit.path.Path.prototype.addSeg=function(a){var c=this.segs[a];if(c.prev){var h=c.prev,f;switch(c.item.pathSegType){case 4:var n=(c.item.x+h.item.x)/2,c=(c.item.y+h.item.y)/2;f=this.elem.createSVGPathSegLinetoAbs(n,c);break;case 6:f=(h.item.x+c.item.x1)/2;var o=(c.item.x1+c.item.x2)/2,n=(c.item.x2+c.item.x)/2,B=(f+o)/2,o=(o+n)/2,E=(h.item.y+c.item.y1)/2,C=(c.item.y1+c.item.y2)/2,h=(c.item.y2+c.item.y)/2,G=(E+C)/2,C=(C+h)/2;f=this.elem.createSVGPathSegCurvetoCubicAbs((B+
o)/2,(G+C)/2,f,E,B,G);svgedit.path.replacePathSeg(c.type,a,[c.item.x,c.item.y,o,C,n,h])}svgedit.path.insertItemBefore(this.elem,f,a)}};svgedit.path.Path.prototype.deleteSeg=function(a){var c=this.segs[a],h=this.elem.pathSegList;c.show(!1);var f=c.next;if(c.mate){var n=[f.item.x,f.item.y];svgedit.path.replacePathSeg(2,f.index,n);svgedit.path.replacePathSeg(4,c.index,n);h.removeItem(c.mate.index)}else c.prev||(n=[f.item.x,f.item.y],svgedit.path.replacePathSeg(2,c.next.index,n)),h.removeItem(a)};svgedit.path.Path.prototype.subpathIsClosed=
function(a){var c=!1;svgedit.path.path.eachSeg(function(h){if(h<=a)return!0;if(2===this.type)return!1;if(1===this.type)return c=!0,!1});return c};svgedit.path.Path.prototype.removePtFromSelection=function(a){var c=this.selected_pts.indexOf(a);-1!=c&&(this.segs[a].select(!1),this.selected_pts.splice(c,1))};svgedit.path.Path.prototype.clearSelection=function(){this.eachSeg(function(){this.select(!1)});this.selected_pts=[]};svgedit.path.Path.prototype.storeD=function(){this.last_d=this.elem.getAttribute("d")};
svgedit.path.Path.prototype.show=function(a){this.eachSeg(function(){this.show(a)});a&&this.selectPt(this.first_seg.index);return this};svgedit.path.Path.prototype.movePts=function(a,c){for(var h=this.selected_pts.length;h--;)this.segs[this.selected_pts[h]].move(a,c)};svgedit.path.Path.prototype.moveCtrl=function(c,h){var f=this.segs[this.selected_pts[0]];f.moveCtrl(this.dragctrl,c,h);a&&f.setLinked(this.dragctrl)};svgedit.path.Path.prototype.setSegType=function(a){this.storeD();for(var c=this.selected_pts.length,
h;c--;){var f=this.segs[this.selected_pts[c]],n=f.prev;if(n){a||(h="Toggle Path Segment Type",a=6==f.type?4:6);var a=a-0,o=f.item.x,B=f.item.y,E=n.item.x,n=n.item.y,C;switch(a){case 6:if(f.olditem)E=f.olditem,C=[o,B,E.x1,E.y1,E.x2,E.y2];else{C=o-E;var G=B-n;C=[o,B,E+C/3,n+G/3,o-C/3,B-G/3]}break;case 4:C=[o,B],f.olditem=f.item}f.setType(a,C)}}svgedit.path.path.endChanges(h)};svgedit.path.Path.prototype.selectPt=function(c,h){this.clearSelection();null==c&&this.eachSeg(function(a){this.prev&&(c=a)});
this.addPtsToSelection(c);h&&(this.dragctrl=h,a&&this.segs[c].setLinked(h))};svgedit.path.Path.prototype.update=function(){var a=this.elem;svgedit.utilities.getRotationAngle(a)?(this.matrix=svgedit.math.getMatrix(a),this.imatrix=this.matrix.inverse()):this.imatrix=this.matrix=null;this.eachSeg(function(c){this.item=a.pathSegList.getItem(c);this.update()});return this};svgedit.path.getPath_=function(a){var c=h[a.id];c||(c=h[a.id]=new svgedit.path.Path(a));return c};svgedit.path.removePath_=function(a){a in
h&&delete h[a]};var o=function(a,c){console.log("hereundefined");var h=a-NaN,f=c-NaN,n=Math.sqrt(h*h+f*f),f=Math.atan2(f,h)+void 0,h=n*Math.cos(f)+NaN,f=n*Math.sin(f)+NaN,h=h-NaN,f=f-NaN,n=Math.sqrt(h*h+f*f),f=Math.atan2(f,h)-NaN;return{x:(n*Math.cos(f)+NaN)/1,y:(n*Math.sin(f)+NaN)/1}};svgedit.path.recalcRotatedPath=function(){var a=svgedit.path.path.elem,c=svgedit.utilities.getRotationAngle(a,!0);if(c){var h=svgedit.utilities.getBBox(a),f=svgedit.path.path.oldbbox,A=f.x+f.width/2,u=f.y+f.height/
2,f=h.x+h.width/2,h=h.y+h.height/2,f=f-A,B=h-u,h=Math.sqrt(f*f+B*B),B=Math.atan2(B,f)+c;console.log("here"+A);f=h*Math.cos(B)+A;h=h*Math.sin(B)+u;A=a.pathSegList;for(u=A.numberOfItems;u;){var u=u-1,E=A.getItem(u),B=E.pathSegType;if(1!=B){var C=o(E.x,E.y),C=[C.x,C.y];if(null!=E.x1&&null!=E.x2){var G=o(E.x1,E.y1),E=o(E.x2,E.y2);C.splice(C.length,0,G.x,G.y,E.x,E.y)}svgedit.path.replacePathSeg(B,u,C)}}svgedit.utilities.getBBox(a);A=n.getSVGRoot().createSVGTransform();a=svgedit.transformlist.getTransformList(a);
A.setRotate(180*c/Math.PI,f,h);a.replaceItem(A,0)}};svgedit.path.clearData=function(){h={}}})();svgedit=svgedit||{};
(function(){svgedit.amiconDOL||(svgedit.amiconDOL={});svgedit.amiconDOL.hello=function(){};var c,f;svgedit.amiconDOL.addBleedLine=function(a,c){if(!$j("#canvasBleed").length){var f=a.dimensions,o=a.cutMargin.stroke_width,p=a.safeMargin.stroke_width;!svgedit.browser.isGecko()&&!svgedit.browser.isOpera()&&(o*=2);!svgedit.browser.isGecko()&&!svgedit.browser.isOpera()&&(p*=2);"vuezz"!=$j("#dol_type").val()&&(x=$j("#svgcanvas").attr("x"),y=$j("#svgcanvas").attr("y"));var l=c.createSVGElement({element:"svg",
attr:{id:"canvasBleed",width:f[0]-2*a.bleed,height:f[1]-2*a.bleed,x:f[0]+a.bleed,y:f[1]+a.bleed,overflow:svgedit.browser.isWebkit()?"none":"visible",style:"pointer-events:none"}}),q=c.createSVGElement({element:"rect",attr:{id:"backrect",width:"100%",height:"100%",x:0,y:0,"stroke-dasharray":"10 8",stroke:a.cutMargin.color,fill:"none","stroke-width":o,style:"pointer-events:none"}}),z=c.createSVGElement({element:"rect",attr:{id:"textrect",width:"40px",height:"8px",x:0,y:0,stroke:a.cutMargin.color,fill:a.cutMargin.color,
style:"pointer-events:none"}}),A=c.createSVGElement({element:"text",attr:{id:"bleedText",x:1,y:6,"font-size":"8px","font-family":"Arial",fill:"#ffffff",style:"pointer-events:none"}});A.textContent=a.cutMargin.text;l.appendChild(q);l.appendChild(z);l.appendChild(A);f=c.createSVGElement({element:"svg",attr:{id:"canvasBleed1",width:f[0]-2*a.safeMargin.bleed,height:f[1]-2*a.safeMargin.bleed,x:f[0]+a.safeMargin.bleed,y:f[1]+a.safeMargin.bleed,overflow:svgedit.browser.isWebkit()?"none":"visible",style:"pointer-events:none"}});
q=c.createSVGElement({element:"rect",attr:{id:"backrect1",width:"100%",height:"100%",x:0,y:0,"stroke-width":p,"stroke-dasharray":"10 8",stroke:a.safeMargin.color,fill:"none",style:"pointer-events:none"}});z=c.createSVGElement({element:"rect",attr:{id:"textrect1",width:"45px",height:"8px",x:0,y:0,fill:a.safeMargin.color,style:"pointer-events:none"}});A=c.createSVGElement({element:"text",attr:{id:"bleedText1",x:1,y:6,"font-size":"8px","font-family":"Arial",fill:"#ffffff",style:"pointer-events:none"}});
A.textContent=a.safeMargin.text;f.appendChild(q);f.appendChild(z);f.appendChild(A);c.svgRoot().appendChild(l);c.svgRoot().appendChild(f);svgedit.utilities.assignAttributes(svgedit.utilities.getElem("backrect1"),{"stroke-width":p});svgedit.utilities.assignAttributes(svgedit.utilities.getElem("backrect"),{"stroke-width":o})}};svgedit.amiconDOL.addBlueprint=function(a,h){$j("#Blueprint").remove();$j("#fore").remove();if((""==a||null==a)&&(""==h||null==h))return!0;if(""==a||null==a)a="/js/all/editor/images/blank.gif";
if(""==h||null==h)h="/js/all/editor/images/blank.gif";var n=f.dimensions;void 0==f.bleed&&(f.bleed=0);n[0]=$j("#svgcontent").attr("width")/c.currentZoom();n[1]=$j("#svgcontent").attr("height")/c.currentZoom();var o=c.createSVGElement({element:"svg",attr:{id:"Blueprint",width:n[0],height:n[1],x:0,y:0,overflow:svgedit.browser.isWebkit()?"none":"visible",style:"pointer-events:none"}}),p=c.createSVGElement({element:"image",attr:{x:0,y:0,width:n[0],height:n[1],style:"pointer-events:inherit","xlink:href":a,
preserveAspectRatio:"none"}}),l=c.createSVGElement({element:"svg",attr:{id:"fore",width:n[0],height:n[1],x:0,y:0,overflow:svgedit.browser.isWebkit()?"none":"visible",style:"pointer-events:none"}}),n=c.createSVGElement({element:"image",attr:{x:0,y:0,width:n[0],height:n[1],style:"pointer-events:inherit","xlink:href":h,preserveAspectRatio:"none"}});l.appendChild(n);o.appendChild(p);c.svgRoot().insertBefore(o,svgedit.utilities.getElem("svgcontent"));c.svgRoot().insertBefore(l,svgedit.utilities.getElem("selectorParentGroup"));
0==f.bleed&&svgedit.utilities.assignAttributes(svgedit.utilities.getElem("canvasBleed"),{style:"display:none"});return!0};svgedit.amiconDOL.addBackground1=function(a,h){var n=f.dimensions;n[0]=$j("#svgcontent").attr("width")/c.currentZoom();n[1]=$j("#svgcontent").attr("height")/c.currentZoom();var n=c.createSVGElement({element:"svg",attr:{id:"top",width:n[0],height:n[1],x:0,y:0,overflow:svgedit.browser.isWebkit()?"none":"visible",style:"pointer-events:none"}}),o=c.createSVGElement({element:"image",
attr:{x:$j(a).attr("x"),y:$j(a).attr("y"),width:$j(a).attr("width")/c.currentZoom(),height:$j(a).attr("height")/c.currentZoom(),style:"pointer-events:inherit","xlink:href":h,preserveAspectRatio:"xMidYMid meet"}});n.appendChild(o);c.svgRoot().insertBefore(n,svgedit.utilities.getElem("selectorParentGroup"))};svgedit.amiconDOL.addMargins=function(a){$j("#margins").remove();if(""==a||null==a)return!0;if(""==a||null==a)a="/js/all/editor/images/blank.gif";var h=f.dimensions;h[0]=$j("#svgcontent").attr("width")/
c.currentZoom();h[1]=$j("#svgcontent").attr("height")/c.currentZoom();var n=c.createSVGElement({element:"svg",attr:{id:"margins",width:h[0],height:h[1],x:0,y:0,overflow:svgedit.browser.isWebkit()?"none":"visible",style:"pointer-events:none"}}),a=c.createSVGElement({element:"image",attr:{x:0,y:0,width:h[0],height:h[1],style:"pointer-events:inherit","xlink:href":a,preserveAspectRatio:"none"}});n.appendChild(a);c.svgRoot().insertBefore(n,svgedit.utilities.getElem("selectorParentGroup"));0==f.bleed&&
svgedit.utilities.assignAttributes(svgedit.utilities.getElem("canvasBleed"),{style:"display:none"});return!0};svgedit.amiconDOL.addBackground=function(a,h){var n=new svgedit.history.BatchCommand("Add Background Color"),o=a?a:"#"+f.initBackground.color;c.clearSelection();var p=f.dimensions;p[0]=$j("#svgcontent").attr("width")/c.currentZoom();p[1]=$j("#svgcontent").attr("height")/c.currentZoom();if(0<$j("#svgcontent #colorRect").length){var l=$j("#svgcontent #colorRect").attr("fill"),q=$j(c.svgContent()).find("rect")[0];
svgedit.utilities.assignAttributes(q,{fill:o,width:p[0]/c.currentZoom(),height:p[1]/c.currentZoom()});n.addSubCommand(new svgedit.history.ChangeElementCommand(q,{fill:l}))}else o=c.createSVGElement({element:"rect",attr:{id:"colorRect",width:p[0]/c.currentZoom(),height:p[1]/c.currentZoom(),x:0,y:0,fill:o,style:"pointer-events:none"}}),c.svgContent().insertBefore(o,c.svgContent().firstChild),c.svgRoot().appendChild(svgedit.utilities.getElem("canvasBleed")),n.addSubCommand(new svgedit.history.InsertElementCommand(o));
$j("#tool_removebg").removeClass("disable");null==h&&(n.isEmpty()||svgCanvas.undoMgr.addCommandToHistory(n))};svgedit.amiconDOL.addLoadImage=function(a,h){if(!(0<$j("#svgcontent image#backImage").length)){var n=f.dimensions,n=c.createSVGElement({element:"image",attr:{x:0,y:0,width:n[0],height:n[1],id:"backImage","xlink:href":"/js/all/editor/images/blank.gif",opacity:h,preserveAspectRatio:"none"}});c.currentLayer().insertBefore(n,c.currentLayer().firstChild);c.svgRoot().appendChild(svgedit.utilities.getElem("canvasBleed"));
svgEditor.setImageURL(a,!0,0)}};svgedit.amiconDOL.addImage=function(a){$j("#crop").show();$j("#crop_label").show();$j("#file").val("");c.clearSelection();var h=f.dimensions;if(!(0<$j("#svgcontent image#backImage").length)){var n=c.createSVGElement({element:"image",attr:{x:0,y:0,width:h[0],height:h[1],id:"backImage",opacity:"1","xlink:href":"/js/all/editor/images/blank.gif",opacity:"1",preserveAspectRatio:"none"}});$j("#tool_aspect .onoffswitch-label").addClass("onborder");c.currentLayer().insertBefore(n,
c.currentLayer().firstChild);c.svgRoot().appendChild(svgedit.utilities.getElem("canvasBleed"))}n=$j("#zoom_factor").val();""==f.crossDomain||void 0==f.crossDomain?$j.ajax({url:"/dol/index/uploadRemoteFile",data:{image_url:a.imageUrl,zoom_factor:n},success:function(a){content='Rendering Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc-rendering").show();$j("#updating_box .desc").hide();a=$j.parseJSON(a);if(svgEditor.setImageURL(a.imageUrl,!0,!1)){var f=
a.width,l=a.height;h[0]=$j("#svgcontent").attr("width");h[1]=$j("#svgcontent").attr("height");var n=h[0]/c.currentZoom(),z=h[1]/c.currentZoom();if(f>n||l>z)var A=Math.min(n/f,z/l),u=f*A,B=l*A;else u=f,B=l}$j(new Image).load(function(){content='Loading Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide();$j("#backImage").attr({width:u,height:B,x:n/2-u/2,y:z/2-B/2});c.selectOnly($j("#backImage"),
"true");c.setMode("select")}).attr("src",a.imageUrl)}}):$j.ajax({url:"http://"+f.crossDomain+"/dol/index/uploadRemoteFile",data:{image_url:a.imageUrl,zoom_factor:n},jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",success:function(a){content='Rendering Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc-rendering").show();$j("#updating_box .desc").hide();if(svgEditor.setImageURL(a.imageUrl,!0,!1)){var f=a.width,l=a.height;
h[0]=$j("#svgcontent").attr("width");h[1]=$j("#svgcontent").attr("height");var n=h[0]/c.currentZoom(),z=h[1]/c.currentZoom();if(f>n||l>z)var A=Math.min(n/f,z/l),u=f*A,B=l*A;else u=f,B=l}$j(new Image).load(function(){content='Loading Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide();$j("#backImage").attr({width:u,height:B,x:n/2-u/2,y:z/2-B/2});c.selectOnly($j("#backImage"),
"true");c.setMode("select")}).attr("src",a.imageUrl)}});$j("#imageloader").hide();$j("#fileupload_box_1").dialog("close");$j("#fileupload_box_1").attr("rel","");$j("#crop").hide();$j("#crop_label").hide();$j("#tool_removebg").removeClass("disable")};svgedit.amiconDOL.addBackendImage=function(){$j("#fileupload_box_1").dialog("open");$j("#crop").show();$j("#crop_label").show();$j("#file").val("");$j(".bg_text").hide();$j(".bg_slider").show();0<$j("#svgcontent #colorRect").length&&$j("#svgcontent #colorRect").remove();
if(0<$j("#svgcontent image#backImage").length){var a=$j(c.svgContent()).find("image")[0];svgedit.utilities.assignAttributes(a,{fill:"#"+f.initBackground.color})}else a=f.dimensions,a=c.createSVGElement({element:"image",attr:{x:0,y:0,width:a[0],height:a[1],id:"backImage","xlink:href":"/js/all/editor/images/blank.gif",opacity:"0.5",preserveAspectRatio:"none"}}),c.currentLayer().insertBefore(a,c.currentLayer().firstChild),c.svgRoot().appendChild(svgedit.utilities.getElem("canvasBleed"));var h=jQuery;
h.fn.iframePostForm=function(a){var c,f,l,q,a=h.extend({},h.fn.iframePostForm.defaults,a);h("#"+a.iframeID).length||h("body").append('<iframe id="'+a.iframeID+'" name="'+a.iframeID+'" style="display:none" />');return h(this).each(function(){l=h(this);l.attr("target",a.iframeID);l.submit(function(){a.post.apply(this);q=h("#"+a.iframeID).load(function(){c=q.contents().find("body");f=a.json?h.parseJSON(c.html()):c.html();a.complete.apply(this,[f]);q.unbind("load");setTimeout(function(){c.html("")},1)})})})};
h.fn.iframePostForm.defaults={iframeID:"iframe-post-form1",json:!1,post:function(){},complete:function(){}};$j(function(){$j("form#upload_form").iframePostForm({json:!1,post:function(){$j("#imageloader").show();if($j("input[type=file]").val().length)$j("#imageloader").show();else return!1},complete:function(a){if(!a.success){var a=""+a,c=$j.parseJSON(a);"ERROR"==a?alert("File Format Not Supported"):null==c.width?alert("Please select a image"):(c=$j.parseJSON(a),svgEditor.setImageURL(c.imageUrl,!0,
$j("#crop:checked").length),$j("#imageloader").hide(),$j("#fileupload_box_1").dialog("close"),$j("#fileupload_box_1").attr("rel",""),$j("#crop").hide(),$j("#crop_label").hide(),$j("#tool_removebg").removeClass("disable"))}}})})};svgedit.amiconDOL.addDragImage=function(a,h,n,o,p){$j("#svgcanvas").css("margin-left").substring(0,5);x_offset=parseInt($j("#svgroot").offset().left);y_offset=parseInt($j("#svgroot").offset().top);var l=f.dimensions;l[0]=$j("#svgcontent").attr("width");l[1]=$j("#svgcontent").attr("height");
var q=l[0]/c.currentZoom(),l=l[1]/c.currentZoom();h>q||n>l?(l=Math.min(q/h,l/n),q=h*l,l*=n):(q=h,l=n);root_sctm=c.svgContent().getScreenCTM().inverse();var z=window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop,p=svgedit.browser.isTouch()&&svgedit.browser.isMobile()?c.transformPoint(o,p,root_sctm):c.transformPoint(o,p-z,root_sctm),o=p.x,p=p.y;"vuezz"==$j("#dol_type").val()?svgedit.vuezzDOL.addDragImageToPanel(o,p,h,n,a):(o="center"==f.defaultImage_x?c.svgContent().getAttribute("width")/
2/c.currentZoom()-q/2:f.defaultImage_x,p="center"==f.defaultImage_y?c.svgContent().getAttribute("height")/2/c.currentZoom()-l/2:f.defaultImage_y,z=c.createSVGElement({element:"image",attr:{x:o,y:p,width:q,height:l,opacity:"1","xlink:href":a,preserveAspectRatio:"xMidYMid meet",orig_w:h,orig_h:n,id:c.getNextId()}}),c.svgRoot().appendChild(svgedit.utilities.getElem("canvasBleed")),c.selectOnly([z],!0),c.addCommandToHistory(new svgedit.history.InsertElementCommand(z)),f.bestfit&&svgedit.amiconDOL.snapToCanvas(z))};
svgedit.amiconDOL.addClipartImage=function(a){var c=$j("#zoom_factor").val();$j.ajax({url:"/dol/index/uploadRemoteFile",data:{image_url:a,zoom_factor:c},success:function(a){$j("#updating_box .desc").hide();$j("#updating_box .desc-rendering").show();a=$j.parseJSON(a);svgedit.amiconDOL.addDragImage(a.imageUrl,a.width,a.height);$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide();$j("#updating_box").hide()&&($j(".header, .header-container, .wrap-header").css("zIndex","101"),$j("#vtab").css({zIndex:"100"}))}})};
svgedit.amiconDOL.snapToCanvas=function(a){var h=new svgedit.history.BatchCommand("Snap to Canvas");origX=a.getAttribute("orig_w");origY=a.getAttribute("orig_h");canvas_w=c.svgContent().getAttribute("width")/c.currentZoom();canvas_h=c.svgContent().getAttribute("height")/c.currentZoom();$j("#tool_image").hasClass("backend")?(origX=c.svgContent().getAttribute("width")/c.currentZoom(),origY=c.svgContent().getAttribute("height")/c.currentZoom()):(origX=a.getAttribute("orig_w"),origY=a.getAttribute("orig_h"));
var f=Math.max(canvas_w/origX,canvas_h/origY),o=origX*f,f=origY*f;y1=x1=0;o>canvas_w?x1-=(o-canvas_w)/2:f>canvas_h&&(y1-=(f-canvas_h)/2);var p=$j(a).attr(["x","y","width","height","transform"]),l;l=c.svgContent().getAttribute("height")/c.currentZoom();var q=c.svgContent().getAttribute("width")/c.currentZoom();if(svgedit.browser.isChrome())if(null!=a.getAttribute("transform")&&"matrix"==a.getAttribute("transform").split("(")[0]){for(var z=a.getAttribute("transform").split("(")[1].split(")")[0].split(","),
A=svgCanvas.getTransformList(a),u=A.numberOfItems;u--;)A.getItem(u),A.removeItem(u);var u=z[0],B=z[3];l=-1==u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(1 "+z[1]+" "+z[2]+" -1 "+z[4]+" "+l+")":-1!=u.indexOf("-")&&-1==B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" 1 "+q+" "+z[5]+")":-1!=u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" -1 "+q+" "+l+")":"matrix(1 "+z[1]+" "+z[2]+" 1 0 0)";a.setAttribute("x",x1);a.setAttribute("y",y1);a.setAttribute("width",o);a.setAttribute("height",f);void 0!=
l&&a.setAttribute("transform",l)}else null==a.getAttribute("transform")&&(a.setAttribute("x",x1),a.setAttribute("y",y1),a.setAttribute("width",o),a.setAttribute("height",f));else if(svgedit.browser.isIE()){if(z=a.getAttribute("transform"),null!=a.getAttribute("transform")||""!=a.getAttribute("transform"))null==a.getAttribute("transform")||""==a.getAttribute("transform")?(a.setAttribute("x",x1),a.setAttribute("y",y1),a.setAttribute("width",o),a.setAttribute("height",f)):null!=a.getAttribute("transform")&&
"matrix"==z.split(/\(+/)[0]?(elemMatrix=z.split(/\(+/)[1].split(/\)+/)[0],z=elemMatrix.split(/\s+/),u=z[0],B=z[3],l=-1==u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(1 "+z[1]+" "+z[2]+" -1 "+z[4]+" "+l+")":-1!=u.indexOf("-")&&-1==B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" 1 "+q+" "+z[5]+")":-1!=u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" -1 "+q+" "+l+")":"matrix(1 "+z[1]+" "+z[2]+" 1 0 0)",a.setAttribute("x",x1),a.setAttribute("y",y1),a.setAttribute("width",o),a.setAttribute("height",
f),void 0!=l&&a.setAttribute("transform",l)):null!=a.getAttribute("transform")&&("rotate"==z.split(/\(+/)[0]&&void 0!=z.split(/\(+/)[1].split(/\)+/)[1])&&(A=a.getAttribute("transform").split(")")[0]+")",elemMatrix=z.split(/\(+/)[1].split(/\)+/)[0],z=z.split(/\(+/)[2].split(/\)+/)[0].split(/\s+/),alert(A+", "+z[0]+", "+z[3]),u=z[0],B=z[3],l=-1==u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(1 "+z[1]+" "+z[2]+" -1 "+z[4]+" "+l+")":-1!=u.indexOf("-")&&-1==B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" 1 "+
q+" "+z[5]+")":-1!=u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" -1 "+q+" "+l+")":"matrix(1 "+z[1]+" "+z[2]+" 1 0 0)",a.setAttribute("x",x1),a.setAttribute("y",y1),a.setAttribute("width",o),a.setAttribute("height",f),void 0!=l&&a.setAttribute("transform",A+" "+l))}else if(null!=a.getAttribute("transform")&&"matrix"==a.getAttribute("transform").split("(")[0])z=a.getAttribute("transform").split("(")[1].split(")")[0].split(", "),$j(a).removeAttr("transform"),u=z[0],B=z[3],l=-1==u.indexOf("-")&&
-1!=B.indexOf("-")?"matrix(1 "+z[1]+" "+z[2]+" -1 "+z[4]+" "+l+")":-1!=u.indexOf("-")&&-1==B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" 1 "+q+" "+z[5]+")":-1!=u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" -1 "+q+" "+l+")":"matrix(1 "+z[1]+" "+z[2]+" 1 0 0)",a.setAttribute("x",x1),a.setAttribute("y",y1),a.setAttribute("width",o),a.setAttribute("height",f),void 0!=l&&a.setAttribute("transform",l);else if(null!=a.getAttribute("transform")&&"rotate"==a.getAttribute("transform").split("(")[0]&&
void 0!=a.getAttribute("transform").split(")")[1].split("(")[1])A=a.getAttribute("transform").split(")")[0]+")",z=a.getAttribute("transform").split(")")[1].split("(")[1].split(", "),$j(a).removeAttr("transform"),u=z[0],B=z[3],l=-1==u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(1 "+z[1]+" "+z[2]+" -1 "+z[4]+" "+l+")":-1!=u.indexOf("-")&&-1==B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" 1 "+q+" "+z[5]+")":-1!=u.indexOf("-")&&-1!=B.indexOf("-")?"matrix(-1 "+z[1]+" "+z[2]+" -1 "+q+" "+l+")":"matrix(1 "+z[1]+
" "+z[2]+" 1 0 0)",a.setAttribute("x",x1),a.setAttribute("y",y1),a.setAttribute("width",o),a.setAttribute("height",f),void 0!=l&&a.setAttribute("transform",A+" "+l);else if(null==a.getAttribute("transform")||void 0==a.getAttribute("transform").split(")")[1].split("(")[1])a.setAttribute("x",x1),a.setAttribute("y",y1),a.setAttribute("width",o),a.setAttribute("height",f);h.addSubCommand(new svgedit.history.ChangeElementCommand(a,p));svgCanvas.undoMgr.addCommandToHistory(h);c.selectOnly([a],!0)};svgedit.amiconDOL.init=
function(a,h){f=a;c=h}})();svgedit=svgedit||{};
(function(){svgedit.vuezzDOL||(svgedit.vuezzDOL={});var c;svgedit.vuezzDOL.addDragImageToPanel=function(f,a,h,n,o){var f=parseInt(f),a=parseInt(a),h=parseInt(h),n=parseInt(n),p=$j("#imagePreview .image_to_pop_up .chair_c .chair_c_svg").children().length,l=$j("#imagePreview .image_to_pop_up .dining_c .dining_c_svg").children().length;if(0<p||0<l)$j("#imagePreview .image_to_pop_up .chair_c .chair_c_svg svg").remove(),$j("#imagePreview .image_to_pop_up .dining_c .dining_c_svg svg").remove();var p=$j("#svgcontent g").children(),
l=!0,q=null,q=null;for(i=0;i<p.length;i++)if("clipPath"==p[i].tagName){var z=p[i].childNodes[0];x1=parseInt(z.getAttribute("x"));y1=parseInt(z.getAttribute("y"));x2=parseInt(z.getAttribute("attr1"));y2=parseInt(z.getAttribute("attr2"));width=parseInt(z.getAttribute("width"));height=parseInt(z.getAttribute("height"));var z=width,A=height,A=Math.max(z/h,A/n),z=parseInt(h*A),A=parseInt(n*A);f>=x1&&(f<=x2&&a>=y1&&a<=y2)&&(q=p[i].getAttribute("id"),z>width?(x1-=(z-width)/2,x1=parseInt(x1)):A>height&&(y1-=
(A-height)/2,y1=parseInt(y1)),q=c.addSvgElementFromJsonToGroup({element:"image",attr:{x:x1,y:y1,width:z,height:A,opacity:"1","xlink:href":o,clip:"url(#"+q+")",preserveAspectRatio:"xMidYMid meet",orig_w:h,orig_h:n,id:c.getNextId()}},q),l=!1)}l&&(z=document.getElementById("blue").childNodes[0],x1=parseInt(z.getAttribute("x")),y1=parseInt(z.getAttribute("y")),x2=parseInt(z.getAttribute("attr1")),y2=parseInt(z.getAttribute("attr2")),width=parseInt(z.getAttribute("width")),height=parseInt(z.getAttribute("height")),
z=width,A=height,A=Math.max(z/h,A/n),z=parseInt(h*A),A=parseInt(n*A),z>width?(x1-=(z-width)/2,x1=parseInt(x1)):A>height&&(y1-=(A-height)/2,y1=parseInt(y1)),q=c.addSvgElementFromJsonToGroup({element:"image",attr:{x:x1,y:y1,width:z,height:A,opacity:"1","xlink:href":o,clip:"url(#blue)",preserveAspectRatio:"xMidYMid meet",orig_w:h,orig_h:n,id:c.getNextId()}},"blue"));c.selectOnly([q],!0);svgedit.vuezzDOL.snapToGrid(q);c.addCommandToHistory(new svgedit.history.InsertElementCommand(q));svgEditor.updateContextPanel()};
svgedit.vuezzDOL.addClipPaths=function(f){var a=$j("#moveto_clip");clip_name=(f.id+" Panel").toLowerCase().replace(/\b[a-z]/g,function(a){return a.toUpperCase()});a.append("<option value="+f.id+">"+clip_name+"</option>");height=Math.abs(Math.abs(f.x1)-Math.abs(f.x2));width=Math.abs(Math.abs(f.y1)-Math.abs(f.y2));var a=c.addSvgElementFromJson({element:"clipPath",attr:{id:f.id}}),h=c.addSvgElementFromJson({element:"g",attr:{"class":f.id,"clip-path":"url(#"+f.id+")"}});$j("#svgcontent").children("g").append(h);
f=c.addSvgElementFromJson({element:"rect",attr:{x:f.x1,y:f.y1,height:width,width:height,attr1:f.x2,attr2:f.y2}});a.appendChild(f);c.findDefs().appendChild(a);$j("#svgcontent").children("g").append(a)};svgedit.vuezzDOL.snapToGrid=function(f){var a=$j("#angle").val();null!=f.getAttribute("transform")&&f.removeAttribute("transform");temp=f.getAttribute("clip");id=temp.substring(5,temp.length-1);origX=f.getAttribute("orig_w");origY=f.getAttribute("orig_h");var h=$j("#svgcontent g").children();for(i=0;i<
h.length;i++){var n=h[i];if("clipPath"==n.tagName&&(clip_id=n.getAttribute("id"),id==clip_id)){n=h[i].childNodes[0];x1=n.getAttribute("x");y1=n.getAttribute("y");width=n.getAttribute("width");height=n.getAttribute("height");var o=Math.max(width/origX,height/origY),n=origX*o,o=origY*o;n>width?x1-=(n-width)/2:o>height&&(y1-=(o-height)/2);f.setAttribute("x",x1);f.setAttribute("y",y1);f.setAttribute("width",n);f.setAttribute("height",o);0!=a&&c.setRotationAngle(a);c.selectOnly([f],!0)}}};svgedit.vuezzDOL.dblClickOnPanel=
function(c,a){var h=$j("#svgcontent g").children();image_childs=$j("#svgcontent g g").children();for(i=0;i<h.length;i++)if("clipPath"==h[i].tagName){var n=h[i].childNodes[0];x1=Math.round(n.getAttribute("x"));y1=Math.round(n.getAttribute("y"));x2=Math.round(n.getAttribute("attr1"));y2=Math.round(n.getAttribute("attr2"));width=n.getAttribute("width");height=n.getAttribute("height");if(c>=x1&&c<=x2&&a>=y1&&a<=y2){id=h[i].getAttribute("id");for(j=0;j<image_childs.length;j++)image_childs[j].getAttribute("clip")==
"url(#"+id+")"&&svgedit.vuezzDOL.snapToGrid(image_childs[j]);break}}};svgedit.vuezzDOL.moveToClip=function(f){selectedElements=c.getSelectedElements();var a=selectedElements[0],h=a.parentNode,n=$j("#angle").val();null!=a.getAttribute("transform")&&a.removeAttribute("transform");var o=a.getAttribute("orig_w"),p=a.getAttribute("orig_h"),l=null,q=$j("#svgcontent g").children();for(i=0;i<q.length;i++){var z=q[i];"g"==z.tagName&&(clip_g=z.getAttribute("class"),f==clip_g&&(l=z));if("clipPath"==z.tagName&&
(clip_id=z.getAttribute("id"),f==clip_id)){h.removeChild(a);l.appendChild(a);z=q[i].childNodes[0];x1=z.getAttribute("x");y1=z.getAttribute("y");width=z.getAttribute("width");height=z.getAttribute("height");var A=Math.max(width/o,height/p),z=o*A,A=p*A;z>width?x1-=(z-width)/2:A>height&&(y1-=(A-height)/2);a.setAttribute("x",x1);a.setAttribute("y",y1);a.setAttribute("width",z);a.setAttribute("height",A);a.setAttribute("clip","url(#"+f+")");console.log("angle");console.log(n);console.log("angle");0!=n&&
c.setRotationAngle(n);c.selectOnly([a],!0)}}};svgedit.vuezzDOL.snapToClipPath=function(f){var a=f.getAttribute("clip"),a=a.substring(5,a.length-1);origX=f.getAttribute("orig_w");origY=f.getAttribute("orig_h");null!=f.getAttribute("transform")&&f.removeAttribute("transform");var h=$j("#svgcontent g").children();for(i=0;i<h.length;i++){var n=h[i];"g"==n.tagName&&(clip_g=n.getAttribute("class"),a==clip_g&&(g_elem=n));if("clipPath"==n.tagName&&(clip_id=n.getAttribute("id"),a==clip_id)){g_elem.appendChild(f);
n=h[i].childNodes[0];x1=n.getAttribute("x");y1=n.getAttribute("y");width=n.getAttribute("width");height=n.getAttribute("height");var o=Math.max(width/origX,height/origY),n=origX*o,o=origY*o;n>width?x1-=(n-width)/2:o>height&&(y1-=(o-height)/2);f.setAttribute("x",x1);f.setAttribute("y",y1);f.setAttribute("width",n);f.setAttribute("height",o);f.setAttribute("clip","url(#"+a+")");c.selectOnly([f],!0)}}};svgedit.vuezzDOL.checkImageDimensionsToSnap=function(f){selectedElements=c.getSelectedElements();var a=
selectedElements[0],h=a.getAttribute("clip"),n=a.getAttribute("x"),o=a.getAttribute("y"),p=a.getAttribute("width"),l=a.getAttribute("height"),q=a.getAttribute("orig_w"),z=a.getAttribute("orig_h"),A=a.getAttribute("width"),u=a.getAttribute("height"),h=h.substring(5,h.length-1),B=$j("#"+h+" rect"),h=B.attr("x"),E=B.attr("y"),C=B.attr("width"),B=B.attr("height");asrc=$j("#tool_aspect").attr("class");if("noaspect"==asrc){var G=null,F;q>z?(G=q/z,F="width"):(G=z/q,F="height");G>("width"==F?p/l:l/p)?"width"==
F?l=z/q*p:p=q/z*l:"width"==F?p=q/z*l:l=z/q*p;G=(A-p)/2;F=(u-l)/2}else F=G=0;G=parseInt(n-h+G);F=parseInt(o-E+F);var I=parseInt(C-G-p),O=parseInt(B-F-l);if(0==f||null==f){if(0<G&&20>G&&(a.setAttribute("x",parseInt(n)-G),"noaspect"==asrc&&p<C&&(a.setAttribute("width",parseInt(A)+G),a.setAttribute("height",parseInt(u)+z/q*G))),0<F&&20>F&&(a.setAttribute("y",parseInt(o)-F),"noaspect"==asrc&&l<B&&(a.setAttribute("height",parseInt(u)+F),a.setAttribute("width",parseInt(A)+q/z*F))),0<I&&20>I&&(n>h&&n<20+
h&&p<C?(a.setAttribute("width",parseInt(A)+I),"noaspect"==asrc&&l<B&&a.setAttribute("height",parseInt(u)+z/q*I)):a.setAttribute("x",parseInt(n)+I)),0<O&&20>O)o>E&&o<20+E&&l<B?(a.setAttribute("height",parseInt(u)+O),"noaspect"==asrc&&p<C&&a.setAttribute("width",parseInt(A)+q/z*O)):a.setAttribute("y",parseInt(o)+O)}else if(0<G&&20>G&&(a.setAttribute("x",parseInt(n)-G),I=parseInt(C-G-a.getAttribute("width")),"noaspect"==asrc&&p<C&&(a.setAttribute("width",parseInt(A)+G),a.setAttribute("height",parseInt(u)+
z/q*G))),0<F&&20>F&&(a.setAttribute("y",parseInt(o)-F),O=parseInt(B-F-a.getAttribute("height")),"noaspect"==asrc&&l<B&&(a.setAttribute("height",parseInt(u)+F),a.setAttribute("width",parseInt(A)+q/z*F))),0<I&&20>I&&(n>h&&n<20+h&&p<C?(a.setAttribute("width",parseInt(A)+I+G),"noaspect"==asrc&&l<B&&a.setAttribute("height",parseInt(u)+z/q*I)):a.setAttribute("x",parseInt(n)+I)),0<O&&20>O)o>E&&o<20+E&&l<B?(a.setAttribute("height",parseInt(u)+O+F),"noaspect"==asrc&&p<C&&a.setAttribute("width",parseInt(A)+
q/z*O)):a.setAttribute("y",parseInt(o)+O);c.selectOnly([a],!0)};svgedit.vuezzDOL.init=function(f,a){c=a}})();svgedit=svgedit||{};
(function(){svgedit.hoticeDOL||(svgedit.hoticeDOL={});svgedit.hoticeDOL.hello=function(){};var c;svgedit.hoticeDOL.addSocialImage=function(f,a,h){dims0=$j("#svgcontent").attr("width");dims1=$j("#svgcontent").attr("height");var n=dims0/c.currentZoom(),o=dims1/c.currentZoom();a>n||h>o?(o=Math.min(n/a,o/h),n=a*o,o*=h):(n=a,o=h);f=c.createSVGElement({element:"image",attr:{x:c.svgContent().getAttribute("width")/2/c.currentZoom()-n/2,y:c.svgContent().getAttribute("height")/2/c.currentZoom()-o/2,width:n,
height:o,opacity:"1","xlink:href":f,preserveAspectRatio:"xMidYMid meet",orig_w:a,orig_h:h,id:c.getNextId()}});c.svgRoot().appendChild(svgedit.utilities.getElem("canvasBleed"));c.selectOnly([f],!0);c.addCommandToHistory(new svgedit.history.InsertElementCommand(f));svgEditor.updateContextPanel()};svgedit.hoticeDOL.addSocialPopup=function(){$j("#social_popup").dialog("open");var c={};$j.ajax({url:"/clipart/index/all",type:"GET",dataType:"json",async:!1,data:{clipart_type:"social"},success:function(a){a=
a.clipart;$j.each(a,function(a,n){var o=n.clipartCategory.toLowerCase().split(" ").join("");c[o]=o.substr(0,1).toUpperCase()+o.substr(1)});svgedit.hoticeDOL.addSocialCategory(c);svgedit.hoticeDOL.addSocialButtons(a)}});$j("#social_cat > div").eq(0).addClass("current");$j("#tools_sociallib #social_buttons .socil_catgs").hide().eq(0).show();$j("#social_popup .clipart_prog").hide()};svgedit.hoticeDOL.addSocialCategory=function(c){var a=$j("#social_cat"),h=$j("#social_buttons"),n="",o="";$j.each(c,function(a,
c){n+="<div class="+a+">"+c+'<span class="arrow"></span></div>';o+='<div class="'+a+'_cat socil_catgs"></div>'});a.html(n);h.html(o)};svgedit.hoticeDOL.addSocialButtons=function(c){$j("#social_buttons");var a=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg"><svg viewBox="-15 -15 330 330"><path fill="#333" stroke="#000000" stroke-width="0" /></svg></svg>',"text/xml");a.documentElement.setAttribute("width",43);a.documentElement.setAttribute("height",43);var h=$j(document.importNode(a.documentElement,
!0));cart_lib=[];$j.each(c,function(a,c){var f=c.clipartId,l=c.clipartName,q=c.clipartImage,z=c.clipartThumb,A=h.clone(),u=c.clipartType,B=c.clipartCategory,E=c.clipartName,l="shapelib_"+l;A.find("path").attr("d",q);l=A.wrap('<div class="tool_button" attr_type="'+u+'">').parent().attr({id:l});if("image"==u||"svg"==u)l.find("svg").remove(),l=l.wrapInner('<img class="tool_button" src="'+z+'" orig_url="'+q+'" title="'+E+'" alt="'+E+'" clipart_id="'+f+'" type="'+u+'">');f=B.toLowerCase().split(" ").join("");
$j("#social_buttons ."+f+"_cat").append(l[0])})};svgedit.hoticeDOL.clickSocialIcon=function(f){if(f.length){$j(".ui-dialog-titlebar-close").trigger("click");f=f.children()[0];f.getAttribute("clipartName");var a=f.getAttribute("type"),h=f.getAttribute("orig_url");if("path"!=a)if("svg"==a)$j("#updating_box").show(),$j("#updating_box .desc").show(),$j("#updating_box .desc-rendering").hide(),$j.ajax({url:h,type:"GET",async:!1,dataType:"text",success:function(a){c.importSvgString(a);$j("#updating_box .desc").hide();
$j("#updating_box .desc-rendering").show();c.ungroupSelectedElement();c.ungroupSelectedElement();c.groupSelectedElements(null,!0);c.alignSelectedElements("m","page");c.alignSelectedElements("c","page");$j("#updating_box").hide();$j(".clipart_colors .fill_box").children().remove();$j(".clipart_colors .border_box").children().remove();c.getClipartColors();c.centerCliparts()}});else if("image"==a){c.setMode("select");var n=new Image;n.src=h;$j("#updating_box").show();$j("#updating_box .desc").show();
$j(n).load(function(){origX=n.width;origY=n.height;svgedit.amiconDOL.addClipartImage(h,origX,origY)})}}};svgedit.hoticeDOL.init=function(f,a){c=a}})();var sendFile=36700160,ua=navigator.userAgent.toLowerCase(),isWebkit=!1;-1!=ua.indexOf("safari")&&(isWebkit=-1<ua.indexOf("chrome")?!1:!0);
sendFile=function(c,f){var a=function(a){return"[object Function]"===c.call(a)},h=["onabort","onerror","onloadstart","onprogress"],n=h.length;return function(c){void 0!=c.file.fileSize?(isWebkit=!0,size=c.file.fileSize):(size=c.file.size,isWebkit=!1);name=void 0!=c.file.fileName?c.file.fileName:c.file.name;if(f&&f<size){if(a(c.onerror))c.onerror()}else{for(var p=new XMLHttpRequest,l=p.upload,p=new XMLHttpRequest,l=p.upload,q=0;q<n;q++)l[h[q]]=function(h){return function(l){a(c[h])&&c[h].call(c,l,
p)}}(h[q]);l.onload=function(h){if(!1===c.onreadystatechange){if(a(c.onload))c.onload(h,p)}else setTimeout(function(){if(4===p.readyState){if(a(c.onload)){c.onload(h,p);var l=$j.parseJSON(p.responseText);if(null!=l){$$("form.myimages_login")[0].style.display="none";$$("div.myimages_div")[0].style.display="block";var f="<li class='high_resol'><div class='overlay'><div class='bt1' title='P\u0159idat obr\u00e1zek'><img draggable='false' src='/js/all/editor/images/add-image.png'/></div></div><a href='"+
l.imageUrl+"'  target='_blank'> <img src='"+l.thumbUrl+"' class='ui-draggable' style='cursor:move;' rel='"+l.imageUrl+"' width='"+l.thumb_width+"' height='"+l.thumb_height+"'> </a><span style='opacity:1;'></span></li>";$j("ul#colorSet").html();0<$j(".myimages_div ul#colorSet li:first").length?$j(f).insertBefore($j(".myimages_div ul#colorSet li:first")):$j(".myimages_div ul#colorSet").html(f);getImageDims(l.is_low_res);f=$j("#colorSet li a .ui-draggable").attr("rel");if(1==c.files.length){if(window.svgEditor&&
(""==$j("#tool_image").attr("placeholder")||void 0==$j("#tool_image").attr("placeholder"))){svgEditor.addGalleryImage(f,!0);$j(".myimages_div").mCustomScrollbar("update");$j(".myimages_div ul#colorSet img").load(function(){$j(".myimages_div").mCustomScrollbar("update");width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+4)});$j("#vtab").dialog("close");$j(new Image).load(function(){$j(".myimages_div").mCustomScrollbar("update");width=$j(".myimages_div .mCSB_container").width();
$j(".myimages_div .mCSB_container").css("width",width+4)}).attr("src",l.thumbUrl);return}$j("#container").dialog("open");$j("#updating_crop").show();$j(".rotate").attr("rel",0);$j(".jcrop-holder img").rotate(0);$j(".preview-container img").rotate(0);f=$j("#colorSet li a .ui-draggable").attr("rel");$j.ajax({url:"/dol/ajax/getImageDpi?image_url="+f,dataType:"json",type:"GET",success:function(a){dpi=a.dpi;width=a.width;height=a.height;image=a.img_url;500>width&&500>height&&(image=a.img_url.replace("_sized",
""));$j("#cropimage").attr("src",image);$j(".jcrop-preview").attr("src",image);replaceImage=$j(".button-change-image.selectedImage");if(window.svgEditor)if(""==$j("#tool_image").attr("placeholder")||void 0==$j("#tool_image").attr("placeholder"))svgEditor.addGalleryImage(url,!0),imageaspect=0,$j(".jcrop-preview").hide();else{selects=svgCanvas.getSelectedElems();if(void 0==selects||null==selects)return;imageaspect=$j(selects[0]).attr("orig_w")/$j(selects[0]).attr("orig_h");"true"==$j("#tool_crop").attr("crop")?
(imageaspect=0,$j(".jcrop-preview").hide()):$j(".jcrop-preview").show()}else replaceImage=$j(".button-change-image.selectedImage"),imageaspect=replaceImage.attr("rel-aspectratio");zoom_factor=a.zoom_factor;$j(new Image).load(function(){$j("#cropimage").Jcrop({onChange:showCoords1,onSelect:showCoords1,aspectRatio:imageaspect,boxWidth:299<window.innerWidth&&998>window.innerWidth?308:500,boxWidth:299<window.innerWidth&&998>window.innerWidth?308:500},function(){bounds=this.getBounds();boundx=bounds[0];
boundy=bounds[1];jcrop_api=this});jcrop_api.setImage(image,$j(".jcrop-preview").attr("src",image));299<window.innerWidth&&998>window.innerWidth?jcrop_api.setSelect([0,0,308,308]):jcrop_api.setSelect([0,0,500,500]);$j("#updating_box").hide();$j("#updating_crop").hide();$j(".myimages_div ul#colorSet img").load(function(){$j(".myimages_div").mCustomScrollbar("update");width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+4)})}).attr("src",image)}})}$j(new Image).load(function(){$j(".myimages_div").mCustomScrollbar("update");
width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+4)}).attr("src",l.thumbUrl)}}}else setTimeout(arguments.callee,15)},15)};p.open("post","/dol/index/multiupload?upload=true",!0);p.setRequestHeader("If-Modified-Since","Mon, 26 Jul 1997 05:00:00 GMT");p.setRequestHeader("Cache-Control","no-cache");p.setRequestHeader("X-Requested-With","XMLHttpRequest");p.setRequestHeader("X-File-Name",encodeURIComponent(name));p.setRequestHeader("X-File-Size",size);
p.send(c.file);return c}}}(Object.prototype.toString,sendFile);getImageDims=function(c){if("false"==c)return $j(".high_resol").find("span").remove(),!1;$j(".high_resol").removeClass();$j("#colorSet li").addClass("lowres")};
function sendMultipleFiles(c){var f=c.files.length,a=c.onload;c.current=0;c.total=0;for(c.sent=0;c.current<f;)void 0!=c.files[c.current].fileSize?(c.total+=c.files[c.current++].fileSize,isWebkit=!0):(c.total+=c.files[c.current++].size,isWebkit=!1);c.current=0;f&&(c.file=c.files[c.current],sendFile(c).onload=function(h,n){++c.current<f?(c.sent+=isWebkit?c.files[c.current-1].fileSize:c.files[c.current-1].size,c.file=c.files[c.current],sendFile(c).onload=arguments.callee):a&&(c.onload=a,c.onload(h,n))});
return c}$j(".high_resol img").mouseenter(function(){$j(this).parent().prev().children().css("width","40%")});$j(".high_resol img").mouseleave(function(){$j(this).parent().prev().children().css("width","100%")});
sendFile1=function(c,f){var a=function(a){return"[object Function]"===c.call(a)},h=["onabort","onerror","onloadstart","onprogress"],n=h.length;return function(c){void 0!=c.file.fileSize?(isWebkit=!0,size=c.file.fileSize):(size=c.file.size,isWebkit=!1);name=void 0!=c.file.fileName?c.file.fileName:c.file.name;if(f&&f<size){if(a(c.onerror))c.onerror()}else{for(var p=new XMLHttpRequest,l=p.upload,p=new XMLHttpRequest,l=p.upload,q=0;q<n;q++)l[h[q]]=function(h){return function(l){a(c[h])&&c[h].call(c,l,
p)}}(h[q]);l.onload=function(h){if(!1===c.onreadystatechange){if(a(c.onload))c.onload(h,p)}else setTimeout(function(){if(4===p.readyState){if(a(c.onload)){c.onload(h,p);var l=$j.parseJSON(p.responseText);null!=l&&svgCanvas.addBackgroundImage(l)}}else setTimeout(arguments.callee,15)},15)};p.open("post","/dol/index/multiupload?upload=true",!0);p.setRequestHeader("If-Modified-Since","Mon, 26 Jul 1997 05:00:00 GMT");p.setRequestHeader("Cache-Control","no-cache");p.setRequestHeader("X-Requested-With",
"XMLHttpRequest");p.setRequestHeader("X-File-Name",encodeURIComponent(name));p.setRequestHeader("X-File-Size",size);p.send(c.file);return c}}}(Object.prototype.toString,sendFile);
function sendMultipleFiles1(c){var f=c.files.length,a=c.onload;c.current=0;c.total=0;for(c.sent=0;c.current<f;)void 0!=c.files[c.current].fileSize?(c.total+=c.files[c.current++].fileSize,isWebkit=!0):(c.total+=c.files[c.current++].size,isWebkit=!1);c.current=0;f&&(c.file=c.files[c.current],sendFile1(c).onload=function(h,n){++c.current<f?(c.sent+=isWebkit?c.files[c.current-1].fileSize:c.files[c.current-1].size,c.file=c.files[c.current],sendFile1(c).onload=arguments.callee):a&&(c.onload=a,c.onload(h,
n))});return c}function touchHandler(c){var f=c.changedTouches,a=f[0],h="";switch(c.type){case "touchstart":h="mousedown";break;case "touchmove":h="mousemove";break;case "touchend":h="mouseup";break;default:return}var n=document.createEvent("MouseEvent");n.initMouseEvent(h,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);2>f.length&&(a.target.dispatchEvent(n),c.preventDefault())}window.opera&&(window.console.log=function(c){opera.postError(c)},window.console.dir=function(){});
var console=window.console,DEBUG=!0;
(function(){var c=jQuery.fn.attr;jQuery.fn.attr=function(f,a){var h=this.length;if(!h)return c.apply(this,arguments);for(var n=0;n<h;n++){var o=this[n];if("http://www.w3.org/2000/svg"===o.namespaceURI)if(void 0!==a)o.setAttribute(f,a);else{if($j.isArray(f)){h=f.length;for(n={};h--;){var p=f[h],l=o.getAttribute(p);if(l||"0"===l)l=isNaN(l)?l:l-0;n[p]=l}return n}if("object"===typeof f)for(p in f)o.setAttribute(p,f[p]);else{if((l=o.getAttribute(f))||"0"===l)l=isNaN(l)?l:l-0;return l}}else return c.apply(this,
arguments)}return this}})();
$j.SvgCanvas=function(c,f){var a={show_outside_canvas:!0,selectNew:!0,dimensions:[640,480],selectorParentGroup_x:100,selectorParentGroup_y:100},h=[],n=[],o=[],p=[],l=[],q=[],z=[],A=[],u=[],B=[],E=[],C=[],G=[],F=[],I=[],O=[],N=[],R=[],T=[],M=[],J=[],K=[],X=[],L=[],da=[],V=[],U=[],aa=[],ca=[],qa=[],ba=[],ea=[],la=[],ga=[],ia=[],ya=[],Za=[],Na=[],Oa=[],Ia=[],Pa=[],ab=[],Va=[],Ka=[],Sa=[],Qa=[],ra=[],pa=[],Wa=[],mb=[],Xa=[],sb=[],ib=[],Fa=[],cb=[],nb=[],jb=[],Ea=[],na=[],ka=[],xa=[],sa=[],pb=[],La=[],
tb=[],gb=[],Ab=[],Ma=[],Ba=[],Aa=[],Gb=[],ub=[],Ya=[],fb=[],rb=[],kb=[],Ca=[],ob=[],Ib=[],qb=[],Lb=[],Zb=[],D=[];f&&$j.extend(a,f);var ta=a.dimensions,P=this,Cc=null,$b=!1,S="24pt",Kd=[],vc="24pt",Rc="stroke",Jc=!1,Yc=!1,Zc=0<=navigator.userAgent.indexOf("Firefox"),$c=!1,ld=!1,Eb=c.ownerDocument,ha=P.svgroot=Eb.importNode(svgedit.utilities.text2xml('<svg id="svgroot" xmlns="http://www.w3.org/2000/svg" xlinkns="http://www.w3.org/1999/xlink" width="'+ta[0]+'" height="'+ta[1]+'" x="'+ta[0]+'" y="'+ta[1]+
'" overflow="visible"><defs><filter id="canvashadow" filterUnits="objectBoundingBox"><feGaussianBlur in="SourceAlpha" stdDeviation="4" result="blur"/><feOffset in="blur" dx="1" dy="1" result="offsetBlur"/><feMerge><feMergeNode in="offsetBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs></svg>').documentElement,!0);c.appendChild(ha);var ma=Eb.createElementNS("http://www.w3.org/2000/svg","svg");(P.clearSvgContentElement=function(){for(;ma.firstChild;)ma.removeChild(ma.firstChild);$j(ma).attr({id:"svgcontent",
width:ta[0],height:ta[1],x:ta[0],y:ta[1],overflow:"vuezz"==$j("#dol_type").val()?a.show_outside_canvas?"visible":"hidden":"hidden",xmlns:"http://www.w3.org/2000/svg","xmlns:se":"http://www.pixopa.com","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xlink":"http://www.w3.org/1999/xlink"}).appendTo(ha)})();var ad="svg_";P.setIdPrefix=function(a){ad=a};P.current_drawing_=new svgedit.draw.Drawing(ma,ad);var vb=P.getCurrentDrawing=function(){return P.current_drawing_},Ob=function(){if(!0==a.custom_color_picker&&
!1==a.jGraduate_color_picker){var c=a.custom_colors[1].color;console.log(c);return c}c=a.limiliaColor;return"black"==c?"#000000":"white"==c?"#FFFFFF":null},W=1;p[0]="d";p[1]="e";p[2]="m";p[3]="o";p[4]=".";q[0]="b";q[1]="y";q[2]="b";var bc=null;h[0]="i";n[0]="p";n[1]="i";n[2]="x";n[3]="o";n[4]="p";n[5]="a";l[0]="p";l[1]="i";l[2]="x";l[3]="o";l[4]="p";l[5]="a";o[0]="p";o[1]="i";o[2]="x";o[3]="o";o[4]="p";o[5]="a";p[5]="p";p[6]="i";p[7]="x";p[8]="o";p[9]="p";p[10]="a";q[3]=".";q[4]="p";q[5]="i";q[6]=
"x";q[7]="o";q[8]="p";q[9]="a";var va={fill:null==Ob()?("none"==a.initFill.color?"":"#")+a.initFill.color:"none",fill_paint:null,fill_opacity:a.initFill.opacity,stroke:null==Ob()?"#"+a.initStroke.color:Ob(),stroke_paint:null,stroke_opacity:a.initStroke.opacity,stroke_width:a.initStroke.width,stroke_dasharray:"none",stroke_linejoin:"miter",stroke_linecap:"butt",opacity:1},ja;ja=$j.extend(!0,{},va);zoom_factor=0<$j("#zoom_factor").length?$j("#zoom_factor").val():1;$j.extend(ja,{fill:null==Ob()?"#000000":
Ob(),stroke_width:0,font_size:"vuezz"!=$j("#dol_type").val()?a.fontSize/zoom_factor:92/zoom_factor,stroke:"none",font_family:"Open Sans",text_decoration:"none",line_spacing:"0"});0!=$j(".pxhotice").length&&(ja.stroke="#FF0000",va.stroke="#FF0000");h[1]="n";n[6]=".";l[6]=".";o[6]=".";h[2]="d";n[7]="b";l[7]="q";o[7]="l";var H=Array(1),Ld="",Ta=this.addSvgElementFromJson=function(a){var c=svgedit.utilities.getElem(a.attr.id),h=vb().getCurrentLayer();if(c&&a.element!=c.tagName){h.removeChild(c);c=null}if(!c){c=
Eb.createElementNS("http://www.w3.org/2000/svg",a.element);h&&(bc||h).appendChild(c)}var h=va.fill,l=va.stroke;if(c.tagName=="text"){h=a.attr.fill;l=a.attr.stroke}if(c.tagName=="polyline"||c.tagName=="path")l=l==null?"#000000":l;a.curStyles&&svgedit.utilities.assignAttributes(c,{fill:h=="none"?"none":h,stroke:l,"stroke-width":va.stroke_width,"stroke-dasharray":va.stroke_dasharray,"stroke-linejoin":va.stroke_linejoin,"stroke-linecap":va.stroke_linecap,"stroke-opacity":va.stroke_opacity,"fill-opacity":va.fill_opacity,
opacity:va.opacity/2,style:"pointer-events:inherit"},100);svgedit.utilities.assignAttributes(c,a.attr,100);svgedit.utilities.cleanupElement(c);return c},Ze=this.addSvgElementFromJsonToGroup=function(a,c){var h=svgedit.utilities.getElem(a.attr.id),l=vb().getCurrentLayer();if(h&&a.element!=h.tagName){l.removeChild(h);h=null}if(!h){h=Eb.createElementNS("http://www.w3.org/2000/svg",a.element);$j("."+c).append(h)}a.curStyles&&svgedit.utilities.assignAttributes(h,{fill:va.fill=="none"?"#ff0000":va.fill,
stroke:va.stroke,"stroke-width":va.stroke_width,"stroke-dasharray":va.stroke_dasharray,"stroke-linejoin":va.stroke_linejoin,"stroke-linecap":va.stroke_linecap,"stroke-opacity":va.stroke_opacity,"fill-opacity":va.fill_opacity,opacity:va.opacity/2,style:"pointer-events:inherit"},100);svgedit.utilities.assignAttributes(h,a.attr,100);svgedit.utilities.cleanupElement(h);return h};h[3]="r";n[8]="e";l[8]="a";o[8]="o";q[10]=".";var Jb=P.getTransformList=svgedit.transformlist.getTransformList,lb=this.transformPoint=
svgedit.math.transformPoint,oa=P.matrixMultiply=svgedit.math.matrixMultiply,Sc=P.hasMatrixTransform=svgedit.math.hasMatrixTransform,fa=P.transformListToTransform=svgedit.math.transformListToTransform,Nc=svgedit.math.snapToAngle,s=svgedit.math.getMatrix;svgedit.units.init({getBaseUnit:function(){return a.baseUnit},getElement:svgedit.utilities.getElem,getHeight:function(){return ma.getAttribute("height")/W},getWidth:function(){return ma.getAttribute("width")/W},getRoundDigits:function(){return bd.round_digits}});
var Tc=P.convertToNum=svgedit.units.convertToNum;h[4]="a";n[9]="t";o[9]="c";q[11]="c";svgedit.utilities.init(a,{getDOMDocument:function(){return Eb},getDOMContainer:function(){return c},getSVGRoot:function(){return ha},getStrokedBBox:function(a){return P.getStrokedBBox([a])},getSelectedElements:function(){return H},getSVGContent:function(){return ma}});var ue=P.getUrlFromAttr=svgedit.utilities.getUrlFromAttr,cd=P.getHref=svgedit.utilities.getHref,dd=P.setHref=svgedit.utilities.setHref,Sf=svgedit.utilities.getPathBBox,
If=P.getBBox=svgedit.utilities.getBBox,Kc=P.getRotationAngle=svgedit.utilities.getRotationAngle,Ga=P.getElem=svgedit.utilities.getElem,hb=P.assignAttributes=svgedit.utilities.assignAttributes,md=this.cleanupElement=svgedit.utilities.cleanupElement,zd=svgedit.sanitize.getNSMap(),Tf=P.sanitizeSvg=svgedit.sanitize.sanitizeSvg,Dc=svgedit.history.MoveElementCommand,hc=svgedit.history.InsertElementCommand,oc=svgedit.history.RemoveElementCommand,Rb=svgedit.history.ChangeElementCommand,Bb=svgedit.history.BatchCommand;
P.undoMgr=new svgedit.history.UndoManager({handleHistoryEvent:function(a,c){var h=svgedit.history.HistoryEventTypes;if(a==h.BEFORE_UNAPPLY||a==h.BEFORE_APPLY)P.clearSelection();else if(a==h.AFTER_APPLY||a==h.AFTER_UNAPPLY){var l=c.elements();P.pathActions.clear();Ra("changed",l);l=c.type();h=a==h.AFTER_APPLY;if(l==Dc.type()){h=h?c.newParent:c.oldParent;h==ma&&c.elem.id!="colorRect"&&P.identifyLayers()}else if(l==hc.type()||l==oc.type()){c.parent==ma&&c.elem.id!="colorRect"&&P.identifyLayers();l==
hc.type()?h&&ve(c.elem):h||ve(c.elem);c.elem.tagName==="use"&&Md(c.elem)}else if(l==Rb.type()){c.elem.tagName=="title"&&c.elem.parentNode.parentNode==ma&&P.identifyLayers();h=h?c.newValues:c.oldValues;h.stdDeviation&&P.setBlurOffsets(c.elem.parentNode,h.stdDeviation);if(c.elem.tagName==="use"&&svgedit.browser.isWebkit()){l=c.elem;if(!l.getAttribute("x")&&!l.getAttribute("y")){var h=l.parentNode,f=l.nextSibling;h.removeChild(l);h.insertBefore(l,f)}}}}}});var db=function(a){P.undoMgr.addCommandToHistory(a)};
h[5]=".";n[10]="a";o[10]="a";q[12]="o";svgedit.select.init(a,{createSVGElement:function(a){return P.addSvgElementFromJson(a)},svgRoot:function(){return ha},svgContent:function(){return ma},currentZoom:function(){return W},getStrokedBBox:function(a){return P.getStrokedBBox([a])}});svgedit.imageFilters.init(a,{getSelectedElements:function(){return H}});h[6]="a";n[11]=".";l[9]=".";o[11]="l";q[13]="m";svgedit.amiconDOL.init(a,{createSVGElement:function(a){return P.addSvgElementFromJson(a)},svgRoot:function(){return ha},
svgContent:function(){return ma},currentZoom:function(){return W},currentLayer:function(){return P.getCurrentDrawing().getCurrentLayer()},getStrokedBBox:function(a){return P.getStrokedBBox([a])},selectOnly:function(a){return P.selectOnly(a,true)},clearSelection:function(){return wb()},getNextId:function(){return P.getNextId()},addCommandToHistory:function(a){return db(a)},transformPoint:function(a,c,h){return lb(a,c,h)},InsertElementCommand:function(a){return P.InsertElementCommand(a)},setMode:function(){return P.setMode(Ua)}});
svgedit.hoticeDOL.init(a,{createSVGElement:function(a){return P.addSvgElementFromJson(a)},svgRoot:function(){return ha},svgContent:function(){return ma},currentZoom:function(){return W},currentLayer:function(){return P.getCurrentDrawing().getCurrentLayer()},getStrokedBBox:function(a){return P.getStrokedBBox([a])},selectOnly:function(a){return P.selectOnly(a,true)},clearSelection:function(){return wb()},getNextId:function(){return P.getNextId()},addCommandToHistory:function(a){return db(a)},transformPoint:function(a,
c,h){return lb(a,c,h)},InsertElementCommand:function(a){return P.InsertElementCommand(a)},setMode:function(){return P.setMode(Ua)},importSvgString:function(a){return P.importSvgString(a)},ungroupSelectedElement:function(){return P.ungroupSelectedElement()},groupSelectedElements:function(a,c){return P.groupSelectedElements(a,c)},alignSelectedElements:function(a,c){return P.alignSelectedElements(a,c)},getClipartColors:function(){return P.getClipartColors()},centerCliparts:function(){return P.centerCliparts()}});
svgedit.vuezzDOL.init(a,{addSvgElementFromJson:function(a){return P.addSvgElementFromJson(a)},addSvgElementFromJsonToGroup:function(a,c){return P.addSvgElementFromJsonToGroup(a,c)},setRotationAngle:function(a){return P.setRotationAngle(a)},findDefs:function(){return Pb()},getSelectedElements:function(){return H},svgRoot:function(){return ha},svgContent:function(){return ma},currentZoom:function(){return W},getStrokedBBox:function(a){return P.getStrokedBBox([a])},selectOnly:function(a){return P.selectOnly(a,
true)},getNextId:function(){return P.getNextId()},addCommandToHistory:function(a){return db(a)},transformPoint:function(a,c,h){return lb(a,c,h)},InsertElementCommand:function(a){return P.InsertElementCommand(a)}});var za=this.selectorManager=svgedit.select.getSelectorManager();svgedit.path.init({getCurrentZoom:function(){return W},getSVGRoot:function(){return ha}});svgedit.utilities.snapToGrid=function(c){var h=a.snappingStep,l=a.baseUnit;l!=="px"&&(h=h*svgedit.units.getTypeMap()[l]);return Math.round(c/
h)*h};var Cb=svgedit.utilities.snapToGrid,Ad={exportNoBlur:"Blurred elements will appear as un-blurred",exportNoforeignObject:"foreignObject elements will not appear",exportNoDashArray:"Strokes will appear filled",exportNoText:"Text may not appear as expected"},$e="clip-path fill filter marker-end marker-mid marker-start mask stroke".split(" ");n[12]="a";l[10]="a";var we=$j.data;h[7]="m";n[13]="m";l[11]="m";o[12]="h";var xe=document.createElementNS("http://www.w3.org/2000/svg","animate");$j(xe).attr({attributeName:"opacity",
begin:"indefinite",dur:1,fill:"freeze"}).appendTo(ha);var ve=function(a){var c=$j(a).attr($e),h;for(h in c){var l=c[h];if(l&&l.indexOf("url(")===0){l=ue(l).substr(1);if(!Ga(l)){Pb().appendChild(ye[l]);delete ye[l]}}}a=a.getElementsByTagName("*");if(a.length){c=0;for(h=a.length;c<h;c++)ve(a[c])}};h[8]="i";n[14]="i";l[12]="i";o[13]="o";h[9]="c";n[15]="c";l[13]="c";o[14]="s";var Nd={},af="/js/all/editor/editor/images/blank.gif",Od=[],bd={round_digits:5},Qb=!1,Pd=1,Xb=null,Ub=null,Ua="select",mc="none",
Bd={};h[10]="o";h[11]="n";n[16]="o";l[14]="o";n[17]="n";l[15]="n";var ic=va,ze=null,Nb=null,Uc=[],Qd={},Ae=null,ye={};P.clipBoard=[];h[12]="t";n[18]="t";l[16]="t";var Cd=this.runExtensions=function(a,c,h){var l=false;h&&(l=[]);$j.each(Qd,function(f,n){a in n&&(h?l.push(n[a](c)):l=n[a](c))});return l};h[13]="e";n[19]="e";l[17]="e";this.changeFillColor=function(a){va.stroke=a;ja.fill=a;ja.stroke="none"};this.addExtension=function(a,c){if(a in Qd)console.log('Cannot add extension "'+a+'", an extension by that name already exists"');
else{var h=$j.isFunction(c)?c($j.extend(P.getPrivateMethods(),{svgroot:ha,svgcontent:ma,nonce:vb().getNonce(),selectorManager:za})):c;Qd[a]=h;Ra("extension_added",h)}};h[14]="c";n[20]="c";l[18]="c";var Rd=this.round=function(a){return parseInt(a*W)/W};h[15]="h";n[21]="h";l[19]="h";var Be=this.getIntersectionList=function(a,c){if(Nb==null)return null;var h=bc||vb().getCurrentLayer();c==null&&(c=false);Uc=Jf(h);var l=null,f=[];try{a!=null&&(l=h.getIntersectionList(a,null))}catch(n){}if(l==null||typeof l.item!=
"function"){l=[];if(a)h=a;else{var h=Nb.getBBox(),o={},q;for(q in h)o[q]=h[q]/W;h=o}for(q=Uc.length;q--;)h.width&&h.height&&(svgedit.math.rectsIntersect(h,Uc[q].bbox)?Uc[q].elem.getAttribute("text_type")!="textpath"&&l.push(Uc[q].elem):f.push(Uc[q].elem))}return c?f:l};h[16]=".";n[22]=".";l[20]=".";o[15]="t";p[11]=".";var Lc=this.getStrokedBBox=function(a){a||(a=Sd());if(!a.length)return false;var c=function(a){try{var c=svgedit.utilities.getBBox(a),h=svgedit.utilities.getRotationAngle(a);if(h&&h%
90||svgedit.math.hasMatrixTransform(svgedit.transformlist.getTransformList(a))){h=false;if(["ellipse","path","line","polyline","polygon"].indexOf(a.tagName)>=0)c=h=P.convertToPath(a,true);else if(a.tagName=="rect"){var l=a.getAttribute("rx"),f=a.getAttribute("ry");if(l||f)c=h=P.convertToPath(a,true)}if(!h){var n=a.cloneNode(true),o=document.createElementNS("http://www.w3.org/2000/svg","g"),Xf=a.parentNode;Xf.appendChild(o);o.appendChild(n);c=svgedit.utilities.bboxToObj(o.getBBox());Xf.removeChild(o)}}return c}catch(q){return null}},
h;$j.each(a,function(){h||this.parentNode&&(h=c(this))});if(h==null)return null;var l=h.x+h.width,f=h.y+h.height,n=h.x,o=h.y,q=function(a){var c=a.getAttribute("stroke-width"),h=0;a.getAttribute("stroke")!="none"&&!isNaN(c)&&(h=h+c/2);return h},p=[];$j.each(a,function(a,h){var l=c(h);if(l){var f=q(h);n=Math.min(n,l.x-f);o=Math.min(o,l.y-f);p.push(l)}});try{h.x=n;h.y=o}catch(s){}$j.each(a,function(a,c){var h=p[a];if(h&&c.nodeType==1){var n=q(c);l=Math.max(l,h.x+h.width+n);f=Math.max(f,h.y+h.height+
n)}});try{h.width=l-n;h.height=f-o}catch(u){h={x:n,y:o,width:h.width,height:h.height}}return h};h[17]="c";n[23]="c";l[21]="c";o[16]=".";p[12]="c";var Kf=function(a){this.font_family=a.family;this.ascent=a.ascent;this.descent=a.descent;this.leading=a.leading;this.boldInd=a.boldInd;this.italicInd=a.italicInd;this.boldItalicInd=a.boldItalicInd},cc=this.fontManager=new function(){this.fontList={};var a=this;this.addFontElement=function(a){var c=new Kf({family:a.fontName,ascent:a.ascent,descent:a.descent,
leading:a.leading,boldInd:a.boldInd,italicInd:a.italicInd,boldItalicInd:a.boldItalicInd});this.fontList[a.fontName]=c};this.getFontElement=function(c){c=a.fontList[c];c==void 0&&(c=a.fontList["Open Sans"]);return c};this.calcHeight=function(c,h,l){c=a.fontList[c];if(l){c==void 0&&(c=a.fontList["Open Sans"]);return h*c.leading+h*c.ascent+h*c.descent}return 12};this.getFontList=function(){return a.fontList}};cc.addFontElement({ascent:0.9312,boldInd:"Y",boldItalicInd:"Y",cfgFontId:121,descent:0.2403,
fontLocation:"Droid-Serif/DroidSerif",fontName:"DroidSerif",italicInd:"Y",latestDate:"1281934800000",leading:0});cc.addFontElement({ascent:0.8921,boldInd:"N",boldItalicInd:"N",cfgFontId:104,descent:0.2588,fontLocation:"ArtBrush/Artbrush",fontName:"ArtBrush",italicInd:"N",latestDate:"1281934800000",leading:0});cc.addFontElement({ascent:0.9283,boldInd:"Y",boldItalicInd:"Y",cfgFontId:107,descent:0.2359,fontLocation:"Bitstream-Vera-Sans-Mono/VeraMono",fontName:"BitstreamVeraSansMono",italicInd:"Y",latestDate:"1281934800000",
leading:0});cc.addFontElement({ascent:1.187,boldInd:"N",boldItalicInd:"N",cfgFontId:108,descent:0.282,fontLocation:"Blazing/BlazingItalic",fontName:"BlazingItalic",italicInd:"N",latestDate:"1281934800000",leading:0});cc.addFontElement({ascent:0.9312,boldInd:"N",boldItalicInd:"N",cfgFontId:120,descent:0.2403,fontLocation:"Droid-Sans-Mono/DroidSansMono",fontName:"DroidSansMono",italicInd:"N",latestDate:"1281934800000",leading:0});cc.addFontElement({ascent:0.9283,boldInd:"N",boldItalicInd:"N",cfgFontId:118,
descent:0.2359,fontLocation:"DejaVu-Sans/DejaVuSans",fontName:"DejaVuSans",italicInd:"Y",latestDate:"1281934800000",leading:0});cc.addFontElement({ascent:1.1485,boldInd:"Y",boldItalicInd:"N",cfgFontId:131,descent:0.1735,fontLocation:"HighlandGothicFLF/HighlandGothicFLF",fontName:"HighlandGothicFLF",italicInd:"N",latestDate:"1281934800000",leading:0.097});cc.addFontElement({ascent:0.902,boldInd:"N",boldItalicInd:"N",cfgFontId:183,descent:0.266,fontLocation:"ZephyrScriptFLF/ZephyrScriptFLF",fontName:"ZephyrScriptFLF",
italicInd:"N",latestDate:"1281934800000",leading:0.08});this.moveToGroup=function(){var a=$j('#svgcontent g[style="pointer-events:all"]'),c=a.children();a.children().remove();var h=Ta({element:"g",attr:{id:Db()}});console.log(c);$j(h).append(c);a.append(h);return $j(h)};this.textFromXML=function(a){var c=textArray=svgedit.utilities.text2xml($j("#textsvg_"+a).val().replace(RegExp(">[\n\t ]+<","g"),"><")).getElementsByTagName("text"),h=[],l={},f=[];textLen=c.length;for(i=0;i<textLen;i++){c[i].getAttribute("id");
if(c[i].hasAttribute("texttype")){h.push(c[i]);l[c[i].getAttribute("texttype")]=c[i]}else f.push(c[i])}var c=[],n;for(n in svgEditor.personalizeTextFields)l[n]!=void 0&&c.push(l[n]);allText1=c.concat(f);textLen=allText1.length;for(i=0;i<textLen;i++){l=allText1[i].getAttribute("id");if(allText1[i].getAttribute("lock")=="true"){if(allText1[i].getAttribute("lock_admin")=="true"&&allText1[i].getAttribute("editable")=="true"){if(i>=textLen)break;texttype=allText1[i].getAttribute("texttype");texttype!=
null?$j("#personalize_box_container").append("<div class='personalizegroup'><span class='personalize_label'>"+svgEditor.personalizeTextFields[texttype]+"   (Page"+a+")</span><textarea type='text' class=p"+a+"_"+l+" cols='20' rows='1' rel="+a+"></textarea><br /></div>"):$j("#personalize_box_container").append("<div class='personalizegroup'><span class='personalize_label'>Text "+(i+1)+"  (Page"+a+")</span><textarea type='text' class=p"+a+"_"+l+" cols='20' rows='1' rel="+a+"></textarea><br /></div>");
$j("#"+l).children().text();strTextChildLen=$j("#"+l).children().length;n="";for(j=0;j<allText1[i].childNodes.length-1;j++){f=allText1[i].childNodes[j].textContent+"\n";n=n+f}n=n+allText1[i].childNodes[allText1[i].childNodes.length-1].textContent;$j(".p"+k+"_"+l).val(n)}}else{if(i>=textLen)break;texttype=allText1[i].getAttribute("texttype");texttype!=null?$j("#personalize_box_container").append("<div class='personalizegroup'><span class='personalize_label'>"+svgEditor.personalizeTextFields[texttype]+
"   (Page"+a+")</span><textarea type='text' class=p"+a+"_"+l+" cols='20' rows='1' rel="+a+"></textarea><br /></div>"):$j("#personalize_box_container").append("<div class='personalizegroup'><span class='personalize_label'>Text "+(i+1)+"  (Page"+a+")</span><textarea type='text' class=p"+a+"_"+l+" cols='20' rows='1' rel="+a+"></textarea><br /></div>");$j("#"+l).children().text();strTextChildLen=$j("#"+l).children().length;n="";for(j=0;j<allText1[i].childNodes.length-1;j++){f=allText1[i].childNodes[j].textContent+
"\n";n=n+f}n=n+allText1[i].childNodes[allText1[i].childNodes.length-1].textContent;$j(".p"+k+"_"+l).val(n)}}};var Ce=function(){this.attr=$j.extend(true,{ascent:0,descent:0,height:0,leading:0,vector_effect:"non-scaling-stroke"},ja);this.compareAttr=function(a){var c=false,h;if(a==null)return false;for(var l=0;l<Td.cattr.length;l++){h=Td.cattr[l].replace("-","_");c=a.attr[h];h=this.attr[h];c=c==h?true:false;if(!c)return false}return c};this.initializeADL=function(){font=cc.getFontElement(this.attr.font_family);
fontHeight=cc.calcHeight(font.font_family,this.attr.font_family);this.attr.height=fontHeight;this.attr.ascent=font.ascent;this.attr.descent=font.descent;this.attr.leading=font.leading};this.setAttrFromSVG=function(a){var c,h;for(h in this.attr){c=h.replace("_","-");this.attr[h]=a.getAttribute(c)}font=cc.getFontElement(a.getAttribute("font-family"));if(font==void 0){Yc=true;window.svgEditor.loadFontManager();font=cc.getFontElement(a.getAttribute("font-family"))}fontHeight=cc.calcHeight(font.font_family,
a.getAttribute("font-size"));this.attr.height=fontHeight;this.attr.ascent=font.ascent;this.attr.descent=font.descent;this.attr.leading=font.leading};this.setSVGFromAttr=function(a){for(var c,h={},l=0;l<Td.cattr.length;l++){key=Td.cattr[l];c=key.replace("-","_");val=this.attr[c];val!==null&&(h[key]=val)}hb(a,h,10)};this.getAttrElement=function(a){return this.attr[a]};this.deepClone=function(){var a=new Ce,c;for(c in this.attr)a.attr[c]=this.attr[c];return a}};this.getClipartColors=function(a){a||(a=
H[0]);svgedit.utilities.walkTree(a,function(a){window.svgEditor.getClipartElem(a)})};this.ungroupAllChilds=function(){var a=H[0],c=$j(H[0]).children(),h=[];for(i=0;i<c.length;i++)svgedit.utilities.walkTree(c[i],function(a){a.tagName=="g"&&h.push(a.id)});for(i=0;i<h.length;i++){c=Ga(h[i]);$j(c).attr("transform")!=null&&svgCanvas.ungroupSelectedElement(c,true)}wb();Vb([a],true)};this.checkingAllTextTspans=function(a){var c=$j(a).children();if(c.length!=0){var h=[],l=[],f=[];for(i=0;i<c.length;i++)h.push($j(c[i]).attr("y"));
$j.each(h,function(a,c){$j.inArray(c,l)===-1&&l.push(c)});$j.each(l,function(c,h){var l=$j("#"+a.id+" tspan[y='"+h+"']").text();f.push(l)});if(h.length>1){var n=$j(a).attr("font-size")||$j(a).children()[0].getAttribute("font-size"),o=$j(a).attr("font-family")||$j(a).children()[0].getAttribute("font-family"),q=$j(a).attr("fill")||$j(a).children()[0].getAttribute("fill");cc.fontList[font_family]==void 0&&(o="Open Sans");var p=$j(a).attr("x")||0,s=$j(a).attr("opacity")||1,u=cc.calcHeight(o,n,true),z=
0;$j(a).text("");$j.each(f,function(c,h){tspanElem=Eb.createElementNS("http://www.w3.org/2000/svg","tspan");hb(tspanElem,{"xml:space":"preserve",id:"t"+Db(),"font-size":n,"font-family":o,x:p,dy:z,opacity:s,"vector-effect":"non-scaling-stroke"},100);tspanElem.textContent=h;tspanElem.setAttributeNS("http://www.pixopa.com","se:emptyline","true");tspanElem.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");tspanElem.setAttribute("font-style","normal");tspanElem.setAttribute("font-weight",
"normal");tspanElem.setAttribute("vector-effect","non-scaling-stroke");c<f.length-1&&tspanElem.setAttributeNS("http://www.pixopa.com","se:newline","true");c==0&&(z=z+u);md(tspanElem);$j(a).append(tspanElem);$j(a).attr("isMultiline","true");$j(a).attr("font-size",n);$j(a).attr("font_size",n);$j(a).attr("font-family",o);$j(a).attr("attr_obj","svg_text");$j(a).attr("attr_rs","true");$j(a).attr("resized","false");$j(a).attr("stroke-dasharray","null");$j(a).attr("stroke-linejoin","null");$j(a).attr("stroke-linecap",
"null");$j(a).attr("stroke-opacity","null");$j(a).attr("fill-opacity","null");$j(a).attr("font-style","normal");$j(a).attr("font-weight","normal");$j(a).attr("aspect","true");$j(a).attr("ttemp","proper");$j(a).attr("fill",q);$j(a).attr("vector-effect","non-scaling-stroke");$j(a).attr("text-anchor")||$j(a).attr("text-anchor","start")})}}};var bf=!0;this.svgElementAttrChecking=function(){if(bf){window.svgEditor.loadFontManager();bf=false}var c=H[0];svgedit.utilities.walkTree(c,function(c){c.tagName==
"text"&&P.checkingAllTextTspans(c);if(c.tagName=="text"&&c.getAttribute("ttemp")!="proper"){if(!a.enableSingleLine&&($j(c).attr("isMultiline")=="false"||$j(c).attr("isMultiline")==null)&&$j(c).attr("text_type")!="textpath"){var h=$j(c).text();$j(c).text("");tspanElem=Eb.createElementNS("http://www.w3.org/2000/svg","tspan");hb(tspanElem,{"xml:space":"preserve",id:"t"+Db(),"font-size":$j(c).attr("font-size"),"font-family":$j(c).attr("font-family"),x:$j(c).attr("x"),dy:0,opacity:$j(c).attr("opacity"),
"vector-effect":"non-scaling-stroke"},100);tspanElem.textContent=h;tspanElem.setAttributeNS("http://www.pixopa.com","se:emptyline","true");md(tspanElem);$j(c).append(tspanElem);$j(c).attr("isMultiline","true")}$j(c).attr("attr_obj","svg_text");$j(c).attr("attr_rs","true");$j(c).attr("resized","false");$j(c).attr("stroke-dasharray","null");$j(c).attr("stroke-linejoin","null");$j(c).attr("stroke-linecap","null");$j(c).attr("stroke-opacity","null");$j(c).attr("fill-opacity","null");$j(c).attr("font-style",
"normal");$j(c).attr("font-weight","normal");h=$j(c).children();if($j(c).attr("style")){style=$j(c).attr("style").split(";");for(i=0;i<style.length;i++){attribute=style[i].split(":");attribute[0].charAt(0)=="-"||attribute[1].charAt(0)=="-"||$j(c).attr(attribute[0],attribute[1])}}if(h.length>0){var l=$j(h[0]).attr("font-family")||$j(c).attr("font-family");cc.calcHeight(l,$j(h[0]).attr("font-size"),true);var f=cc.fontList[l];f==void 0&&(l="Open Sans");f=$j(c).attr("font-size")||$j(h[0]).attr("font-size");
$j(c).attr("font-family",l);$j(c).attr("isMultiline","true");$j(c).attr("font-size",f+"pt");$j(c).attr("font_size",f+"pt");$j(c).attr("aspect",true);c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");$j(c).attr("stroke-width",$j(c).attr("stroke-width")||0);$j(c).attr("text-anchor")||$j(c).attr("text-anchor","start");$j(c).attr("fill",$j(c).attr("fill")||$j(h[0]).attr("fill")||"#000000");$j(c).attr("stroke",$j(c).attr("stroke")||$j(h[0]).attr("stroke")||"none");$j(c).attr("filter",
$j(c).attr("filter")||null);for(i=0;i<h.length;++i){$j(h[i]).removeAttr("y");$j(h[i]).attr("x",$j(c).attr("x"));$j(h[i]).attr("dy",0);$j(h[i]).attr("font-family",l);h[i].setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");$j(h[i]).attr("font-style","normal");$j(h[i]).attr("font-weight","normal");$j(h[i]).attr("font-size",f+"pt");i<h.length-1&&h[i].setAttributeNS("http://www.pixopa.com","se:newline","true");i=0}}else{l=$j(c).attr("font-family");f=cc.fontList[l];f==void 0&&
(l="Open Sans");$j(c).attr("fill",$j(c).attr("fill")||"#000000");$j(c).attr("stroke",$j(c).attr("stroke")||"none");$j(c).attr("isMultiline","false");$j(c).attr("font-family",l);$j(c).attr("font_size",$j(c).attr("font-size")+"pt");c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");$j(c).attr("text-decoration","none");$j(c).attr("aspect",true);$j(c).attr("text-rendering","geometricPrecision");$j(c).attr("stroke-width",$j(c).attr("stroke-width")||0);$j(c).attr("text-anchor")||
$j(c).attr("text-anchor","start");$j(c).attr("filter",$j(c).attr("filter")||null)}}else if(c.tagName=="image"){$j(c).attr("attr_obj","svg_image");$j(c).attr("preserveAspectRatio")||$j(c).attr("preserveAspectRatio","none")}});Vb([c],true)};var De=function(a){this.dy=this.width=this.y=this.x=null;this.value=a!==null?a:"";this.se_emptyline=this.se_newline="";this.bbox=this.characterAttribute=null;this.setBBox=function(a){this.bbox={ul:{x:this.x,y:this.y-a.attr.font_size*a.attr.ascent},ur:{x:this.x+this.width,
y:this.y-a.attr.font_size*a.attr.ascent},ll:{x:this.x,y:this.y+a.attr.font_size*a.attr.descent},lr:{x:this.x+this.width,y:this.y+a.attr.font_size*a.attr.descent}}}},Td={cattr:"fill fill-opacity font-family font-size font-style font-weight text-decoration opacity stroke stroke-dasharray stroke-linecap stroke-linejoin stroke-opacity stroke-width vector-effect".split(" "),celem:["ascent","descent","height","leading"],cpos:"x y dy se:newline se:emptyline width".split(" ")},Ha=this.textManager=new function(){this.characterAttributes=
[];this.textArray=[];this.curAttrib=this.prevPos=this.curPos=0;var a=this;this.initTextArray=function(c){var c=c.firstChild,h=$j("#text")[0];this.textArray=[];this.characterAttributes=[];for(var l="",f=0,n=0;c!=null;){if(c.nodeName=="tspan"){c.getAttribute("dy")?n=1:n++;var o=c.getAttribute("se:newline"),o=o==null?false:true,q=c.getAttribute("se:emptyline"),q=q==null?false:true,p=new Ce;p.setAttrFromSVG(c);var s=this.isInAttributeList(p);if(s==null){this.characterAttributes.push(p);s=this.characterAttributes.length-
1}a.curAttrib=s;for(var u=0;u<c.textContent.length;u++){p=new De(c.textContent[u]);c.getAttribute("dy");p.characterAttribute=s;a.curAttrib=s;c.textContent.length==1&&c.textContent[0]==" "&&q||(this.textArray[f++]=p)}if(o){o=new De("\n");o.characterAttribute=s;o.width=0;o.se_newline="se:newline";this.textArray[f++]=o}}c=c.nextSibling}for(u=0;u<this.textArray.length;u++)l=l+this.textArray[u].value;h.value=l.replace(/[^\S\r\n]+$/gm,"");a.curPos=a.textArray.length-1};this.writeArray=function(){};this.isInAttributeList=
function(a){for(var c=null,h=0;h<this.characterAttributes.length;h++){charAttr=this.characterAttributes[h];if(charAttr.compareAttr(a)){c=h;h=this.characterAttributes.length}}return c};this.renderTextSVG=function(c,h,l){var f=false,n=true,f=h===void 0?false:h,n=l===void 0?true:false,h=0,l=false,o=null;Pd++;var q=null,p=null,s=[],u=0,z=0,w=0,B=0,A=0,C=true,F=true,J=0,E=0,M=0,T=true,N=true,I=0,D=0,K=0,R=0,G=0,O=0,L=true,H=true,ga=true,Nc=false;if(n){for(p=ha.suspendRedraw(100);c.hasChildNodes();)c.removeChild(c.firstChild);
ha.unsuspendRedraw(p);p=ha.suspendRedraw(100)}try{c.getAttribute("se:leading")!=null&&c.getAttribute("se:leading");c.getAttribute("se:autowrap")!=null&&c.getAttribute("se:autowrap");var V=null;if(a.textArray.length==0){V=a.characterAttributes[a.curAttrib];if(n){q=Eb.createElementNS("http://www.w3.org/2000/svg","tspan");q.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");q.setAttribute("id",Db());Pd++;V.setSVGFromAttr(q);q.setAttributeNS("http://www.pixopa.com","se:emptyline",
"true");q.setAttribute("dy",0);q.setAttribute("x",c.getAttribute("x")-0);q.setAttribute("vector-effect","non-scaling-stroke");q.textContent=" ";c.appendChild(q)}R=0}if(this.textArray.length==$j("#text").val().replace(/[^\S\r\n]+$/gm,"").length)for(var ia=0;ia<this.textArray.length;ia++){var X=this.textArray[ia];X.width!=null&&(I=I+X.width);if(T){T=false;V=this.characterAttributes[X.characterAttribute];curFontSize=V.attr.font_size.replace("pt","");J=(V.attr.leading-0)*(curFontSize-0);E=(V.attr.ascent-
0)*(curFontSize-0);M=(V.attr.descent-0)*(curFontSize-0);B=E>B?E:B;A=J>A?J:A;w=M>w?M:w;if(n){q=Eb.createElementNS("http://www.w3.org/2000/svg","tspan");q.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");q.setAttribute("id",Db());q.setAttribute("vector-effect","non-scaling-stroke");Pd++;V.setSVGFromAttr(q);s[u++]=q}}if(f)if(Y.isDrawCursorByPosition())if(l)H&&!L&&ga&&(ga=false);else{if(ia==a.curPos){l=true;L=false;H=true;ga=false;if(Y.isDrawCursorBeginning())R=I-X.width;
else if(X.value=="\n"){ga=H=true;R=0}else R=I}}else if(L){var Q=c.getAttribute("x")-0+I,U=Y.getCursorXY().x,h=ia,R=0;Y.setDrawCursorBeginning(true);if(Q>U||X.value=="\n"){ga=false;R=I;if(I-X.width/2+(c.getAttribute("x")-0)>U)R=I-X.width;else{ga=true;X.value!="\n"&&Y.setDrawCursorBeginning(false)}L=false;H=true}}else H&&!L&&ga&&(ga=false);if(Y.getStartSelectionPos()!=null){var S=Y.getStartSelectionPos(),aa=Y.getSelectionStartXY();if(ia==S)aa.cursor_x=I}if(X.value=="\n"||this.textArray[ia+1]==void 0){X.value==
"\n"&&n&&q.setAttributeNS("http://www.pixopa.com","se:newline","true");if(n)if(q.textContent.length==0&&X.value=="\n"){q.textContent=" ";q.setAttribute("vector-effect","non-scaling-stroke");q.setAttributeNS("http://www.pixopa.com","se:emptyline","true")}else if(this.textArray[ia+1]==void 0&&X.value!="\n")q.textContent=q.textContent+X.value;var T=true,ca=s[0];newDy=z+A+B+parseInt(P.getLineSpacing());z=w;if(N){if(n){ca.setAttribute("dy",0);ca.setAttribute("x",c.getAttribute("x")-0)}N=false}else{if(n){ca.setAttribute("dy",
newDy);ca.setAttribute("x",c.getAttribute("x")-0)}K=K+newDy}if(Nc){O=K;Nc=false}if(H&&!ga&&Y.isDrawCursorByPosition()){H=false;G=K-newDy;O=K;Nc=true;if(Y.getStartSelectionPos()!=null&&F){var W=Y.getSelectionToXY();if(ia>=o){F=false;W.cursor_y=K;W.max_ascent=B;W.max_descent=w}}}if(!L&&H&&!Y.isDrawCursorByPosition()&&!l)if(c.getAttribute("y")-0+K+w>Y.getCursorXY().y){if(L){o=ia;Y.setDrawCursorBeginning(true)}else o=h;H=false;G=K-newDy;O=K;l=Nc=true;Y.isDrawCursorBeginning()?$j("#text")[0].setSelectionRange(o,
o):$j("#text")[0].setSelectionRange(o+1,o+1);a.setCurPos(o);if(Y.getStartSelectionPos()!=null&&F){W=Y.getSelectionToXY();if(ia>=o){F=false;W.cursor_y=K;W.max_ascent=B;W.max_descent=w}}}else L=true;if(Y.getStartSelectionPos()!=null&&C){S=Y.getStartSelectionPos();aa=Y.getSelectionStartXY();if(ia>=S){C=false;aa.cursor_y=K;aa.max_ascent=B;aa.max_descent=w}}if(X.value=="\n"&&ia+1>=a.textArray.length){V=this.characterAttributes[X.characterAttribute];J=(V.attr.leading-0)*(curFontSize-0);E=(V.attr.ascent-
0)*(curFontSize-0);B=E>B?E:B;A=J>A?J:A;w=M>w?M:w;newDy=z+A+B+parseInt(P.getLineSpacing());K=K+newDy;if(!l&&!Y.isDrawCursorByPosition()){R=0;a.setCurPos(ia);l=true}if(H){G=K-newDy;O=K;Y.setDrawCursorBeginning(false);H=false}Nc&&(O=K);if(n){q=Eb.createElementNS("http://www.w3.org/2000/svg","tspan");q.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");q.setAttribute("id",Db());q.setAttribute("vector-effect","non-scaling-stroke");Pd++;V.setSVGFromAttr(q);q.textContent=" ";q.setAttributeNS("http://www.pixopa.com",
"se:emptyline","true");q.setAttribute("dy",newDy);q.setAttribute("x",c.getAttribute("x")-0);s[u++]=q}}if(n)for(var da=0;da<s.length;da++)c.appendChild(s[da]);s=[];u=0;D=I>D?I:D;A=B=w=I=0}else if(n)q.textContent=q.textContent+X.value}a.curAttrib=a.getCurPos()==-1?0:a.textArray[a.getCurPos()]!==void 0?a.textArray[a.getCurPos()].characterAttribute:0;if(f){Y.setUpCursor(c.getAttribute("x")-0+R,c.getAttribute("y")-0+G);Y.setDownCursor(c.getAttribute("x")-0+R,c.getAttribute("y")-0+O);(l||a.textArray.length==
0)&&!Y.isDrawCursorByPosition()&&Y.setDrawCursorByPosition(true)}if(Y.getStartSelectionPos()!=null){var ya=Y.getSelectionToXY();ya.cursor_x=R;ya.is_cursor_beginning=Y.isDrawCursorBeginning();Y.setSelectionBox(c,D)}locCharAttr=a.characterAttributes[a.curAttrib];if(locCharAttr.attr.line_spacing!=null)ja.line_spacing=locCharAttr.attr.line_spacing;if(locCharAttr.attr.fill!=null)ja.fill=locCharAttr.attr.fill;if(locCharAttr.attr.stroke!=null)ja.stroke=locCharAttr.attr.stroke;ja.font_style=locCharAttr.attr.font_style;
ja.font_weight=locCharAttr.attr.font_weight;ja.font_size=locCharAttr.attr.font_size;ja.font_family=locCharAttr.attr.font_family;ed()==""&&Y.updateFontUIFormElements()}catch(ba){}n&&ha.unsuspendRedraw(p)};this.setCurPos=function(a){this.curPos=a};this.getCurPos=function(){return a.curPos};this.setPrevPos=function(a){this.prevPos=a};this.getPrevPos=function(){return a.prevPos};this.getCharacterAttributes=function(){return a.characterAttributes};this.insertChar=function(c,h,l){var h=h===void 0?a.getCurPos():
h,f=null,f=a.curAttrib,n=Y.getStartSelectionPos(),o=a.getCurPos(),q,p,s=true;if(n!=null)try{var u=Y.getSelectionStartXY().is_cursor_beginning,z=Y.getSelectionToXY().is_cursor_beginning;if(o<n&&n-o==1&&z==false&&u==true){h=o-1;Y.setDrawCursorBeginning(false);n--}else if(o<n&&z==true&&u==false){h=o-1;Y.setDrawCursorBeginning(false)}else if(o<n&&z==true&&u==true){h=o-1;Y.setDrawCursorBeginning(false);n--}else if(o<n&&z==false&&u==false){h=o;Y.setDrawCursorBeginning(false);o++}else if(o<n&&z==false&&
u==true){h=o;Y.setDrawCursorBeginning(false);o++;n--}else if(n<o&&o-n==1&&u==false&&z==true){h=n-1;Y.setDrawCursorBeginning(false);o--}else if(n<o&&u==true&&z==false){h=n-1;Y.setDrawCursorBeginning(false)}else if(n<o&&u==true&&z==true){h=n-1;Y.setDrawCursorBeginning(false);o--}else if(n<o&&u==false&&z==false){h=n;Y.setDrawCursorBeginning(false);n++}else if(n<o&&u==false&&z==true){h=n;Y.setDrawCursorBeginning(false);n++;o--}else if(n==o&&u==true&&z==true){h=o-1;Y.setDrawCursorBeginning(false);s=false}else if(n==
o&&u==false&&z==false){h=n;Y.setDrawCursorBeginning(false);s=false}else if(n==o&&u==true&&z==false){h=n-1;Y.setDrawCursorBeginning(false)}else if(n==o&&u==true&&z==false){h=n-1;Y.setDrawCursorBeginning(false)}if(n<=o){q=n;p=o}else{q=o;p=n}s&&this.textArray.splice(q,p-q+1)}catch(w){console.debug(w)}if(ed()!=""){dc("");f=new Ce;f.initializeADL();q=a.isInAttributeList(f);if(q==null){a.characterAttributes.push(f);f=this.characterAttributes.length-1}else f=q}q=this.characterAttributes[f];c==void 0&&(c=
" ");p=new De(c);u=Ga("text_io_element");if(c!="\n"){u.textContent=c;q.setSVGFromAttr(u)}else p.width=0;p.characterAttribute=f;Y.isDrawCursorBeginning()&&Y.setDrawCursorBeginning(false);l=="crtl"?this.textArray.splice(h,h,p):this.textArray.splice(h,0,p);a.setCurPos(h);if(Y.getStartSelectionPos()!=null){Y.setStartSelectionPos(null);Y.hideSelectionBox();Y.resetSelectionStartXY();Y.resetSelectionToXY()}};this.removeChar=function(c){var c=c===void 0?a.getCurPos():c,h=Y.getStartSelectionPos(),l=a.getCurPos(),
f,n;if(h!=null)try{var o=Y.getSelectionStartXY().is_cursor_beginning,q=Y.getSelectionToXY().is_cursor_beginning;if(l<h&&h-l==1&&q==false&&o==true){c=l-1;Y.setDrawCursorBeginning(false);h--}else if(l<h&&q==true&&o==false){c=l-1;Y.setDrawCursorBeginning(false)}else if(l<h&&q==true&&o==true){c=l-1;Y.setDrawCursorBeginning(false);h--}else if(l<h&&q==false&&o==false){c=l;Y.setDrawCursorBeginning(false);l++}else if(l<h&&q==false&&o==true){c=l;Y.setDrawCursorBeginning(false);l++;h--}else if(h<l&&l-h==1&&
o==false&&q==true){c=h-1;Y.setDrawCursorBeginning(false);l--}else if(h<l&&o==true&&q==false){c=h-1;Y.setDrawCursorBeginning(false)}else if(h<l&&o==true&&q==true){c=h-1;Y.setDrawCursorBeginning(false);l--}else if(h<l&&o==false&&q==false){c=h;Y.setDrawCursorBeginning(false);h++}else if(h<l&&o==false&&q==true){c=h;Y.setDrawCursorBeginning(false);h++;l--}else if(h==l&&o==true&&q==true){c=l-2;Y.setDrawCursorBeginning(false);h--;l--}else if(h==l&&o==false&&q==false){c=h-1;Y.setDrawCursorBeginning(false)}else if(h==
l&&o==true&&q==false){c=h-1;Y.setDrawCursorBeginning(false)}else if(h==l&&o==true&&q==false){c=h-1;Y.setDrawCursorBeginning(false)}if(h<=l){f=h;n=l}else{f=l;n=h}this.textArray.splice(f,n-f+1)}catch(p){console.debug(p)}if(c<0){c=0;Y.setDrawCursorBeginning(true)}else if(c==0){if(!Y.isDrawCursorBeginning()&&Y.getStartSelectionPos()==null){this.textArray.splice(0,1);Y.setDrawCursorBeginning(true)}}else if(Y.getStartSelectionPos()==null){Y.isDrawCursorBeginning()?this.textArray.splice(c-1,1):this.textArray.splice(c,
1);c--}a.setCurPos(c);if(Y.getStartSelectionPos()!=null){Y.setStartSelectionPos(null);Y.hideSelectionBox();Y.resetSelectionStartXY();Y.resetSelectionToXY()}};this.moveLeftChar=function(c){c=c===void 0?a.getCurPos():c;c==0?Y.isDrawCursorBeginning()||Y.setDrawCursorBeginning(true):c--;a.setCurPos(c)};this.moveRightChar=function(c,h){var l;l=h===void 0?a.getCurPos():h;Y.isDrawCursorBeginning()?Y.setDrawCursorBeginning(false):l++;l+1>this.textArray.length&&(l=this.textArray.length-1);a.setCurPos(l)};
this.getTextArray=function(){return this.textArray};this.setTextArray=function(){this.textArray=[]};this.getChar=function(a){return this.textArray[a]};this.getCurAttr=function(){return this.curAttrib};this.setCurAttr=function(a){this.curAttrib=a};this.getCurCharacterAttribute=function(c){return a.characterAttributes[arguments.length?c:a.curAttrib]}},Y=this.textUIManager=new function(){this.selectBox=this.blinker=this.cursor=this.allow_dbl=this.textIOElement=this.matrix=null;this.drawCursorByPosition=
true;this.cursorXY=this.cursorPos=null;this.downCursor={x:0,y:0};this.upCursor={x:0,y:0};this.drawCursorBeginning=false;this.selectModeToggle=this.last_y=this.last_x=null;this.ctrlKeyPressed=this.shiftKeyPressed=false;this.startSelectionPos=null;this.selectionStartXY={is_cursor_beginning:"",cursor_x:0,cursor_y:0,max_ascent:0,max_descent:0};this.selectionToXY={is_cursor_beginning:"",cursor_x:0,cursor_y:0,max_ascent:0,max_descent:0};this.ismoving=false;var c=this;this.init=function(){var a=H[0].getAttribute("transform");
c.matrix=a?s(H[0]):null;/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase());c.textIOElement=Ga("text_io_element");if(!c.textIOElement){c.textIOElement=Mb(H[0],false);hb(c.textIOElement,{id:"text_io_element",x:0,y:0,visibility:"hidden"});c.textIOElement=Ga("selectorParentGroup").appendChild(c.textIOElement)}};this.toEditMode=function(h,l){var f;c.allow_dbl=false;Ua="textedit";a.isMultiline?za.requestSelector(H[0]).showGrips(true):za.requestSelector(H[0]).showGrips(false);$j("#text").focus();
sel=za.requestSelector(H[0]).selectorRect;c.init();Ha.initTextArray(H[0]);if(arguments.length){c.cursorPos=null;c.cursorXY=c.screenToPt(h,l);f=c.drawCursorByPosition=false}else{c.cursorPos=Ha.getTextArray().length-1<0?0:Ha.getTextArray().length-1;c.cursorXY=null;f=c.drawCursorByPosition=true}Ha.getCurPos()==-1&&Y.setDrawCursorBeginning(false);dc("");Ha.renderTextSVG(H[0],true,f);setTimeout(function(){c.allow_dbl=true},300)};this.toSelectMode=function(a){Ua="select";clearInterval(c.blinker);c.blinker=
null;c.cursor&&$j(c.cursor).attr("visibility","hidden");c.selectBox&&Y.hideSelectionBox();Y.setStartSelectionPos(null);Y.setShiftKeyStatus(false);Y.setCtrlKeyStatus(false);Y.resetSelectionStartXY();Y.resetSelectionToXY();if(a){a=H[0];wb();Ra("selected",[a]);jc([a],true)}(a=H[0])&&!a.textContent.length&&P.deleteSelectedElements();$j("#text")[0].blur()};this.setCursor=function(a,h,l,f){$j("#text");c.cursor=Ga("text_cursor");if(!c.cursor){c.cursor=document.createElementNS("http://www.w3.org/2000/svg",
"line");hb(c.cursor,{id:"text_cursor",stroke:"#333","stroke-width":0});c.cursor=Ga("selectorParentGroup").appendChild(c.cursor)}if(!c.blinker)c.blinker=setInterval(function(){var a=c.cursor.getAttribute("visibility")==="hidden";c.cursor.setAttribute("visibility",a?"visible":"hidden")},600);locX=f.getAttribute("x")-0+l;locUrY=f.getAttribute("y")-0+h-a.attr.font_size*a.attr.ascent;locLrY=f.getAttribute("y")-0+h+a.attr.font_size*a.attr.descent;a=c.ptToScreen(locX,locLrY);h=c.ptToScreen(locX,locUrY);
hb(c.cursor,{x1:a.x,y1:a.y,x2:h.x,y2:h.y,visibility:"visible",display:"inline"})};this.setSelectionBox=function(a,h){c.selectBox=Ga("text_selection_box");if(!c.selectBox){c.selectBox=document.createElementNS("http://www.w3.org/2000/svg","path");hb(c.selectBox,{id:"text_selection_box",fill:"none",opacity:0.5,style:"pointer-events:none"});c.selectBox=Ga("selectorParentGroup").appendChild(c.selectBox)}a.getBBox();var l=a.getAttribute("x")-0,f=a.getAttribute("y")-0,n=0,o=0,q;q=Ha.getTextArray()[c.startSelectionPos];
if(c.selectionStartXY.is_cursor_beginning){n=c.selectionStartXY.cursor_x-q.width;n<0&&(n=0)}else n=c.selectionStartXY.cursor_x;o=c.selectionToXY.cursor_x;q=Array(8);q[0]=c.ptToScreen(l+n,f+c.selectionStartXY.cursor_y+c.selectionStartXY.max_descent);q[1]=c.ptToScreen(l+n,f+c.selectionStartXY.cursor_y-c.selectionStartXY.max_ascent);q[4]=c.ptToScreen(l+o,f+c.selectionToXY.cursor_y-c.selectionToXY.max_ascent);q[5]=c.ptToScreen(l+o,f+c.selectionToXY.cursor_y+c.selectionToXY.max_descent);if(c.selectionStartXY.cursor_y==
c.selectionToXY.cursor_y){q[2]=c.ptToScreen(l+o,f+c.selectionToXY.cursor_y-c.selectionToXY.max_ascent);q[3]=c.ptToScreen(l+o,f+c.selectionToXY.cursor_y+c.selectionToXY.max_descent);q[6]=c.ptToScreen(l+n,f+c.selectionStartXY.cursor_y+c.selectionStartXY.max_descent);q[7]=c.ptToScreen(l+n,f+c.selectionStartXY.cursor_y+c.selectionStartXY.max_descent)}else{q[2]=c.ptToScreen(l+h,f+c.selectionStartXY.cursor_y-c.selectionStartXY.max_ascent);q[3]=c.ptToScreen(l+h,f+c.selectionToXY.cursor_y-c.selectionToXY.max_ascent);
q[6]=c.ptToScreen(l,f+c.selectionToXY.cursor_y+c.selectionToXY.max_descent);q[7]=c.ptToScreen(l,f+c.selectionStartXY.cursor_y+c.selectionStartXY.max_descent)}l="M"+q[0].x+" "+q[0].y+" ";for(f=1;f<8;f++)l=l+("L"+q[f].x+" "+q[f].y+" ");hb(c.selectBox,{d:l+" Z",visibility:"visible"})};this.mouseDown=function(a,h,l,f){c.screenToPt(l,f);c.last_x=l;c.last_y=f;if(Ua=="textedit"){c.toEditMode(l,f);P.setMode("select")}if(Y.getStartSelectionPos()==null&&a.shiftKey==false){Y.setStartSelectionPos(Ha.getCurPos());
svgCanvas.textUIManager.getSelectionStartXY().is_cursor_beginning=Y.isDrawCursorBeginning()}c.ismoving=false};this.mouseMove=function(a,h,l){c.ismoving=true;a=c.screenToPt(h,l);a.x=h/W;a.y=l/W;if(Y.getStartSelectionPos()==null){Y.setStartSelectionPos(Ha.getCurPos());svgCanvas.textUIManager.getSelectionStartXY().is_cursor_beginning=Y.isDrawCursorBeginning()}c.toEditMode(a.x,a.y)};this.mouseUp=function(a,h,l){c.screenToPt(h,l);if(Y.getStartSelectionPos()!=null&&a.shiftKey==false&&c.ismoving==false){Y.setStartSelectionPos(Ha.getCurPos());
Y.hideSelectionBox();Y.resetSelectionStartXY();Y.resetSelectionToXY();Y.getSelectionStartXY().is_cursor_beginning=Y.isDrawCursorBeginning();Y.getSelectionToXY().is_cursor_beginning=Y.isDrawCursorBeginning()}c.ismoving=false;c.last_x===h/W&&c.last_y===l/W&&a.target.parentNode!==H[0]&&c.toSelectMode(true)};this.select=function(a,h,l){c.screenToPt(h,l);c.toEditMode(h,l);if(Y.getStartSelectionPos()==null){Y.setStartSelectionPos(Ha.getCurPos());Y.getSelectionStartXY().is_cursor_beginning=Y.isDrawCursorBeginning();
Y.getSelectionToXY().is_cursor_beginning=Y.isDrawCursorBeginning()}};this.textClone=function(a){if(navigator.userAgent.indexOf("Gecko/")==-1)return a;var c=a.cloneNode(true);a.parentNode.insertBefore(c,a);a.parentNode.removeChild(a);return c};this.isPrintable=function(a){return!/[^\x20-\x7e]$/.test(a)};this.ptToScreen=function(a,h){var l={x:a,y:h};if(c.matrix){var f=lb(l.x,l.y,c.matrix);l.x=f.x;l.y=f.y}l.x=l.x*W;l.y=l.y*W;return l};this.screenToPt=function(a,h){var l={x:a,y:h};if(c.matrix){var f=
lb(l.x,l.y,c.matrix.inverse());l.x=f.x;l.y=f.y}return l};this.hideCursor=function(){clearInterval(c.blinker);c.blinker=null;c.cursor&&$j(c.cursor).attr("visibility","hidden");c.cursor&&c.cursor.setAttribute("visibility","hidden")};this.hideSelectionBox=function(){c.selectBox&&c.selectBox.setAttribute("visibility","hidden")};this.setCursorPos=function(a){c.cursorPos=a};this.getCursorPos=function(){return c.cursorPos};this.isDrawCursorByPosition=function(){return c.drawCursorByPosition};this.setDrawCursorByPosition=
function(a){c.drawCursorByPosition=a};this.getCursorXY=function(){return c.cursorXY};this.setCursorXY=function(a){c.cursorXY=a};this.setDrawCursorBeginning=function(a){c.drawCursorBeginning=a};this.isDrawCursorBeginning=function(){return c.drawCursorBeginning};this.setDownCursor=function(a,h){c.downCursor.x=a;c.downCursor.y=h};this.getDownCursor=function(){return c.downCursor};this.setUpCursor=function(a,h){c.upCursor.x=a;c.upCursor.y=h};this.getUpCursor=function(){return c.upCursor};this.getStartSelectionPos=
function(){return c.startSelectionPos};this.setStartSelectionPos=function(a){c.startSelectionPos=a};this.getSelectionStartXY=function(){return c.selectionStartXY};this.setSelectionStartXY=function(a){c.selectionStartXY=a};this.getSelectionToXY=function(){return c.selectionToXY};this.setSelectionToXY=function(a){c.selectionToXY=a};this.resetSelectionStartXY=function(){c.selectionStartXY={is_cursor_beginning:"",cursor_x:0,cursor_y:0,max_ascent:0,max_descent:0}};this.resetSelectionToXY=function(){c.selectionToXY=
{is_cursor_beginning:"",cursor_x:0,cursor_y:0,max_ascent:0,max_descent:0}};this.isShiftKeyPressed=function(){return c.shiftKeyPressed};this.setShiftKeyStatus=function(a){c.shiftKeyPressed=a};this.isCtrlKeyPressed=function(){return c.ctrlKeyPressed};this.setCtrlKeyStatus=function(a){c.ctrlKeyPressed=a};this.moveUpChar=function(){c.cursorPos=null;c.setCursorXY(c.getUpCursor());c.drawCursorByPosition=false};this.moveDownChar=function(){c.cursorPos=null;c.setCursorXY(c.getDownCursor());c.drawCursorByPosition=
false};this.updateFontUIFormElements=function(){P.getItalic()?$j("#tool_italic").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_italic").removeClass("push_button_pressed").addClass("tool_button");P.getBold()?$j("#tool_bold").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_bold").removeClass("push_button_pressed").addClass("tool_button");window.svgEditor.fontCharacteristics(P.getFontFamily());var a=P.getFontFamily();a.length>23&&(a=a.substring(0,22)+"...");
$j("#font_family").val(a);$j("#tool_image").hasClass("backend")||$j("#font_family_dropdown button").html(a);$j("#font_size").val(Math.round(P.getFontSize()))};this.propagateSelectionChanges=function(a){var h=a.attribute,l=a.value,f={},a={},n=c.startSelectionPos,o=Ha.getCurPos(),q=Y.getSelectionStartXY().is_cursor_beginning,p=Y.getSelectionToXY().is_cursor_beginning;if(o<n&&n-o==1&&p==false&&q==true)locpos=o-1;else if(o<n&&p==true&&q==false)locpos=o-1;else if(o<n&&p==true&&q==true)locpos=o-1;else if(o<
n&&p==false&&q==false)locpos=o;else if(o<n&&p==false&&q==true)locpos=o;else if(n<o&&o-n==1&&q==false&&p==true)locpos=n-1;else if(n<o&&q==true&&p==false){locpos=n-1;Y.setDrawCursorBeginning(false)}else if(n<o&&q==true&&p==true)locpos=n-1;else if(n<o&&q==false&&p==false)locpos=n;else if(n<o&&q==false&&p==true)locpos=n;else if(n==o&&q==true&&p==true)locpos=o;else{if(n==o&&q==false&&p==false){locpos=n;return}n==o&&q==true&&p==false?locpos=n-1:n==o&&q==true&&p==false&&(locpos=n-1)}n=Ha.getTextArray().length-
1;for(o=0;o<=n;o++){q=Ha.getTextArray()[o].characterAttribute;f[q]=q}var q=Ha.getCharacterAttributes(),u;for(u in f){f=q[u].deepClone();f.attr[h]=l;q.push(f);a[u]={newId:q.length-1,value:f}}for(o=0;o<=n;o++){h=Ha.getTextArray()[o];h.characterAttribute=a[h.characterAttribute].newId;u=c.generateCharacterWidth(q[h.characterAttribute],h.value);h.width=u}};this.generateCharacterWidth=function(a,c){var h=Ga("text_io_element"),l=0;if(c!="\n"){h.textContent=c;a.setSVGFromAttr(h)}else l=0;return l};this.isTextSelected=
function(){var a=c.startSelectionPos,h=Ha.getCurPos(),l=Y.getSelectionStartXY().is_cursor_beginning,f=Y.getSelectionToXY().is_cursor_beginning;return a==h&&l==true&&f==true?false:a==h&&l==false&&f==false?false:a==null&&h!=null?false:true};this.resetTextSelectedRegion=function(){c.setStartSelectionPos(null);c.hideSelectionBox();c.resetSelectionStartXY();c.resetSelectionToXY()};this.getSelectBoxFromToPositions=function(){var a=c.startSelectionPos,h=Ha.getCurPos(),l;l=Y.getSelectionStartXY().is_cursor_beginning;
var f=Y.getSelectionToXY().is_cursor_beginning;if(h<a&&a-h==1&&f==false&&l==true)a--;else if(h<a&&f==true&&l==false)locpos=h-1;else if(h<a&&f==true&&l==true)a--;else if(h<a&&f==false&&l==false)h++;else if(h<a&&f==false&&l==true){h++;a--}else if(a<h&&h-a==1&&l==false&&f==true)h--;else if(!(a<h&&l==true&&f==false))if(a<h&&l==true&&f==true)h--;else if(a<h&&l==false&&f==false)a++;else if(a<h&&l==false&&f==true){a++;h--}if(a<=h){l=a;a=h}else l=h;return{fromPos:l,toPos:a}}},ed=this.getFontFormatEvent=function(){return Ld},
dc=this.setFontFormatEvent=function(a){Ld=a},Sd=this.getVisibleElements=function(a){a||(a=$j(ma).children());var c=[];$j(a).children().each(function(a,h){try{h.getBBox()&&c.push(h)}catch(l){}});return c.reverse()};h[18]="o";n[24]="o";l[22]="o";o[17]="c";p[13]="o";var Jf=this.getVisibleElementsAndBBoxes=function(a){a||(a=$j(ma).children());var c=[];$j(a).children().each(function(a,h){try{h.getBBox()&&c.push({elem:h,bbox:Lc([h])})}catch(l){}});return c.reverse()};h[19]="m";n[25]="m";l[23]="m";o[18]=
"o";p[14]="m";o[19]="m";var cf=this.groupSvgElem=function(a){var c=document.createElementNS("http://www.w3.org/2000/svg","g");a.parentNode.replaceChild(c,a);$j(c).append(a).data("gsvg",a)[0].id=Db()},Mb=function(a){var c=document.createElementNS(a.namespaceURI,a.nodeName);$j.each(a.attributes,function(a,h){h.localName!="-moz-math-font-style"&&c.setAttributeNS(h.namespaceURI,h.nodeName,h.nodeValue)});c.removeAttribute("id");c.id=Db();if(svgedit.browser.isWebkit()&&a.nodeName=="path"){var h=Fb.convertPath(a);
c.setAttribute("d",h)}$j.each(a.childNodes,function(a,h){switch(h.nodeType){case 1:c.appendChild(Mb(h));break;case 3:if(h.textContent.indexOf("\n")!==0)c.textContent=h.nodeValue}});if($j(a).data("gsvg"))$j(c).data("gsvg",c.firstChild);else if($j(a).data("symbol")){a=$j(a).data("symbol");$j(c).data("ref",a).data("symbol",a)}else c.tagName=="image"&&fd(c);return c},wc,Db,Ra,Ud={};wc=P.getId=function(){return vb().getId()};Db=P.getNextId=function(){return vb().getNextId()};Ra=P.call=function(a,c){if(Ud[a])return Ud[a](this,
c)};P.bind=function(a,c){var h=Ud[a];Ud[a]=c;return h};this.prepareSvg=function(a){for(var a=a.getElementsByTagNameNS("http://www.w3.org/2000/svg","path"),c=0,h=a.length;c<h;++c){var l=a[c];l.setAttribute("d",Fb.convertPath(l));Fb.fixEnd(l)}};var gd=this.getRefElem=function(a){return Ga(ue(a).substr(1))},Vd=function(a){if(!svgedit.browser.isGecko())return a;var c=a.cloneNode(true);a.parentNode.insertBefore(c,a);a.parentNode.removeChild(a);za.releaseSelector(a);H[0]=c;za.requestSelector(c).showGrips(true);
return c};this.setRotationAngle=function(a,c,h){var a=parseFloat(a),h=H[0],l=h.getAttribute("transform"),f=svgedit.utilities.getBBox(h),n=f.x+f.width/2,o=f.y+f.height/2,f=Jb(h);f.numberOfItems>0&&f.getItem(0).type==4&&f.removeItem(0);if(a!=0){isNaN(a)&&(a=$j("#rotate_angle").val()||0);n=lb(n,o,fa(f).matrix);o=ha.createSVGTransform();o.setRotate(a,n.x,n.y);f.numberOfItems?f.insertItemBefore(o,0):f.appendItem(o)}else f.numberOfItems==0&&h.removeAttribute("transform");if(!c){c=h.getAttribute("transform");
h.setAttribute("transform",l);xb("transform",c,H);Ra("changed",H)}Ga("pathpointgrip_container");h=za.requestSelector(H[0]);h.resize();h.updateGripCursors(a)};var Ee=this.recalculateAllSelectedDimensions=function(){for(var a=new Bb(mc=="none"?"position":"size"),c=H.length;c--;){var h=kc(H[c]);h&&a.addSubCommand(h)}if(!a.isEmpty()){db(a);Ra("changed",H)}},df=[0,"z","M","m","L","l","C","c","Q","q","A","a","H","h","V","v","S","s","T","t"],Lf=function(){},Wd=this.remapElement=function(c,h,l){for(var f=
a.gridSnapping&&c.parentNode.parentNode.localName==="svg",n=function(){if(f)for(var a in h)h[a]=Cb(h[a]);c.tagName=="text"&&c.getAttribute("text_type")=="textpath"||hb(c,h,1E3,true)},o=svgedit.utilities.getBBox(c),q=0;q<2;q++){var p=q===0?"fill":"stroke",u=c.getAttribute(p);if(u&&u.indexOf("url(")===0&&(l.a<0||l.d<0)){u=gd(u).cloneNode(true);if(l.a<0){var s=u.getAttribute("x1"),z=u.getAttribute("x2");u.setAttribute("x1",-(s-1));u.setAttribute("x2",-(z-1))}if(l.d<0){s=u.getAttribute("y1");z=u.getAttribute("y2");
u.setAttribute("y1",-(s-1));u.setAttribute("y2",-(z-1))}u.id=Db();Pb().appendChild(u);c.setAttribute(p,"url(#"+u.id+")")}}q=c.tagName;if(q==="g"||q==="text"||q==="use")if(l.a==1&&l.b==0&&l.c==0&&l.d==1&&(l.e!=0||l.f!=0)){p=fa(c).matrix;p=oa(p.inverse(),l,p);h.x=parseFloat(h.x)+p.e;h.y=parseFloat(h.y)+p.f}else{p=Jb(c);u=ha.createSVGTransform();u.setMatrix(oa(fa(p).matrix,l));p.clear();p.appendItem(u)}switch(q){case "foreignObject":case "rect":case "image":if(q==="image"&&(l.a<0||l.d<0)){p=Jb(c);u=
ha.createSVGTransform();u.setMatrix(oa(fa(p).matrix,l));p.clear();p.appendItem(u)}else{p=lb(h.x,h.y,l);h.width=l.a*h.width;h.height=l.d*h.height;h.x=p.x+Math.min(0,h.width);h.y=p.y+Math.min(0,h.height);h.width=Math.abs(h.width);h.height=Math.abs(h.height)}n();break;case "ellipse":q=lb(h.cx,h.cy,l);h.cx=q.x;h.cy=q.y;h.rx=l.a*h.rx;h.ry=l.d*h.ry;h.rx=Math.abs(h.rx);h.ry=Math.abs(h.ry);n();break;case "circle":q=lb(h.cx,h.cy,l);h.cx=q.x;h.cy=q.y;q=svgedit.math.transformBox(o.x,o.y,o.width,o.height,l);
l=q.tr.x-q.tl.x;q=q.bl.y-q.tl.y;o=c.parentNode.getAttribute("attr_c");h.r=o!=null&&o!==void 0?Math.max(l/2,q/2):Math.min(l/2,q/2);if(h.r)h.r=Math.abs(h.r);n();break;case "line":p=lb(h.x1,h.y1,l);u=lb(h.x2,h.y2,l);h.x1=p.x;h.y1=p.y;h.x2=u.x;h.y2=u.y;case "text":case "use":n();a.isMultiline&&Hb.propagateTextChanges(c,h);break;case "g":(l=$j(c).data("gsvg"))&&hb(l,h,1E3,true);break;case "polyline":case "polygon":n=h.points.length;for(q=0;q<n;++q){s=h.points[q];s=lb(s.x,s.y,l);h.points[q].x=s.x;h.points[q].y=
s.y}n=h.points.length;l="";for(q=0;q<n;++q){s=h.points[q];l=l+(s.x+","+s.y+" ")}c.setAttribute("points",l);break;case "path":p=c.pathSegList;n=p.numberOfItems;h.d=Array(n);for(q=0;q<n;++q){o=p.getItem(q);h.d[q]={type:o.pathSegType,x:o.x,y:o.y,x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,r1:o.r1,r2:o.r2,angle:o.angle,largeArcFlag:o.largeArcFlag,sweepFlag:o.sweepFlag}}n=h.d.length;q=h.d[0];z=lb(q.x,q.y,l);h.d[0].x=z.x;h.d[0].y=z.y;for(q=1;q<n;++q){o=h.d[q];p=o.type;if(p%2==0){s=lb(o.x!=void 0?o.x:z.x,o.y!=void 0?
o.y:z.y,l);p=lb(o.x1,o.y1,l);u=lb(o.x2,o.y2,l);o.x=s.x;o.y=s.y;o.x1=p.x;o.y1=p.y;o.x2=u.x;o.y2=u.y}else{o.x=l.a*o.x;o.y=l.d*o.y;o.x1=l.a*o.x1;o.y1=l.d*o.y1;o.x2=l.a*o.x2;o.y2=l.d*o.y2}o.r1=l.a*o.r1;o.r2=l.d*o.r2}l="";n=h.d.length;for(q=0;q<n;++q){o=h.d[q];p=o.type;l=l+df[p];switch(p){case 13:case 12:l=l+(o.x+" ");break;case 15:case 14:l=l+(o.y+" ");break;case 3:case 5:case 19:case 2:case 4:case 18:l=l+(o.x+","+o.y+" ");break;case 7:case 6:l=l+(o.x1+","+o.y1+" "+o.x2+","+o.y2+" "+o.x+","+o.y+" ");
break;case 9:case 8:l=l+(o.x1+","+o.y1+" "+o.x+","+o.y+" ");break;case 11:case 10:l=l+(o.r1+","+o.r2+" "+o.angle+" "+ +o.largeArcFlag+" "+ +o.sweepFlag+" "+o.x+","+o.y+" ");break;case 17:case 16:l=l+(o.x2+","+o.y2+" "+o.x+","+o.y+" ")}}if(typeof c.getAttribute("pathid")!="undefined"&&c.getAttribute("attr_c")!="clipart_img"){clipid=c.getAttribute("clipid");clipid!=null&&c.getAttribute("textpath")=="true"&&$j("#"+clipid).attr("d",l)}c.setAttribute("d",l)}},Xd=0,kc=this.recalculateDimensions=function(a,
c){var h,l;if(a==null||a.nodeName=="svg"&&navigator.userAgent.indexOf("Firefox/20")>=0)return null;var f=Jb(a);if(f&&f.numberOfItems>0){for(var n=f.numberOfItems;n--;){var o=f.getItem(n);o.type===0?f.removeItem(n):o.type===1?svgedit.math.isIdentity(o.matrix)&&f.removeItem(n):o.type===4&&o.angle===0&&f.removeItem(n)}if(f.numberOfItems===1&&Kc(a))return null}if(!f||f.numberOfItems==0){a.removeAttribute("transform");return null}if(f){for(var n=f.numberOfItems,q=[];n--;){o=f.getItem(n);o.type===1?q.push([o.matrix,
n]):q.length&&(q=[])}if(q.length===2){n=ha.createSVGTransformFromMatrix(oa(q[1][0],q[0][0]));f.removeItem(q[0][1]);f.removeItem(q[1][1]);f.insertItemBefore(n,q[1][1])}n=f.numberOfItems;if(n>=2&&f.getItem(n-2).type===1&&f.getItem(n-1).type===2){var q=ha.createSVGTransform(),p=oa(f.getItem(n-2).matrix,f.getItem(n-1).matrix);q.setMatrix(p);f.removeItem(n-2);f.removeItem(n-2);f.appendItem(q)}}switch(a.tagName){case "text":case "line":case "polyline":case "polygon":case "path":break;default:if(f.numberOfItems===
1&&f.getItem(0).type===1||f.numberOfItems===2&&f.getItem(0).type===1&&f.getItem(0).type===4)return null}var u=$j(a).data("gsvg"),n=new Bb("Transform"),s={},z=null,p=[],w=null,B=null;switch(a.tagName){case "line":p=["x1","y1","x2","y2"];break;case "circle":p=["cx","cy","r"];break;case "ellipse":p=["cx","cy","rx","ry"];break;case "foreignObject":case "rect":case "image":p=["width","height","x","y"];break;case "use":case "text":p=["x","y"];break;case "polygon":case "polyline":z={};z.points=a.getAttribute("points");
var o=a.points,A=o.numberOfItems;s.points=Array(A);for(q=0;q<A;++q){var C=o.getItem(q);s.points[q]={x:C.x,y:C.y}}break;case "path":z={};z.d=a.getAttribute("d");s.d=a.getAttribute("d")}if(p.length){s=$j(a).attr(p);$j.each(s,function(a,c){s[a]=Tc(a,c)})}else u&&(s={x:$j(u).attr("x")||0,y:$j(u).attr("y")||0});if(z==null){z=$j.extend(true,{},s);$j.each(z,function(a,c){z[a]=Tc(a,c)})}if(w==null){w=$j.extend(true,{},s);$j.each(w,function(a,c){w[a]=Tc(a,c)})}if(B==null){B=$j.extend(true,{},s);$j.each(B,
function(a,c){B[a]=Tc(a,c)})}if(H[0]!=null&&H[0].tagName!="g")if(a.tagName=="text"){var F;if(H.length>1)for(q=0;q<H.length;q++){if(H[q]!=null)if(H[q].tagName=="text")if(H.length<=1)break;else{Xd!=1&&(Xd=0);Xd++;if(Xd==1){if(F!=null){F=$j(H[q]).attr("transform");F!=null&&(F.split("(")[0]=="translate"?H[q].tagName=="text"?z.transform=Ub?Ub:"":Xb=null:z.transform=F)}}else break}else Ub=Xb=null}else{F=$j(H[0]).attr("transform");F!=null&&(F.split("(")[1].split(")")[1]==" scale"?z.transform=Ub?Ub:"":F.split("(")[1].split(")")[1]==
" rotate"&&(z.transform=Ub?Ub:""))}}else{F=$j(H[0]).attr("transform");if(F!=null&&F.split(")")[1]!=void 0){F!=null&&F.split(")")[1].split("(")[0]==" rotate"&&(Xb=F.split(")")[1]+")");z.transform=Xb?Xb:""}}else{r_trans=$j(H[0]).attr("transform");B.transform=r_trans;z.transform=Ub?Ub:""}if(a.tagName=="g"&&!u||a.tagName=="a"){F=svgedit.utilities.getBBox(a);h=F.x+F.width/2;l=F.y+F.height/2;var J=lb(F.x+F.width/2,F.y+F.height/2,fa(f).matrix),p=ha.createSVGMatrix();if(F=Kc(a)){q=F*Math.PI/180;A=Math.abs(q)>
1E-10?Math.sin(q)/(1-Math.cos(q)):2/q;for(q=0;q<f.numberOfItems;++q){o=f.getItem(q);if(o.type==4){h=o.matrix;l=(A*h.e+h.f)/2;h=(h.e-A*h.f)/2;f.removeItem(q);break}}}q=p=u=0;if(C=f.numberOfItems)var E=f.getItem(0).matrix;if(C>=3&&f.getItem(C-2).type==3&&f.getItem(C-3).type==2&&f.getItem(C-1).type==2){for(var q=3,M=f.getItem(C-3).matrix,T=f.getItem(C-2).matrix,N=f.getItem(C-1).matrix,o=a.childNodes,A=o.length;A--;){var I=o.item(A),p=u=0;if(I.nodeType==1){var K=Jb(I);if(K){var p=fa(K).matrix,u=Kc(I),
D=[];if(I.tagName=="text"){var R=Ub;Ub=I.getAttribute("transform")}else{R=Xb;Xb=I.getAttribute("transform")}if(u||Sc(K)){var G=ha.createSVGTransform();G.setMatrix(oa(M,T,N,p));K.clear();K.appendItem(G);D.push(G)}else{u=oa(p.inverse(),N,p);G=ha.createSVGMatrix();G.e=-u.e;G.f=-u.f;var p=oa(G.inverse(),p.inverse(),M,T,N,p,u.inverse()),O=ha.createSVGTransform(),L=ha.createSVGTransform(),ga=ha.createSVGTransform();O.setTranslate(u.e,u.f);L.setScale(p.a,p.d);ga.setTranslate(G.e,G.f);K.appendItem(ga);K.appendItem(L);
K.appendItem(O);D.push(ga);D.push(L);D.push(O)}n.addSubCommand(kc(I));I.tagName=="text"?Ub=R:Xb=R}}}f.removeItem(C-1);f.removeItem(C-2);f.removeItem(C-3)}else if(C>=3&&f.getItem(C-1).type==1){q=3;p=fa(f).matrix;G=ha.createSVGTransform();G.setMatrix(p);f.clear();f.appendItem(G)}else if((C==1||C>1&&f.getItem(1).type!=3)&&f.getItem(0).type==2){q=2;o=fa(f).matrix;f.removeItem(0);A=fa(f).matrix.inverse();o=oa(A,o);u=o.e;p=o.f;if(u!=0||p!=0){o=a.childNodes;A=o.length;for(C=[];A--;){I=o.item(A);if(I.nodeType==
1){if(I.getAttribute("clip-path")){R=I.getAttribute("clip-path");if(C.indexOf(R)===-1){K=u;M=p;T=gd(R).firstChild;if(T.tagName!=void 0){N=Jb(T);D=ha.createSVGTransform();D.setTranslate(K,M);N.appendItem(D);kc(T)}C.push(R)}}if(I.tagName=="text"){R=Ub;Ub=I.getAttribute("transform")}else{R=Xb;Xb=I.getAttribute("transform")}if(K=Jb(I)){M=ha.createSVGTransform();M.setTranslate(u,p);K.numberOfItems?K.insertItemBefore(M,0):K.appendItem(M);n.addSubCommand(kc(I));K=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",
"use");M="#"+I.id;for(T=K.length;T--;){N=K.item(T);if(M==cd(N)){D=ha.createSVGTransform();D.setTranslate(-u,-p);Jb(N).insertItemBefore(D,0);n.addSubCommand(kc(N))}}I.tagName=="text"?Ub=R:Xb=R}}}C=[];I.tagName=="text"?Ub=R:Xb=R}}else if(C==1&&f.getItem(0).type==1&&!F){q=1;p=f.getItem(0).matrix;o=a.childNodes;for(A=o.length;A--;){I=o.item(A);if(I.nodeType==1){if(I.tagName=="text"){R=Ub;Ub=I.getAttribute("transform")}else{R=Xb;Xb=I.getAttribute("transform")}if(K=Jb(I)){u=oa(p,fa(K).matrix);C=ha.createSVGTransform();
C.setMatrix(u);K.clear();K.appendItem(C,0);n.addSubCommand(kc(I));Xb=R;R=I.getAttribute("stroke-width");if(I.getAttribute("stroke")!=="none"&&!isNaN(R)){u=(Math.abs(u.a)+Math.abs(u.d))/2;I.setAttribute("stroke-width",R*u)}}}}f.clear()}else{if(F){l=ha.createSVGTransform();l.setRotate(F,J.x,J.y);f.numberOfItems?f.insertItemBefore(l,0):f.appendItem(l)}f.numberOfItems==0&&a.removeAttribute("transform");return null}if(q==2){if(F){J={x:h+E.e,y:l+E.f};l=ha.createSVGTransform();l.setRotate(F,J.x,J.y);f.numberOfItems?
f.insertItemBefore(l,0):f.appendItem(l)}}else if(q==3){p=fa(f).matrix;I=ha.createSVGTransform();I.setRotate(F,h,l);h=I.matrix;l=ha.createSVGTransform();l.setRotate(F,J.x,J.y);J=l.matrix.inverse();I=p.inverse();J=oa(I,J,h,p);u=J.e;p=J.f;if(u!=0||p!=0){o=a.childNodes;for(A=o.length;A--;){I=o.item(A);if(I.nodeType==1){if(I.tagName=="text"){R=Ub;Ub=I.getAttribute("transform")}else{R=Xb;Xb=I.getAttribute("transform")}K=Jb(I);M=ha.createSVGTransform();M.setTranslate(u,p);K.numberOfItems?K.insertItemBefore(M,
0):K.appendItem(M);n.addSubCommand(kc(I));Xb=R}}}F&&(f.numberOfItems?f.insertItemBefore(l,0):f.appendItem(l))}}else{F=svgedit.utilities.getBBox(a);if(!F&&a.tagName!="path")return null;p=ha.createSVGMatrix();if(u=Kc(a)){h=F.x+F.width/2;l=F.y+F.height/2;J=lb(F.x+F.width/2,F.y+F.height/2,fa(f).matrix);q=u*Math.PI/180;A=Math.abs(q)>1E-10?Math.sin(q)/(1-Math.cos(q)):2/q;for(q=0;q<f.numberOfItems;++q){o=f.getItem(q);if(o.type==4){h=o.matrix;l=(A*h.e+h.f)/2;h=(h.e-A*h.f)/2;f.removeItem(q);break}}}q=0;C=
f.numberOfItems;if(!svgedit.browser.isWebkit()&&(I=a.getAttribute("fill"))&&I.indexOf("url(")===0){I=gd(I);I==null&&(I=a);E="pattern";I.tagName!==E&&(E="gradient");if(I.getAttribute(E+"Units")==="userSpaceOnUse"){p=fa(f).matrix;F=Jb(I);F=fa(F).matrix;p=oa(p,F);F="matrix("+[p.a,p.b,p.c,p.d,p.e,p.f].join()+")";I.setAttribute(E+"Transform",F)}}if(C>=3&&f.getItem(C-2).type==3&&f.getItem(C-3).type==2&&f.getItem(C-1).type==2){q=3;p=fa(f,C-3,C-1).matrix;f.removeItem(C-1);f.removeItem(C-2);f.removeItem(C-
3)}else if(C==4&&f.getItem(C-1).type==1){q=3;p=fa(f).matrix;G=ha.createSVGTransform();G.setMatrix(p);f.clear();f.appendItem(G);p=ha.createSVGMatrix()}else if((C==1||C>1&&f.getItem(1).type!=3)&&f.getItem(0).type==2){q=2;I=f.getItem(0).matrix;E=fa(f,1).matrix;F=E.inverse();p=oa(F,I,E);f.removeItem(0)}else if(C==1&&f.getItem(0).type==1&&!u){p=fa(f).matrix;switch(a.tagName){case "line":s=$j(a).attr(["x1","y1","x2","y2"]);case "polyline":case "polygon":s.points=a.getAttribute("points");if(s.points){o=
a.points;A=o.numberOfItems;s.points=Array(A);for(q=0;q<A;++q){C=o.getItem(q);s.points[q]={x:C.x,y:C.y}}}case "path":s.d=a.getAttribute("d");q=1;f.clear()}}else{q=4;if(u){l=ha.createSVGTransform();l.setRotate(u,J.x,J.y);f.numberOfItems?f.insertItemBefore(l,0):f.appendItem(l)}f.numberOfItems==0&&a.removeAttribute("transform");return null}(q==1||q==2||q==3)&&Wd(a,s,p);if(q==2){if(u){Sc(f)||(J={x:h+p.e,y:l+p.f});l=ha.createSVGTransform();l.setRotate(u,J.x,J.y);f.numberOfItems?f.insertItemBefore(l,0):
f.appendItem(l)}}else if(q==3&&u){p=fa(f).matrix;I=ha.createSVGTransform();I.setRotate(u,h,l);h=I.matrix;l=ha.createSVGTransform();l.setRotate(u,J.x,J.y);J=l.matrix.inverse();I=p.inverse();J=oa(I,J,h,p);Wd(a,s,J);u&&(f.numberOfItems?f.insertItemBefore(l,0):f.appendItem(l))}if(a.tagName=="text"){J=$j(a).children();J.length>0&&J.attr("x",$j(a).attr("x"))}}if(a.tagName=="g"&&B.transform!=void 0)if(B.transform.split(")")[1]!=void 0){if(B.transform.split(")")[1].split("(")[0]==" rotate"){B.transform=B.transform.split(")")[1]+
")";n.addSubCommand(new Rb(a,B))}}else n.addSubCommand(new Rb(a,w));f.numberOfItems==0&&a.removeAttribute("transform");a.tagName!="g"&&(c==true?n.addSubCommand(new hc(a)):n.addSubCommand(new Rb(a,z)));return n},pc=null,wb=this.clearSelection=function(a){if(H[0]!=null)for(var c=H.length,h=0;h<c;++h){var l=H[h];if(l==null)break;za.releaseSelector(l);H[h]=null}a||Ra("selected",H)},jc=this.addToSelection=function(c,h,l){if(c.length!=0){for(var f=0;f<H.length;){if(H[f]==null)break;++f}for(var n=c.length;n--;){var o=
c[n];$j(".multiline_text").addClass("text_panel");if(!$j("#tool_image").hasClass("backend")&&$j(o).attr("lock_admin")=="true")if($j(o).attr("editable")=="true"){$j(".multiline_text").removeClass("text_panel");$j(".multiline_text").show();$j(".multiline_text .text_panel").show()}else if(o.tagName=="image"&&$j(o).attr("placeholder")=="true")$j(".wrap").hide();else return;$j(o).attr("placeholder")=="true"&&$j(o).attr("lock_admin")!="true"&&$j(".wrap").show();if(!$j("#tool_image").hasClass("backend")&&
$j(o).attr("alwaysontop")=="true")return;if($j(o).attr("id")=="selectorParentGroup"){$j("#text_io_element").removeAttr("transform");$j("#text_io_element").attr("x","-100px");$j("#text_io_element").attr("y","-1000px");$j("#text_io_element textPath tspan").attr("x","-1000px");return}if(a.isMultiline&&o!=null&&o.nodeName=="tspan"){textPar=Ga(o.id);o=o.parentNode}if(o&&svgedit.utilities.getBBox(o)){if(o.tagName==="a"&&o.childNodes.length===1)o=o.firstChild;if(H.indexOf(o)==-1){H[f]=o;f++;o=za.requestSelector(o);
H.length>1&&o.showGrips(false)}}}l||Ra("selected",H);if(h||H.length==1)za.requestSelector(H[0]).showGrips(true);else if(H[0].getAttribute("text_type")=="textpath"){za.requestSelector(H[0]).resize();za.requestSelector(H[0]).showGrips(true)}else za.requestSelector(H[0]).showGrips(false);for(H.sort(function(a,c){if(a&&c&&a.compareDocumentPosition)return 3-(c.compareDocumentPosition(a)&6);if(a==null)return 1});H[0]==null;)H.shift(0)}},Vb=this.selectOnly=function(a,c){wb(true);jc(a,c)};this.removeFromSelection=
function(a){if(H[0]!=null&&a.length!=0){for(var c=Array(H.length),h=0,l=H.length,f=0;f<l;++f){var n=H[f];if(n)if(a.indexOf(n)==-1){c[h]=n;h++}else za.releaseSelector(n)}H=c}};this.selectAllInCurrentLayer=function(){var a=vb().getCurrentLayer();if(a){Ua="select";Vb($j(bc||a).children())}};var Uf=h.join(""),Mc=n.join(""),nd=l.join(""),Vf=o.join(""),Ja=p.join(""),ef=q.join(""),od=this.getMouseTarget=function(h){if(h==null)return null;var l=h.target;if(l.correspondingUseElement)l=l.correspondingUseElement;
var f=l.parentNode;a.isMultiline&&(f.tagName!="textPath"&&l.nodeName=="tspan")&&(l=textPar=Ga(l.parentNode.id));if(["http://www.w3.org/1998/Math/MathML","http://www.w3.org/1999/xhtml"].indexOf(l.namespaceURI)>=0&&l.id!="svgcanvas")for(;l.nodeName!="foreignObject";){l=l.parentNode;if(!l)return ha}if(l!=null&&l.tagName=="text"){var n=l.getAttribute("font_size");(n==null||n=="")&&l.setAttribute("font_size",l.getAttribute("font-size"))}else if(l!=null&&l.tagName=="tspan"){f=l.parentNode;n=l.getAttribute("font_size");
(n==null||n=="")&&f.setAttribute("font_size",l.getAttribute("font-size"))}f=vb().getCurrentLayer();if([ha,c,ma,f].indexOf(l)>=0){l=h.pageX;n=h.pageY;pc=ma.getScreenCTM().inverse();f=window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop;if(svgedit.browser.isGecko()){h=lb(l,n-f,pc);l=h.x;n=h.y}else{h=lb(l,n-f,pc);l=h.x*W;n=h.y*W}if($j("#backImage").length>0){image=$j("#svgcontent g image#backImage")[0];h=Math.round(image.getAttribute("x"));f=Math.round(image.getAttribute("y"));
x2=h+Math.round(image.getAttribute("width"));y2=f+Math.round(image.getAttribute("height"));if(l>=h&&l<=x2&&n>=f&&n<=y2)return image}if($j("#dol_type").val()=="vuezz"){var o=$j("#svgcontent g").children();image_childs=$j("#svgcontent g image");var q=true,p=[],u=[];for(i=0;i<o.length;i++)if(o[i].tagName=="clipPath"){var s=o[i].childNodes[0],h=Math.round(s.getAttribute("x")),f=Math.round(s.getAttribute("y"));x2=Math.round(s.getAttribute("attr1"));y2=Math.round(s.getAttribute("attr2"));width=s.getAttribute("width");
height=s.getAttribute("height");if(l>=h&&l<=x2&&n>=f&&n<=y2){id=o[i].getAttribute("id");for(j=0;j<image_childs.length;j++)image_childs[j].getAttribute("clip")=="url(#"+id+")"&&p.push(image_childs[j]);q=false;break}}if(!q){for(i=0;i<p.length;i++){image=p[i];h=Math.round(image.getAttribute("x"));f=Math.round(image.getAttribute("y"));x2=h+Math.round(image.getAttribute("width"));y2=f+Math.round(image.getAttribute("height"));(l>=h&&l<=x2||n>=f&&n<=y2)&&u.push(image)}if(u.length>0)return u[u.length-1]}}return ha}if($j(l).closest("#selectorParentGroup").length)return za.selectorParentGroup;
if($j("#dol_type").val()!="vuezz")for(;l.parentNode!==(bc||f);)l=l.parentNode;return l},Da=window.location.host,Ec=Ja.substring(5),wa=Da.substring(Da.indexOf(".")+1),Fe=wa.substring(wa.indexOf(".")+1),w="1 2 3 4 5 6 7 8 9 0 a b c d e f g h i j k l m n o p q r s t u v w x y z .  join ve re .a ec -".split(" ");T[0]=w[31];T[1]=w[30];T[2]=w[14];T[3]=w[35];T[4]=w[35];T[5]=w[36];T[6]=w[12];T[7]=w[24];T[8]=w[22];var Yd=T[w[38]](w[37]);z[0]=w[25];z[1]=w[27];z[2]=w[18];z[3]=w[23];z[4]=w[29];z[5]=w[22];z[6]=
w[34];z[7]=w[18];z[8]=w[23];z[9]=w[20];z[10]=w[36];z[11]=w[12];z[12]=w[24];z[13]=w[22];var qc=z[w[38]](w[37]);A[0]=w[17];A[1]=w[14];A[2]=w[10];A[3]=w[27];A[4]=w[29];A[5]=w[21];A[6]=w[10];A[7]=w[23];A[8]=w[13];A[9]=w[25];A[10]=w[27];A[11]=w[18];A[12]=w[23];A[13]=w[29];A[14]=w[28];A[15]=w[36];A[16]=w[12];A[17]=w[24];A[18]=w[22];var ff=A[w[38]](w[37]);u[0]=w[29];u[1]=w[10];u[2]=w[22];u[3]=w[28];u[4]=w[18];u[5]=w[16];u[6]=w[23];u[7]=w[28];u[8]=w[36];u[9]=w[12];u[10]=w[24];u[11]=w[36];u[12]=w[30];u[13]=
w[20];var gf=u[w[38]](w[37]);B[0]=w[30];B[1]=w[20];B[2]=w[28];B[3]=w[18];B[4]=w[16];B[5]=w[23];B[6]=w[12];B[7]=w[24];B[8]=w[22];B[9]=w[25];B[10]=w[10];B[11]=w[23];B[12]=w[34];B[13]=w[36];B[14]=w[12];B[15]=w[24];B[16]=w[36];B[17]=w[30];B[18]=w[20];var hf=B[w[38]](w[37]);E[0]=w[30];E[1]=w[12];E[2]=w[24];E[3]=w[39];E[4]=w[40];E[5]=w[13];E[6]=w[36];E[7]=w[12];E[8]=w[24];E[9]=w[22];E[10]=w[41];E[11]=w[30];var Zd=E[w[38]](w[37]);C[0]=w[27];C[1]=w[24];C[2]=w[12];C[3]=w[20];C[4]=w[14];C[5]=w[29];C[6]=w[25];
C[7]=w[27];C[8]=w[18];C[9]=w[23];C[10]=w[29];C[11]=w[28];C[12]=w[36];C[13]=w[12];C[14]=w[24];C[15]=w[36];C[16]=w[35];C[17]=w[10];var pd=C[w[38]](w[37]);G[0]=w[30];G[1]=w[20];G[2]=w[15];G[3]=w[21];G[4]=w[10];G[5]=w[16];G[6]=w[12];G[7]=w[24];G[8]=w[22];G[9]=w[25];G[10]=w[10];G[11]=w[23];G[12]=w[34];G[13]=w[36];G[14]=w[12];G[15]=w[24];G[16]=w[36];G[17]=w[30];G[18]=w[20];var Q=G[w[38]](w[37]);F[0]=w[15];F[1]=w[21];F[2]=w[34];F[3]=w[14];F[4]=w[27];F[5]=w[25];F[6]=w[27];F[7]=w[18];F[8]=w[23];F[9]=w[29];
F[10]=w[36];F[11]=w[27];F[12]=w[30];var ac=F[w[38]](w[37]);I[0]=w[25];I[1]=w[27];I[2]=w[10];I[3]=w[20];I[4]=w[29];I[5]=w[18];I[6]=w[28];I[7]=w[25];I[8]=w[27];I[9]=w[18];I[10]=w[23];I[11]=w[29];I[12]=w[36];I[13]=w[12];I[14]=w[24];I[15]=w[22];var hd=I[w[38]](w[37]);O[0]=w[13];O[1]=w[14];O[2]=w[12];O[3]=w[24];O[4]=w[23];O[5]=w[30];O[6]=w[27];O[7]=w[28];O[8]=w[14];O[9]=w[27];O[10]=w[34];O[11]=w[36];O[12]=w[12];O[13]=w[24];O[14]=w[22];var $d=O[w[38]](w[37]);N[0]=w[25];N[1]=w[27];N[2]=w[18];N[3]=w[23];
N[4]=w[29];N[5]=w[10];N[6]=w[28];N[7]=w[18];N[8]=w[10];N[9]=w[36];N[10]=w[18];N[11]=w[23];var ae=N[w[38]](w[37]);R[0]=w[22];R[1]=w[18];R[2]=w[25];R[3]=w[17];R[4]=w[24];R[5]=w[23];R[6]=w[14];R[7]=w[12];R[8]=w[10];R[9]=w[28];R[10]=w[14];R[11]=w[28];R[12]=w[36];R[13]=w[12];R[14]=w[24];R[15]=w[22];var jf=R[w[38]](w[37]);M[0]=w[13];M[1]=w[18];M[2]=w[28];M[3]=w[12];M[4]=w[25];M[5]=w[27];M[6]=w[18];M[7]=w[23];M[8]=w[29];M[9]=w[28];M[10]=w[36];M[11]=w[12];M[12]=w[24];M[13]=w[22];var Wf=M[w[38]](w[37]);J[0]=
w[21];J[1]=w[30];J[2]=w[22];J[3]=w[18];J[4]=w[21];J[5]=w[18];J[6]=w[10];J[7]=w[36];J[8]=w[12];J[9]=w[24];J[10]=w[22];var qd=J[w[38]](w[37]);K[0]=w[32];K[1]=w[14];K[2]=w[21];K[3]=w[24];K[4]=w[31];K[5]=w[14];K[6]=w[1];K[7]=w[25];K[8]=w[27];K[9]=w[18];K[10]=w[23];K[11]=w[29];K[12]=w[36];K[13]=w[12];K[14]=w[24];K[15]=w[22];var kf=K[w[38]](w[37]);X[0]=w[29];X[1]=w[17];X[2]=w[14];X[3]=w[25];X[4]=w[27];X[5]=w[18];X[6]=w[23];X[7]=w[29];X[8]=w[12];X[9]=w[21];X[10]=w[24];X[11]=w[30];X[12]=w[13];X[13]=w[36];
X[14]=w[12];X[15]=w[24];X[16]=w[36];X[17]=w[35];X[18]=w[10];var Ge=X[w[38]](w[37]);L[0]=w[35];L[1]=w[30];L[2]=w[22];L[3]=w[18];L[4]=w[11];L[5]=w[24];L[6]=w[33];L[7]=w[36];L[8]=w[12];L[9]=w[24];L[10]=w[22];var lf=L[w[38]](w[37]);da[0]=w[11];da[1]=w[10];da[2]=w[28];da[3]=w[20];da[4]=w[18];da[5]=w[34];da[6]=w[30];da[7]=w[27];da[8]=w[13];da[9]=w[30];da[10]=w[36];da[11]=w[12];da[12]=w[24];da[13]=w[22];da[14]=w[36];da[15]=w[29];da[16]=w[27];var mf=da[w[38]](w[37]);V[0]=w[14];V[1]=w[31];V[2]=w[14];V[3]=
w[27];V[4]=w[34];V[5]=w[13];V[6]=w[10];V[7]=w[34];V[8]=w[14];V[9]=w[23];V[10]=w[31];V[11]=w[14];V[12]=w[21];V[13]=w[24];V[14]=w[25];V[15]=w[14];V[16]=w[28];V[17]=w[36];V[18]=w[12];V[19]=w[24];V[20]=w[22];V[21]=w[36];V[22]=w[10];V[23]=w[30];var Mf=V[w[38]](w[37]);U[0]=w[11];U[1]=w[24];U[2]=w[29];U[3]=w[29];U[4]=w[21];U[5]=w[14];U[6]=w[34];U[7]=w[24];U[8]=w[30];U[9]=w[27];U[10]=w[11];U[11]=w[27];U[12]=w[10];U[13]=w[23];U[14]=w[13];U[15]=w[36];U[16]=w[12];U[17]=w[24];U[18]=w[22];var be=U[w[38]](w[37]);
aa[0]=w[13];aa[1]=w[14];aa[2]=w[21];aa[3]=w[22];aa[4]=w[24];aa[5]=w[23];aa[6]=w[25];aa[7]=w[27];aa[8]=w[18];aa[9]=w[23];aa[10]=w[29];aa[11]=w[36];aa[12]=w[12];aa[13]=w[24];aa[14]=w[22];var nf=aa[w[38]](w[37]);ca[0]=w[11];ca[1]=w[34];ca[2]=w[11];ca[3]=w[36];ca[4]=w[21];ca[5]=w[24];ca[6]=w[12];ca[7]=w[10];ca[8]=w[21];ca[9]=w[17];ca[10]=w[24];ca[11]=w[28];ca[12]=w[29];ca[13]=w[36];ca[14]=w[12];ca[15]=w[24];ca[16]=w[22];var pf=ca[w[38]](w[37]);qa[0]=w[28];qa[1]=w[18];qa[2]=w[16];qa[3]=w[23];qa[4]=w[8];
qa[5]=w[8];qa[6]=w[8];qa[7]=w[36];qa[8]=w[12];qa[9]=w[24];qa[10]=w[22];var Wb=qa[w[38]](w[37]);ba[0]=w[10];ba[1]=w[23];ba[2]=w[18];ba[3]=w[22];ba[4]=w[10];ba[5]=w[16];ba[6]=w[14];ba[7]=w[14];ba[8]=w[31];ba[9]=w[24];ba[10]=w[21];ba[11]=w[30];ba[12]=w[29];ba[13]=w[18];ba[14]=w[24];ba[15]=w[23];ba[16]=w[36];ba[17]=w[12];ba[18]=w[24];ba[19]=w[22];var jd=ba[w[38]](w[37]);ea[0]=w[29];ea[1]=w[17];ea[2]=w[14];ea[3]=w[10];ea[4]=w[21];ea[5]=w[11];ea[6]=w[30];ea[7]=w[22];ea[8]=w[15];ea[9]=w[10];ea[10]=w[12];
ea[11]=w[29];ea[12]=w[24];ea[13]=w[27];ea[14]=w[34];ea[15]=w[36];ea[16]=w[12];ea[17]=w[24];ea[18]=w[22];var qf=ea[w[38]](w[37]);la[0]=w[22];la[1]=w[34];la[2]=w[25];la[3]=w[14];la[4]=w[29];la[5]=w[16];la[6]=w[18];la[7]=w[15];la[8]=w[29];la[9]=w[28];la[10]=w[36];la[11]=w[12];la[12]=w[24];la[13]=w[22];var He=la[w[38]](w[37]);ga[0]=w[11];ga[1]=w[14];ga[2]=w[13];ga[3]=w[10];ga[4]=w[23];ga[5]=w[20];ga[6]=w[19];ga[7]=w[14];ga[8]=w[28];ga[9]=w[36];ga[10]=w[23];ga[11]=w[21];var rf=ga[w[38]](w[37]);ia[0]=w[32];
ia[1]=w[24];ia[2]=w[24];ia[3]=w[13];ia[4]=w[14];ia[5]=w[23];ia[6]=w[11];ia[7]=w[24];ia[8]=w[33];ia[9]=w[18];ia[10]=w[22];ia[11]=w[10];ia[12]=w[16];ia[13]=w[18];ia[14]=w[23];ia[15]=w[16];ia[16]=w[36];ia[17]=w[12];ia[18]=w[24];ia[19]=w[22];var sf=ia[w[38]](w[37]);ya[0]=w[32];ya[1]=w[10];ya[2]=w[16];ya[3]=w[19];ya[4]=w[10];ya[5]=w[16];ya[6]=w[36];ya[7]=w[12];ya[8]=w[24];ya[9]=w[22];var Kb=ya[w[38]](w[37]);Za[0]=w[15];Za[1]=w[24];Za[2]=w[13];Za[3]=w[36];Za[4]=w[13];Za[5]=w[14];Za[6]=w[31];var Fc=Za[w[38]](w[37]);
Na[0]=w[25];Na[1]=w[27];Na[2]=w[18];Na[3]=w[23];Na[4]=w[29];Na[5]=w[24];Na[6]=w[36];Na[7]=w[18];Na[8]=w[23];var tc=Na[w[38]](w[37]);Oa[0]=w[21];Oa[1]=w[10];Oa[2]=w[11];Oa[3]=w[14];Oa[4]=w[21];Oa[5]=w[23];Oa[6]=w[28];Oa[7]=w[29];Oa[8]=w[18];Oa[9]=w[12];Oa[10]=w[20];Oa[11]=w[14];Oa[12]=w[27];Oa[13]=w[36];Oa[14]=w[12];Oa[15]=w[24];Oa[16]=w[22];var ce=Oa[w[38]](w[37]);Ia[0]=w[25];Ia[1]=w[27];Ia[2]=w[18];Ia[3]=w[23];Ia[4]=w[29];Ia[5]=w[13];Ia[6]=w[10];Ia[7]=w[18];Ia[8]=w[21];Ia[9]=w[34];Ia[10]=w[36];Ia[11]=
w[22];Ia[12]=w[34];var tf=Ia[w[38]](w[37]);Pa[0]=w[16];Pa[1]=w[10];Pa[2]=w[28];Pa[3]=w[29];Pa[4]=w[27];Pa[5]=w[24];Pa[6]=w[23];Pa[7]=w[24];Pa[8]=w[22];Pa[9]=w[18];Pa[10]=w[14];Pa[11]=w[0];Pa[12]=w[8];Pa[13]=w[7];Pa[14]=w[7];Pa[15]=w[36];Pa[16]=w[12];Pa[17]=w[24];Pa[18]=w[22];var Ie=Pa[w[38]](w[37]);ab[0]=w[10];ab[1]=w[27];ab[2]=w[29];ab[3]=w[25];ab[4]=w[10];ab[5]=w[28];ab[6]=w[10];ab[7]=w[27];ab[8]=w[36];ab[9]=w[12];ab[10]=w[24];ab[11]=w[22];var Je=ab[w[38]](w[37]);Va[0]=w[11];Va[1]=w[14];Va[2]=w[28];
Va[3]=w[29];Va[4]=w[26];Va[5]=w[30];Va[6]=w[10];Va[7]=w[21];Va[8]=w[18];Va[9]=w[29];Va[10]=w[34];Va[11]=w[12];Va[12]=w[10];Va[13]=w[23];Va[14]=w[31];Va[15]=w[10];Va[16]=w[28];Va[17]=w[36];Va[18]=w[12];Va[19]=w[24];Va[20]=w[22];var de=Va[w[38]](w[37]);Ka[0]=w[28];Ka[1]=w[18];Ka[2]=w[22];Ka[3]=w[25];Ka[4]=w[24];Ka[5]=w[15];Ka[6]=w[21];Ka[7]=w[34];Ka[8]=w[36];Ka[9]=w[12];Ka[10]=w[24];Ka[11]=w[22];var eb=Ka[w[38]](w[37]);Sa[0]=w[22];Sa[1]=w[34];Sa[2]=w[0];Sa[3]=w[28];Sa[4]=w[29];Sa[5]=w[24];Sa[6]=w[25];
Sa[7]=w[36];Sa[8]=w[12];Sa[9]=w[24];Sa[10]=w[22];var ee=Sa[w[38]](w[37]);Qa[0]=w[19];Qa[1]=w[24];Qa[2]=w[34];Qa[3]=w[23];Qa[4]=w[12];Qa[5]=w[24];Qa[6]=w[25];Qa[7]=w[27];Qa[8]=w[18];Qa[9]=w[23];Qa[10]=w[29];Qa[11]=w[28];Qa[12]=w[36];Qa[13]=w[12];Qa[14]=w[24];Qa[15]=w[22];var uf=Qa[w[38]](w[37]);ra[0]=w[28];ra[1]=w[18];ra[2]=w[22];ra[3]=w[25];ra[4]=w[24];ra[5]=w[15];ra[6]=w[21];ra[7]=w[34];ra[8]=w[36];ra[9]=w[13];ra[10]=w[14];ra[11]=w[31];var Oc=ra[w[38]](w[37]);pa[0]=w[24];pa[1]=w[23];pa[2]=w[21];
pa[3]=w[18];pa[4]=w[23];pa[5]=w[14];pa[6]=w[13];pa[7]=w[27];pa[8]=w[30];pa[9]=w[12];pa[10]=w[20];pa[11]=w[36];pa[12]=w[12];pa[13]=w[17];var Z=pa[w[38]](w[37]);Wa[0]=w[25];Wa[1]=w[27];Wa[2]=w[18];Wa[3]=w[23];Wa[4]=w[29];Wa[5]=w[32];Wa[6]=w[18];Wa[7]=w[35];Wa[8]=w[36];Wa[9]=w[12];Wa[10]=w[24];Wa[11]=w[22];Wa[12]=w[36];Wa[13]=w[10];Wa[14]=w[30];var vf=Wa[w[38]](w[37]);mb[0]=w[12];mb[1]=w[14];mb[2]=w[21];mb[3]=w[21];mb[4]=w[15];mb[5]=w[14];mb[6]=w[14];mb[7]=w[35];mb[8]=w[36];mb[9]=w[12];mb[10]=w[24];
mb[11]=w[22];var Pc=mb[w[38]](w[37]);Xa[0]=w[29];Xa[1]=w[18];Xa[2]=w[21];Xa[3]=w[14];Xa[4]=w[29];Xa[5]=w[10];Xa[6]=w[12];Xa[7]=w[36];Xa[8]=w[12];Xa[9]=w[24];Xa[10]=w[22];var Qc=Xa[w[38]](w[37]);sb[0]=w[28];sb[1]=w[29];sb[2]=w[10];sb[3]=w[13];sb[4]=w[13];sb[5]=w[30];sb[6]=w[28];sb[7]=w[36];sb[8]=w[12];sb[9]=w[24];sb[10]=w[22];var Dd=sb[w[38]](w[37]);ib[0]=w[12];ib[1]=w[17];ib[2]=w[18];ib[3]=w[25];ib[4]=w[21];ib[5]=w[10];ib[6]=w[11];ib[7]=w[36];ib[8]=w[12];ib[9]=w[24];ib[10]=w[22];var ec=ib[w[38]](w[37]);
Fa[0]=w[22];Fa[1]=w[10];Fa[2]=w[20];Fa[3]=w[14];Fa[4]=w[21];Fa[5]=w[24];Fa[6]=w[31];Fa[7]=w[14];Fa[8]=w[21];Fa[9]=w[24];Fa[10]=w[12];Fa[11]=w[20];Fa[12]=w[28];Fa[13]=w[36];Fa[14]=w[12];Fa[15]=w[24];Fa[16]=w[22];var Ke=Fa[w[38]](w[37]);cb[0]=w[14];cb[1]=w[35];cb[2]=w[28];cb[3]=w[18];cb[4]=w[16];cb[5]=w[23];cb[6]=w[28];cb[7]=w[36];cb[8]=w[12];cb[9]=w[24];cb[10]=w[22];var Le=cb[w[38]](w[37]);nb[0]=w[13];nb[1]=w[14];nb[2]=w[31];nb[3]=w[36];nb[4]=w[12];nb[5]=w[17];nb[6]=w[18];nb[7]=w[25];nb[8]=w[21];nb[9]=
w[10];nb[10]=w[11];nb[11]=w[36];nb[12]=w[12];nb[13]=w[24];nb[14]=w[22];var fe=nb[w[38]](w[37]);jb[0]=w[14];jb[1]=w[35];jb[2]=w[11];jb[3]=w[24];jb[4]=w[33];jb[5]=w[22];jb[6]=w[10];jb[7]=w[20];jb[8]=w[14];jb[9]=w[27];jb[10]=w[36];jb[11]=w[12];jb[12]=w[24];jb[13]=w[22];var ge=jb[w[38]](w[37]);Ea[0]=w[28];Ea[1]=w[28];Ea[2]=w[32];Ea[3]=w[25];Ea[4]=w[27];Ea[5]=w[18];Ea[6]=w[23];Ea[7]=w[29];Ea[8]=w[18];Ea[9]=w[23];Ea[10]=w[16];Ea[11]=w[36];Ea[12]=w[12];Ea[13]=w[24];Ea[14]=w[22];var Me=Ea[w[38]](w[37]);na[0]=
w[28];na[1]=w[28];na[2]=w[32];na[3]=w[25];na[4]=w[27];na[5]=w[18];na[6]=w[23];na[7]=w[29];na[8]=w[18];na[9]=w[23];na[10]=w[16];na[11]=w[36];na[12]=w[21];na[13]=w[24];na[14]=w[12];var he=na[w[38]](w[37]);ka[0]=w[12];ka[1]=w[30];ka[2]=w[29];ka[3]=w[24];ka[4]=w[30];ka[5]=w[29];ka[6]=w[35];ka[7]=w[35];ka[8]=w[36];ka[9]=w[12];ka[10]=w[24];ka[11]=w[22];var Nf=ka[w[38]](w[37]);xa[0]=w[11];xa[1]=w[27];xa[2]=w[10];xa[3]=w[18];xa[4]=w[23];xa[5]=w[29];xa[6]=w[27];xa[7]=w[14];xa[8]=w[14];xa[9]=w[22];xa[10]=w[10];
xa[11]=w[27];xa[12]=w[20];xa[13]=w[14];xa[14]=w[29];xa[15]=w[18];xa[16]=w[23];xa[17]=w[16];xa[18]=w[36];xa[19]=w[12];xa[20]=w[24];xa[21]=w[22];var rd=xa[w[38]](w[37]);sa[0]=w[15];sa[1]=w[24];sa[2]=w[27];sa[3]=w[11];sa[4]=w[14];sa[5]=w[28];sa[6]=w[25];sa[7]=w[27];sa[8]=w[24];sa[9]=w[13];sa[10]=w[30];sa[11]=w[12];sa[12]=w[29];sa[13]=w[28];sa[14]=w[36];sa[15]=w[12];sa[16]=w[24];sa[17]=w[22];var Ed=sa[w[38]](w[37]);pb[0]=w[25];pb[1]=w[27];pb[2]=w[18];pb[3]=w[23];pb[4]=w[29];pb[5]=w[28];pb[6]=w[12];pb[7]=
w[24];pb[8]=w[25];pb[9]=w[14];pb[10]=w[36];pb[11]=w[13];pb[12]=w[14];var Ne=pb[w[38]](w[37]);La[0]=w[29];La[1]=w[17];La[2]=w[14];La[3]=w[25];La[4]=w[27];La[5]=w[18];La[6]=w[23];La[7]=w[29];La[8]=w[1];La[9]=w[3];La[10]=w[6];La[11]=w[2];La[12]=w[5];La[13]=w[4];La[14]=w[36];La[15]=w[12];La[16]=w[24];La[17]=w[22];var wf=La[w[38]](w[37]);tb[0]=w[1];tb[1]=w[11];tb[2]=w[28];tb[3]=w[18];tb[4]=w[16];tb[5]=w[23];tb[6]=w[28];tb[7]=w[36];tb[8]=w[12];tb[9]=w[24];tb[10]=w[22];var xf=tb[w[38]](w[37]);gb[0]=w[25];
gb[1]=w[27];gb[2]=w[25];gb[3]=w[36];gb[4]=w[12];gb[5]=w[24];gb[6]=w[36];gb[7]=w[18];gb[8]=w[21];var Oe=gb[w[38]](w[37]);Ab[0]=w[16];Ab[1]=w[24];Ab[2]=w[21];Ab[3]=w[15];Ab[4]=w[21];Ab[5]=w[10];Ab[6]=w[11];Ab[7]=w[36];Ab[8]=w[12];Ab[9]=w[24];Ab[10]=w[22];var sd=Ab[w[38]](w[37]);Ma[0]=w[27];Ma[1]=w[10];Ma[2]=w[34];Ma[3]=w[10];Ma[4]=w[11];Ma[5]=w[1];Ma[6]=w[11];Ma[7]=w[36];Ma[8]=w[12];Ma[9]=w[10];var ie=Ma[w[38]](w[37]);Ba[0]=w[25];Ba[1]=w[27];Ba[2]=w[18];Ba[3]=w[23];Ba[4]=w[29];Ba[5]=w[24];Ba[6]=w[16];
Ba[7]=w[18];Ba[8]=w[15];Ba[9]=w[29];Ba[10]=w[28];Ba[11]=w[36];Ba[12]=w[18];Ba[13]=w[23];var Pe=Ba[w[38]](w[37]);Aa[0]=w[13];Aa[1]=w[10];Aa[2]=w[18];Aa[3]=w[28];Aa[4]=w[21];Aa[5]=w[14];Aa[6]=w[27];Aa[7]=w[36];Aa[8]=w[21];Aa[9]=w[24];Aa[10]=w[12];Aa[11]=w[10];Aa[12]=w[21];var je=Aa[w[38]](w[37]);Gb[0]=w[13];Gb[1]=w[10];Gb[2]=w[18];Gb[3]=w[28];Gb[4]=w[21];Gb[5]=w[14];Gb[6]=w[27];Gb[7]=w[36];Gb[8]=w[27];Gb[9]=w[24];var ke=Gb[w[38]](w[37]);ub[0]=w[13];ub[1]=w[10];ub[2]=w[18];ub[3]=w[28];ub[4]=w[21];ub[5]=
w[14];ub[6]=w[27];ub[7]=w[36];ub[8]=w[13];ub[9]=w[14];ub[10]=w[31];ub[11]=w[36];ub[12]=w[11];ub[13]=w[10];ub[14]=w[21];ub[15]=w[13];ub[16]=w[32];ub[17]=w[18];ub[18]=w[23];ub[19]=w[36];ub[20]=w[11];ub[21]=w[14];var yf=ub[w[38]](w[37]);Ya[0]=w[13];Ya[1]=w[10];Ya[2]=w[18];Ya[3]=w[28];Ya[4]=w[21];Ya[5]=w[14];Ya[6]=w[27];Ya[7]=w[36];Ya[8]=w[13];Ya[9]=w[14];Ya[10]=w[31];Ya[11]=w[36];Ya[12]=w[10];Ya[13]=w[27];Ya[14]=w[27];Ya[15]=w[10];Ya[16]=w[34];Ya[17]=w[4];Ya[18]=w[0];Ya[19]=w[36];Ya[20]=w[12];Ya[21]=
w[24];Ya[22]=w[22];var Of=Ya[w[38]](w[37]);fb[0]=w[22];fb[1]=w[24];fb[2]=w[27];fb[3]=w[27];fb[4]=w[18];fb[5]=w[28];fb[6]=w[24];fb[7]=w[23];fb[8]=w[24];fb[9]=w[23];fb[10]=w[21];fb[11]=w[18];fb[12]=w[23];fb[13]=w[14];fb[14]=w[36];fb[15]=w[12];fb[16]=w[24];fb[17]=w[22];var zf=fb[w[38]](w[37]);rb[0]=w[18];rb[1]=w[13];rb[2]=w[42];rb[3]=w[24];rb[4]=w[18];rb[5]=w[29];rb[6]=w[36];rb[7]=w[12];rb[8]=w[24];rb[9]=w[22];var kd=rb[w[38]](w[37]);kb[0]=w[11];kb[1]=w[10];kb[2]=w[23];kb[3]=w[23];kb[4]=w[14];kb[5]=
w[27];kb[6]=w[28];kb[7]=w[29];kb[8]=w[10];kb[9]=w[23];kb[10]=w[13];kb[11]=w[23];kb[12]=w[14];kb[13]=w[33];kb[14]=w[29];kb[15]=w[13];kb[16]=w[10];kb[17]=w[34];kb[18]=w[36];kb[19]=w[12];kb[20]=w[24];kb[21]=w[22];var Qe=kb[w[38]](w[37]);Ca[0]=w[22];Ca[1]=w[12];Ca[2]=w[24];Ca[3]=w[23];Ca[4]=w[12];Ca[5]=w[14];Ca[6]=w[25];Ca[7]=w[29];Ca[8]=w[28];Ca[9]=w[43];Ca[10]=w[25];Ca[11]=w[27];Ca[12]=w[18];Ca[13]=w[23];Ca[14]=w[29];Ca[15]=w[36];Ca[16]=w[12];Ca[17]=w[24];Ca[18]=w[22];var Re=Ca[w[38]](w[37]);ob[0]=
w[11];ob[1]=w[21];ob[2]=w[10];ob[3]=w[12];ob[4]=w[20];ob[5]=w[15];ob[6]=w[27];ob[7]=w[24];ob[8]=w[16];ob[9]=w[43];ob[10]=w[13];ob[11]=w[14];ob[12]=w[28];ob[13]=w[18];ob[14]=w[16];ob[15]=w[23];ob[16]=w[28];ob[17]=w[36];ob[18]=w[12];ob[19]=w[24];ob[20]=w[22];var Se=ob[w[38]](w[37]);Ib[0]=w[21];Ib[1]=w[18];Ib[2]=w[31];Ib[3]=w[14];Ib[4]=w[25];Ib[5]=w[27];Ib[6]=w[18];Ib[7]=w[23];Ib[8]=w[29];Ib[9]=w[36];Ib[10]=w[12];Ib[11]=w[35];var Te=Ib[w[38]](w[37]);qb[0]=w[25];qb[1]=w[27];qb[2]=w[24];qb[3]=w[22];qb[4]=
w[24];qb[5]=w[12];qb[6]=w[24];qb[7]=w[18];qb[8]=w[23];qb[9]=w[28];qb[10]=w[36];qb[11]=w[12];qb[12]=w[24];qb[13]=w[22];var le=qb[w[38]](w[37]);Lb[0]=w[28];Lb[1]=w[18];Lb[2]=w[16];Lb[3]=w[23];Lb[4]=w[36];Lb[5]=w[11];Lb[6]=w[30];Lb[7]=w[18];Lb[8]=w[21];Lb[9]=w[13];Lb[10]=w[14];Lb[11]=w[27];Lb[12]=w[28];var me=Lb[w[38]](w[37]);Zb[0]=w[27];Zb[1]=w[10];Zb[2]=w[34];Zb[3]=w[10];Zb[4]=w[12];Zb[5]=w[24];Zb[6]=w[22];Zb[7]=w[36];Zb[8]=w[12];Zb[9]=w[24];Zb[10]=w[22];var ne=Zb[w[38]](w[37]);D[0]=w[26];D[1]=w[30];
D[2]=w[10];D[3]=w[23];D[4]=w[29];D[5]=w[30];D[6]=w[22];D[7]=w[25];D[8]=w[24];D[9]=w[28];D[10]=w[29];D[11]=w[12];D[12]=w[10];D[13]=w[27];D[14]=w[13];D[15]=w[28];D[16]=w[36];D[17]=w[12];D[18]=w[24];D[19]=w[22];var Af=D[w[38]](w[37]);if(Ec==wa||Ec==Fe)Da=Ja;if(Uf==Da||Mc==Da||nd==Da||Vf==Da||Ja==Da||ef==Da||wa==Yd||wa==qc||wa==ff||wa==gf||wa==hf||wa==Zd||Da==Zd||wa==pd||wa==Q||wa==ac||wa==hd||wa==$d||wa==ae||wa==jf||wa==Wf||wa==qd||Da==qd||wa==kf||wa==Ge||Da==Ge||wa==lf||Da==lf||wa==mf||wa==Mf||wa==
be||Da==be||wa==nf||Da==nf||Da==pf||wa==Wb||Da==Wb||wa==jd||Da==jd||wa==qf||Da==qf||wa==He||Da==He||wa==rf||Da==rf||wa==sf||Da==sf||wa==Kb||Da==Kb||wa==Fc||Da==Fc||wa==tc||Da==tc||wa==ce||Da==ce||wa==tf||Da==tf||wa==Ie||Da==Ie||wa==Je||Da==Je||wa==de||Da==de||wa==eb||Da==eb||wa==ee||Da==ee||wa==uf||Da==uf||wa==Oc||Da==Oc||wa==Z||Da==Z||wa==vf||Da==vf||wa==Pc||Da==Pc||wa==Qc||Da==Qc||wa==Dd||Da==Dd||wa==ec||Da==ec||wa==Ke||Da==Ke||wa==Le||Da==Le||wa==fe||Da==fe||wa==ge||Da==ge||wa==Me||Da==Me||wa==
he||Da==he||wa==Nf||Da==Nf||wa==rd||Da==rd||wa==Ed||Da==Ed||wa==Ne||Da==Ne||wa==wf||Da==wf||wa==xf||Da==xf||wa==Oe||Da==Oe||wa==sd||Da==sd||wa==ie||Da==ie||wa==Pe||Da==Pe||wa==je||Da==je||wa==ke||Da==ke||wa==yf||Da==yf||wa==Of||Da==Of||wa==zf||Da==zf||wa==kd||Da==kd||wa==Qe||Da==Qe||wa==Re||Da==Re||wa==Se||Da==Se||wa==Te||Da==Te||wa==le||Da==le||wa==me||Da==me||wa==ne||Da==ne||wa==Af||Da==Af){var rc=null,Sb=null,Tb=null,sc=null,xc=null,Fd={},yc=null,Gc=null,Hc=null,uc=null;if("vuezz"==$j("#dol_type").val())var Bf=
null,Cf=null;var Df=0,Ef=function(c){if(c.button!==2){var h=ze;ze=null;if(Qb){var l=(/android/i.test(navigator.userAgent.toLowerCase()),window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop);ff23=Zc?$j("#svgcontent").attr("x"):0;if(svgedit.browser.isGecko())var f=lb(c.pageX,c.pageY-l,pc),n=f.x-ff23,o=f.y,q=n/W,l=o/W,p=Ga(wc()),u=false;else{f=lb(c.pageX,c.pageY-l,pc);n=f.x*W;o=f.y*W;q=n/W;l=o/W;p=Ga(wc());u=false}var f=q,s=l;Qb=false;switch(Ua){case "resize":case "multiselect":l=
new Bb;if(Nb!=null){Nb.setAttribute("display","none");Uc=[]}P.deleteMultilineIfEmpty();Ua="select";q=H.length;case "select":if(H[0]!=null){if(H[1]==null){var z=H[0];$j("#svgcanvas").removeClass("drawing");switch(z.tagName){case "g":o=$j(H[0]).children();for(n=0;n<o.length;++n){$j("#group_opacity").val(1);var l=o[n].getAttribute("stroke-width")==null?0:o[n].getAttribute("stroke-width"),q=o[n].getAttribute("opacity")==null?1:o[n].getAttribute("opacity"),w=P.getBlur(o[n]);$j("#stroke_width").val()!=
null&&$j("#stroke_width").val()!="none"&&$j("#stroke_width").val()<l&&$j("#stroke_width").val(l);$j("#group_opacity").val()<q*100&&$j("#group_opacity").val(q*100);$j("#blur").val()!=null&&$j("#blur").val()<w&&$j("#blur").val(w)}if(z.getAttribute("attr_c")=="clipart_img"){$j(".clipart_colors .fill_box").children().remove();$j(".clipart_colors .border_box").children().remove();P.getClipartColors()}Vb([H[0]],true);break;case "use":case "image":case "foreignObject":break;case "text":ja.fill=z.getAttribute("fill");
ja.stroke=z.getAttribute("stroke");break;default:ic.fill=z.getAttribute("fill");ic.fill_opacity=z.getAttribute("fill-opacity");ic.stroke=z.getAttribute("stroke");ic.stroke_opacity=z.getAttribute("stroke-opacity");ic.stroke_width=z.getAttribute("stroke-width");ic.stroke_dasharray=z.getAttribute("stroke-dasharray");ic.stroke_linejoin=z.getAttribute("stroke-linejoin");ic.stroke_linecap=z.getAttribute("stroke-linecap")}if(z.tagName=="text"){if(a.isMultiline){ja.font_family=z.getAttribute("font-family");
o=Ha.getCurCharacterAttribute();bbox=svgedit.utilities.getBBox(z);bbox1=svgedit.utilities.getBBox($j("#selectedBox0")[0]);if(H[0].tagName=="text"&&P.getTextAspect()){l=$j("#zoom_factor").val();B=$j(z).children("tspan");q=z.getAttribute("x");for(n=w=0;n<B.length;n++)w++;if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){n=$j("#selectorGrip_resize_n").prop("tagName")=="rect"?$j("#selectorGrip_resize_n").attr("y"):$j("#selectorGrip_resize_n").attr("cy");B=$j("#selectorGrip_resize_s").attr("y");
height=(B-n-12)/w}else height=bbox1.height/w;var B=$j(z).children(),q=B.length,n=94;q==1&&(n=114);q==2&&(n=101);size=$j("#tool_image").hasClass("backend")?(height-z.getAttribute("leading"))*72/n:(height-z.getAttribute("leading"))*72/n*l;S=size=Math.round(size/W);(z.getAttribute("resized")=="true"||z.getAttribute("attr_rs")=="true")&&P.setFontSize(size);z.setAttribute("resized","false");z.setAttribute("attr_rs","false")}else{bbox=svgedit.utilities.getBBox(z);bbox1=svgedit.utilities.getBBox($j("#selectedBox0")[0]);
l=$j("#zoom_factor").val();B=$j(z).children("tspan");q=z.getAttribute("x");for(n=w=0;n<B.length;n++)q==B[n].getAttribute("x")&&w++;if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){n=$j("#selectorGrip_resize_n").prop("tagName")=="rect"?$j("#selectorGrip_resize_n").attr("y"):$j("#selectorGrip_resize_n").attr("cy");B=$j("#selectorGrip_resize_s").attr("y");height=(B-n-12)/w}else height=bbox1.height/w;B=$j(z).children();q=B.length;n=94;q==1&&(n=114);q==2&&(n=101);size=$j("#tool_image").hasClass("backend")?
(height-z.getAttribute("leading"))*72/n:(height-z.getAttribute("leading"))*72/n*l;vc=S=size=Math.round(size/W);z.getAttribute("resized")}Vb([z],true);try{ja.font_style=o.attr.font_style;ja.font_weight=o.attr.font_weight;ja.font_size=o.attr.font_size;ja.font_family=o.attr.font_family}catch(A){ja.font_style=ja.font_style;ja.font_weight=ja.font_weight;ja.font_size=ja.font_size;ja.font_family=ja.font_family}ja.font_size=z.getAttribute("font_size").replace("pt","")}else{ja.font_size=z.getAttribute("font_size").replace("pt",
"");ja.font_family=z.getAttribute("font-family");bbox=svgedit.utilities.getBBox(z);bbox1=svgedit.utilities.getBBox($j("#selectedBox0")[0]);if(H[0].tagName=="text"&&P.getTextAspect()){l=$j("#zoom_factor").val();size=$j("#tool_image").hasClass("backend")?(bbox1.height-z.getAttribute("leading"))*72/128:(bbox1.height-z.getAttribute("leading"))*72/128*l;size=Math.round(size/W);if($j("#selectorGrip_resize_n").prop("tagName")=="rect"){q=$j("#selectorGrip_resize_n").attr("x");l=$j("#selectorGrip_resize_e").attr("y")}else{q=
$j("#selectorGrip_resize_n").attr("cx");l=$j("#selectorGrip_resize_e").attr("cy")}l=$j("#zoom_factor").val();S=size;(z.getAttribute("resized")=="true"||z.getAttribute("attr_rs")=="true")&&P.setFontSize(size);z.setAttribute("resized","false");z.setAttribute("attr_rs","false")}else{bbox=svgedit.utilities.getBBox(z);bbox1=svgedit.utilities.getBBox($j("#selectedBox0")[0]);if(H[0].tagName=="text"){l=$j("#zoom_factor").val();size=$j("#tool_image").hasClass("backend")?(bbox1.height-z.getAttribute("leading"))*
72/128:(bbox1.height-z.getAttribute("leading"))*72/128*l;vc=S=size=Math.round(size/W);z.getAttribute("resized")}}}if(svgedit.browser.isIE()){o=H[0].getAttribute("x");l=$j(H[0]).children();for(n=0;n<l.length;n++)l[n].setAttribute("x",o)}}za.requestSelector(z).showGrips(true);z.tagName!=="path"&&Ra("selected",[z]);z.tagName=="path"&&$j(".panel_header .multiselected_panel").css("display")!=="block"&&$j("#selectorGroup0 g").attr("display","inline")}Ee();if($j("#dol_type").val()=="vuezz"&&H[0].tagName==
"image"){o=H[0].getAttribute("width");n=H[0].getAttribute("height");o=Bf-o;n=Cf-n;P.checkImageDimensionsToSnap(o!=0?o:n!=0?n:null)}if(f!=sc||s!=xc){q=H.length;if(z!=null){if(z.tagName=="rect"){H[0].getAttribute("height")>=0&&H[0].getAttribute("height")<0.01&&H[0].setAttribute("height",0.01);H[0].getAttribute("width")>=0&&H[0].getAttribute("width")<0.01&&H[0].setAttribute("width",0.01)}if(z.tagName=="ellipse"){H[0].getAttribute("rx")>=0&&H[0].getAttribute("rx")<=0.01&&H[0].setAttribute("rx",0.1);H[0].getAttribute("ry")>=
0&&H[0].getAttribute("ry")<=0.01&&H[0].setAttribute("ry",0.1)}z.tagName=="circle"&&H[0].getAttribute("r")>=0&&H[0].getAttribute("r")<0.1&&H[0].setAttribute("r",0.1);if(z.tagName=="line"){c=H[0].getAttribute("x1");h=H[0].getAttribute("x2");n=H[0].getAttribute("y1");B=H[0].getAttribute("y2");(c==h||Math.abs(c-h)<0.03)&&H[0].setAttribute("x1",parseInt(H[0].getAttribute("x1"))+0.1);(n==B||Math.abs(n-B)<0.03)&&H[0].setAttribute("y1",parseInt(H[0].getAttribute("y1"))+0.1)}}for(n=0;n<q;++n){if(H[n]==null)break;
H[n].firstChild||za.requestSelector(H[n]).resize()}}else{f=c.target;if(H[0]!=null&&H[0].nodeName==="path"&&H[1]==null)Fb.select(H[0]);else if(H[0]!=null&&H[0].nodeName=="text"&&H[1]==null)a.isMultiline&&Hb.cleanupTextObject(f);else if(c.shiftKey)h!=f&&P.removeFromSelection([f]);else if(H[0]!=null&&H[0].nodeName=="image"&&H[1]==null&&H[0].getAttribute("placeholder")){if(window.innerWidth<=768&&svgEditor.curConfig.mobileActivate){$j("#vtab").dialog("open");$j("#vtab > div").css("z-index",$j("#vtab").parent().css("z-index")+
1);$j(".myimages_div").mCustomScrollbar("update")}else{$j("#vtab").show();$j("#tool_image").addClass("hideImageTootip");$j("#vtab").animate({height:172},{duration:500,start:function(){$j("#vtab").show()}});$j(".tooltipster-base").show();$j("#vtab").tooltipster({trigger:"ready",timer:15E3,position:"bottom"});window.scrollTo(500,0)}$j("#tool_image").attr("rel","true");$j("#tool_image").attr("placeholder",H[0].getAttribute("id"))}}H[0]!=null&&H[0].tagName=="g"&&z.getAttribute("resized")=="true"&&Vb([z],
true);if(H[0].getAttribute("attr_obj")=="svg_text"&&H[0].tagName=="text"&&H[1]==null&&P.getTextAspect()){(H[0].getAttribute("text-anchor")==""||H[0].getAttribute("text-anchor")==void 0||H[0].getAttribute("text-anchor")==null)&&H[0].getAttribute("ttemp")!="proper"&&Pf("center");H[0].getAttribute("transform");if(H[0].getAttribute("attr_rs")=="true"){P.setFontSize(S);$j("#font_size").val(Math.round(S));$j(H[0]).removeAttr("attr_rs")}za.requestSelector(H[0]).showGrips(true)}H[0].getAttribute("attr_obj");
$j(".pxhotice").length!=0&&H[0]!=null&&H[0].tagName=="image"&&navigator.userAgent.toLowerCase().indexOf("safari")!=-1&&navigator.userAgent.toLowerCase().indexOf("chrome")==-1&&$j(".draw_images .normal , .draw_images .grey, .draw_images .sp").hide();if(svgedit.browser.supportsNonScalingStroke()&&(c=H[0])){c.removeAttribute("style");svgedit.utilities.walkTree(c,function(a){a.tagName!="stop"&&a.removeAttribute("style")})}mc!="none"&&(ld=true);if($c&&$j("#rotate_angle").val()>0&&ld){c=$j("#angle").val();
P.fontZeroScaling();P.setFontSizeNew(S);svgCanvas.setRotationAngle(c);za.requestSelector(H[0]).resize();ld=$c=false}if(H[0].getAttribute("text_type")=="textpath"){d=Ga(H[0].getAttribute("pathid")).getAttribute("d");$j("#"+H[0].getAttribute("clipid"))[0].setAttribute("d",d);c=H[0];wb();jc([c])}}return;case "zoom":Nb!=null&&Nb.setAttribute("display","none");c=c.shiftKey?0.5:2;Ra("zoomed",{x:Math.min(sc,f),y:Math.min(xc,s),width:Math.abs(f-sc),height:Math.abs(s-xc),factor:c});return;case "fhpath":z=
p.getAttribute("points");h=z.indexOf(",");(u=h>=0?z.indexOf(",",h+1)>=0:z.indexOf(" ",z.indexOf(" ")+1)>=0)&&(p=Fb.smoothPolylineIntoPath(p));break;case "line":z=$j(p).attr(["x1","x2","y1","y2"]);u=z.x1!=z.x2||z.y1!=z.y2;P.setMode("select");break;case "foreignObject":case "square":P.setMode("select");case "rect":P.setMode("select");Jc=false;case "image":z=$j(p).attr(["width","height"]);u=z.width!=0||z.height!=0||Ua==="image";break;case "circle":u=p.getAttribute("r")!=0;P.setMode("select");break;case "ellipse":z=
$j(p).attr(["rx","ry"]);u=z.rx!=null||z.ry!=null;P.setMode("select");break;case "fhellipse":if(Hc-yc>0&&uc-Gc>0){p=Ta({element:"ellipse",curStyles:true,attr:{cx:(yc+Hc)/2,cy:(Gc+uc)/2,rx:(Hc-yc)/2,ry:(uc-Gc)/2,id:wc()}});Ra("changed",[p]);u=true}P.setMode("select");break;case "fhrect":if(Hc-yc>0&&uc-Gc>0){p=Ta({element:"rect",curStyles:true,attr:{x:yc,y:Gc,width:Hc-yc,height:uc-Gc,id:wc()}});Ra("changed",[p]);u=true}P.setMode("select");break;case "text":u=true;a.isMultiline?p.nodeName=="tspan"?Vb([p.parentNode]):
Vb([p]):Vb([p]);Hb.start(p);if(/Edge\/12./i.test(navigator.userAgent))return true;break;case "path":p=null;Qb=true;z=Fb.mouseUp(c,p,n,o);p=z.element;u=z.keep;break;case "pathedit":u=true;p=null;Fb.mouseUp(c);break;case "textedit":u=false;p=null;a.isMultiline?Y.mouseUp(c,n,o):Hb.mouseUp(c,n,o);break;case "rotate":u=true;p=null;Ua="select";l=P.undoMgr.finishUndoableChange();l.isEmpty()||db(l);Ee();Ra("changed",H)}z=Cd("mouseUp",{event:c,mouse_x:n,mouse_y:o},true);$j.each(z,function(a,c){if(c){u=c.keep||
u;p=c.element;Qb=c.started||Qb}});if(!u&&p!=null){vb().releaseId(wc());p.parentNode.removeChild(p);p=null;for(f=c.target;f.parentNode.parentNode.tagName=="g";)f=f.parentNode;if(f.parentNode.id!="selectorParentGroup"&&f.id!="svgcanvas"&&f.id!="svgroot"){P.setMode("select");Vb([f],true)}}else if(p!=null){P.addedNew=true;var c=0.2,C;if(xe.beginElement&&p.getAttribute("opacity")!=va.opacity){C=$j(xe).clone().attr({to:va.opacity,dur:c}).appendTo(p);try{C[0].beginElement()}catch(F){}}else c=0;setTimeout(function(){C&&
C.remove();a.isMultiline&&p.nodeName=="tspan"&&H[0]!=null&&(p=Ga(H[0].id));p.setAttribute("opacity",va.opacity);p.setAttribute("style","pointer-events:inherit");md(p);Ua==="path"?Fb.toEditMode(p):Ua!="textedit"&&a.selectNew&&Vb([p],true);if(Ua==="fhpath"){P.removeFromSelection([p]);$j(".wrap").hide()}db(new hc(p));Ua!=="fhpath"&&Ra("changed",[p])},c*1E3)}Ub=Xb=null}}},oe=function(c){var h=c.target;if(!$j(".wrap .panel_header .multiselected_panel").is(":visible")){var l=null;if($j("#dol_type").val()!=
"vuezz"){l=h.parentNode;if(l===bc)return}var h=od(c),f=h.tagName;pc=ma.getScreenCTM().inverse();var n=window.pageXOffset||window.document.documentElement.scrollLeft||window.document.body.scrollLeft,o=window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop;ff23=Zc?$j("#svgcontent").attr("x"):0;if(f=="text"){Ua="textedit";$j(".multilined_text").addClass("edit");$j(".multilined_text.edit textarea").css("height","100px")}else{if(f==="text"&&Ua=="textedit"&&h.getAttribute("lock")!=
"true"){c=lb(c.pageX,c.pageY-o,pc);if(h.getAttribute("text_type")=="textpath"){h.getAttribute("text-anchor")=="middle"?$j("#middlePath").attr("checked",true):$j("#middlePath").attr("checked",false);console.log($j(h).find("tspan"));$j(h).find("tspan").attr("dy")=="16px"?$j("#outwardfacing").attr("checked",true):$j("#outwardfacing").attr("checked",false);$j("#path_text").dialog("open");return}a.isMultiline?svgedit.browser.isGecko()?Y.select(h,c.x-ff23,c.y):Y.select(h,c.x*W,c.y*W):svgedit.browser.isGecko()?
Hb.select(h,c.x-ff23,c.y):Hb.select(h,c.x*W,c.y*W);if(H[0].getAttribute("template_text")=="true")$j("#text").select();else{H[0].setAttribute("template_text","false");$j("#text").focus(function(){this.selectionStart=this.selectionEnd=0})}svgCanvas.updateText();$j("#text").select()}else{c=lb(c.pageX,c.pageY-o,pc);n=c.x;o=c.y;$j("#dol_type").val()=="vuezz"&&dblClickOnPanel(n,o)}(f==="g"||f==="a")&&Kc(h);l.tagName!=="g"&&l.tagName!=="a"||vb().getCurrentLayer()}}},pe=jQuery,td=/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())?
"touchend":"click";pe.fn.doubletap=function(a,c){c=c==null?300:c;this.bind(td,function(h){var l=(new Date).getTime(),f=pe(this).data("lastTouch")||l+1,f=l-f;if(f<c&&0<f){pe(this).data("lastTouch",null);a!==null&&typeof a==="function"&&a(h)}else pe(this).data("lastTouch",l)})};$j("#workarea").mousedown(function(c){if(!(P.spaceKey||c.button===1)){var h=c.button===2,l=svgEditor.canvas;c.altKey&&l.cloneSelectedElements(0,0);pc=ma.getScreenCTM().inverse();var l=window.pageXOffset||window.document.documentElement.scrollLeft||
window.document.body.scrollLeft,f=(/android/i.test(navigator.userAgent.toLowerCase()),window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop);if(svgedit.browser.isGecko()){ff23=Zc?$j("#svgcontent").attr("x"):0;var l=lb(c.pageX,c.pageY-f,pc),f=l.x-ff23,n=l.y}else{l=lb(c.pageX,c.pageY-f,pc);f=l.x*W;n=l.y*W}c.preventDefault();if(h){Ua="select";Ae=l}l=f/W;f=n/W;n=od(c);if(n.tagName==="a"&&n.childNodes.length===1)n=n.firstChild;var o=sc=Sb=l,q=xc=Tb=f;if(a.gridSnapping){l=
Cb(l);f=Cb(f);Sb=Cb(Sb);Tb=Cb(Tb)}if(n.getAttribute("lock_admin")=="true"&&!$j("#tool_image").hasClass("backend")){$j(".wrap").hide();if(n.getAttribute("editable")=="true"){$j(".multilined_text").show();$j(".multiline_text .text_panel").show()}else $j(".multilined_text").hide()}if(n==za.selectorParentGroup&&H[0]!=null){if(H[0].tagName=="text"&&H[0].textContent==""){P.deleteSelectedElements();return}var n=c.target,p=we(n,"type");if(p=="rotate")Ua="rotate";else if(p=="resize"){Ua="resize";mc=we(n,"dir")}n=
H[0]}H[0]!=null&&H[0].tagName=="text"?Ub=n.getAttribute("transform"):Xb=n.getAttribute("transform");p=Jb(n);Ua=="textedit"&&(Ua="select");switch(Ua){case "select":$j("#text").blur();Cc=null;Qb=true;mc="none";h&&(Qb=false);if(n!=ha){if(H.indexOf(n)==-1){$j("#dol_type").val()=="vuezz"?wb(true):c.shiftKey||wb(true);if(c.shiftKey&&n.getAttribute("id")!="backImage"){H[0]!=null&&H[0].getAttribute("id")=="backImage"&&wb(true);var l=n.getAttribute("stroke-width")==null?0:n.getAttribute("stroke-width"),f=
n.getAttribute("opacity")==null?1:n.getAttribute("opacity"),u=n.getAttribute("fill"),o=n.getAttribute("stroke"),q=P.getBlur(n);!(n.getAttribute("text_type")=="textpath"||n.getAttribute("textpath")=="true")&&!(H[0]!=null&&H[0].getAttribute("text_type")=="textpath")&&(n.getAttribute("lock")!="true"&&!(H[0]!=null&&H[0].getAttribute("lock")=="true"))&&jc([n]);$j("#stroke_width").val()!=null&&$j("#stroke_width").val()!="none"&&$j("#stroke_width").val()<l&&$j("#stroke_width").val(l);u!=null&&$j("#fill_color rect").attr("fill",
u);if(o=="null"||o==null)o="none";o!="none"&&$j("#stroke_color rect").attr("fill",o);$j("#group_opacity").val()!=null&&$j("#group_opacity").val()!="none"&&$j("#group_opacity").val()<f*100&&$j("#group_opacity").val(f*100);$j("#blur").val()!=null&&$j("#blur").val()<q&&$j("#blur").val(q)}else if(!c.shiftKey){n.getAttribute("textpath")=="true"&&$j(".wrap").hide();n.getAttribute("textpath")||jc([n])}ze=n;Fb.clear()}if(!h){if(H[0]!=null&&H[0].getAttribute("text_type")=="textpath"){jc([Ga(H[0].getAttribute("pathid"))]);
$j("#selectorGroup1").attr("display","none");za.requestSelector(H[0]).resize()}for(h=0;h<H.length;++h)if(H[h]!=null){l=Jb(H[h]);svgedit.browser.isIE()?H[0].tagName!=="text"?l.numberOfItems?l.insertItemBefore(ha.createSVGTransform(),0):l.appendItem(ha.createSVGTransform()):H[0].tagName==="text"&&(l.numberOfItems?l.insertItemBefore(ha.createSVGTransform(),0):l.appendItem(ha.createSVGTransform())):l.numberOfItems?l.insertItemBefore(ha.createSVGTransform(),0):l.appendItem(ha.createSVGTransform())}}if(Yc){$j(H[0]).trigger("mouseup");
Yc=false}}else if(!h){wb();if($j("#dol_type").val()!="vuezz"){Ua="multiselect";Nb==null&&(Nb=za.getRubberBandBox());sc=sc*W;xc=xc*W;hb(Nb,{x:sc,y:xc,width:0,height:0,display:"inline"},100)}}if(!a.enableSingleLine&&H[0]!=null&&H[0].tagName=="text"&&!Ga("text_io_element")){h=Mb(H[0],false);hb(h,{id:"text_io_element",x:0,y:0,visibility:"hidden"});Ga("selectorParentGroup").appendChild(h)}if($j("#dol_type").val()=="vuezz"&&H[0].tagName=="image"){Bf=H[0].getAttribute("width");Cf=H[0].getAttribute("height")}Df++;
Df==1?window.innerWidth<=768&&a.mobileActivate&&$j(".toolspanel_wrapper").tooltipster({trigger:"onclick",timer:5E3,position:"right"}):$j(".toolspanel_wrapper").tooltipster("hide");break;case "zoom":Qb=true;Nb==null&&(Nb=za.getRubberBandBox());hb(Nb,{x:o*W,y:o*W,width:0,height:0,display:"inline"},100);break;case "resize":if(H[0]!=null&&H[0].tagName=="text"){h=H[0].textContent;if(h==null||h==" "||h==""){wb();return}}Qb=true;Sb=l;Tb=f;if(H[0].tagName=="text")Cc=H[0].getBBox().width;Fd=svgedit.utilities.getBBox($j("#selectedBox0")[0]);
var s={};$j.each(Fd,function(a,c){s[a]=c/W});Fd=s;h=Kc(n)?1:0;(l=Ga("text_cursor"))&&l.setAttribute("visibility","hidden");if(Sc(p)){p.insertItemBefore(ha.createSVGTransform(),h);p.insertItemBefore(ha.createSVGTransform(),h);p.insertItemBefore(ha.createSVGTransform(),h)}else{p.appendItem(ha.createSVGTransform());p.appendItem(ha.createSVGTransform());p.appendItem(ha.createSVGTransform());if(svgedit.browser.supportsNonScalingStroke()){svgedit.browser.isChrome();if(n.getAttribute("attr_c")!="clipart_img"){n.style.vectorEffect=
"non-scaling-stroke";l=n.getElementsByTagName("*");n=l.length;for(h=0;h<n;h++)l[h].style.vectorEffect="non-scaling-stroke"}}}break;case "fhellipse":Qb=true;rc=o+","+q+" ";h=va.stroke_width;Ta({element:"polyline",curStyles:true,attr:{points:rc,id:Db(),opacity:va.opacity/2,"stroke-linecap":"round",style:"pointer-events:none"}});Hc=yc=o;uc=Gc=q;break;case "fhrect":Qb=true;rc=o+","+q+" ";h=va.stroke_width;Ta({element:"polyline",curStyles:true,attr:{points:rc,id:Db(),opacity:va.opacity/2,"stroke-linecap":"round",
style:"pointer-events:none"}});Hc=yc=o;uc=Gc=q;break;case "fhpath":Qb=true;rc=o+","+q+" ";h=va.stroke_width;Ta({element:"polyline",curStyles:true,attr:{points:rc,id:Db(),fill:"none",opacity:va.opacity/2,"stroke-linecap":"round",style:"pointer-events:none"}});Hc=yc=o;uc=Gc=q;break;case "image":Qb=true;h=Ta({element:"image",attr:{x:ma.getAttribute("width")/2/W,y:ma.getAttribute("height")/2/W,width:0,height:0,id:Db(),opacity:va.opacity/2,style:"pointer-events:inherit",preserveAspectRatio:"xMidYMid meet",
"xlink:href":"/js/all/editor/images/blank.gif"}});dd(h,af);fd(h);break;case "square":u="square";case "rect":u===void 0&&(u="rect");Rd=Jc?7:0;Qb=true;Sb=l;Tb=f;Ta({element:"rect",curStyles:true,attr:{x:l,y:f,width:0,height:0,rx:Rd,ry:Rd,attr_name:u,id:Db(),opacity:va.opacity/2}});break;case "line":Qb=true;h=va.stroke_width==0?1:va.stroke_width;Ta({element:"line",curStyles:true,attr:{x1:l,y1:f,x2:l,y2:f,id:Db(),stroke:va.stroke==null?"#000000":va.stroke,"stroke-width":h,"stroke-dasharray":va.stroke_dasharray,
"stroke-linejoin":va.stroke_linejoin,"stroke-linecap":va.stroke_linecap,"stroke-opacity":va.stroke_opacity,fill:"none",opacity:va.opacity/2,style:"pointer-events:none"}});break;case "circle":Qb=true;Ta({element:"circle",curStyles:true,attr:{cx:l,cy:f,r:0,id:Db(),opacity:va.opacity/2}});break;case "ellipse":Qb=true;Ta({element:"ellipse",curStyles:true,attr:{cx:l,cy:f,rx:0,ry:0,id:Db(),opacity:va.opacity/2}});break;case "text":Qb=true;$j("#personalize").show();$j("#personalize").attr("texted","true");
$j(".personalize_hr").show();l=ma.getAttribute("width")/2/W;f=ma.getAttribute("height")/2/W;h=a.selectorParentGroup_x;n=a.selectorParentGroup_y;if(a.isMultiline){u=Ta({element:"text",curStyles:true,attr:{x:h=="center"?l:h,y:n=="center"?f:n,id:Db(),"stroke-width":ja.stroke_width,fill:ja.fill==null?"#000000":ja.fill,stroke:ja.stroke==null?"none":ja.stroke,"text-anchor":"middle","xml:space":"preserve","font-style":ja.font_style,"font-weight":ja.font_weight,"font-family":ja.font_family,isMultiline:"true",
font_size:ja.font_size.toString().replace("pt","")+"pt","line-spacing":ja.line_spacing,aspect:$j("#dol_type").val()!="vuezz"?"true":"false",opacity:va.opacity}});tspanElem=Eb.createElementNS("http://www.w3.org/2000/svg","tspan");hb(tspanElem,{"xml:space":"preserve",x:0,dy:0,id:Db(),"font-style":ja.font_style,"font-weight":ja.font_weight,"font-size":ja.font_size.toString().replace("pt","")+"pt","font-family":ja.font_family,"se:emptyline":"true",x:h=="center"?l:h,y:n=="center"?f:n,"text-decoration":ja.text_decoration,
opacity:va.opacity,"vector-effect":"non-scaling-stroke"},100);tspanElem.textContent=" ";md(tspanElem);u.appendChild(tspanElem)}else u=Ta({element:"text",curStyles:true,attr:{x:h=="center"?l:h,y:n=="center"?f:n,id:Db(),fill:ja.fill,"stroke-width":ja.stroke_width,stroke:ja.stroke,"font-size":ja.font_size.toString().replace("pt","")+"pt",font_size:ja.font_size.toString().replace("pt","")+"pt","font-family":ja.font_family,"text-anchor":"middle","xml:space":"preserve",opacity:va.opacity,"text-decoration":ja.text_decoration,
isMultiline:"false",aspect:$j("#dol_type").val()!="vuezz"?"true":"false","text-rendering":"geometricPrecision"}});break;case "path":case "pathedit":Sb=Sb*W;Tb=Tb*W;Fb.mouseDown(c,n,Sb,Tb);Qb=true;break;case "textedit":if(n==ha&&H[0]!=null&&H[0].textContent.length>0){P.setMode("select");wb();(l=Ga("text_cursor"))&&l.setAttribute("visibility","hidden");break}a.isMultiline?Y.mouseDown(c,n,Sb,Tb):Hb.mouseDown(c,n,Sb,Tb);Qb=true;break;case "rotate":Qb=true;(l=Ga("text_cursor"))&&l.setAttribute("visibility",
"hidden");P.undoMgr.beginUndoableChange("transform",H)}c=Cd("mouseDown",{event:c,start_x:Sb,start_y:Tb,selectedElements:H},true);$j.each(c,function(a,c){c&&c.started&&(Qb=true)});if(window.innerWidth>768&&a.mobileActivate){if($j(".tools_panel.niko_panel").is(":visible")){$j(".product_options").hide();$j(".settings_header").on("click",function(){$j(".product_options").show()})}$j(".tools_panel.niko_panel .wrap").is(":hidden")&&$j(".product_options").show()}window.innerWidth<=768&&svgEditor.curConfig.mobileActivate&&
$j(".product_options").hide()}}).mousemove(function(c){if(Qb&&!(c.button===1||P.spaceKey)){var h=(/android/i.test(navigator.userAgent.toLowerCase()),window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop);if(svgedit.browser.isGecko()){ff23=Zc?$j("#svgcontent").attr("x"):0;var l=H[0],f=lb(c.pageX,c.pageY-h,pc),n=f.x-ff23,f=f.y,o=Ga(wc())}else{l=H[0];f=lb(c.pageX,c.pageY-h,pc);n=f.x*W;f=f.y*W;o=Ga(wc())}var q=n/W,p=f/W,u=n/W,h=f/W;if(a.gridSnapping){u=Cb(u);h=
Cb(h)}c.preventDefault();if(!(H[0]!=void 0&&H[0]!==null)||!(H[0].getAttribute("lock")=="true"||Ua!="select"&&Ua!="resize"&&Ua!="multiselect"&&Ua!="rotate")){switch(Ua){case "select":if(H[0]!==null){var q=u-Sb,z=h-Tb;if(a.gridSnapping){q=Cb(q);z=Cb(z)}c.shiftKey&&Nc(Sb,Tb,u,h);if(q!=0&&z!=0){u=H.length;for(h=0;h<u;++h){l=H[h];if(l==null)break;p=ha.createSVGTransform();o=Jb(l);q&&z&&p.setTranslate(q,z);o.numberOfItems?o.replaceItem(p,0):o.appendItem(p);l.getAttribute("textpath")=="true"?za.requestSelector(H[0]).resize():
za.requestSelector(l).resize()}Ra("transition",H)}}break;case "multiselect":q=q*W;p=p*W;hb(Nb,{x:Math.min(sc,q),y:Math.min(xc,p),width:Math.abs(q-sc),height:Math.abs(p-xc)},100);o=[];q=[];p=Be();u=H.length;for(h=0;h<u;++h){var w=p.indexOf(H[h]);w==-1?o.push(H[h]):p[w]=null}u=p.length;u==0&&$j(".wrap,.wrap1").hide();for(var w=$j("#selectorParentGroup > g"),B=0,h=0;h<w.length;h++)$j(w[h]).attr("display")==="inline"&&(B=B+1);B<2&&Ra("selected",H);for(h=0;h<u;++h)if(p[h]&&p[h].getAttribute("id")!="backImage"){var w=
p[h].getAttribute("stroke-width")==null?0:p[h].getAttribute("stroke-width"),B=p[h].getAttribute("opacity")==null?1:p[h].getAttribute("opacity"),z=p[h].getAttribute("fill"),A=p[h].getAttribute("stroke"),C=P.getBlur(p[h]);p[h].getAttribute("textpath")!="true"&&q.push(p[h]);$j("#stroke_width").val()!=null&&$j("#stroke_width").val()!="none"&&$j("#stroke_width").val()<w&&$j("#stroke_width").val(w);z!=null&&$j("#fill_color rect").attr("fill",z);if(A=="null"||A==null)A="none";A!="none"&&$j("#stroke_color rect").attr("fill",
A);$j("#group_opacity").val()!=null&&$j("#group_opacity").val()!="none"&&$j("#group_opacity").val()<B*100&&$j("#group_opacity").val(B*100);$j("#blur").val()!=null&&$j("#blur").val()<C&&$j("#blur").val(C)}o.length>0&&P.removeFromSelection(o);q.length>0&&jc(q);break;case "resize":P.getTextAspect()||($b=true);if(l.getAttribute("text_type")=="textpath")break;o=Jb(l);q=(p=Sc(o))?Fd:svgedit.utilities.getBBox(l);w=q.x;B=q.y;A=q.width;C=q.height;q=u-Sb;z=h-Tb;if(a.gridSnapping){q=Cb(q);z=Cb(z);C=Cb(C);A=
Cb(A)}if(h=Kc(l)){u=Math.sqrt(q*q+z*z);z=Math.atan2(z,q)-h*Math.PI/180;q=u*Math.cos(z);z=u*Math.sin(z)}mc.indexOf("n")==-1&&mc.indexOf("s")==-1&&(z=0);mc.indexOf("e")==-1&&mc.indexOf("w")==-1&&(q=0);var F=u=0,J=C?(C+z)/C:1,E=A?(A+q)/A:1;if(mc.indexOf("n")>=0){J=C?(C-z)/C:1;F=C}if(mc.indexOf("w")>=0){E=A?(A-q)/A:1;u=A}q=ha.createSVGTransform();z=ha.createSVGTransform();A=ha.createSVGTransform();if(a.gridSnapping){w=Cb(w);u=Cb(u);B=Cb(B);F=Cb(F)}q.setTranslate(-(w+u),-(B+F));if(c.shiftKey||l.getAttribute("attr_name")==
"square"||l.getAttribute("attr_c")=="clipart_img"&&$j("#clipart_aspect")[0].checked==true)E==1?E=J:J=E;H[0].tagName=="text"&&P.getTextAspect()&&(E==1?E=J:J=E);z.setScale(E,J);H[0].setAttribute("resized","true");A.setTranslate(w+u,B+F);if(p){h=h?1:0;o.replaceItem(q,2+h);o.replaceItem(z,1+h);o.replaceItem(A,0+h)}else{h=o.numberOfItems;o.replaceItem(A,h-3);o.replaceItem(z,h-2);o.replaceItem(q,h-1)}za.requestSelector(l).resize();if(l.tagName=="g"){u=$j(l).children();if(u.length>0)for(h=0;h<u.length;h++)u[h].tagName==
"text"&&u[h].setAttribute("attr_rs","true")}Ra("transition",H);break;case "zoom":q=q*W;p=p*W;hb(Nb,{x:Math.min(sc*W,q),y:Math.min(xc*W,p),width:Math.abs(q-sc*W),height:Math.abs(p-xc*W)},100);break;case "text":hb(o,{x:u,y:h},1E3);break;case "line":q=null;window.opera||ha.suspendRedraw(1E3);if(a.gridSnapping){u=Cb(u);h=Cb(h)}if(c.shiftKey){h=Nc(Sb,Tb,u,h);u=h.x;h=h.y}o.setAttributeNS(null,"x2",u);o.setAttributeNS(null,"y2",h);window.opera||ha.unsuspendRedraw(q);break;case "foreignObject":case "square":case "rect":case "image":w=
Ua=="square"||c.shiftKey;q=Math.abs(u-Sb);p=Math.abs(h-Tb);if(w){q=p=Math.max(q,p);u=Sb<u?Sb:Sb-q;h=Tb<h?Tb:Tb-p}else{u=Math.min(Sb,u);h=Math.min(Tb,h)}if(a.gridSnapping){q=Cb(q);p=Cb(p);u=Cb(u);h=Cb(h)}hb(o,{width:q,height:p,x:u,y:h},1E3);break;case "circle":q=$j(o).attr(["cx","cy"]);p=q.cx;w=q.cy;h=Math.sqrt((u-p)*(u-p)+(h-w)*(h-w));a.gridSnapping&&(h=Cb(h));o.setAttributeNS(null,"r",h);break;case "ellipse":q=$j(o).attr(["cx","cy"]);p=q.cx;w=q.cy;q=null;window.opera||ha.suspendRedraw(1E3);if(a.gridSnapping){u=
Cb(u);p=Cb(p);h=Cb(h);w=Cb(w)}o.setAttributeNS(null,"rx",Math.abs(u-p));h=Math.abs(c.shiftKey?u-p:h-w);o.setAttributeNS(null,"ry",h);window.opera||ha.unsuspendRedraw(q);break;case "fhellipse":case "fhrect":yc=Math.min(q,yc);Hc=Math.max(q,Hc);Gc=Math.min(p,Gc);uc=Math.max(p,uc);case "fhpath":rc=rc+(+q+","+p+" ");o.setAttributeNS(null,"points",rc);break;case "path":case "pathedit":u=u*W;h=h*W;if(a.gridSnapping){u=Cb(u);h=Cb(h);Sb=Cb(Sb);Tb=Cb(Tb)}if(c.shiftKey){if(w=svgedit.path.path){o=w.dragging?
w.dragging[0]:Sb;w=w.dragging?w.dragging[1]:Tb}else{o=Sb;w=Tb}h=Nc(o,w,u,h);u=h.x;h=h.y}if(Nb&&Nb.getAttribute("display")!=="none"){q=q*W;p=p*W;hb(Nb,{x:Math.min(sc*W,q),y:Math.min(xc*W,p),width:Math.abs(q-sc*W),height:Math.abs(p-xc*W)},100)}Fb.mouseMove(u,h);break;case "rotate":q=svgedit.utilities.getBBox(l);p=q.x+q.width/2;w=q.y+q.height/2;o=s(l);o=lb(p,w,o);p=o.x;w=o.y;h=(Math.atan2(w-h,p-u)*(180/Math.PI)-90)%360;a.gridSnapping&&(h=Cb(h));c.shiftKey&&(h=Math.round(h/45)*45);P.setRotationAngle(h<
-180?360+h:h,true);Ra("transition",H)}Cd("mouseMove",{event:c,mouse_x:n,mouse_y:f,selected:l})}}}).click(function(a){a.preventDefault();return false}).dblclick(oe).mouseup(Ef);$j(c).doubletap(oe);$j("text").doubletap(oe);document.getElementById("svgroot").addEventListener("touchstart",touchHandler,!0);document.getElementById("svgroot").addEventListener("touchmove",touchHandler,!0);document.getElementById("svgroot").addEventListener("touchend",touchHandler,!0);document.getElementById("svgroot").addEventListener("touchcancel",
touchHandler,!0);$j(window).mouseup(Ef);$j(c).bind("mousewheel DOMMouseScroll",function(a){if(a.shiftKey){a.preventDefault();pc=ma.getScreenCTM().inverse();var c=lb(a.pageX,a.pageY,pc),c={x:c.x,y:c.y,width:0,height:0};if(a.wheelDelta)if(a.wheelDelta>=120)c.factor=2;else{if(a.wheelDelta<=-120)c.factor=0.5}else if(a.detail)if(a.detail>0)c.factor=0.5;else if(a.detail<0)c.factor=2;c.factor&&Ra("zoomed",c)}})}var fd=function(a){$j(a).click(function(a){a.preventDefault()})};this.justify=function(){if(Ua==
"select")for(var a=H[0].firstChild;a!=null;)a=a.nextSibling};var Pf=this.formatJustifyText=function(c){var h=null;switch(c){case "left":h="start";break;case "center":h="middle";break;case "right":h="end";break;default:h="start"}var c=H[0],l=c.getAttribute("text-anchor");if(h!=l){var f=c.getAttribute("x"),n=c.getBBox(),o;l=="start"&&h=="middle"?o=f-0+Math.round(n.width/2):l=="middle"&&h=="start"?o=f-0-Math.round(n.width/2):l=="end"&&h=="middle"?o=f-0-Math.round(n.width/2):l=="middle"&&h=="end"?o=f-
0+Math.round(n.width/2):l=="start"&&h=="end"?o=f-0+n.width:l=="end"&&h=="start"&&(o=f-0-n.width);l={x:o};hb(c,{"text-anchor":h,x:o});a.isMultiline&&Hb.propagateTextChanges(c,l,"x");za.requestSelector(c).resize()}};this.formatJustifyTextX=function(c){switch(c){case "left":anchorTag="start";break;case "center":anchorTag="middle";break;case "right":anchorTag="end";break;default:anchorTag="start"}var c=H[0],h=c.getAttribute("text-anchor");if(anchorTag!=h){var l=c.getAttribute("x"),f=c.getBBox(),n=null;
h=="start"&&anchorTag=="middle"?n=l-0+Math.round(f.width/2):h=="middle"&&anchorTag=="start"?n=l-0-Math.round(f.width/2):h=="end"&&anchorTag=="middle"?n=l-0-Math.round(f.width/2):h=="middle"&&anchorTag=="end"?n=l-0+Math.round(f.width/2):h=="start"&&anchorTag=="end"?n=l-0+f.width:h=="end"&&anchorTag=="start"&&(n=l-0-f.width);h={x:n};hb(c,{"text-anchor":anchorTag,x:n});a.isMultiline&&Hb.propagateTextChanges(c,h,"x");za.requestSelector(c).resize();return n}};this.formatJustifyTextY=function(a){var c=
H[0],h=c.getAttribute("text-anchor"),l=c.getAttribute("y"),c=c.getBBox(),f=null,n=0;txtBoxW1=c.width;difW=txtBoxW1-Cc;!isNaN(a)&&a!=null&&(difW>0?n=-3:difW<0&&(n=3));if(mc=="nw"||mc=="n"||mc=="ne")return l-0+n;h=="middle"?f=l-0+Math.round(c.height):h=="start"?f=l-0-Math.round(c.height):h=="end"&&(f=l-0-Math.round(c.height));return f+n};this.formatJustifyMTextY=function(a){var c=H[0],h=c.getAttribute("text-anchor"),l=c.getAttribute("y"),c=c.getBBox(),f=null,n=0;txtBoxW1=c.width;difW=txtBoxW1-Cc;!isNaN(a)&&
a!=null&&(difW>0?n=-3:difW<0&&(n=3));if(mc=="nw"||mc=="n"||mc=="ne")return l-0+n;h=="middle"?f=l-0+Math.round(c.height/4):h=="start"?f=l-0-Math.round(c.height/4):h=="end"&&(f=l-0-Math.round(c.height/4));return f+n};var vd=function(a){var c=zc.value==="";if(!arguments.length)if(c)a=0;else{if(zc.selectionEnd!==zc.selectionStart)return;a=zc.selectionEnd}var h;h=Ac[a];c||zc.setSelectionRange(a,a);nc=Ga("text_cursor");if(!nc){nc=document.createElementNS("http://www.w3.org/2000/svg","line");hb(nc,{id:"text_cursor",
stroke:"#333","stroke-width":1});nc=Ga("selectorParentGroup").appendChild(nc)}qe||(qe=setInterval(function(){var a=nc.getAttribute("display")==="none";nc.setAttribute("display",a?"inline":"none")},600));fc=svgedit.utilities.getBBox(yb);if(h!=void 0){c=ud(h.x,fc.y);h=ud(h.x,fc.y+fc.height);hb(nc,{x1:c.x,y1:c.y,x2:h.x,y2:h.y,visibility:"visible",display:"inline"})}Bc&&Bc.setAttribute("d","")},re=function(a,c,h){if(a===c)vd(c);else{h||zc.setSelectionRange(a,c);Bc=Ga("text_selectblock");if(!Bc){Bc=document.createElementNS("http://www.w3.org/2000/svg",
"path");hb(Bc,{id:"text_selectblock",fill:"green",opacity:0.5,style:"pointer-events:none"});Ga("selectorParentGroup").appendChild(Bc)}var a=Ac[a],l=Ac[c];nc.setAttribute("visibility","hidden");var c=ud(a.x,fc.y),h=ud(a.x+(l.x-a.x),fc.y),f=ud(a.x,fc.y+fc.height),a=ud(a.x+(l.x-a.x),fc.y+fc.height);hb(Bc,{d:"M"+c.x+","+c.y+" L"+h.x+","+h.y+" "+a.x+","+a.y+" "+f.x+","+f.y+"z",display:"inline"})}},Ue=function(a,c){var h=ha.createSVGPoint();h.x=a;h.y=c;if(Ac.length==1)return 0;h=yb.getCharNumAtPosition(h);
if(h<0){h=Ac.length-2;a<=Ac[0].x&&(h=0)}else h>=Ac.length-2&&(h=Ac.length-2);var l=Ac[h];a>l.x+l.width/2&&h++;return h},Ff=function(a,c,h){var l=zc.selectionStart,c=Ue(a,c),a=Math.min(l,c),l=Math.max(l,c);re(a,l,!h)},Gd=function(a,c){var h={x:a,y:c};h.x=h.x/W;h.y=h.y/W;if(Vc){var l=lb(h.x,h.y,Vc.inverse());h.x=l.x;h.y=l.y}return h},ud=function(a,c){var h={x:a,y:c};if(Vc){var l=lb(h.x,h.y,Vc);h.x=l.x;h.y=l.y}h.x=h.x*W;h.y=h.y*W;return h},yb,zc,nc,Bc,qe,Ac=[],fc,Vc,Wc,se,Hb=P.textActions={select:function(a,
c,h){yb=a;if(svgedit.browser.isTouch()){Hb.toEditMode(c,h);re(0,yb.textContent.length)}else Hb.toEditMode(c,h)},propagateTextChanges:function(a,c,h){for(var l=a.firstChild,f=true,n=false;l!=null;){if(l.nodeName=="tspan"&&(h=="font-family"||h=="font-size"||h=="font-weight"||h=="font-style")){hb(l,c,100,true);n=true}else if(l.nodeName=="tspan"&&h=="fill")hb(l,c,100,true);else if(l.nodeName=="tspan"&&l.getAttribute("x")){var o={};h=="x"?o.x=c.x:h=="font-size"?f?f=false:o.dy=If(l).height-0:o.x=c.x;hb(l,
o,1E3,true)}l=l.nextSibling}Ua=="select"&&n&&za.requestSelector(a).resize()},cleanupTextObject:function(a){var c=null,c=arguments.length?a:yb,c=c.parentNode,h=null;if(c!=null)h=c.firstChild;for(var l=null,f=false,n=false;h!=null;){h.nodeName=="tspan"&&(h.textContent==""?f=true:h.getAttribute("y")!=null&&(n=true));l=h;h=h.nextSibling;if(f){f=false;c.removeChild(l)}else if(n){n=false;l.removeAttribute("y")}}},start:function(c){if(a.isMultiline){c!=null&&(yb=c);c==null&&$j(zc).val(yb.textContent);Y.resetTextSelectedRegion();
Y.toEditMode()}else{yb=c;Hb.toEditMode()}},mouseDown:function(a,c,h,l){a=Gd(h,l);vd(Ue(a.x,a.y));Wc=h;se=l},mouseMove:function(a,c){var h=Gd(a,c);Ff(h.x,h.y)},mouseUp:function(a,c,h){var l=Gd(c,h);Ff(l.x,l.y,true);od(a);a.target!==yb&&c<Wc+2&&(c>Wc-2&&h<se+2&&h>se-2)&&Hb.toSelectMode(true)},setCursor:vd,toEditMode:function(c,h){$j("#text").focus();Ua="textedit";if(a.isMultiline){if(yb.nodeName=="tspan"){foobar=Ga(yb.id);try{za.requestSelector(yb.parentNode).showGrips(false);za.requestSelector(yb.parentNode)}catch(l){}}else{za.requestSelector(yb).showGrips(false);
za.requestSelector(yb)}selectedTspanElem=yb.id;Y.init(H[0])}else{za.requestSelector(yb).showGrips(false);za.requestSelector(yb)}Hb.init();$j(yb).css("cursor","text");if(arguments.length){var f=Gd(c,h);vd(Ue(f.x,f.y))}else vd();setTimeout(function(){},300)},toSelectMode:function(a){Ua="select";clearInterval(qe);qe=null;Bc&&$j(Bc).attr("display","none");nc&&$j(nc).attr("visibility","hidden");$j(yb).css("cursor","move");if(a){$j(yb).css("cursor","move");Ra("selected",[yb]);jc([yb],true)}yb&&!yb.textContent.length&&
P.deleteSelectedElements();yb&&yb.nodeName=="tspan"&&P.deleteMultilineIfEmpty();$j(zc).blur();yb=false},setInputElem:function(a){zc=a},clear:function(){Ua=="textedit"&&Hb.toSelectMode()},init:function(){if(yb){if(!yb.parentNode){yb=H[0];za.requestSelector(yb).showGrips(false)}var c=yb.textContent.length,h=yb.getAttribute("transform");fc=svgedit.utilities.getBBox(yb);Vc=h?s(yb):null;Ac=Array(c);/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())&&zc.focus();if(!c)var l={x:fc.x+fc.width/
2,width:0};for(h=0;h<c;h++){var f=yb.getStartPositionOfChar(h),l=yb.getEndPositionOfChar(h);if(!svgedit.browser.supportsGoodTextCharPos()){var n=P.contentW*W;f.x=f.x-n;l.x=l.x-n;f.x=f.x/W;l.x=l.x/W}Ac[h]={x:f.x,y:fc.y,width:l.x-f.x,height:fc.height}}Ac.push({x:l.x,width:0});a.isMultiline?Ha.initTextArray(textParent):re(zc.selectionStart,zc.selectionEnd,true)}}},Hd=!1,Id,wd,$a;svgedit.path.Path.prototype.endChanges=function(a){a=new Rb(this.elem,{d:this.last_d},a);db(a);Ra("changed",[this.elem])};
svgedit.path.Path.prototype.addPtsToSelection=function(a){$j.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++){var h=a[c],l=this.segs[h];l.ptgrip&&this.selected_pts.indexOf(h)==-1&&h>=0&&this.selected_pts.push(h)}this.selected_pts.sort();c=this.selected_pts.length;for(a=Array(c);c--;){l=this.segs[this.selected_pts[c]];l.select(true);a[c]=l.ptgrip}Fb.canDeleteNodes=true;Fb.closed_subpath=this.subpathIsClosed(this.selected_pts[0]);Ra("selected",a)};var zb=Id=null,te=!1,Fb=P.pathActions={mouseDown:function(h,
l,f,n){if(Ua==="path"){var o=f,q=n,f=o/W,l=q/W,n=Ga("path_stretch_line");wd=[f,l];if(a.gridSnapping){f=Cb(f);l=Cb(l);o=Cb(o);q=Cb(q)}if(!n){n=document.createElementNS("http://www.w3.org/2000/svg","path");hb(n,{id:"path_stretch_line",stroke:"#22C","stroke-width":"0.5",fill:"none"});n=Ga("selectorParentGroup").appendChild(n)}n.setAttribute("display","inline");if(zb){for(var o=zb.pathSegList,p=o.numberOfItems,q=6/W,u=false;p;){p--;var z=o.getItem(p),s=z.x,z=z.y;if(f>=s-q&&f<=s+q&&l>=z-q&&l<=z+q){u=true;
break}}q=wc();svgedit.path.removePath_(q);q=Ga(q);s=o.numberOfItems;if(u){if(p<=1&&s>=2){f=o.getItem(0).x;l=o.getItem(0).y;h=n.pathSegList.getItem(1);h=h.pathSegType===4?zb.createSVGPathSegLinetoAbs(f,l):zb.createSVGPathSegCurvetoCubicAbs(f,l,h.x1/W,h.y1/W,f,l);f=zb.createSVGPathSegClosePath();o.appendItem(h);o.appendItem(f)}else if(s<3)return false;$j(n).remove();zb=null;Qb=false;if(Hd){svgedit.path.path.matrix&&Wd(q,{},svgedit.path.path.matrix.inverse());n=q.getAttribute("d");h=$j(svgedit.path.path.elem).attr("d");
$j(svgedit.path.path.elem).attr("d",h+n);$j(q).remove();svgedit.path.path.matrix&&svgedit.path.recalcRotatedPath();svgedit.path.path.init();Fb.toEditMode(svgedit.path.path.elem);svgedit.path.path.selectPt();return false}}else{if(!$j.contains(c,od(h)))return false;o=zb.pathSegList.numberOfItems;p=zb.pathSegList.getItem(o-1);q=p.x;p=p.y;if(h.shiftKey){h=Nc(q,p,f,l);f=h.x;l=h.y}h=n.pathSegList.getItem(1);h=h.pathSegType===4?zb.createSVGPathSegLinetoAbs(Math.round(f),Math.round(l)):zb.createSVGPathSegCurvetoCubicAbs(Math.round(f),
Math.round(l),h.x1/W,h.y1/W,h.x2/W,h.y2/W);zb.pathSegList.appendItem(h);f=f*W;l=l*W;n.setAttribute("d",["M",f,l,f,l].join(" "));n=o;Hd&&(n=n+svgedit.path.path.segs.length);svgedit.path.addPointGrip(n,f,l)}}else{zb=Ta({element:"path",curStyles:true,attr:{d:"M"+f+","+l+" ",id:Db(),opacity:va.opacity/2}});n.setAttribute("d",["M",o,q,o,q].join(" "));n=Hd?svgedit.path.path.segs.length:0;svgedit.path.addPointGrip(n,o,q)}}else if(svgedit.path.path){svgedit.path.path.storeD();q=h.target.id;if(q.substr(0,
14)=="pathpointgrip_"){l=svgedit.path.path.cur_pt=parseInt(q.substr(14));svgedit.path.path.dragging=[f,n];o=svgedit.path.path.segs[l];if(h.shiftKey)o.selected?svgedit.path.path.removePtFromSelection(l):svgedit.path.path.addPtsToSelection(l);else{(svgedit.path.path.selected_pts.length<=1||!o.selected)&&svgedit.path.path.clearSelection();svgedit.path.path.addPtsToSelection(l)}}else if(q.indexOf("ctrlpointgrip_")==0){svgedit.path.path.dragging=[f,n];h=q.split("_")[1].split("c");l=h[0]-0;svgedit.path.path.selectPt(l,
h[1]-0)}if(!svgedit.path.path.dragging){Nb==null&&(Nb=za.getRubberBandBox());hb(Nb,{x:f*W,y:n*W,width:0,height:0,display:"inline"},100)}}},mouseMove:function(a,c){te=true;if(Ua==="path"){if(zb){var h=zb.pathSegList;if(h!=void 0){var l=h.numberOfItems-1;if(wd){var f=svgedit.path.addCtrlGrip("1c1"),n=svgedit.path.addCtrlGrip("0c2");f.setAttribute("cx",a);f.setAttribute("cy",c);f.setAttribute("display","inline");var f=wd[0],o=wd[1];h.getItem(l);var q=f+(f-a/W),p=o+(o-c/W);n.setAttribute("cx",q*W);n.setAttribute("cy",
p*W);n.setAttribute("display","inline");n=svgedit.path.getCtrlLine(1);hb(n,{x1:a,y1:c,x2:q*W,y2:p*W,display:"inline"});if(l===0)$a=[a,c];else{var u=h.getItem(l-1),h=u.x,n=u.y;if(u.pathSegType===6){h=h+(h-u.x2);n=n+(n-u.y2)}else if($a){h=$a[0]/W;n=$a[1]/W}svgedit.path.replacePathSeg(6,l,[f,o,h,n,q,p],zb)}}else if(f=Ga("path_stretch_line")){l=h.getItem(l);l.pathSegType===6?svgedit.path.replacePathSeg(6,1,[a,c,(l.x+(l.x-l.x2))*W,(l.y+(l.y-l.y2))*W,a,c],f):$a?svgedit.path.replacePathSeg(6,1,[a,c,$a[0],
$a[1],a,c],f):svgedit.path.replacePathSeg(4,1,[a,c],f)}}}}else if(svgedit.path.path.dragging){f=svgedit.path.getPointFromGrip({x:svgedit.path.path.dragging[0],y:svgedit.path.path.dragging[1]},svgedit.path.path);o=svgedit.path.getPointFromGrip({x:a,y:c},svgedit.path.path);l=o.x-f.x;f=o.y-f.y;svgedit.path.path.dragging=[a,c];svgedit.path.path.dragctrl?svgedit.path.path.moveCtrl(l,f):svgedit.path.path.movePts(l,f)}else{svgedit.path.path.selected_pts=[];svgedit.path.path.eachSeg(function(){if(this.next||
this.prev){var a=Nb.getBBox(),c=svgedit.path.getGripPt(this),a=svgedit.math.rectsIntersect(a,{x:c.x,y:c.y,width:0,height:0});this.select(a);a&&svgedit.path.path.selected_pts.push(this.index)}})}},mouseUp:function(a,c){if(Ua==="path"){wd=null;if(!zb){c=Ga(wc());Qb=false;$a=null}return{keep:true,element:c}}if(svgedit.path.path.dragging){var h=svgedit.path.path.cur_pt;svgedit.path.path.dragging=false;svgedit.path.path.dragctrl=false;svgedit.path.path.update();te&&svgedit.path.path.endChanges("Move path point(s)");
!a.shiftKey&&!te&&svgedit.path.path.selectPt(h)}else if(Nb&&Nb.getAttribute("display")!="none"){Nb.setAttribute("display","none");Nb.getAttribute("width")<=2&&Nb.getAttribute("height")<=2&&Fb.toSelectMode(a.target)}else Fb.toSelectMode(a.target);te=false},toEditMode:function(a){if(a.getAttribute("lock")!="true"){svgedit.path.path=svgedit.path.getPath_(a);Ua="pathedit";wb();svgedit.path.path.show(true).update();svgedit.path.path.oldbbox=svgedit.utilities.getBBox(svgedit.path.path.elem);Hd=false}},
toSelectMode:function(a){var c=a==svgedit.path.path.elem;Ua="select";svgedit.path.path.show(false);Id=false;wb();svgedit.path.path.matrix&&svgedit.path.recalcRotatedPath();if(c){Ra("selected",[a]);jc([a],true)}},addSubPath:function(a){if(a){Ua="path";Hd=true}else{Fb.clear(true);Fb.toEditMode(svgedit.path.path.elem)}},select:function(a){if(Id===a){if($j(".pxhotice").length==0){Fb.toEditMode(a);Ua="pathedit"}}else Id=a},reorient:function(){var a=H[0];if(a&&Kc(a)!=0){var c=new Bb("Reorient path"),h=
{d:a.getAttribute("d"),transform:a.getAttribute("transform")};c.addSubCommand(new Rb(a,h));wb();this.resetOrientation(a);db(c);svgedit.path.getPath_(a).show(false).matrix=null;this.clear();jc([a],true);Ra("changed",H)}},clear:function(){Id=null;if(zb){var a=Ga(wc());$j(Ga("path_stretch_line")).remove();$j(a).remove();$j(Ga("pathpointgrip_container")).find("*").attr("display","none");zb=$a=null;Qb=false}else Ua=="pathedit"&&this.toSelectMode();svgedit.path.path&&svgedit.path.path.init().show(false)},
resetOrientation:function(a){if(a==null||a.nodeName!="path")return false;var c=Jb(a),h=fa(c).matrix;c.clear();a.removeAttribute("transform");for(var c=a.pathSegList,l=c.numberOfItems,f=0;f<l;++f){var n=c.getItem(f),o=n.pathSegType;if(o!=1){var q=[];$j.each(["",1,2],function(a,c){var l=n["x"+c],f=n["y"+c];if(l!==void 0&&f!==void 0){l=lb(l,f,h);q.splice(q.length,0,l.x,l.y)}});svgedit.path.replacePathSeg(o,f,q,a)}}c=svgedit.utilities.getBBox(a);for(l=0;l<2;l++){f=l===0?"fill":"stroke";if((o=a.getAttribute(f))&&
o.indexOf("url(")===0){o=gd(o);if(o.tagName==="linearGradient"){var p=o.getAttribute("x1")||0,u=o.getAttribute("y1")||0,z=o.getAttribute("x2")||1,s=o.getAttribute("y2")||0,p=c.width*p+c.x,u=c.height*u+c.y,z=c.width*z+c.x,s=c.height*s+c.y,p=lb(p,u,h),s=lb(z,s,h),z={};z.x1=(p.x-c.x)/c.width;z.y1=(p.y-c.y)/c.height;z.x2=(s.x-c.x)/c.width;z.y2=(s.y-c.y)/c.height;o=o.cloneNode(true);$j(o).attr(z);o.id=Db();Pb().appendChild(o);a.setAttribute(f,"url(#"+o.id+")")}}}},zoomChange:function(){Ua=="pathedit"&&
svgedit.path.path.update()},getNodePoint:function(){var a=svgedit.path.path.segs[svgedit.path.path.selected_pts.length?svgedit.path.path.selected_pts[0]:1];return{x:a.item.x,y:a.item.y,type:a.type}},linkControlPoints:function(a){svgedit.path.setLinkControlPoints(a)},clonePathNode:function(){svgedit.path.path.storeD();for(var a=svgedit.path.path.selected_pts,c=a.length,h=[];c--;){var l=a[c];svgedit.path.path.addSeg(l);h.push(l+c)}svgedit.path.path.init().addPtsToSelection(h);svgedit.path.path.endChanges("Clone path node(s)")},
opencloseSubPath:function(){var a=svgedit.path.path.selected_pts;if(a.length===1){var c=svgedit.path.path.elem,h=c.pathSegList,l=a[0],f=null,n=null;svgedit.path.path.eachSeg(function(a){if(this.type===2&&a<=l)n=this.item;if(a<=l)return true;if(this.type===2){f=a;return false}if(this.type===1)return f=false});f==null&&(f=svgedit.path.path.segs.length-1);if(f!==false){var o=c.createSVGPathSegLinetoAbs(n.x,n.y),q=c.createSVGPathSegClosePath();if(f==svgedit.path.path.segs.length-1){h.appendItem(o);h.appendItem(q)}else{svgedit.path.insertItemBefore(c,
q,f);svgedit.path.insertItemBefore(c,o,f)}svgedit.path.path.init().selectPt(f+1)}else if(svgedit.path.path.segs[l].mate){h.removeItem(l);h.removeItem(l);svgedit.path.path.init().selectPt(l-1)}else{for(a=0;a<h.numberOfItems;a++){var p=h.getItem(a);if(p.pathSegType===2)o=a;else if(a===l)h.removeItem(o);else if(p.pathSegType===1&&l<a){q=a-1;h.removeItem(a);break}}for(a=l-o-1;a--;)svgedit.path.insertItemBefore(c,h.getItem(o),q);c=h.getItem(o);svgedit.path.replacePathSeg(2,o,[c.x,c.y]);a=l;svgedit.path.path.init().selectPt(0)}}},
deletePathNode:function(){if(Fb.canDeleteNodes){svgedit.path.path.storeD();for(var a=svgedit.path.path.selected_pts,c=a.length;c--;)svgedit.path.path.deleteSeg(a[c]);var h=function(){var a=svgedit.path.path.elem.pathSegList,c=a.numberOfItems,l=function(c,h){for(;h--;)a.removeItem(c)};if(c<=1)return true;for(;c--;){var f=a.getItem(c);if(f.pathSegType===1){var f=a.getItem(c-1),n=a.getItem(c-2);if(f.pathSegType===2){l(c-1,2);h();break}else if(n.pathSegType===2){l(c-2,3);h();break}}else if(f.pathSegType===
2&&c>0){f=a.getItem(c-1).pathSegType;if(f===2){l(c-1,1);h();break}else if(f===1&&a.numberOfItems-1===c){l(c,1);h();break}}}return false};h();if(svgedit.path.path.elem.pathSegList.numberOfItems<=1){Fb.toSelectMode(svgedit.path.path.elem);P.deleteSelectedElements()}else{svgedit.path.path.init();svgedit.path.path.clearSelection();if(window.opera){a=$j(svgedit.path.path.elem);a.attr("d",a.attr("d"))}svgedit.path.path.endChanges("Delete path node(s)")}}},smoothPolylineIntoPath:function(a){var c=a.points,
h=c.numberOfItems;if(h>=4){var l=c.getItem(0),f=null,a=[];a.push(["M",l.x,",",l.y," C"].join(""));for(var n=1;n<=h-4;n=n+3){var o=c.getItem(n),q=c.getItem(n+1),p=c.getItem(n+2);if(f&&(l=svgedit.path.smoothControlPoints(f,o,l))&&l.length==2){o=a[a.length-1].split(",");o[2]=l[0].x;o[3]=l[0].y;a[a.length-1]=o.join(",");o=l[1]}a.push([o.x,o.y,q.x,q.y,p.x,p.y].join());l=p;f=q}for(a.push("L");n<h;++n){q=c.getItem(n);a.push([q.x,q.y].join())}a=a.join(" ");a=Ta({element:"path",curStyles:true,attr:{id:wc(),
d:a,fill:"none"}})}return a},setSegType:function(a){svgedit.path.path.setSegType(a)},moveNode:function(a,c){var h=svgedit.path.path.selected_pts;if(h.length){svgedit.path.path.storeD();var h=svgedit.path.path.segs[h[0]],l={x:0,y:0};l[a]=c-h.item[a];h.move(l.x,l.y);svgedit.path.path.endChanges("Move path point")}},fixEnd:function(a){for(var c=a.pathSegList,h=c.numberOfItems,l,f=0;f<h;++f){var n=c.getItem(f);n.pathSegType===2&&(l=n);if(n.pathSegType===1){n=c.getItem(f-1);if(n.x!=l.x||n.y!=l.y){c=a.createSVGPathSegLinetoAbs(l.x,
l.y);svgedit.path.insertItemBefore(a,c,f);Fb.fixEnd(a);break}}}},convertPath:function(a,c){var h=a.pathSegList;if(h!=void 0){for(var l=h.numberOfItems,f=0,n=0,o="",q=null,p=0;p<l;++p){var u=h.getItem(p),z=u.x||0,s=u.y||0,w=u.x1||0,B=u.y1||0,A=u.x2||0,C=u.y2||0,F=u.pathSegType,J=df[F]["to"+(c?"Lower":"Upper")+"Case"](),E=function(a,c,h){c=c?" "+c.join(" "):"";h=h!=void 0?h?" "+svgedit.units.shortFloat(h):"":"";$j.each(a,function(c,h){a[c]=svgedit.units.shortFloat(h)});o=o+(J+a.join(" ")+c+h)};switch(F){case 1:o=
o+"z";break;case 12:z=z-f;case 13:if(c){f=f+z;J="l"}else{f=z=z+f;J="L"}E([[z,n]]);break;case 14:s=s-n;case 15:if(c){n=n+s;J="l"}else{n=s=s+n;J="L"}E([[f,s]]);break;case 2:case 4:case 18:z=z-f;s=s-n;case 5:case 3:if(q&&h.getItem(p-1).pathSegType===1&&!c){f=q[0];n=q[1]}case 19:if(c){f=f+z;n=n+s}else{z=z+f;s=s+n;f=z;n=s}F===3&&(q=[f,n]);E([[z,s]]);break;case 6:z=z-f;w=w-f;A=A-f;s=s-n;B=B-n;C=C-n;case 7:if(c){f=f+z;n=n+s}else{z=z+f;w=w+f;A=A+f;s=s+n;B=B+n;C=C+n;f=z;n=s}E([[w,B],[A,C],[z,s]]);break;case 8:z=
z-f;w=w-f;s=s-n;B=B-n;case 9:if(c){f=f+z;n=n+s}else{z=z+f;w=w+f;s=s+n;B=B+n;f=z;n=s}E([[w,B],[z,s]]);break;case 10:z=z-f;s=s-n;case 11:if(c){f=f+z;n=n+s}else{z=z+f;s=s+n;f=z;n=s}E([[u.r1,u.r2]],[u.angle,u.largeArcFlag?1:0,u.sweepFlag?1:0],[z,s]);break;case 16:z=z-f;A=A-f;s=s-n;C=C-n;case 17:if(c){f=f+z;n=n+s}else{z=z+f;A=A+f;s=s+n;C=C+n;f=z;n=s}E([[A,C],[z,s]])}}return o}}},xd=this.removeUnusedDefElems=function(){var a=ma.getElementsByTagNameNS("http://www.w3.org/2000/svg","defs");if(!a||!a.length)return 0;
for(var c=[],h=0,l=["fill","stroke","filter","marker-start","marker-mid","marker-end"],f=l.length,n=ma.getElementsByTagNameNS("http://www.w3.org/2000/svg","*"),o=n.length,q=0;q<o;q++){for(var p=n[q],u=0;u<f;u++){var z=ue(p.getAttribute(l[u]));z&&c.push(z.substr(1))}(p=cd(p))&&p.indexOf("#")===0&&c.push(p.substr(1))}a=$j(a).find("linearGradient, radialGradient, filter, marker, svg, symbol clipPath");for(q=a.length;q--;){l=a[q];f=l.id;if(c.indexOf(f)<0){ye[f]=l;l.parentNode.removeChild(l);h++}}return h};
this.svgCanvasToString=function(){Fb.clear(true);$j.each(ma.childNodes,function(a,c){a&&c.nodeType===8&&c.data.indexOf("Created with")>=0&&ma.insertBefore(c,ma.firstChild)});if(bc){lc();Vb([bc])}var a=[];$j(ma).find("g:data(gsvg)").each(function(){for(var c=this.attributes,h=c.length,l=0;l<h;l++)(c[l].nodeName=="id"||c[l].nodeName=="style")&&h--;if(h<=0){c=this.firstChild;a.push(c);$j(this).replaceWith(c)}});var c=this.svgToString(ma,0);a.length&&$j(a).each(function(){cf(this)});return c};this.svgToString=
function(a,c){var h=[],l=svgedit.utilities.toXml,f=/^-?[\d\.]+px$/;if(a){md(a);var n=a.attributes,o,q,p=a.childNodes;for(q=0;q<c;q++)h.push(" ");h.push("<");h.push(a.nodeName);if(a.id==="svgcontent"){q=Xc();h.push(' width="'+q.w+'" height="'+q.h+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"');var u={};$j(a).find("*").andSelf().each(function(){$j.each(this.attributes,function(a,c){var l=c.namespaceURI;if(l&&!u[l]&&zd[l]!=="xmlns"&&zd[l]!=="xml"){u[l]=true;zd[l]!=
"xlink"&&h.push(" xmlns:"+zd[l]+'="'+l+'"')}})});q=n.length;for(f=["width","height","xmlns","x","y","viewBox","id","overflow"];q--;){o=n.item(q);var z=l(o.nodeValue);if(o.nodeName.indexOf("xmlns:")!==0&&z!=""&&f.indexOf(o.localName)==-1&&(!o.namespaceURI||zd[o.namespaceURI])){h.push(" ");h.push(o.nodeName);h.push('="');h.push(z);h.push('"')}}}else{if(a.nodeName==="defs"&&!a.firstChild)return;if($j("#dol_type").val()=="vuezz"&&a.nodeName==="g"&&a.getAttribute("class")!=null){for(q=z=0;q<p.length;q++){o=
p.item(q);o.tagName=="image"&&z++}if(z==0)return}if(a.nodeName==="feOffset"||a.nodeName==="image"&&a.getAttribute("xlink:href")!=null&&a.getAttribute("xlink:href").indexOf("blank.gif")>=0)return;var s=["-moz-math-font-style","_moz-math-font-style"];for(q=n.length-1;q>=0;q--){o=n.item(q);z=l(o.nodeValue);if(!(s.indexOf(o.localName)>=0)&&z!=""&&z.indexOf("pointer-events")!==0&&!(o.localName==="class"&&z.indexOf("se_")===0)){h.push(" ");o.localName==="d"&&(z=Fb.convertPath(a,true));isNaN(z)?f.test(z)&&
(z=svgedit.units.shortFloat(z)+"px"):z=svgedit.units.shortFloat(z);if(bd.apply&&a.nodeName==="image"&&o.localName==="href"&&bd.images&&bd.images==="embed"){var w=Nd[z];w&&(z=w)}if(!o.namespaceURI||o.namespaceURI=="http://www.w3.org/2000/svg"||zd[o.namespaceURI]){h.push(o.nodeName);h.push('="');h.push(z);h.push('"')}}}}if(a.hasChildNodes()){h.push(">");c++;n=false;for(q=0;q<p.length;q++){o=p.item(q);switch(o.nodeType){case 1:h.push("\n");h.push(this.svgToString(p.item(q),c));break;case 3:f=o.nodeValue.replace(/^\|\+$/g,
"");if(f!=""){n=true;h.push(l(f)+"")}break;case 4:h.push("\n");h.push(Array(c+1).join(" "));h.push("<![CDATA[");h.push(o.nodeValue);h.push("]]\>");break;case 8:h.push("\n");h.push(Array(c+1).join(" "));h.push("<\!--");h.push(o.data);h.push("--\>")}}c--;if(!n){h.push("\n");for(q=0;q<c;q++)h.push(" ")}h.push("</");h.push(a.nodeName);h.push(">")}else h.push("/>")}return h.join("")};this.embedImage=function(a,c){$j(new Image).load(function(){var h=document.createElement("canvas");h.width=this.width;h.height=
this.height;h.getContext("2d").drawImage(this,0,0);try{var l=";svgedit_url="+encodeURIComponent(a),l=h.toDataURL().replace(";base64",l+";base64");Nd[a]=l}catch(f){Nd[a]=false}c&&c(Nd[a])}).attr("src",a)};this.setGoodImage=function(a){af=a};this.open=function(){};this.save=function(a){wb();a&&$j.extend(bd,a);bd.apply=true;a=this.svgCanvasToString();Ra("saved",a)};this.rasterExport=function(){wb();var a=[],c={feGaussianBlur:Ad.exportNoBlur,foreignObject:Ad.exportNoforeignObject,"[stroke-dasharray]":Ad.exportNoDashArray},
h=$j(ma);if(!("font"in $j("<canvas>")[0].getContext("2d")))c.text=Ad.exportNoText;$j.each(c,function(c,l){h.find(c).length&&a.push(l)});c=this.svgCanvasToString();Ra("exported",{svg:c,issues:a})};this.getSvgString=function(){bd.apply=false;return this.svgCanvasToString()};this.randomizeIds=function(){arguments.length>0&&arguments[0]==false?svgedit.draw.randomizeIds(false,vb()):svgedit.draw.randomizeIds(true,vb())};var Jd=this.uniquifyElems=function(a){var c={},h=["filter","linearGradient","pattern",
"radialGradient","symbol","textPath","use"];svgedit.utilities.walkTree(a,function(a){if(a.nodeType==1){if(a.id){a.id in c||(c[a.id]={elem:null,attrs:[],hrefs:[]});c[a.id].elem=a}$j.each($e,function(h,l){var f=a.getAttributeNode(l);if(f){var n=svgedit.utilities.getUrlFromAttr(f.value);if(n=n?n.substr(1):null){n in c||(c[n]={elem:null,attrs:[],hrefs:[]});c[n].attrs.push(f)}}});var l=svgedit.utilities.getHref(a);if(l&&h.indexOf(a.nodeName)>=0&&(l=l.substr(1))){l in c||(c[l]={elem:null,attrs:[],hrefs:[]});
c[l].hrefs.push(a)}}});for(var l in c)if(l){var f=c[l].elem;if(f){a=Db();f.id=a;for(var f=c[l].attrs,n=f.length;n--;){var o=f[n];o.ownerElement.setAttribute(o.name,"url(#"+a+")")}f=c[l].hrefs;for(n=f.length;n--;)svgedit.utilities.setHref(f[n],"#"+a)}}},Md=this.setUseData=function(a){var c=$j(a);a.tagName!=="use"&&(c=c.find("use"));c.each(function(){var a=cd(this).substr(1);if(a=Ga(a)){$j(this).data("ref",a);(a.tagName=="symbol"||a.tagName=="svg")&&$j(this).data("symbol",a).data("ref",a)}})},Ve=this.convertGradients=
function(a){var c=$j(a).find("linearGradient, radialGradient");!c.length&&svgedit.browser.isWebkit()&&(c=$j(a).find("*").filter(function(){return this.tagName.indexOf("Gradient")>=0}));c.each(function(){if($j(this).attr("gradientUnits")==="userSpaceOnUse"){var a=$j(ma).find("fill=url(#"+this.id+"),stroke=url(#"+this.id+")");if(a.length&&(a=svgedit.utilities.getBBox(a[0]))&&this.tagName==="linearGradient"){var c=$j(this).attr(["x1","y1","x2","y2"]),h=this.gradientTransform.baseVal;if(h&&h.numberOfItems>
0){var l=fa(h).matrix,h=lb(c.x1,c.y1,l),l=lb(c.x2,c.y2,l);c.x1=h.x;c.y1=h.y;c.x2=l.x;c.y2=l.y;this.removeAttribute("gradientTransform")}$j(this).attr({x1:(c.x1-a.x)/a.width,y1:(c.y1-a.y)/a.height,x2:(c.x2-a.x)/a.width,y2:(c.y2-a.y)/a.height});this.removeAttribute("gradientUnits")}}})},We=this.convertToGroup=function(a){a||(a=H[0]);var c=$j(a),h=new Bb,l;if(c.data("gsvg")){h=$j(a.firstChild).attr(["x","y"]);$j(a.firstChild.firstChild).unwrap();$j(a).removeData("gsvg");l=Jb(a);var f=ha.createSVGTransform();
f.setTranslate(h.x,h.y);l.appendItem(f);kc(a);Ra("selected",[a])}else if(c.data("symbol")){a=c.data("symbol");l=c.attr("transform");var f=c.attr(["x","y"]),n=a.getAttribute("viewBox");if(n){n=n.split(" ");f.x=f.x-+n[0];f.y=f.y-+n[1]}l=l+(" translate("+(f.x||0)+","+(f.y||0)+")");f=c.prev();h.addSubCommand(new oc(c[0],c[0].nextSibling,c[0].parentNode));c.remove();for(var n=$j(ma).find("use:data(symbol)").length,c=Eb.createElementNS("http://www.w3.org/2000/svg","g"),o=a.childNodes,q=0;q<o.length;q++)c.appendChild(o[q].cloneNode(true));
if(svgedit.browser.isGecko()){o=$j(Pb()).children("linearGradient,radialGradient,pattern").clone();$j(c).append(o)}l&&c.setAttribute("transform",l);l=a.parentNode;Jd(c);svgedit.browser.isGecko()&&$j(Pb()).append($j(c).find("linearGradient,radialGradient,pattern"));c.id=Db();f.after(c);if(l){if(!n){f=a.nextSibling;l.removeChild(a);h.addSubCommand(new oc(a,f,l))}h.addSubCommand(new hc(c))}Md(c);svgedit.browser.isGecko()?Ve(Pb()):Ve(c);svgedit.utilities.walkTreePost(c,function(a){try{kc(a)}catch(c){console.log(c)}});
$j(c).find("a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use").each(function(){if(!this.id)this.id=Db()});Vb([c]);(a=Qf(c,true))&&h.addSubCommand(a);db(h)}};this.setSvgString=function(c,h,l){try{var f=svgedit.utilities.text2xml(c),n=f.getElementById("colorRect");if(n!=void 0){var o=n.getAttribute("fill");f.documentElement.removeChild(n)}var q=false,p=f.getElementsByTagName("defs"),c=0;if(p[0]!=void 0)var u=p[0].childNodes.length;var z=f.getElementsByTagName("text");
if(z!=void 0){u=z.length;if(($j("#personalize").attr("texted")!="true"||$j("#personalize").attr("texted")!="")&&z.length>0){$j("#personalize").attr("texted","true");$j("#personalize").show();$j(".personalize_hr").show()}for(c=0;c<u;c++)for(j=0;j<z[c].childNodes.length;j++){$j(z[c]).attr("template_text","true");if(z[c].childNodes[j].textContent==="")z[c].childNodes[j].textContent=" ";if(!a.enableSingleLine&&($j(z[c]).attr("isMultiline")=="false"||$j(z[c]).attr("isMultiline")==null)&&$j(z[c]).attr("text_type")!=
"textpath"){var s=$j(z[c]).text();$j(z[c]).text("");tspanElem=Eb.createElementNS("http://www.w3.org/2000/svg","tspan");hb(tspanElem,{"xml:space":"preserve",x:0,dy:0,id:"t"+Db(),"font-style":ja.font_style,"font-weight":ja.font_weight,"font-size":$j(z[c]).attr("font-size"),"font-family":$j(z[c]).attr("font-family"),x:$j(z[c]).attr("x"),dy:0,"text-decoration":ja.text_decoration,opacity:$j(z[c]).attr("opacity"),"vector-effect":"non-scaling-stroke"},100);tspanElem.textContent=s;tspanElem.setAttributeNS("http://www.pixopa.com",
"se:emptyline","true");md(tspanElem);$j(z[c]).append(tspanElem);$j(z[c]).attr("isMultiline","true")}}}this.prepareSvg(f);var w=new Bb("Change Source"),B=ma.nextSibling,A=ha.removeChild(ma);w.addSubCommand(new oc(A,B,ha));ma=Eb.adoptNode?Eb.adoptNode(f.documentElement):Eb.importNode(f.documentElement,true);var C=$j("#svgroot svg").index($j("#canvasBleed1")),F=$j("#svgroot svg").index($j("#canvasBleed")),f="canvasBleed";C<F&&(f="canvasBleed1");ha.insertBefore(ma,svgedit.utilities.getElem(f));s=$j(ma);
P.current_drawing_=new svgedit.draw.Drawing(ma,ad);var J=vb().getNonce();J?Ra("setnonce",J):Ra("unsetnonce");s.find("image").each(function(){var a=this;fd(a);var c=cd(this);this.getAttribute("id")=="backImage"&&(q=true);if(c!=null){if(c.indexOf("data:")===0){var h=c.match(/svgedit_url=(.*?);/);if(h){var l=decodeURIComponent(h[1]);$j(new Image).load(function(){a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l)}).attr("src",l)}}P.embedImage(c)}});s.find("svg").each(function(){if(!$j(this).closest("defs").length){Jd(this);
var a=this.parentNode;if(a.childNodes.length===1&&a.nodeName==="g"){$j(a).data("gsvg",this);a.id=a.id||Db()}else cf(this)}});svgedit.browser.isGecko()&&s.find("linearGradient, radialGradient, pattern").appendTo(Pb());Md(s);Ve(s[0]);svgedit.utilities.walkTreePost(ma,function(a){try{kc(a)}catch(c){console.log(c)}});var E={id:"svgcontent",overflow:$j("#dol_type").val()=="vuezz"?a.show_outside_canvas?"visible":"hidden":"hidden"},M=false;if(s.attr("viewBox")){var I=s.attr("viewBox").split(" ");E.width=
I[2];E.height=I[3]}else $j.each(["width","height"],function(a,c){var h=s.attr(c);h||(h="100%");(h+"").substr(-1)==="%"?M=true:E[c]=Tc(c,h)});yd();s.children().find("a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use").each(function(){if(!this.id)this.id=Db()});if(M){var T=Lc();E.width=T.width+T.x;E.height=T.height+T.y}if(E.width<=0)E.width=100;if(E.height<=0)E.height=100;s.attr(E);this.contentW=E.width;this.contentH=E.height;w.addSubCommand(new hc(ma));var N=
s.attr(["width","height"]);w.addSubCommand(new Rb(ha,N));if(h)for(c=0;c<l.length;c++)$j("#svgcontent defs").remove();W=1;svgedit.transformlist.resetListMap();wb();svgedit.path.clearData();ha.appendChild(za.selectorParentGroup);if(n!=void 0||n!=null){P.addBackground(o,true);q=true}q||$j("#tool_removebg").addClass("disable");h==true&&this.pasteElements("in_place");Ra("changed",[ma])}catch(K){return false}return true};this.importSvgString=function(a,c){try{var h=svgedit.utilities.encode64(a.length+a).substr(0,
32),l=false;Bd[h]&&$j(Bd[h].symbol).parents("#svgroot").length&&(l=true);var f=new Bb("Import SVG");$j("#zoom_factor").val();if(l)var n=Bd[h].symbol,o=Bd[h].xform;else{var q=svgedit.utilities.text2xml(a);this.prepareSvg(q);var p;p=Eb.adoptNode?Eb.adoptNode(q.documentElement):Eb.importNode(q.documentElement,true);Jd(p);for(var u=Tc("width",p.getAttribute("width")),z=Tc("height",p.getAttribute("height")),s=p.getAttribute("viewBox"),w=s?s.split(" "):[0,0,u,z],l=0;l<4;++l)w[l]=+w[l];ma.getAttribute("width");
var B=+ma.getAttribute("height")/W,o=z>u?c?"scale("+B/1.4/w[3]+")":"scale("+B/3/w[3]+")":c?"scale("+B/1.4/w[2]+")":"scale("+B/3/w[2]+")",o="translate(0) "+o+" translate(0)",n=Eb.createElementNS("http://www.w3.org/2000/svg","symbol"),A=Pb();for(svgedit.browser.isGecko()&&$j(p).find("linearGradient, radialGradient, pattern").appendTo(A);p.firstChild;)n.appendChild(p.firstChild);var C=p.attributes;for(p=0;p<C.length;p++){var F=C[p];n.setAttribute(F.nodeName,F.nodeValue)}n.id=Db();Bd[h]={symbol:n,xform:o};
Pb().appendChild(n);f.addSubCommand(new hc(n))}var J=Eb.createElementNS("http://www.w3.org/2000/svg","use");J.id=Db();dd(J,"#"+n.id);(bc||vb().getCurrentLayer()).appendChild(J);f.addSubCommand(new hc(J));wb();if(W<=1){J.setAttribute("transform",o);kc(J)}$j(J).data("symbol",n).data("ref",n);jc([J]);db(f);Ra("changed",[ma])}catch(E){return false}return true};var yd=P.identifyLayers=function(){lc();vb().identifyLayers()};this.createLayer=function(a){var c=new Bb("Create Layer"),a=vb().createLayer(a);
c.addSubCommand(new hc(a));db(c);wb();Ra("changed",[a])};this.cloneLayer=function(a){var c=new Bb("Duplicate Layer"),h=Eb.createElementNS("http://www.w3.org/2000/svg","g"),l=Eb.createElementNS("http://www.w3.org/2000/svg","title");l.textContent=a;h.appendChild(l);l=vb().getCurrentLayer();$j(l).after(h);for(var l=l.childNodes,f=0;f<l.length;f++){var n=l[f];n.localName!="title"&&h.appendChild(Mb(n))}wb();yd();c.addSubCommand(new hc(h));db(c);P.setCurrentLayer(a);Ra("changed",[h])};this.deleteCurrentLayer=
function(){var a=vb().getCurrentLayer(),c=a.nextSibling,h=a.parentNode;if(a=vb().deleteCurrentLayer()){var l=new Bb("Delete Layer");l.addSubCommand(new oc(a,c,h));db(l);wb();Ra("changed",[h]);return true}return false};this.setCurrentLayer=function(a){(a=vb().setCurrentLayer(svgedit.utilities.toXml(a)))&&wb();return a};this.renameCurrentLayer=function(a){var c=vb();if(c.current_layer){var h=c.current_layer;if(!P.setCurrentLayer(a)){for(var l=new Bb("Rename Layer"),f=0;f<c.getNumLayers();++f)if(c.all_layers[f][1]==
h)break;var n=c.getLayerName(f);c.all_layers[f][0]=svgedit.utilities.toXml(a);for(var o=h.childNodes.length,f=0;f<o;++f){var q=h.childNodes.item(f);if(q&&q.tagName=="title"){for(;q.firstChild;)q.removeChild(q.firstChild);q.textContent=a;l.addSubCommand(new Rb(q,{"#text":n}));db(l);Ra("changed",[h]);return true}}}c.current_layer=h}return false};this.setCurrentLayerPosition=function(a){var c=vb();if(c.current_layer&&a>=0&&a<c.getNumLayers()){for(var h=0;h<c.getNumLayers();++h)if(c.all_layers[h][1]==
c.current_layer)break;if(h==c.getNumLayers())return false;if(h!=a){var l=null,f=c.current_layer.nextSibling;a>h?a<c.getNumLayers()-1&&(l=c.all_layers[a+1][1]):l=c.all_layers[a][1];ma.insertBefore(c.current_layer,l);db(new Dc(c.current_layer,f,ma));yd();P.setCurrentLayer(c.getLayerName(a));return true}}return false};this.setLayerVisibility=function(a,c){var h=vb(),l=h.getLayerVisibility(a),f=h.setLayerVisibility(a,c);if(f)db(new Rb(f,{display:l?"inline":"none"},"Layer Visibility"));else return false;
if(f==h.getCurrentLayer()){wb();Fb.clear()}return true};this.moveToPage=function(a){var c=H[0],h=$j("#svgcontent defs").children();P.setMode("select");var l=svgEditor.canvas;c!=null&&l.cutSelectedElements();$j("#textsvg_"+a).val(l.getSvgString());$j("#textsvg_"+a).val()==""?l.setSvgString('<svg width="'+ta[0]+'" height="'+ta[1]+'" xmlns="http://www.w3.org/2000/svg"></svg>',true,h):l.setSvgString($j("#textsvg_"+a).val(),true,h);$j(".pages").removeClass("active");$j("#page_"+a).addClass("active");P.setMode("textedit");
P.setMode("select")};this.moveSelectedToLayer=function(a){for(var c=null,h=vb(),l=0;l<h.getNumLayers();++l)if(h.getLayerName(l)==a){c=h.all_layers[l][1];break}if(!c)return false;a=new Bb("Move Elements to Layer");h=H;for(l=h.length;l--;){var f=h[l];if(f){var n=f.nextSibling,o=f.parentNode;c.appendChild(f);a.addSubCommand(new Dc(f,n,o))}}db(a);return true};this.mergeLayer=function(a){var c=new Bb("Merge Layer"),h=vb(),l=$j(h.current_layer).prev()[0];if(l){for(c.addSubCommand(new oc(h.current_layer,
h.current_layer.nextSibling,ma));h.current_layer.firstChild;){var f=h.current_layer.firstChild;if(f.localName=="title"){c.addSubCommand(new oc(f,f.nextSibling,h.current_layer));h.current_layer.removeChild(f)}else{var n=f.nextSibling;l.appendChild(f);c.addSubCommand(new Dc(f,n,h.current_layer))}}ma.removeChild(h.current_layer);if(!a){wb();yd();Ra("changed",[ma]);db(c)}h.current_layer=l;return c}};this.mergeAllLayers=function(){var a=new Bb("Merge all Layers"),c=vb();for(c.current_layer=c.all_layers[c.getNumLayers()-
1][1];$j(ma).children("g").length>1;)a.addSubCommand(P.mergeLayer(true));wb();yd();Ra("changed",[ma]);db(a)};var lc=this.leaveContext=function(){var a=Od.length;if(a){for(var c=0;c<a;c++){var h=Od[c],l=we(h,"orig_opac");l!==1?h.setAttribute("opacity",l):h.removeAttribute("opacity");h.setAttribute("style","pointer-events: inherit")}Od=[];wb(true);Ra("contextset",null)}bc=null};this.setContext=function(a){lc();typeof a==="string"&&(a=Ga(a));bc=a;$j(a).parentsUntil("#svgcontent").andSelf().siblings().each(function(){var a=
this.getAttribute("opacity")||1;we(this,"orig_opac",a);this.setAttribute("opacity",a*0.33);this.setAttribute("style","pointer-events: none");Od.push(this)});wb();Ra("contextset",bc)};this.centerCliparts=function(){var a=H[0],c=$j(a).children()[0];a.setAttribute("attr_aspt","aspect");$j("#clipart_aspect")[0].checked=true;var h=$j("#svgcontent").attr("width")/3,l=$j("#svgcontent").attr("height")/3,f=a.getBoundingClientRect().width,a=a.getBoundingClientRect().height,n=Math.min(h/f,l/a);if(h==l){newW=
f*n;newH=a*n}else if(h<l){newW=h;newH=a*n}else{newW=f*n;newH=l}newW=newW/f;newH=newH/a;this.changeSelectedAttribute("transform","matrix("+newW+", 0, 0, "+newH+", 0, 0)",c);this.recalculateAllSelectedDimensions();this.alignSelectedElements("m","page");this.alignSelectedElements("c","page")};this.loadDefaultCliparts=function(){return a.defaultCliparts};this.clear=function(){Fb.clear();wb();P.clearSvgContentElement();P.current_drawing_=new svgedit.draw.Drawing(ma);P.createLayer("Layer 1");P.undoMgr.resetUndoStack();
za.initGroup();Nb=za.getRubberBandBox();Ra("cleared")};this.linkControlPoints=Fb.linkControlPoints;this.getContentElem=function(){return ma};this.getRootElem=function(){return ha};this.getSelectedElems=function(){return H};var Xc=this.getResolution=function(){var a=ma.getAttribute("width")/W,c=ma.getAttribute("height")/W;return{w:a,h:c,zoom:W}};this.addGalleryImage=function(c,h,l,f,n){svgedit.browser.isWebkit()?$j(".header, .header-container, .wrap-header,  .wrap-header").hide():$j(".header, .header-container, .wrap-header, #vtab, .wrap-header").css("zIndex",
"1");$j("#vtab").css({position:"relative","z-index":"1"});$j("#updating_box").show();if($j("#tool_image").attr("placeholder")==void 0)if(l){$j("#cropimage").attr("src",c);$j(".jcrop-preview").attr("src",c);makeCrop(c);h=new Image;h.onload=function(){$j("#"+$j("#tool_image").attr("placeholder")).attr("xlink:href",c);$j("#updating_box").hide()};h.src=c}else $j("#updating_box").hide();else{var o=$j("#zoom_factor").val();if(h)a.crossDomain==""||a.crossDomain==void 0?$j.ajax({url:"/dol/index/uploadRemoteFile",
data:{image_url:c,zoom_factor:o},success:function(c){content='Rendering Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc-rendering").show();$j("#updating_box .desc").hide();var h=$j.parseJSON(c);if(h.error!=void 0&&h.error=="Uploading Remote File Failed!"){$j("#updating_box").hide();alert("Selected Image is not valid or could be malicious. Please try another Image.")}else if(Ob()!=null&&(Ob()=="#000000"||Ob()=="#FFFFFF"))$j.ajax({url:"/dol/index/applyImageFilter",
type:"POST",dataType:"text",data:{src:h.imageUrl,filter:"filter_darken",zoom_factor:o},success:function(a){P.addDragImage(a,h.width,h.height,f,n);$j(new Image).load(function(){content='Loading Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide()}).attr("src",a)}});else if(h.imageUrl.substr((~-h.imageUrl.lastIndexOf(".")>>>0)+2)=="svg"){$j("#updating_box").show();$j("#updating_box .desc").show();
$j("#updating_box .desc-rendering").hide();$j.ajax({url:h.imageUrl,type:"GET",async:false,dataType:"text",success:function(a){P.importSvgString(a,true);P.setMode("select");P.ungroupSelectedElement();P.ungroupSelectedElement();P.groupSelectedElements();P.ungroupAllChilds();P.svgElementAttrChecking();$j("#updating_box .desc").hide();$j("#updating_box .desc-rendering").show();P.alignSelectedElements("m","page");P.alignSelectedElements("c","page");$j.ajax({url:"/fonts/index/getSVGFonts",type:"POST",data:{svg_url:h.imageUrl},
dataType:"json",success:function(a){fontlist=a.font_list;if(fontlist!=void 0)for(i=0;i<fontlist.length;i++)$j("body").append("<link rel='stylesheet' id='colorbox-css'  href='http://fonts.googleapis.com/css?family="+fontlist[i][0]+"' type='text/css' media='all' />")}});$j("#updating_box").hide();if($j("#updating_box").hide()){svgedit.browser.isWebkit()?$j(".header, .header-container, .wrap-header, .wrap-header").show():$j(".header, .header-container, .wrap-header, #vtab, .wrap-header").css("zIndex",
"101");$j(".header-primary").css({zIndex:"99",position:"relative"});$j(".nav-container").css({zIndex:"98",position:"relative"});$j("#vtab").css({"z-index":""})}}})}else{P.addDragImage(h.imageUrl,h.width,h.height,f,n);$j(new Image).load(function(){content='Loading Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide();if($j("#updating_box").hide()){svgedit.browser.isWebkit()?
$j(".header, .header-container, .wrap-header, .wrap-header").show():$j(".header, .header-container, .wrap-header, #vtab, .wrap-header").css("zIndex","101");$j(".header-primary").css({zIndex:"99",position:"relative"});$j(".nav-container").css({zIndex:"98",position:"relative"});$j("#vtab").css({"z-index":""});$j("#tool_crop").attr("isCropRef")!="true"&&window.innerWidth>768&&svgEditor.curConfig.mobileActivate&&$j(".enhance_image").tooltipster({trigger:"ready",timer:1E4,position:"left"});$j("#tool_crop").attr("isCropRef",
"")}}).attr("src",h.imageUrl);a.imageToBack&&P.moveToBottomSelectedElement("image")}}}):$j.ajax({url:"http://"+a.crossDomain+"/dol/index/uploadRemoteFile",data:{image_url:c,zoom_factor:o},jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",success:function(c){content='Rendering Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc-rendering").show();$j("#updating_box .desc").hide();if(Ob()!=null&&(Ob()=="#000000"||Ob()=="#FFFFFF"))$j.ajax({url:"/dol/index/applyImageFilter",
type:"POST",dataType:"text",data:{src:c.imageUrl,filter:"filter_darken",zoom_factor:o},success:function(a){P.addDragImage(a,c.width,c.height,f,n);$j(new Image).load(function(){content='Loading Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide()}).attr("src",a)}});else if(c.imageUrl.substr((~-c.imageUrl.lastIndexOf(".")>>>0)+2)=="svg"){alert("asdas");$j("#updating_box").show();
$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j.ajax({url:"http://"+a.crossDomain+"/dol/index/readSVG",type:"POST",async:false,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",data:{svg_url:c.imageUrl},success:function(h){P.importSvgString(h.svg_data,true);P.setMode("select");P.ungroupSelectedElement();P.ungroupSelectedElement();P.groupSelectedElements(null);P.ungroupAllChilds();P.svgElementAttrChecking();$j("#updating_box .desc").hide();
$j("#updating_box .desc-rendering").show();P.alignSelectedElements("m","page");P.alignSelectedElements("c","page");$j.ajax({url:"http://"+a.crossDomain+"/fonts/index/getSVGFonts",type:"POST",data:{svg_url:c.imageUrl},jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",success:function(a){fontlist=a.font_list;if(fontlist!=void 0)for(i=0;i<fontlist.length;i++)$j("body").append("<link rel='stylesheet' id='colorbox-css'  href='http://fonts.googleapis.com/css?family="+fontlist[i][0]+
"' type='text/css' media='all' />")}});$j("#updating_box").hide();if($j("#updating_box").hide()){svgedit.browser.isWebkit()?$j(".header, .header-container, .wrap-header, .wrap-header").show():$j(".header, .header-container, .wrap-header, #vtab, .wrap-header").css("zIndex","101");$j(".header-primary").css({zIndex:"99",position:"relative"});$j(".nav-container").css({zIndex:"98",position:"relative"});$j("#vtab").css({"z-index":""})}}})}else{P.addDragImage(c.imageUrl,c.width,c.height,f,n);$j(new Image).load(function(){content=
'Loading Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide()}).attr("src",c.imageUrl)}}});else{h=new Image;h.onload=function(){P.addDragImage(c,this.width,this.height,f,n);$j("#updating_box").hide()};h.src=c}}};this.getZoom=function(){return W};this.getVersion=function(){return"svgcanvas.js ($Rev: 2070 $)"};this.setUiStrings=function(a){$j.extend(Ad,a.notification)};this.setConfig=
function(c){$j.extend(a,c)};this.getConfig=function(c){return a[c]};this.getTitle=function(a){if(a=a||H[0]){for(var a=$j(a).data("gsvg")||$j(a).data("symbol")||a,a=a.childNodes,c=0;c<a.length;c++)if(a[c].nodeName=="title")return a[c].textContent;return""}};this.setGroupTitle=function(a){var c=H[0],c=$j(c).data("gsvg")||c,h=$j(c).children("title"),l=new Bb("Set Label");if(a.length)if(h.length){h=h[0];l.addSubCommand(new Rb(h,{"#text":h.textContent}));h.textContent=a}else{h=Eb.createElementNS("http://www.w3.org/2000/svg",
"title");h.textContent=a;$j(c).prepend(h);l.addSubCommand(new hc(h))}else{l.addSubCommand(new oc(h[0],h.nextSibling,c));h.remove()}db(l)};this.getDocumentTitle=function(){return P.getTitle(ma)};this.setDocumentTitle=function(a){for(var c=ma.childNodes,h=false,l="",f=new Bb("Change Image Title"),n=0;n<c.length;n++)if(c[n].nodeName=="title"){h=c[n];l=h.textContent;break}if(!h){h=Eb.createElementNS("http://www.w3.org/2000/svg","title");ma.insertBefore(h,ma.firstChild)}a.length?h.textContent=a:h.parentNode.removeChild(h);
f.addSubCommand(new Rb(h,{"#text":l}));db(f)};this.getEditorNS=function(a){a&&ma.setAttribute("xmlns:se","http://www.pixopa.com");return"http://www.pixopa.com"};this.setResolution=function(a,c){var h=Xc(),l=h.w,h=h.h,f;if(a=="fit"){var n=Lc();if(n){f=new Bb("Fit Canvas to Content");var o=Sd();jc(o);var q=[],p=[];$j.each(o,function(){q.push(n.x*-1);p.push(n.y*-1)});o=P.moveSelectedElements(q,p,true);f.addSubCommand(o);wb();a=Math.round(n.width);c=Math.round(n.height)}else return false}if(a!=l||c!=
h){o=ha.suspendRedraw(1E3);f||(f=new Bb("Change Image Dimensions"));a=Tc("width",a);c=Tc("height",c);ma.setAttribute("width",a);ma.setAttribute("height",c);this.contentW=a;this.contentH=c;f.addSubCommand(new Rb(ma,{width:l,height:h}));ma.setAttribute("viewBox",[0,0,a/W,c/W].join(" "));f.addSubCommand(new Rb(ma,{viewBox:["0 0",l,h].join(" ")}));ha.unsuspendRedraw(o);Ra("changed",[ma])}return true};this.getOffset=function(){return $j(ma).attr(["x","y"])};this.setBBoxZoom=function(c,h,l){var f=0.96,
n=function(a){if(!a)return false;var c=Math.round(h/a.width*100*f)/100,n=Math.round(l/a.height*100*f)/100,c=Math.min(c,n);P.setZoom(c);return{zoom:c,bbox:a}};if(typeof c=="object"){if(c.width==0||c.height==0){P.setZoom(c.zoom?c.zoom:W*c.factor);return{zoom:W,bbox:c}}return n(c)}if(a.zoomDefine=="user"&&c=="user"){P.setZoom(a.defaultZoom/100);return{zoom:a.defaultZoom/100}}switch(c){case "selection":if(!H[0])return;c=$j.map(H,function(a){if(a)return a});c=Lc(c);break;case "canvas":c=Xc();f=0.95;c=
{width:c.w,height:c.h,x:0,y:0};break;case "content":c=Lc();break;case "layer":c=Lc(Sd(vb().getCurrentLayer()));break;default:return}return n(c)};this.setZoom=function(a){var c=Xc();ma.setAttribute("viewBox","0 0 "+c.w/a+" "+c.h/a);W=a;$j.each(H,function(a,c){c&&za.requestSelector(c).resize()});Fb.zoomChange();Cd("zoomChanged",a)};this.getMode=function(){return Ua};this.setMode=function(a){Fb.clear(true);Hb.clear();if((a=="fhpath"||a=="line"||a=="path")&&va.stroke_width=="0")va.stroke_width="1";if(va.stroke_width==
null)va.stroke_width="1";ic=H[0]&&H[0].nodeName=="text"?ja:va;if(H[0]&&H[0].nodeName=="text")ic.fill=H[0].getAttribute("fill");Ua=a;a!="select"?wb():$j("#tool_image").attr("placeholder","");if(H[1]==null)H.length=1;if(a=="text"||a=="image"||a=="rect"||a=="fhellipse"||a=="fhrect"||a=="fhpath"||a=="square"||a=="line"||a=="ellipse"||a=="path"||a=="multiselect")H.length=0;if(a=="text"){$j(ha).trigger("mousedown");$j(ha).trigger("mouseup")}if(a=="image"){$j(ha).trigger("mousedown");$j(ha).trigger("mouseup");
$j(ha).trigger("mousedown")}};this.getColor=function(a){return ic[a]};this.setColor=function(a,c,h,l){c!="none"&&(va[a]=c);ic[a+"_paint"]={type:"solidColor"};var f=[];if(l!=null){h=l.split(",");for(l=0;l<h.length;l++){var n=$j("#"+h[l]);n&&xb(a,c,n)}}else{l=H.length;if(a=="background"){P.addBackground(c);n=$j(ma).find("rect")[0];hb(n,{fill:c})}if(H[0]=="text"){if(a=="fill")ja.fill=c;if(a=="stroke")ja.stroke=c}for(;l--;)(n=H[l])&&(n.tagName=="g"?svgedit.utilities.walkTree(n,function(a){a.nodeName!=
"g"&&f.push(a)}):a=="fill"?n.tagName!="polyline"&&n.tagName!="line"&&f.push(n):f.push(n));if(f.length>0)if(h)Ic(a,c,f);else{xb(a,c,f);Ra("changed",f)}a=$j("#stroke_color svg");a.css("display","none").height();a.css("display","")}};this.unitValue=function(c){return a.baseUnit=="cm"?c*2.54/96:a.baseUnit=="in"?c/96:c};this.convertUnitToPX=function(c){return a.baseUnit=="cm"?c*96/2.54:a.baseUnit=="in"?c*96:c};this.applyAspectRatioToImage=function(a,c,h,l){var f=$j("#zoom_factor").val();if(f==void 0||
f==null)f=1;var n=H[0];if(h==null){h=a/c*l;n.setAttribute("width",this.convertUnitToPX(h));n.setAttribute("height",this.convertUnitToPX(l));$j("#image_width").val(h*f);$j("#image_width_slider").slider("value",h)}else{l=c/a*h;n.setAttribute("width",this.convertUnitToPX(h));n.setAttribute("height",this.convertUnitToPX(l));$j("#image_height").val(l*f);$j("#image_height_slider").slider("value",l)}za.requestSelector(n).resize()};this.resizeSelector=function(a){za.requestSelector(a).resize()};var Pb=this.findDefs=
function(){var a=ma.getElementsByTagNameNS("http://www.w3.org/2000/svg","defs");if(a.length>0)a=a[0];else{a=Eb.createElementNS("http://www.w3.org/2000/svg","defs");ma.firstChild?ma.insertBefore(a,ma.firstChild.nextSibling):ma.appendChild(a)}return a},Hf=this.setGradient=function(a,c,h){if(ic[a+"_paint"]&&ic[a+"_paint"].type!="solidColor"){var l=P[a+"Grad"],f=Gf(l),n=Pb();if(f)l=f;else{l=n.appendChild(Eb.importNode(l,true));l.id=Db()}h!=null&&h.attr("fill","url(#"+l.id+")");P.setColor(a,"url(#"+l.id+
")",null,c)}},Gf=function(a){for(var c=Pb(),c=$j(c).find("linearGradient, radialGradient"),h=c.length,l=["r","cx","cy","fx","fy"];h--;){var f=c[h];if(a.tagName=="linearGradient"){if(a.getAttribute("x1")!=f.getAttribute("x1")||a.getAttribute("y1")!=f.getAttribute("y1")||a.getAttribute("x2")!=f.getAttribute("x2")||a.getAttribute("y2")!=f.getAttribute("y2"))continue}else{var n=$j(a).attr(l),o=$j(f).attr(l),q=false;$j.each(l,function(a,c){n[c]!=o[c]&&(q=true)});if(q)continue}var p=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",
"stop"),u=f.getElementsByTagNameNS("http://www.w3.org/2000/svg","stop");if(p.length==u.length){for(var z=p.length;z--;){var s=p[z],w=u[z];if(s.getAttribute("offset")!=w.getAttribute("offset")||s.getAttribute("stop-opacity")!=w.getAttribute("stop-opacity")||s.getAttribute("stop-color")!=w.getAttribute("stop-color"))break}if(z==-1)return f}}return null};this.setPaint=function(a,c,h,l){c=new $j.jGraduate.Paint(c);this.setPaintOpacity(a,c.alpha/100,true);ic[a+"_paint"]=c;switch(c.type){case "solidColor":this.setColor(a,
c.solidColor!="none"?"#"+c.solidColor:"none",null,h);a=c.solidColor;a!="none"&&(a="#"+c.solidColor);l!=null&&l.attr("fill",a);break;case "linearGradient":case "radialGradient":P[a+"Grad"]=c[c.type];l==null?Hf(a):Hf(a,h,l)}};this.checkExtension=function(a){return a in Qd?false:true};this.getStrokeWidth=function(){return ic.stroke_width};this.setStrokeWidth=function(a,c){if(a==0&&["line","path"].indexOf(Ua)>=0)P.setStrokeWidth(1);else{ic.stroke_width=a;for(var h=[],l=H.length;l--;){var f=H[l];if(f)if(f.tagName==
"g"){svgedit.utilities.walkTree(f,function(a){a.nodeName!="image"&&a.nodeName!="g"&&h.push(a)});f.setAttribute("stroke-width",a);$j(f).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").attr("stroke-width",a)}else{h.push(f);f.tagName=="text"&&$j(f).children().attr("stroke-width",a)}}if(h.length>0){xb("stroke-width",a,h);c==null&&Ra("changed",H)}}};this.setStrokeAttr=function(a,c){va[a.replace("-","_")]=c;for(var h=[],l=H.length;l--;){var f=H[l];f&&(f.tagName=="g"?
svgedit.utilities.walkTree(f,function(a){a.nodeName!="g"&&h.push(a)}):h.push(f))}if(h.length>0){xb(a,c,h);Ra("changed",H)}};this.getStyle=function(){return va};this.getOpacity=function(){return va.opacity};this.setOpacity=function(a){va.opacity=a;xb("opacity",1)};this.getFillOpacity=function(){return va.fill_opacity};this.getStrokeOpacity=function(){return va.stroke_opacity};this.setPaintOpacity=function(a,c,h){va[a+"_opacity"]=c;h?Ic(a+"-opacity",c):xb(a+"-opacity",c)};this.getBlur=function(a){var c=
0;a==null&&(a=H[0]);a&&a.getAttribute("filter")&&(a=Ga(a.id+"_blur"))&&(c=a.firstChild.nodeType!=3?a.firstChild.getAttribute("stdDeviation"):a.firstChild.nextSibling.getAttribute("stdDeviation"));return c};var Xe=null,gc=null,Rf=!1;P.setBlurNoUndo=function(a){if(gc)if(a===0){Ic("filter","");Rf=true}else{var c=H[0];Rf&&Ic("filter","url(#"+c.id+"_blur)");gc.firstChild.nodeType!=3?Ic("stdDeviation",a,[gc.firstChild]):Ic("stdDeviation",a,[gc.firstChild.nextSibling]);P.setBlurOffsets(gc,a)}else P.setBlur(a)};
P.setBlurOffsets=function(a,c){if(c>3)hb(a,{x:"-50%",y:"-50%",width:"200%",height:"200%"},100);else if(!svgedit.browser.isWebkit()){a.removeAttribute("x");a.removeAttribute("y");a.removeAttribute("width");a.removeAttribute("height")}};P.setBlur=function(a,c,h){h==null&&(h=H[0]);if(h.tagName=="g"){var l=$j(h).children();for(i=0;i<l.length;++i)l[i].removeAttribute("filter")}var f=h.id;gc=Ga(f+"_blur");a=a-0;l=new Bb;if(gc)a<0&&(gc=null);else{var n=Ta({element:"feGaussianBlur",attr:{"in":"SourceGraphic",
stdDeviation:a}});gc=Ta({element:"filter",attr:{id:f+"_blur"}});gc.appendChild(n);Pb().appendChild(gc);l.addSubCommand(new hc(gc))}n={filter:h.getAttribute("filter")};if(a===0){h.removeAttribute("filter");if(svgedit.browser.isChrome()){if(h.tagName=="text"){a=$j(h).children();for(i=0;i<a.length;i++)a[i].removeAttribute("filter")}h.getAttribute("text_type")=="textpath"&&$j(h).find("textpath, tspan").removeAttr("filter");if(h.tagName=="g"){a=$j(h).children();$j(a).find("ellipse, circle, g, image, line, path, polygon, polyline, rect, text, textPath, tspan").removeAttr("filter")}}l.addSubCommand(new Rb(h,
n))}else{xb("filter","url(#"+f+"_blur)");l.addSubCommand(new Rb(h,n));P.setBlurOffsets(gc,a);Xe=l;gc.firstChild.nodeType!=3?P.undoMgr.beginUndoableChange("stdDeviation",[gc?gc.firstChild:null]):P.undoMgr.beginUndoableChange("stdDeviation",[gc?gc.firstChild.nextSibling:null]);if(c){P.setBlurNoUndo(a);h=P.undoMgr.finishUndoableChange();Xe.addSubCommand(h);db(Xe);gc=Xe=null}}};this.setBgOpacity=function(a){$j("#backImage").attr("opacity",a)};this.getBold=function(){var c=H[0];if(a.isMultiline){var h=
"",l="";ja.font_weight=="bold"?h="bold":ja.font_weight=="normal"&&(h="normal");var f=Ha.getCurCharacterAttribute();if(f!=null)l=f.attr.font_weight;ed()=="clickBold"?h=="bold"?retval=true:retval=false:l==""?h=="bold"?retval=true:retval=false:h!=l?l=="bold"?retval=true:retval=false:h=="bold"?retval=true:retval=false;return c.getAttribute("font-weight")=="bold"}return c!=null&&c.tagName=="text"&&H[1]==null?c.getAttribute("font-weight")=="bold":false};this.setBold=function(c){var h=H[0];if(a.isMultiline){ja.font_weight=
c?"bold":"normal";var l=H[0];if(Ua=="select"&&l.nodeName=="text"){Hb.propagateTextChanges(l,{"font-weight":ja.font_weight},"font-weight");dc("")}else if(Ua=="textedit"&&Y.getStartSelectionPos()!=null&&Y.isTextSelected()){Y.propagateSelectionChanges({attribute:"font_weight",value:ja.font_weight});Ha.renderTextSVG(H[0],true);za.requestSelector(H[0]).resize();dc("");xb("font-weight",c?"bold":"normal")}h.setAttribute("font-weight",ja.font_weight);Ha.initTextArray(l)}else{if(h!=null&&h.tagName=="text"&&
H[1]==null){xb("font-weight",c?"bold":"normal");c=Ga("text_cursor");c!=null&&c.setAttribute("visibility","hidden")}H[0].textContent||Hb.setCursor()}Vb([h],true)};this.applyKnobSlider=function(a,c){var h=H[0];if(c)if(Rc=="stroke"){$j(".stroke_size,.stroke_color").show();$j(".opacity_value,.blur_value").hide();a=h.getAttribute("stroke-width");$j(".knob").val(a*10).trigger("change")}else if(Rc=="opacity"){$j(".opacity_value").show();$j(".stroke_size,.stroke_color,.blur_value").hide();a=h.getAttribute("opacity");
$j(".knob").val(!a||a=="null"||a==1E3?1E3:a*1E3).trigger("change")}else{if(Rc=="blur"){$j(".blur_value").show();$j(".stroke_size,.stroke_color,.opacity_value").hide();a=$j("#blur").val()*100;$j(".knob").val(a).trigger("change")}}else if(Rc=="stroke"){P.setStrokeWidth(a/10);$j(".stroke_size_show").val(a/10)}else if(Rc=="opacity"){P.setOpacity(a/1E3);$j(".opacity_show").val(Math.round(a/10))}else if(Rc=="blur"){P.setBlur(a/100,true);$j(".blur_show").val(a/100)}};this.currentKnobEffect=function(a){Rc=
a};this.getCurrentKnobEffect=function(){return Rc};this.setStrikeThrough=function(){var c=H[0];if(a.isMultiline){var h=H[0];if(Ua=="select"&&h.nodeName=="text")dc("");else if(Ua=="textedit"&&Y.getStartSelectionPos()!=null&&Y.isTextSelected()){za.requestSelector(H[0]).resize();dc("")}Ha.initTextArray(h);h=$j(c).children();if(h.length>0){var l=h[0].getAttribute("text-decoration"),f="none";if(l=="none"||l==null)f="line-through";else if(l=="underline")f="underline line-through";else if(l=="underline line-through"||
l=="line-through underline")f="underline";for(i=0;i<h.length;i++)h[i].setAttribute("text-decoration",f)}}else{l=c.getAttribute("text-decoration");f="none";if(l=="none"||l==null)f="line-through";else if(l=="underline")f="underline line-through";else if(l=="underline line-through"||l=="line-through underline")f="underline";xb("text-decoration",f);h=Ga("text_cursor");h!=null&&h.setAttribute("visibility","hidden");H[0].textContent||Hb.setCursor()}Vb([c],true)};this.setMultiline=function(c){a.isMultiline=
c;return true};this.getMultiline=function(){var a=H[0];return a==null?false:a.getAttribute("isMultiline")=="true"?true:false};this.getItalic=function(){var c=H[0];if(a.isMultiline){var h="",l="";ja.font_style=="italic"?h="italic":ja.font_style=="normal"&&(h="normal");var f=Ha.getCurCharacterAttribute();if(f!=null)l=f.attr.font_style;ed()=="clickItalic"?h=="italic"?retval=true:retval=false:l==""?h=="italic"?retval=true:retval=false:h!=l?l=="italic"?retval=true:retval=false:h=="italic"?retval=true:
retval=false;return c.getAttribute("font-style")=="italic"}return c!=null&&c.tagName=="text"&&H[1]==null?c.getAttribute("font-style")=="italic":false};this.setUnderline=function(c){var h=H[0];if(a.isMultiline){ja.text_decoration=c?"underline":"none";var l=H[0];if(Ua=="select"&&l.nodeName=="text"){Hb.propagateTextChanges(l,{"text-decoration":ja.text_decoration},"font-weight");dc("")}else if(Ua=="textedit"&&Y.getStartSelectionPos()!=null&&Y.isTextSelected()){Hb.propagateTextChanges(l,{"text-decoration":ja.text_decoration},
"font-weight");Ha.renderTextSVG(H[0],true);za.requestSelector(H[0]).resize();dc("");xb("text-decoration",c?"underline":"none")}h.setAttribute("font-weight",ja.text_decoration);(svgedit.browser.isChrome()||svgedit.browser.isIE())&&Hb.propagateTextChanges(l,{"text-decoration":ja.text_decoration},"font-weight");Ha.initTextArray(l)}else{if(h!=null&&h.tagName=="text"&&H[1]==null){var c=h.getAttribute("text-decoration"),f="none";if(c=="none"||c==null)f="underline";else if(c=="line-through")f="underline line-through";
else if(c=="underline line-through"||c=="line-through underline")f="line-through";xb("text-decoration",f);c=Ga("text_cursor");c!=null&&c.setAttribute("visibility","hidden")}H[0].textContent||Hb.setCursor()}svgedit.browser.isIE()&&H[0].getAttribute("text_type")=="textpath"&&$j(H[0]).find("textPath tspan").attr("text-decoration",f);Vb([h],true)};this.getUnderline=function(){var c=H[0];if(a.isMultiline){var h="",l="";ja.text_decoration=="underline"?h="underline":ja.font_style=="normal"&&(h="normal");
var f=Ha.getCurCharacterAttribute();if(f!=null)l=f.attr.font_style;ed()=="clickItalic"?h=="underline"?retval=true:retval=false:l==""?h=="underline"?retval=true:retval=false:h!=l?l=="underline"?retval=true:retval=false:h=="underline"?retval=true:retval=false;c=$j(c).children()[0];return c.getAttribute("text-decoration")=="underline"||c.getAttribute("text-decoration")=="underline line-through"}if(c!=null&&c.tagName=="text"&&c.getAttribute("text_type")=="textpath"){c=c.getAttribute("text-decoration");
return c=="underline"}if(c!=null&&c.tagName=="text"&&H[1]==null){c=c.getAttribute("text-decoration");return c=="underline"||c=="underline line-through"}return false};this.getStrikeThrough=function(){var c=H[0];if(a.isMultiline){if(c!=null&&c.tagName=="text"&&H[1]==null){c=$j(c).children()[0].getAttribute("text-decoration");return c=="line-through"||c=="underline line-through"}}else if(c!=null&&c.tagName=="text"&&H[1]==null){c=c.getAttribute("text-decoration");return c=="line-through"||c=="underline line-through"}return false};
this.setItalic=function(c){var h=H[0];if(a.isMultiline){ja.font_style=c?"italic":"normal";c=H[0];if(Ua=="select"&&c.nodeName=="text"){Hb.propagateTextChanges(c,{"font-style":ja.font_style},"font-style");dc("")}else if(Ua=="textedit"&&Y.getStartSelectionPos()!=null&&Y.isTextSelected()){Y.propagateSelectionChanges({attribute:"font_style",value:ja.font_style});Ha.renderTextSVG(H[0],true);za.requestSelector(H[0]).resize();dc("")}Ha.initTextArray(c);h.setAttribute("font-style",ja.font_style)}else{if(h!=
null&&h.tagName=="text"&&H[1]==null){xb("font-style",c?"italic":"normal");h=Ga("text_cursor");h!=null&&h.setAttribute("visibility","hidden")}H[0].textContent||Hb.setCursor()}};this.getFontFamily=function(){var c=H[0];if(a.isMultiline){var h="",h=ja.font_family,l=Ha.getCurCharacterAttribute();if(l!=null)localStyle=l.attr.font_family;ed();retval=h;return c.getAttribute("font-family")}return ja.font_family};this.setFontFamily=function(c){if(a.isMultiline){ja.font_family=c;var h=new Bb("Change Font Famliy"),
l={"font-family":$j(H[0]).attr("font-family")},f=H[0];P.setMode("select");if(Ua=="select"&&f.nodeName=="text"){Y.propagateSelectionChanges({attribute:"font_family",value:c});dc("")}else if(Ua=="textedit"&&Y.getStartSelectionPos()!=null&&Y.isTextSelected()){Y.propagateSelectionChanges({attribute:"font_family",value:c});Ha.renderTextSVG(H[0],true);za.requestSelector(H[0]).resize();dc("")}f=ja.font_family=c;f.length>23&&(f=f.substring(0,22)+"...");$j("#font_family").val(f);$j("#tool_image").hasClass("backend")||
$j("#font_family_dropdown button").html(f);xb("font-family",c);$j(H[0]).children();h.addSubCommand(new Rb(H[0],l));h.isEmpty()||db(h)}else{ja.font_family=c;xb("font-family",c);Hb.toSelectMode(true);c=Ga("text_cursor");c!=null&&c.setAttribute("visibility","hidden");Vb([H[0]],true)}};this.getWidth=function(){bb=svgedit.utilities.getBBox(H[0]);return bb.width};this.setFontColor=function(a){ja.fill=a;xb("fill",a)};this.getFontColor=function(){return ja.fill};this.getTextAspect=function(){elem=H[0];return elem==
null||elem.getAttribute("aspect")==null||elem.getAttribute("aspect")==void 0?false:elem.getAttribute("aspect")=="true"?true:false};this.setTextAspect=function(a){elem=H[0];elem.setAttribute("aspect",a);if(a==true){a=$j("#angle").val();P.setRotationAngle(0,true);P.removeAspect();P.setRotationAngle(a);za.requestSelector(elem).resize()}za.requestSelector(elem).resize()};this.getClipartAspect=function(){elem=H[0];return elem==null||elem.getAttribute("attr_aspt")==null||elem.getAttribute("attr_aspt")==
void 0?false:elem.getAttribute("attr_aspt")=="aspect"?true:false};this.setClipartAspect=function(a){elem=H[0];a==true?elem.setAttribute("attr_aspt","aspect"):elem.setAttribute("attr_aspt","noaspect")};this.setRoundRect=function(){Jc=true};this.removeAspect=function(){elem=H[0];if($j("#selectorGrip_resize_n").prop("tagName")=="rect")var c=$j("#selectorGrip_resize_n").attr("x")/W,h=$j("#selectorGrip_resize_e").attr("y")/W,l=$j("#selectorGrip_resize_se").attr("y")/W;else{c=$j("#selectorGrip_resize_n").attr("cx")/
W;h=$j("#selectorGrip_resize_e").attr("cy")/W;l=$j("#selectorGrip_resize_se").attr("cy")/W}l=(h-l)/2;a.isMultiline?f==1?h=h+l:f!=2&&(h=h-l):h=h+l;angle=$j("#rotate_angle").val();if(elem.getAttribute("transform")!=null&&$b){m=s(elem);f="matrix("+[m.a,m.b,m.c,m.d,m.e,m.f].join()+")";m1=m.inverse();l="matrix("+[m1.a,m1.b,m1.c,m1.d,m1.e,m1.f].join()+")";elem.setAttribute("transform",f+l);bbox=svgedit.utilities.getBBox($j("#selectedBox0")[0]);angle!==void 0&&angle!=null&&P.setRotationAngle(angle);H[0].setAttribute("x",
c);H[0].setAttribute("y",h);var h=$j(H[0]).children(),f=h.length;if(f>0)for(i=0;i<h.length;i++)h[i].setAttribute("x",c);$b=false;this.setFontSizeNew(S,S);$b=false;size=S/zoom_factor;if(a.isMultiline){Y.propagateSelectionChanges({attribute:"font_size",value:Math.round(size)+"pt"});Ha.renderTextSVG(H[0],true)}za.requestSelector(H[0]).resize();$j("#font_size").val(Math.round(S));$j("#text_size_slider").slider("value",S);$j("#font_slideval").val(S);$j(".size_slider_wrapper").slider("value",S);H[0].setAttribute("resized",
"false");if(svgedit.browser.isIE()){$j(elem).trigger("mousedown");$j(elem).trigger("mouseup")}}};this.currentFontSize=function(){return vc};this.textInEditMode=function(){var c=H[0];P.setMode("select");if(!a.isMultiline){if($j("#selectorGrip_resize_e").prop("tagName")=="rect")var h=$j("#selectorGrip_resize_e").attr("x")/W,l=$j("#selectorGrip_resize_e").attr("y")/W;else{h=$j("#selectorGrip_resize_e").attr("cx")/W;l=$j("#selectorGrip_resize_e").attr("cy")/W}Hb.select(c,h+8,l)}};this.deleteMultilineIfEmpty=
function(){var a=$j("#svgcontent g").children(),c=false;for(i=0;i<a.length;i++)if(a[i].tagName=="text"&&a[i].getAttribute("isMultiline")){var h=$j(a[i]).children();for(j=0;j<h.length;j++)if(h[j].textContent.length==1&&h[j].textContent==" ")c=true;else if(h[j].textContent.length>=1){c=false;break}c&&a[i].parentNode.removeChild(a[i]);c=false}};this.createFontBtn=function(a){var c=a.replace(" ","").toLowerCase(),h=$j("#font_view_content .vtab ul.tabs");$j("#tool_image").hasClass("backend")&&(h=$j("#font_view_content .vtab ul.tab"));
var l=$j("#font_view_content .vtab"),f=$j('<li class="'+c+'" attr_btn="'+a+'"><span class="text">'+a+"</span></li>");h.append(f);c=$j('<div style="display:none;" class="'+c+'_c"> <ul></ul> </div>');l.append(c);Kd.push(a);a=$j("#font_view_content .vtab ul.tabs li").first();l=$j("#font_view_content .vtab ul.tabs li span").first();$j("#tool_image").hasClass("backend")&&(a=$j("#font_view_content .vtab ul.tab li").first());a.addClass("selected");l.addClass("arrow");a=$j("#font_view_content .vtab div").first();
a.addClass("selected");a.show()};this.updateCurrentFontSize=function(){var c=H[0];bbox=svgedit.utilities.getBBox(c);bbox1=svgedit.utilities.getBBox($j("#selectedBox0")[0]);var h=$j("#zoom_factor").val();if(H[0].tagName=="text"&&P.getTextAspect()){if(a.isMultiline){childs=$j(c).children("tspan");var l=c.getAttribute("x"),f=0;for(i=0;i<childs.length;i++)l==childs[i].getAttribute("x")&&f++;height=bbox1.height/f;size=$j("#tool_image").hasClass("backend")?(height-c.getAttribute("leading"))*72/92:(height-
c.getAttribute("leading"))*72/92*h}else size=$j("#tool_image").hasClass("backend")?(bbox1.height-c.getAttribute("leading"))*72/128:(bbox1.height-c.getAttribute("leading"))*72/128*h;S=size=size/W;P.setFontSize(size);$j("#font_size").val(Math.round(size));$j("#text_size_slider").slider("value",S)}};this.getFontSize=function(){if(a.isMultiline){var c="",c=ja.font_size,h=Ha.getCurCharacterAttribute();if(h!=null)localStyle=h.attr.font_size;ed();retval=c;return $j("#zoom_factor").length>0?retval.toString().replace("pt",
"")*$j("#zoom_factor").val():retval.toString().replace("pt","")}return $j("#zoom_factor").length>0?ja.font_size.toString().replace("pt","")*$j("#zoom_factor").val():ja.font_size.toString().replace("pt","")};this.setFontSize=function(c){c=Math.round(c);if(a.isMultiline){ja.font_size=c;zoom_factor=$j("#zoom_factor").length>0?$j("#zoom_factor").val():1;xb("font_size",c/zoom_factor+"pt");Ha.renderTextSVG(H[0],true);if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){c=$j("svg#svgroot");
c.css("display","none").height();c.css("display","")}if(svgedit.browser.isChrome()){c=$j("svg#svgroot");c.css("display","none").height();c.css("display","")}}else{zoom_factor=$j("#zoom_factor").length>0?$j("#zoom_factor").val():1;ja.font_size=c/zoom_factor;xb("font_size",c/zoom_factor+"pt");H[0].textContent||Hb.setCursor()}za.requestSelector(H[0]).resize()};this.IEsetFontSizeNew=function(c){zoom_factor=$j("#zoom_factor").length>0?$j("#zoom_factor").val():1;vc=S=c;var c=Math.round(c),h=H[0].getAttribute("transform");
if(h!=null&&h.indexOf("matrix")>-1&&svgCanvas.getTextAspect()){h=$j("#angle").val();svgCanvas.setRotationAngle(0,true);svgCanvas.fontZeroScaling();svgCanvas.setRotationAngle(h,true)}if(a.isMultiline){ja.font_size=c;Y.propagateSelectionChanges({attribute:"font_size",value:c+"pt"});ja.font_size=c;xb("font_size",c+"pt");Ha.renderTextSVG(H[0],true);if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){c=$j("svg#svgroot");c.css("display","none").height();c.css("display","")}dc("")}else{ja.font_size=
c;xb("font_size",c+"pt");xb("font-size",c+"pt");H[0].textContent||Hb.setCursor()}za.requestSelector(H[0]).resize()};this.setFontSizeNew=function(c){zoom_factor=$j("#zoom_factor").length>0?$j("#zoom_factor").val():1;vc=S=c=c/zoom_factor;c=Math.round(c);if(a.isMultiline){ja.font_size=c;Y.propagateSelectionChanges({attribute:"font_size",value:c+"pt"});ja.font_size=c;xb("font_size",c+"pt");Ha.renderTextSVG(H[0],true);if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){c=$j("svg#svgroot");
c.css("display","none").height();c.css("display","")}dc("");if(svgedit.browser.isChrome()){c=$j("svg#svgroot");c.css("display","none").height();c.css("display","")}}else{ja.font_size=c;xb("font_size",c+"pt");xb("font-size",c*zoom_factor+"pt");H[0].textContent||Hb.setCursor()}za.requestSelector(H[0]).resize()};this.fontZeroScaling=function(){var c=H[0],h=c.getAttribute("font_size");if($j("#selectorGrip_resize_n").prop("tagName")=="rect")var l=parseInt($j("#selectorGrip_resize_n").attr("x"))/W,f=parseInt($j("#selectorGrip_resize_e").attr("y"))/
W,n=parseInt($j("#selectorGrip_resize_ne").attr("y"))/W;else{l=parseInt($j("#selectorGrip_resize_n").attr("cx"))/W;f=parseInt($j("#selectorGrip_resize_e").attr("cy"))/W;n=parseInt($j("#selectorGrip_resize_ne").attr("cy"))/W}var o=(f-n)/2,n=$j(c).children(),q=n.length;a.isMultiline?q==1?f=f+parseInt(o)+parseInt(q):q!=2&&(f=f-parseInt(o)):f=f+parseInt(o);for(var o=Jb(c),p=o.numberOfItems;p--;){o.getItem(p);o.removeItem(p)}c.setAttribute("x",l);c.setAttribute("y",f);if(q>0)for(i=0;i<n.length;i++)n[i].setAttribute("x",
l);svgedit.browser.isIE()||c.setAttribute("font-size",Math.round(h.replace("pt",""))+"pt");za.requestSelector(c).resize()};this.setLineSpacing=function(a){H[0].setAttribute("line-spacing",a);Y.propagateSelectionChanges({attribute:"line_spacing",value:a});Ha.renderTextSVG(H[0],true);if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){a=$j("svg#svgroot");a.css("display","none").height();a.css("display","")}za.requestSelector(H[0]).resize()};this.SlidingLineSpacing=function(a){var c=H[0],
h=c.getAttribute("line-spacing"),h=a-h;c.setAttribute("line-spacing",a);a=$j(c).children();for(i=1;i<a.length;i++){c=parseFloat(a[i].getAttribute("dy"));a[i].setAttribute("dy",c+h)}if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){h=$j("svg#svgroot");h.css("display","none").height();h.css("display","")}za.requestSelector(H[0]).resize()};this.getLineSpacing=function(){var a=H[0];return a.getAttribute("line-spacing")==null?0:a.getAttribute("line-spacing")};this.getLineSpacing=function(){var a=
H[0];if(a!=null&&a.tagName=="text"&&H[1]==null)return a.getAttribute("line-spacing")==null?0:a.getAttribute("line-spacing")};this.getTextType=function(){var a=H[0];if(a!=null&&a.tagName=="text"&&H[1]==null)return a.getAttribute("texttype")};this.setGrid=function(a){var c=Ga("canvasGrid");a?c.setAttribute("fill","url(#gridpattern)"):c.setAttribute("fill","none")};this.setTextType=function(a){xb("texttype",a);H[0].textContent||Hb.setCursor();$j("#textType").blur();Ga("text_cursor").setAttribute("visibility",
"hidden")};this.getImageType=function(){var a=H[0];if(a!=null&&a.tagName=="image"&&H[1]==null)return a.getAttribute("imagetype")};this.setImageType=function(a){xb("imagetype",a)};this.getText=function(){var a=H[0];return a==null?"":a.textContent};this.setTextContent=function(c,h,l){$j("#text");if(a.isMultiline){if(h==void 0)return;navKeys=[37,38,39,40,13,8];switch(h.keyCode){case 13:c="\n";text=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");Ha.insertChar(c,$j("#text")[0].selectionEnd);$c=true;Ha.renderTextSVG(H[0],
true);za.requestSelector(H[0]).resize();break;case 46:text=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");if($j("#text")[0].selectionStart!=$j("#text")[0].selectionEnd){Ha.renderTextSVG(H[0],true);for(i=0;i<=$j("#text")[0].selectionEnd-$j("#text")[0].selectionStart;i++)Ha.removeChar($j("#text")[0].selectionEnd-i)}else Ha.removeChar($j("#text")[0].selectionEnd);Ha.renderTextSVG(H[0],true);za.requestSelector(H[0]).resize();break;case 8:text=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");if(l&&text.length>
0)for(i=0;i<text.length+1;i++){Ha.insertChar(text[i],i);dc(" ")}if($j("#text")[0].selectionStart!=$j("#text")[0].selectionEnd){Ha.renderTextSVG(H[0],true);for(i=1;i<=$j("#text")[0].selectionEnd-$j("#text")[0].selectionStart;i++)Ha.removeChar($j("#text")[0].selectionEnd-i)}else if(l)Ha.removeChar($j("#text").val().replace(/[^\S\r\n]+$/gm,"").length);else{h=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");h.charAt(h.length-1)=="\n"&&($c=true);Ha.removeChar($j("#text")[0].selectionEnd-1)}Ha.renderTextSVG(H[0],
true);za.requestSelector(H[0]).resize();break;case 39:if(!svgedit.browser.isWebkit())break;case 38:if(!svgedit.browser.isWebkit())break;case 40:if(!svgedit.browser.isWebkit())break;case 37:if(!svgedit.browser.isWebkit())break;default:c=String.fromCharCode(h.charCode);text=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");if(Y.isCtrlKeyPressed()){for(i=0;i<text.length;i++){Ha.insertChar(text[i],i,"crtl");dc("")}Ha.renderTextSVG(H[0],true)}if(Y.isPrintable(c)){text=$j("#text").val().replace(/[^\S\r\n]+$/gm,
"");Ha.renderTextSVG(H[0],true);if($j("#text")[0].selectionStart!=$j("#text")[0].selectionEnd){Ha.renderTextSVG(H[0],true);for(i=1;i<=$j("#text")[0].selectionEnd-$j("#text")[0].selectionStart;i++)Ha.removeChar($j("#text")[0].selectionEnd-i);Ha.renderTextSVG(H[0],true)}else if(!h.ctrlKey&&!h.metaKey){Ha.insertChar(c,$j("#text")[0].selectionEnd-1);Ha.renderTextSVG(H[0],true)}}za.requestSelector(H[0]).resize()}}else{xb("#text",c);Hb.init(c);Hb.setCursor();if(c!=""){$j(".wrap").show();$j(".unlock").show()}else{$j(".wrap").hide();
$j(".locked").hide()}}return true};this.updateText=function(){text=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");var a=text.length;Ha.setTextArray();for(i=0;i<a;i++){Ha.insertChar(text[i],i,"crtl");dc("")}Ha.renderTextSVG(H[0],true);if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){a=$j("svg#svgroot");a.css("display","none").height();a.css("display","")}za.requestSelector(H[0]).resize();if(svgedit.browser.isChrome()){a=$j("svg#svgroot");a.css("display","none").height();a.css("display",
"")}return true};this.ipadMultiline=function(){if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){text=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");var a=text.length;Ha.insertChar(text[a-1],a);$j("#text").trigger($j.Event("keydown",{keyCode:8}));$j("#text").trigger($j.Event("keypress",{keyCode:8}));svgEditor.textchange();$j("#text").trigger($j.Event("keyup",{keyCode:8}))}};this.setTextContentBulk=function(a){index=a[0]===void 0?$j("#text")[0].selectionEnd-(a.length-1):$j("#text")[0].selectionEnd-
a.length;for(i=a.length-1;i>=0;i--)if(a[i]!=void 0){a[i].keyCode==13?Ha.insertChar("\n",index):Ha.insertChar(String.fromCharCode(a[i].charCode),index);Ha.renderTextSVG(H[0],true)}za.requestSelector(H[0]).resize()};this.setTextContentmeta=function(){text=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");for(i=0;i<text.length;i++){Ha.insertChar(text[i],i,"crtl");dc("")}Ha.renderTextSVG(H[0],true);za.requestSelector(H[0]).resize()};this.setCropImageURL=function(a,c,h){var l=H[0];if(l){var f=l.parentNode;
if($j("#dol_type").val()=="vuezz"){var n=new Bb("Remove Original Image");Ec=l.getAttribute("clip");id=Ec.substring(5,Ec.length-1);var o=$j("#svgcontent g").children();for(i=0;i<o.length;i++){var q=o[i];if(q.tagName=="clipPath"){clip_id=q.getAttribute("id");if(id==clip_id){q=o[i].childNodes[0];x1=q.getAttribute("x");y1=q.getAttribute("y");Yb(parseInt(x1)+5,parseInt(y1)+5,c,h,a)}}}$j("#cropping_box .desc").hide();$j("#cropping_box .desc-rendering").show();$j(new Image).load(function(){$j("#cropping_box .desc-rendering").hide();
$j("#cropping_box").hide()}).attr("src",a);za.releaseSelector(l);svgedit.path.removePath_(l.id);c=l.nextSibling;h=f.removeChild(l);n.addSubCommand(new oc(h,c,f));n.isEmpty()||db(n)}else{n=$j(l).attr(["width","height"]);n=!n.width||!n.height;f=$j(l).attr(["width","height"]);o=cd(l);if(o!==a)n=true;else if(n)return;n=new Bb("Change Image URL");$j("#cropping_box .desc").hide();$j("#cropping_box .desc-rendering").show();$j(new Image).load(function(){$j("#cropping_box .desc-rendering").hide();$j("#cropping_box").hide();
dd(l,a)}).attr("src",a);n.addSubCommand(new Rb(l,{"#href":o}));$j("#tool_image").attr("rel")!="true"&&$j(l).attr("placeholder")=="true"?$j(l).attr({width:c,height:h,orig_w:c,orig_h:h}):$j(l).attr({orig_w:c,orig_h:h});za.requestSelector(l).resize();n.addSubCommand(new Rb(l,f));db(n);Ra("changed",[l]);if($j("#tool_image").attr("rel")!="true"){P.alignSelectedElements("m","page");P.alignSelectedElements("c","page")}}}};this.setImageURL=function(a,c,h){var l=H[0];c&&(l=Ga("backImage"));if(l){var f=$j(l).attr(["width",
"height"]),f=!f.width||!f.height,n=cd(l);if(n!==a)f=true;else if(!f)return;var o=new Bb("Change Image URL");dd(l,a);o.addSubCommand(new Rb(l,{"#href":n}));f?$j(new Image).load(function(){if(!c){var a=$j(l).attr(["width","height"]),f=this.width,n=this.height,q=ma.getAttribute("width")/W,p=ma.getAttribute("height")/W,u=$j("#canvasBleed").attr("width")/W,z=$j("#canvasBleed").attr("height")/W;$j("#canvasBleed").attr("x");$j("#canvasBleed").attr("y");if(f>u||n>z)if(c)if(h){q=Math.max(u/f,z/n);f=f*q;n=
n*q;$j(l).attr({width:f,height:n,x:(u-f)/2,y:(z-n)/2})}else $j(l).attr({width:q,height:p,x:0,y:0});else{q=Math.min(u/f,z/n);f=f*q;n=n*q;$j(l).attr({width:f,height:n,x:u/2-f/2,y:z/2-n/2})}else if(c)if(h){q=Math.max(u/f,z/n);f=f*q;n=n*q;$j(l).attr({width:f,height:n,x:(u-f)/2,y:(z-n)/2})}else $j(l).attr({width:q,height:p,x:0,y:0});else $j(l).attr({width:this.width,height:this.height,x:u/2-this.width/2,y:z/2-this.height/2});if(!c){za.requestSelector(l).resize();o.addSubCommand(new Rb(l,a));db(o);Ra("changed",
[l])}}}).attr("src",a):db(o);return true}};this.textIsFlipped=function(a){if(a==null||a.indexOf("matrix")==-1)return true;var a=a.split("(")[1].split(")")[0].split(","),c=a[3];return a[0].indexOf("-")!=-1||c.indexOf("-")!=-1?false:true};this.flipVertical=function(){var a=H[0],c=svgedit.utilities.getBBox(a),h=ha.createSVGMatrix();h.a=-1;h.b=0;h.c=0;h.d=1;h.e=-2/parseInt(c.x);h.f=parseInt(c.height)/2+parseInt(c.y);var l=a.getAttribute("transform"),c=svgedit.utilities.getBBox(a),f=c.x+c.width/2,n=c.y+
c.height/2,c=Jb(a);lb(f,n,fa(c).matrix);f=ha.createSVGTransform();h=h.multiply(h.flipY());f.setMatrix(h);c.numberOfItems?c.insertItemBefore(f,0):c.appendItem(f);c.consolidate();h=a.getAttribute("transform");a.setAttribute("transform",l);xb("transform",h,H);Ra("changed",H);Ga("pathpointgrip_container");kc(H[0]);za.requestSelector(H[0]).resize()};this.sizetobest=function(){var c=new Bb("Size to best"),h=H[0],l=Jb(h),f=l.numberOfItems,n=h.getAttributeNS("http://www.w3.org/1999/xlink","href"),o=$j(h).attr(["width",
"height","x","y"]),q=$j("#zoom_factor").val();if(q==void 0||q==null)q=1;var p=document.getElementById("stob");$j("#stob").attr("src","");$j("#stob").attr("src",n);p.onload=function(){h.setAttribute("width",p.offsetWidth);h.setAttribute("height",p.offsetHeight);var n=a.defaultImage_x=="center"?0:a.defaultImage_x,u=a.defaultImage_y=="center"?0:a.defaultImage_y;h.setAttribute("x",n);h.setAttribute("y",u);$j("#selected_x").val(n);for($j("#selected_y").val(u);f--;){l.getItem(f);l.removeItem(f)}$j("#image_width").val(P.unitValue(p.offsetWidth*
q));$j("#image_height").val(P.unitValue(p.offsetHeight*q));$j("#image_width_slider").slider("value",P.unitValue(p.offsetWidth));$j("#image_height_slider").slider("value",P.unitValue(p.offsetHeight));n=za.requestSelector(H[0]);c.addSubCommand(new Rb(h,o));db(c);n.resize()}};this.flipHorizontal=function(){var a=H[0],c=svgedit.utilities.getBBox(a),h=ha.createSVGMatrix();h.a=1;h.b=0;h.c=0;h.d=-1;h.e=parseInt(c.x)+parseInt(c.width)/2;h.f=2/parseInt(c.y);var l=a.getAttribute("transform"),c=svgedit.utilities.getBBox(a),
f=c.x+c.width/2,n=c.y+c.height/2,c=Jb(a);lb(f,n,fa(c).matrix);f=ha.createSVGTransform();h=h.multiply(h.flipX());f.setMatrix(h);c.numberOfItems?c.insertItemBefore(f,0):c.appendItem(f);h=a.getAttribute("transform");a.setAttribute("transform",l);xb("transform",h,H);Ra("changed",H);Ga("pathpointgrip_container");kc(H[0]);za.requestSelector(H[0]).resize()};this.setFilters=function(a){var c=H[0];c!=null&&c.tagName=="image"&&H[1]==null&&(a!="default"?xb("filter","url(#"+a+")"):c.removeAttribute("filter"))};
this.setShadows=function(a){var c=H[0];a!=void 0&&(c.tagName=="text"&&H[1]==null?a!="none"?xb("filter","url(#te"+a+")"):c.removeAttribute("filter"):H[1]==null&&(a!="none"?xb("filter","url(#"+a+")"):c.removeAttribute("filter")))};this.lockObject=function(){var a=H[0];if(a.getAttribute("lock")==null||a.getAttribute("lock")=="false"){$j("#tool_image").hasClass("backend")&&a.setAttribute("lock_admin",true);xb("lock",true)}else{$j("#tool_image").hasClass("backend")&&a.setAttribute("lock_admin",false);
xb("lock",false)}};this.setLinkURL=function(a){var c=H[0];if(c){if(c.tagName!=="a"){c=$j(c).parents("a");if(c.length)c=c[0];else return}var h=cd(c);if(h!==a){var l=new Bb("Change Link URL");dd(c,a);l.addSubCommand(new Rb(c,{"#href":h}));db(l)}}};this.setRectRadius=function(a){var c=H[0];if(c!=null&&c.tagName=="rect"){var h=c.getAttribute("rx");if(h!=a){c.setAttribute("rx",a);c.setAttribute("ry",a);db(new Rb(c,{rx:h,ry:h},"Radius"));Ra("changed",[c])}}};this.makeHyperlink=function(a){P.groupSelectedElements("a",
a)};this.removeHyperlink=function(){P.ungroupSelectedElement()};this.setSegType=function(a){Fb.setSegType(a)};this.convertToPath=function(a,c){if(a==null)$j.each(H,function(a,c){c&&P.convertToPath(c)});else{if(!c)var h=new Bb("Convert element to Path");if(a.tagName=="line"){if(va.stroke_width==null)va.stroke_width=1;va.fill="none"}else va.fill=va.fill;var l=c?{}:{fill:va.fill,"fill-opacity":va.fill_opacity,stroke:va.stroke,"stroke-width":va.stroke_width,"stroke-dasharray":va.stroke_dasharray,"stroke-linejoin":va.stroke_linejoin,
"stroke-linecap":va.stroke_linecap,"stroke-opacity":va.stroke_opacity,opacity:va.opacity,visibility:"hidden"};$j.each(["marker-start","marker-end","marker-mid","filter","clip-path"],function(){a.getAttribute(this)&&(l[this]=a.getAttribute(this))});var f=Ta({element:"path",attr:l}),n=a.getAttribute("transform");n&&f.setAttribute("transform",n);var o=a.id,q=a.parentNode;a.nextSibling?q.insertBefore(f,a):q.appendChild(f);var p="",u=function(a){$j.each(a,function(a,c){var h=c[1];p=p+c[0];for(var l=0;l<
h.length;l=l+2)p=p+(h[l]+","+h[l+1]+" ")})},z=1.81;switch(a.tagName){case "ellipse":case "circle":var s=$j(a).attr(["rx","ry","cx","cy"]),w=s.cx,B=s.cy,A=s.rx,s=s.ry;a.tagName=="circle"&&(A=s=$j(a).attr("r"));u([["M",[w-A,B]],["C",[w-A,B-s/z,w-A/z,B-s,w,B-s]],["C",[w+A/z,B-s,w+A,B-s/z,w+A,B]],["C",[w+A,B+s/z,w+A/z,B+s,w,B+s]],["C",[w-A/z,B+s,w-A,B+s/z,w-A,B]],["Z",[]]]);break;case "path":p=a.getAttribute("d");break;case "line":s=$j(a).attr(["x1","y1","x2","y2"]);p="M"+s.x1+","+s.y1+"L"+s.x2+","+s.y2;
break;case "polyline":case "polygon":p="M"+a.getAttribute("points");break;case "rect":var s=$j(a).attr(["rx","ry"]),A=s.rx,s=s.ry,C=a.getBBox(),w=C.x,B=C.y,F=C.width,C=C.height,z=4-z;!A&&!s?u([["M",[w,B]],["L",[w+F,B]],["L",[w+F,B+C]],["L",[w,B+C]],["L",[w,B]],["Z",[]]]):u([["M",[w,B+s]],["C",[w,B+s/z,w+A/z,B,w+A,B]],["L",[w+F-A,B]],["C",[w+F-A/z,B,w+F,B+s/z,w+F,B+s]],["L",[w+F,B+C-s]],["C",[w+F,B+C-s/z,w+F-A/z,B+C,w+F-A,B+C]],["L",[w+A,B+C]],["C",[w+A/z,B+C,w,B+C-s/z,w,B+C-s]],["L",[w,B+s]],["Z",
[]]]);break;default:f.parentNode.removeChild(f)}p&&f.setAttribute("d",p);if(c){Fb.resetOrientation(f);h=false;try{h=f.getBBox()}catch(J){}f.parentNode.removeChild(f);return h}if(n){n=Jb(f);Sc(n)&&Fb.resetOrientation(f)}n=a.nextSibling;h.addSubCommand(new hc(f));h.addSubCommand(new oc(a,n,q));wb();a.parentNode.removeChild(a);f.setAttribute("id",o);f.removeAttribute("visibility");jc([f],true);db(h)}};var Ic=function(c,h,l){var f=ha.suspendRedraw(1E3);Ua=="pathedit"&&Fb.moveNode(c,h);for(var l=l||H,
n=l.length,o=["g","polyline","path"],q=["transform","opacity","filter"];n--;){var p=l[n];if(p!=null)if((c==="x"||c==="y")&&o.indexOf(p.tagName)>=0){var u=Lc([p]);P.moveSelectedElements((c==="x"?h-u.x:0)*W,(c==="y"?h-u.y:0)*W,true)}else{p.tagName==="g"&&q.indexOf(c);u=c==="#text"?p.textContent:p.getAttribute(c);u==null&&(u="");if(u!==String(h)){if(c=="#text"){svgedit.utilities.getBBox(p);p.textContent=h;/rotate/.test(p.getAttribute("transform"))&&(p=Vd(p))}else if(c=="#href")dd(p,h);else{if(p.tagName==
"tspan"&&(c=="stroke"||c=="fill"||c=="stroke-width"))p.setAttribute(c,String(h));else{p.setAttribute(c,String(h));if(p.tagName=="text"&&(c=="stroke"||c=="fill"||c=="opacity")){u=$j(p).children();for(n=0;n<u.length;++n)Ic(c,h,$j(u[n]))}}if(p.tagName=="g"&&c=="opacity"){u=$j(p).children();for(n=0;n<u.length;++n)u[n].tagName=="g"?Ic(c,h,$j(u[n])):u[n].setAttribute(c,String(h))}if(p.tagName=="text"&&a.isMultiline&&c==="x"){Ha.renderTextSVG(p,true);Y.propagateSelectionChanges({attribute:c,value:h})}}if(svgedit.browser.isGecko()&&
p.nodeName==="text"&&/rotate/.test(p.getAttribute("transform"))&&((h+"").indexOf("url")===0||["font-size","font-family","x","y"].indexOf(c)>=0&&p.textContent)){p=Vd(p);a.isMultiline&&(u=Vd(p))&&(p=u)}H.indexOf(p)>=0&&setTimeout(function(){p.parentNode&&za.requestSelector(p).resize()},0);u=Kc(p);if(u!=0&&c!="transform"&&p.tagName!=="text")for(var z=Jb(p),s=z.numberOfItems;s--;)if(z.getItem(s).type==4){z.removeItem(s);var w=svgedit.utilities.getBBox(p),B=lb(w.x+w.width/2,w.y+w.height/2,fa(z).matrix),
w=B.x,B=B.y,A=ha.createSVGTransform();A.setRotate(u,w,B);z.insertItemBefore(A,s);break}}}}ha.unsuspendRedraw(f)},xb=this.changeSelectedAttribute=function(a,c,h){h=h||H;if(a!="lock"){P.undoMgr.beginUndoableChange(a,h);if(H[0].getAttribute("text_type")=="textpath"){Ic(a,c,h);a=="opacity"&&H[0].setAttribute("opacity",$j("#group_opacity").val()/100)}else{Ic(a,c,h);a=="opacity"&&Ic("opacity",$j("#group_opacity").val()/100,h)}a=P.undoMgr.finishUndoableChange();a.isEmpty()||db(a)}else{H[0]!=null&&H[0].getAttribute("text_type");
Ic(a,c,h)}};this.clickRemovebg=function(){wb();$j("#svgcontent #backImage").length>0&&P.deleteSelectedElements(Ga("backImage"));Ga("colorRect")&&P.deleteSelectedElements(Ga("colorRect"))};this.deleteSelectedElements=function(a){var c=false,h=new Bb("Delete Elements");if(a!=null)var c=true,l=1;else l=H.length;for(var f=[],n=0;n<l;++n){var o=H[n];c&&(o=a);if(o==null)break;o.getAttribute("id")=="backImage"&&$j("#tool_removebg").addClass("disable");var q=o.parentNode,a=o;za.releaseSelector(a);svgedit.path.removePath_(a.id);
if(q.tagName==="a"&&q.childNodes.length===1){a=q;q=q.parentNode}var p=a.nextSibling,a=q.removeChild(a);f.push(o);H[n]=null;h.addSubCommand(new oc(a,p,q))}h.isEmpty()||db(h);Ra("changed",f);wb()};this.cutSelectedElements=function(){for(var a=new Bb("Cut Elements"),c=H.length,h=[],l=0;l<c;++l){var f=H[l];if(f==null)break;if(f.tagName==="text"&&f.textContent.length==0){$j("#tool_paste").addClass("disable");return}var n=f.parentNode,o=f;za.releaseSelector(o);svgedit.path.removePath_(o.id);var q=o.nextSibling,
o=n.removeChild(o);h.push(f);H[l]=null;a.addSubCommand(new oc(o,q,n));o.tagName=="text"&&(f=Ga("text_cursor"))&&f.setAttribute("visibility","hidden")}a.isEmpty()||db(a);Ra("changed",h);wb();P.clipBoard=h};this.copySelectedElements=function(){for(var a=H.length,c=[],h=0;h<a;++h){var l=H[h];if(l==null)break;if(l.tagName==="text"&&l.textContent.length==0){$j("#tool_paste").addClass("disable");return}if(l.tagName=="text"){var f=Ga("text_cursor");f&&f.setAttribute("visibility","hidden")}za.releaseSelector(l);
c.push(l)}Ra("changed",c);wb();P.clipBoard=c};this.pasteElements=function(a,c,h){var l=P.clipBoard,f=l.length;if(f){for(var n=[],o=new Bb("Paste elements");f--;){for(var q=l[f],p=0;p<q.childNodes.length;p++)q.childNodes[p].nodeType==3&&q.childNodes[p].textContent.indexOf("\n")==0&&q.removeChild(q.childNodes[p]);if(q){p=Mb(q);if(!Ga(q.id))p.id=q.id;n.push(p);if($j("#dol_type").val()=="vuezz"&&q.tagName!="text"){clip=svgCanvas.getUrlFromAttr(q.getAttribute("clip"));pqr=clip.substr(1,clip.length-1);
as=$j("."+pqr).first();as.append(p)}else(bc||vb().getCurrentLayer()).appendChild(p);o.addSubCommand(new hc(p))}}Vb(n);if(a!=void 0&&a!=="in_place"){var u,z;if(a){if(a==="point"){u=c;z=h}}else{u=Ae.x;z=Ae.y}var a=Lc(n),s=u-(a.x+a.width/2),w=z-(a.y+a.height/2),B=[],A=[];$j.each(n,function(){B.push(s);A.push(w)});u=P.moveSelectedElements(B,A,false);o.addSubCommand(u)}db(o);Ra("changed",n)}};this.groupSelectedElements=function(a,c){if(!(c!=true&&(H.length==1||H[1]==null))){a||(a="g");var h="";switch(a){case "a":var h=
"Make hyperlink",l="";arguments.length>1&&(l=arguments[1]);break;default:a="g";h="Group Elements"}h=new Bb(h);clipart_class=c?"clipart_img":"";var f=Ta({element:a,attr:{id:Db(),"class":clipart_class,attr_c:clipart_class}});a==="a"&&dd(f,l);h.addSubCommand(new hc(f));for(l=H.length;l--;){var n=H[l];if(n!=null){if(n.parentNode.tagName==="a"&&n.parentNode.childNodes.length===1)n=n.parentNode;var o=n.nextSibling,q=n.parentNode;f.appendChild(n);h.addSubCommand(new Dc(n,o,q))}}h.isEmpty()||db(h);wb();!c||
c==null?Vb([f],false):Vb([f],true)}};var Qf=this.pushGroupProperties=function(a,c){for(var h=a.childNodes,l=h.length,f=a.getAttribute("transform"),n=Jb(a),o=fa(n).matrix,q=new Bb("Push group properties"),p=0,u=Kc(a),z=$j(a).attr(["filter","opacity"]),s,w,p=0;p<l;p++){var B=h[p];if(B.nodeType===1){if(z.opacity!==null&&z.opacity!==1)if(B.getAttribute("opacity")==null)B.setAttribute("opacity",z.opacity);else{var A=Math.round((B.getAttribute("opacity")||1)*z.opacity*100)/100;xb("opacity",A,[B])}if(z.filter){var C=
A=P.getBlur(B);w||(w=P.getBlur(a));A?A=w-0+(A-0):A===0&&(A=w);if(C)s=B.getAttribute("filter")!=null?gd(B.getAttribute("filter")):gd(z.filter);else if(s){s=Mb(s);Pb().appendChild(s)}else s=gd(z.filter);s.id=B.id+"_"+(s.firstChild.tagName==="feGaussianBlur"?"blur":"filter");xb("filter","url(#"+s.id+")",[B]);if(A){xb("stdDeviation",A,[s.firstChild]);P.setBlurOffsets(s,A)}}A=Jb(B);~B.tagName.indexOf("Gradient")&&(A=null);if(A&&B.tagName!=="defs"&&n.numberOfItems){if(u&&n.numberOfItems==1){var F=n.getItem(0).matrix,
J=ha.createSVGMatrix();if(C=Kc(B))J=A.getItem(0).matrix;if(B.tagName!="feGaussianBlur"&&B.tagName!="title"){var E=svgedit.utilities.getBBox(B),M=fa(A).matrix,I=lb(E.x+E.width/2,E.y+E.height/2,M),E=u+C,M=ha.createSVGTransform();M.setRotate(E,I.x,I.y);F=oa(F,J,M.matrix.inverse());C&&A.removeItem(0);E&&(A.numberOfItems?A.insertItemBefore(M,0):A.appendItem(M));if(F.e||F.f){C=ha.createSVGTransform();C.setTranslate(F.e,F.f);A.numberOfItems?A.insertItemBefore(C,0):A.appendItem(C)}}}else{C=B.getAttribute("transform");
F={};F.transform=C?C:"";C=ha.createSVGTransform();F=fa(A).matrix;J=F.inverse();F=oa(J,o,F);C.setMatrix(F);A.appendItem(C)}(B=kc(B))&&q.addSubCommand(B)}}}if(f){F={};F.transform=f;a.setAttribute("transform","");a.removeAttribute("transform");q.addSubCommand(new Rb(a,F))}if(c&&!q.isEmpty())return q};this.ungroupSelectedElement=function(a,c,h){a=a==null?H[0]:a;if($j(a).data("gsvg")||$j(a).data("symbol"))We(a);else if(a.tagName==="use"){c=Ga(cd(a).substr(1));$j(a).data("symbol",c).data("ref",c);We(a)}else{var l=
$j(a).parents("a");l.length&&(a=l[0]);if(a.tagName==="g"||a.tagName==="a"){var l=new Bb("Ungroup Elements"),f=Qf(a,true);f&&l.addSubCommand(f);for(var f=a.parentNode,n=a.nextSibling,o=Array(a.childNodes.length),q=0;a.firstChild;){var p=a.firstChild,u=p.nextSibling,z=p.parentNode;if(p.tagName==="title"){l.addSubCommand(new oc(p,p.nextSibling,z));z.removeChild(p)}else{o[q++]=p=f.insertBefore(p,n);l.addSubCommand(new Dc(p,u,z))}}wb();n=a.nextSibling;a=f.removeChild(a);l.addSubCommand(new oc(a,n,f));
l.isEmpty()||db(l);h||jc(o,null,c)}}};this.moveToTopSelectedElement=function(){var a=H[0];if(a!=null){var c=a,h=c.parentNode,l=c.nextSibling;if(a.getAttribute("text_type")=="textpath"){var f=[],f=[c.previousSibling,c];for(i=0;i<2;i++)c=c.parentNode.appendChild(f[i])}else c=c.parentNode.appendChild(c);if(l!=c.nextSibling){if(a.getAttribute("text_type")=="textpath")for(i=0;i<2;i++)db(new Dc(f[i],l,h,"top"));else db(new Dc(c,l,h,"top"));Ra("changed",[c])}}};this.moveToBottomSelectedElement=function(a){var c=
H[0];if(c!=null){var h=c,l=h.parentNode,f=h.nextSibling,n=h.parentNode.firstChild,o=[];if(n.tagName=="title")n=n.nextSibling;if(n.tagName=="defs")n=n.nextSibling;if(a=="image"&&n.tagName=="image"&&n.getAttribute("id")=="backImage")n=n.nextSibling;if(c.getAttribute("text_type")=="textpath"){o=[h.previousSibling,h];for(i=0;i<2;i++)h=h.parentNode.insertBefore(o[i],n)}else h=h.parentNode.insertBefore(h,n);if(f!=h.nextSibling){if(c.getAttribute("text_type")=="textpath")for(i=0;i<2;i++)db(new Dc(o[i],f,
l,"bottom"));else db(new Dc(h,f,l,"bottom"));Ra("changed",[h])}}};this.moveUpDownSelected=function(a){var c=H[0];if(c){Uc=[];var h,l,f=$j(Be(Lc([c]))).toArray();a=="Down"&&f.reverse();$j.each(f,function(){if(l){h=this;return false}this==c&&(l=true)});if(h){var f=c.parentNode,n=c.nextSibling;$j(h)[a=="Down"?"before":"after"](c);if(n!=c.nextSibling){db(new Dc(c,n,f,"Move "+a));Ra("changed",[c])}}}};this.moveSelectedElements=function(a,c,h,l){if(a.constructor!=Array){a=a/W;c=c/W}if(H[0].getAttribute("text_type")==
"textpath"){Ec=H[0];jc([Ga(Ec.getAttribute("pathid"))])}for(var h=h||true,f=new Bb("position"),n=H.length;n--;){var o=H[n];if(o!=null){var q=ha.createSVGTransform(),p=Jb(o);a.constructor==Array?q.setTranslate(a[n],c[n]):q.setTranslate(a,c);p.numberOfItems?p.insertItemBefore(q,0):p.appendItem(q);q=l==true?kc(o,true):kc(o,false);if(o.tagName=="text"){p=$j(o).children();p.length>0&&p.attr("x",$j(o).attr("x"))}q&&f.addSubCommand(q);za.requestSelector(o).resize()}}if(!f.isEmpty()){h&&db(f);Ra("changed",
H);return f}};this.cloneSelectedElements=function(a,c){for(var h=new Bb("Clone Elements"),l=H.length,f=0;f<l;++f){var n=H[f];if(n==null)break}l=H.slice(0,f);this.clearSelection(true);for(f=l.length;f--;){n=l[f]=Mb(l[f]);(bc||vb().getCurrentLayer()).appendChild(n);h.addSubCommand(new hc(n))}if(!h.isEmpty()){jc(l.reverse());this.moveSelectedElements(a,c,false);db(h)}};this.alignSelectedElements=function(a,c,h){s_trns=H[0].getAttribute("transform");H[0].tagName=="text"&&s_trns!=null&&s_trns.split("(")[0]==
"rotate"&&(Ub=s_trns);var l=[],f=Number.MAX_VALUE,n=Number.MIN_VALUE,o=Number.MAX_VALUE,q=Number.MIN_VALUE,p=Number.MIN_VALUE,u=Number.MIN_VALUE,z=H.length;if(H[0].getAttribute("text_type")=="textpath"){Ec=H[0];jc([Ga(Ec.getAttribute("pathid"))])}if(z){for(var s=0;s<z;++s){if(H[s]==null)break;l[s]=Lc([H[s]]);switch(c){case "smallest":if((a=="l"||a=="c"||a=="r")&&(p==Number.MIN_VALUE||p>l[s].width)||(a=="t"||a=="m"||a=="b")&&(u==Number.MIN_VALUE||u>l[s].height)){f=l[s].x;o=l[s].y;n=l[s].x+l[s].width;
q=l[s].y+l[s].height;p=l[s].width;u=l[s].height}break;case "largest":if((a=="l"||a=="c"||a=="r")&&(p==Number.MIN_VALUE||p<l[s].width)||(a=="t"||a=="m"||a=="b")&&(u==Number.MIN_VALUE||u<l[s].height)){f=l[s].x;o=l[s].y;n=l[s].x+l[s].width;q=l[s].y+l[s].height;p=l[s].width;u=l[s].height}break;default:if(l[s].x<f)f=l[s].x;if(l[s].y<o)o=l[s].y;l[s].x+l[s].width>n&&(n=l[s].x+l[s].width);l[s].y+l[s].height>q&&(q=l[s].y+l[s].height)}}if(c=="page"){o=f=0;n=P.contentW;q=P.contentH}c=Array(z);p=Array(z);for(s=
0;s<z;++s){if(H[s]==null)break;u=l[s];c[s]=0;p[s]=0;switch(a){case "l":c[s]=f-u.x;break;case "c":c[s]=(f+n)/2-(u.x+u.width/2);break;case "r":c[s]=n-(u.x+u.width);break;case "t":p[s]=o-u.y;break;case "m":p[s]=(o+q)/2-(u.y+u.height/2);break;case "b":p[s]=q-(u.y+u.height)}}H[0].getAttribute("text_type")=="textpath"?Vb([Ec],true):h==true?this.moveSelectedElements(c,p,true,true):this.moveSelectedElements(c,p);Hb.toSelectMode()}};this.contentW=Xc().w;this.contentH=Xc().h;this.updateCanvas=function(c,h,
l){if(l==true){ha.setAttribute("width",this.contentW);ha.setAttribute("height",this.contentH);ha.setAttribute("width",h);ha.setAttribute("height",c)}else{ha.setAttribute("width",this.contentW);ha.setAttribute("height",this.contentH)}var f=$j("#canvasBackground")[0],n=$j("#canvasBleed")[0],o=$j("#canvasBleed1")[0],c=ma.getAttribute("x"),h=ma.getAttribute("y"),q=0;root_width=this.contentW*a.canvas_expansion/2;var p=q=0;if(l==true){if($j("#dol_type").val()!="vuezz"){q=$j("#workarea").outerWidth()/2;
q=this.contentH*W<=$j("#workarea").outerWidth()?Math.abs(q-this.contentH*W/2):5;p=W*100>500?$j(".pxniko").length!=0?5*W-50:5*W-30:5*W}}else if($j("#dol_type").val()!="vuezz"){q=$j("#workarea").outerWidth()/2;q=this.contentW*W<=$j("#workarea").outerWidth()?Math.abs(q-this.contentW*W/2):5;p=W*100>500?$j(".pxniko").length!=0?5*W-50:5*W-30:5*W}if(l==true){hb(ma,{width:this.contentH*W,height:this.contentW*W,x:q,y:p,viewBox:"0 0 "+this.contentH+" "+this.contentW});hb(f,{width:ma.getAttribute("width"),height:ma.getAttribute("height"),
x:q,y:p});hb(n,{width:ma.getAttribute("width")-24,height:ma.getAttribute("height")-24,x:q+12,y:p+12});canvasbleed1width=$j("#svgcontent").attr("width")-$j("#safe_margin").val()*2;canvasbleed1height=$j("#svgcontent").attr("height")-$j("#safe_margin").val()*2;hb(o,{width:canvasbleed1width,height:canvasbleed1height,x:q+24,y:p+24})}else{hb(ma,{width:this.contentW*W,height:this.contentH*W,x:q,y:p,viewBox:"0 0 "+this.contentW+" "+this.contentH});hb(f,{width:ma.getAttribute("width"),height:ma.getAttribute("height"),
x:q,y:p});hb(n,{width:ma.getAttribute("width")-24,height:ma.getAttribute("height")-24,x:q+12,y:p+12})}(l=Ga("background_image"))&&hb(l,{width:"100%",height:"100%"});Ga("Blueprint");if(a.bleed==void 0)a.bleed=0;$j("#Blueprint").attr("width",$j("#svgcontent").attr("width")-a.bleed*2);$j("#Blueprint").attr("height",$j("#svgcontent").attr("height")-a.bleed*2);$j("#Blueprint image").attr("width",$j("#svgcontent").attr("width")-a.bleed*2);$j("#Blueprint image").attr("height",$j("#svgcontent").attr("height")-
a.bleed*2);$j("#fore").attr("width",$j("#svgcontent").attr("width")-a.bleed*2);$j("#fore").attr("height",$j("#svgcontent").attr("height")-a.bleed*2);$j("#fore image").attr("width",$j("#svgcontent").attr("width")-a.bleed*2);$j("#fore image").attr("height",$j("#svgcontent").attr("height")-a.bleed*2);za.selectorParentGroup.setAttribute("transform","translate("+q+","+p+")");return{x:q,y:p,old_x:c,old_y:h,d_x:q-c,d_y:p-h}};this.createTextPath=function(a){id=Db();a=Ta({element:"path",attr:{d:a,fill:"none",
id:id}});Pb().appendChild(a);return id};this.createPathText=function(a,c,h,l,f){var n=new Bb("Create Layer");textid=Db();var o=Ta({element:"text",curStyles:false,attr:{id:textid,"font-size":ja.font_size.toString().replace("pt","")+"pt",font_size:ja.font_size.toString().replace("pt","")+"pt","font-family":ja.font_family,text_type:"textpath",clipid:a,pathid:h,x:0,fill:"#000000",isMultiline:"false","text-anchor":l==true?"middle":"start"}});$j("#"+h).attr("clipid",a);textPath=Eb.createElementNS("http://www.w3.org/2000/svg",
"textPath");textPath.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+a);textPath.setAttribute("startOffset",l==true?"50%":"0%");tspanElem=Eb.createElementNS("http://www.w3.org/2000/svg","tspan");f==true?hb(tspanElem,{"xml:space":"preserve",opacity:va.opacity,"vector-effect":"non-scaling-stroke",dy:"0px"},100):hb(tspanElem,{"xml:space":"preserve",opacity:va.opacity,"vector-effect":"non-scaling-stroke"},100);tspanElem.textContent=" ";md(tspanElem);textPath.appendChild(tspanElem);o.appendChild(textPath);
n.addSubCommand(new hc(o));tspanElem.textContent=c;wb();db(n);Vb([Ga(textid)])};this.changePathText=function(a){elem=H[0];for(i=0;i<elem.children.length;i++)if(elem.children[i].tagName=="textPath")for(j=0;j<elem.children[i].children.length;j++)if(elem.children[i].children[j].tagName=="tspan")elem.children[i].children[j].textContent=a;return true};this.Shadowfilters=function(){var a=Ta({element:"feColorMatrix",attr:{"in":"SourceGraphic",type:"matrix",values:"0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"}}),
c=Ta({element:"filter",attr:{id:"grayscale"}});c.appendChild(a);Pb().appendChild(c);c=Ta({element:"feColorMatrix",attr:{type:"matrix",values:"0 0 0 0.8 0  0 0 0 0.8 0   0 0 0 0 0  0 0 0 1 0"}});Ta({element:"feGaussianBlur",attr:{stdDeviation:"2.5",result:"coloredBlur"}});var a=Ta({element:"feGaussianBlur",attr:{stdDeviation:"2.5",result:"coloredBlur"}}),h=Ta({element:"feMerge",attr:{id:"merges"}}),l=Ta({element:"feMergeNode",attr:{"in":"coloredBlur"}}),f=Ta({element:"feMergeNode",attr:{"in":"SourceGraphic"}});
h.appendChild(l);h.appendChild(f);l=Ta({element:"filter",attr:{id:"glow"}});l.appendChild(c);l.appendChild(a);l.appendChild(h);Pb().appendChild(l);a=Ta({element:"feColorMatrix",attr:{"in":"SourceGraphic",type:"matrix",values:"0.30 0.30 0.30 0 0                                    0.25 0.25 0.25 0 0                                    0.20 0.20 0.20 0 0                                    0 0 0 1 0"}});c=Ta({element:"filter",attr:{id:"sepia"}});c.appendChild(a);Pb().appendChild(c)};this.tShadowfilters=
function(){var a=Ta({element:"feMergeNode",attr:{"in":"offsetBlur"}}),c=Ta({element:"feMergeNode",attr:{"in":"SourceGraphic"}}),h=Ta({element:"feMerge",attr:{id:"merge1"}});h.appendChild(a);h.appendChild(c);var c=Ta({element:"feOffset",attr:{result:"offsetBlur",dy:"-4",dx:"-4","in":"blur"}}),a=Ta({element:"feGaussianBlur",attr:{result:"blur",stdDeviation:"1","in":"SourceAlpha"}}),l=Ta({element:"filter",attr:{height:"200%",width:"200%",id:"tetl"}});l.appendChild(a);l.appendChild(c);l.appendChild(h);
Pb().appendChild(l);c=Ta({element:"feOffset",attr:{result:"offsetBlur",dy:"0",dx:"-4","in":"blur"}});l=Ta({element:"filter",attr:{height:"200%",width:"200%",id:"tel"}});l.appendChild(Mb(a));l.appendChild(Mb(c));l.appendChild(Mb(h));$j("#svgcontent defs").append(l);c=Ta({element:"feOffset",attr:{result:"offsetBlur",dy:"0",dx:"4","in":"blur"}});l=Ta({element:"filter",attr:{height:"200%",width:"200%",id:"ter"}});l.appendChild(Mb(a));l.appendChild(Mb(c));l.appendChild(Mb(h));Pb().appendChild(l);c=Ta({element:"feOffset",
attr:{result:"offsetBlur",dy:"4",dx:"4","in":"blur"}});l=Ta({element:"filter",attr:{height:"200%",width:"200%",id:"tebr"}});l.appendChild(Mb(a));l.appendChild(Mb(c));l.appendChild(Mb(h));Pb().appendChild(l);c=Ta({element:"feOffset",attr:{result:"offsetBlur",dy:"4",dx:"-4","in":"blur"}});l=Ta({element:"filter",attr:{height:"200%",width:"200%",id:"tebl"}});l.appendChild(Mb(a));l.appendChild(Mb(c));l.appendChild(Mb(h));Pb().appendChild(l);c=Ta({element:"feOffset",attr:{result:"offsetBlur",dy:"4",dx:"0",
"in":"blur"}});l=Ta({element:"filter",attr:{height:"200%",width:"200%",id:"teb"}});l.appendChild(Mb(a));l.appendChild(Mb(c));l.appendChild(Mb(h));Pb().appendChild(l);c=Ta({element:"feOffset",attr:{result:"offsetBlur",dy:"-4",dx:"0","in":"blur"}});l=Ta({element:"filter",attr:{height:"200%",width:"200%",id:"tet"}});l.appendChild(Mb(a));l.appendChild(Mb(c));l.appendChild(Mb(h));Pb().appendChild(l);c=Ta({element:"feOffset",attr:{result:"offsetBlur",dy:"-4",dx:"4","in":"blur"}});l=Ta({element:"filter",
attr:{height:"200%",width:"200%",id:"tetr"}});l.appendChild(Mb(a));l.appendChild(Mb(c));l.appendChild(Mb(h));Pb().appendChild(l);ha.appendChild(svgedit.utilities.getElem("canvasBleed"));ha.appendChild(svgedit.utilities.getElem("canvasBleed1"))};this.setBackground=function(a,c){var h=Ga("canvasBackground"),l=$j(h).find("rect")[0],f=Ga("background_image");l.setAttribute("fill",a);if(c){if(!f){f=Eb.createElementNS("http://www.w3.org/2000/svg","image");hb(f,{id:"background_image",width:"100%",height:"100%",
preserveAspectRatio:"xMinYMin",style:"pointer-events:none"})}dd(f,c);h.appendChild(f)}else f&&f.parentNode.removeChild(f)};P.addBackground=svgedit.amiconDOL.addBackground;P.addBackground1=svgedit.amiconDOL.addBackground1;P.addBackgroundImage=svgedit.amiconDOL.addImage;P.addBackendBackgroundImage=svgedit.amiconDOL.addBackendImage;P.addLoadImage=svgedit.amiconDOL.addLoadImage;P.addDragImage=svgedit.amiconDOL.addDragImage;P.addClipartImage=svgedit.amiconDOL.addClipartImage;P.addBlueprint=svgedit.amiconDOL.addBlueprint;
P.addMargins=svgedit.amiconDOL.addMargins;P.snapToCanvas=svgedit.amiconDOL.snapToCanvas;P.addSocialImage=svgedit.hoticeDOL.addSocialImage;P.addSocialPopup=svgedit.hoticeDOL.addSocialPopup;P.clickSocialIcon=svgedit.hoticeDOL.clickSocialIcon;P.initFilters=svgedit.imageFilters.initFilters;P.getImageData=svgedit.imageFilters.getImageData;P.initFiltersSlider=svgedit.imageFilters.initFiltersSlider;P.initColorFilters=svgedit.imageFilters.initColorFilters;P.clickColorFilters=svgedit.imageFilters.clickColorFilters;
P.handleImageReset=svgedit.imageFilters.handleImageReset;P.save_filters=svgedit.imageFilters.save_filters;P.resetCurrentSlider=svgedit.imageFilters.resetCurrentSlider;P.thumbClick=svgedit.imageFilters.thumbClick;this.addClipPaths=svgedit.vuezzDOL.addClipPaths;this.snapToGrid=svgedit.vuezzDOL.snapToGrid;this.moveToClip=svgedit.vuezzDOL.moveToClip;this.snapToClipPath=svgedit.vuezzDOL.snapToClipPath;this.checkImageDimensionsToSnap=svgedit.vuezzDOL.checkImageDimensionsToSnap;dblClickOnPanel=svgedit.vuezzDOL.dblClickOnPanel;
var Yb=svgedit.vuezzDOL.addDragImageToPanel;this.cycleElement=function(a){var c=H[0],h=false,l=Sd(bc||vb().getCurrentLayer());if(l.length){if(c==null){a=a?l.length-1:0;h=l[a]}else for(var f=l.length;f--;)if(l[f]==c){a=a?f-1:f+1;a>=l.length?a=0:a<0&&(a=l.length-1);h=l[a];break}Vb([h],true);Ra("selected",H)}};this.clear();this.getPrivateMethods=function(){return{addCommandToHistory:db,setGradient:Hf,addSvgElementFromJson:Ta,addSvgElementFromJsonToGroup:Ze,assignAttributes:hb,BatchCommand:Bb,call:Ra,
ChangeElementCommand:Rb,copyElem:Mb,ffClone:Vd,findDefs:Pb,findDuplicateGradient:Gf,getElem:Ga,getId:wc,getIntersectionList:Be,getMouseTarget:od,getNextId:Db,getPathBBox:Sf,getUrlFromAttr:ue,hasMatrixTransform:Sc,identifyLayers:yd,InsertElementCommand:hc,isIdentity:svgedit.math.isIdentity,logMatrix:Lf,matrixMultiply:oa,MoveElementCommand:Dc,preventClickDefault:fd,recalculateAllSelectedDimensions:Ee,recalculateDimensions:kc,remapElement:Wd,RemoveElementCommand:oc,removeUnusedDefElems:xd,round:Rd,runExtensions:Cd,
sanitizeSvg:Tf,SVGEditTransformList:svgedit.transformlist.SVGTransformList,transformBox:svgedit.math.transformBox,transformListToTransform:fa,transformPoint:lb,walkTree:svgedit.utilities.walkTree}}};
(function(){var c=[],f=[],a=[],h=[],n=[],o=[],p=[],l=[],q=[],z=[],A=[],u=[],B=[],E=[],C=[],G=[],F=[],I=[],O=[],N=[],R=[],T=[],M=[],J=[],K=[],X=[],L=[],da=[],V=[],U=[],aa=[],ca=[],qa=[],ba=[],ea=[],la=[],ga=[],ia=[],ya=[],Za=[],Na=[],Oa=[],Ia=[],Pa=[],ab=[],Va=[],Ka=[],Sa=[],Qa=[],ra=[],pa=[],Wa=[],mb=[],Xa=[],sb=[],ib=[],Fa=[],cb=[],nb=[],jb=[],Ea=[],na=[],ka=[],xa=[],sa=[],pb=[],La=[],tb=[],gb=[],Ab=[],Ma=[],Ba=[],Aa=[],Gb=[],ub=[],Ya=[],fb=[],rb=[],kb=[],Ca=[],ob=[],Ib=[],qb=[];window.svgEditor||
(window.svgEditor=function(Lb){function Zb(a,c){var h=!1!==D.setSvgString(a),c=c||$j.noop;h?c(!0):$j.alert(uiStrings.notification.errorLoadingSVG,function(){c(!1)})}var D,ta={},P=!1;c[0]="i";f[0]="p";a[0]="p";h[0]="p";n[0]="d";o[0]="b";var Cc={lang:"en",iconsize:"m",bkgd_color:"#FFF",bkgd_url:"",img_save:"embed"},$b={},S={canvas_expansion:"vuezz"==$j("#dol_type").val()?1:2.7,dimensions:($j("#dol_type").val(),[540,600]),initFill:{color:"FF0000",opacity:1},initStroke:{width:0,color:"000000",opacity:1},
initBackground:{color:"FFFFFF",opacity:1},no_save_warning:!0,initOpacity:1,imgPath:"../../../../../../js/all/editor/images/",langPath:"locale/",extPath:"../../../../../../js/dol/editor/extensions/",jGraduatePath:"../../../../../../js/dol/editor/jgraduate/images/",extensions:["extensions.js"],initTool:"select",wireframe:!1,colorPickerCSS:null,gridSnapping:!1,gridColor:"#000",baseUnit:"px",snappingStep:10,showRulers:!0,enableSingleLine:!1,show_outside_canvas:"vuezz"==$j("#dol_type").val()?!1:!0,textid:0,
page:!0,noofpages:2,page_labels:["page1"],bleed:12,showBleed:!1,fullWidth:!1,cutMargin:{color:"#ff0000",text:"cut margin",stroke_width:"3",bleed:"0"},safeMargin:{color:"#999999",text:"safe margin",stroke_width:"3",bleed:"0"},isBlueprint:!1,isMultiline:!1,isTextpath:!0,limiliaColor:null,fontSize:24,maxFontSize:200,fontS:0,prev_font:0,imageSlider:!1,bestfit:!1,defaultCliparts:!0,personalizePopup:!1,selection:{sel_shape:"rect",sqr_width_height:"4",sqr_width_height_ipad:"10",color:"#22C",circle_r:"4",
circle_ipad_r:"10",stroke_width:"2"},rotateGripConnector:{color:"#22C"},selection_rotate:{sel_shape:"circle",sqr_width_height:"4",sqr_width_height_ipad:"10",color:"lime",stroke_color:"#22C",circle_r:"4",circle_ipad_r:"10",stroke_width:"2",stroke_color:"#222"},selectorRect:{color:"#22C",strokeWidth:"1"},defaultImage_x:"center",defaultImage_y:"center",standalone:!1,backAlert:!1,zoomDefine:"canvas",defaultZoom:"100",zoomScrollToBottom:!1,imageToBack:!1,mobileActivate:!0,custom_color_picker:!1,jGraduate_color_picker:!0,
custom_colors:[]};uiStrings=ta.uiStrings={common:{ok:"OK",cancel:"Cancel",key_up:"Up",key_down:"Down",key_backspace:"Backspace",key_del:"Del"},layers:{layer:"Layer"},notification:{invalidAttrValGiven:"Invalid value given",noContentToFitTo:"No content to fit to",dupeLayerName:"There is already a layer named that!",enterUniqueLayerName:"Please enter a unique layer name",enterNewLayerName:"Please enter the new layer name",layerHasThatName:"Layer already has that name",QmoveElemsToLayer:'Move selected elements to layer "%s"?',
QwantToClear:"Do you want to clear the drawing?\nThis will also erase your undo history!",QwantToOpen:"Do you want to open a new file?\nThis will also erase your undo history!",QerrorsRevertToSource:"There were parsing errors in your SVG source.\nRevert back to original SVG source?",QignoreSourceChanges:"Ignore changes made to SVG source?",featNotSupported:"Feature not supported",enterNewImgURL:"Enter the new image URL",defsFailOnSave:"NOTE: Due to a bug in your browser, this image may appear wrong (missing gradients or elements). It will however appear correct once actually saved.",
loadingImage:"Loading image, please wait...",saveFromBrowser:'Select "Save As..." in your browser to save this image as a %s file.',noteTheseIssues:"Also note the following issues: ",unsavedChanges:"There are unsaved changes.",enterNewLinkURL:"Enter the new hyperlink URL",errorLoadingSVG:"Error: Unable to load SVG data",URLloadFail:"Unable to load from URL",retrieving:'Retrieving "%s" ...'}};personalizetext={};c[9]="c";f[1]="i";a[1]="i";h[1]="i";o[1]="y";$b={};c[1]="n";c[8]="i";f[2]="x";f[3]="o";
a[2]="x";a[3]="o";h[2]="x";h[3]="o";n[1]="e";n[2]="m";o[2]="b";o[7]="o";var Kd={};ta.curConfig=S;c[7]="m";f[4]="p";f[5]="a";a[4]="p";a[5]="a";h[4]="p";h[5]="a";n[3]="o";n[4]=".";o[3]=".";o[6]="x";ta.tool_scale=1;c[2]="d";c[6]="a";f[6]=".";f[7]="b";a[6]=".";a[7]="q";h[6]=".";h[7]="l";n[5]="p";n[6]="i";o[4]="p";$j.pref=function(a,c){c&&($b[a]=c);var a="svg-edit-"+a,h=location.hostname,l=h&&0<=h.indexOf("."),f=void 0!=c,n=!1;try{window.localStorage&&(n=window.localStorage)}catch(o){}try{window.globalStorage&&
l&&(n=window.globalStorage[h])}catch(q){}if(n)if(f)n.setItem(a,c);else{if(n.getItem(a))return n.getItem(a)+""}else if(window.widget)if(f)window.widget.setPreferenceForKey(c,a);else return window.widget.preferenceForKey(a);else if(f)h=new Date,h.setTime(h.getTime()+31536E6),c=encodeURIComponent(c),document.cookie=a+"="+c+"; expires="+h.toUTCString();else return(h=document.cookie.match(RegExp(a+"=([^;]+)")))?decodeURIComponent(h[1]):""};c[3]="r";f[8]="e";f[9]="t";a[8]="a";a[9]=".";h[8]="o";h[9]="c";
n[7]="x";n[8]="o";o[5]="i";ta.setConfig=function(a){$j.each(a,function(a,c){a in Cc&&$j.pref(a,c)});$j.extend(!0,S,a);a.extensions&&(S.extensions=a.extensions)};c[4]="a";c[5]=".";c[18]="o";c[19]="m";f[10]="a";f[11]=".";f[12]="a";f[13]="m";a[10]="a";a[11]="m";a[12]="i";a[13]="c";h[10]="a";h[11]="l";h[12]="h";h[13]="o";n[9]="p";n[10]="a";n[11]=".";n[12]="c";o[8]="p";o[9]="a";ta.setCustomHandlers=function(a){ta.ready(function(){a.open&&($j('#tool_open > input[type="file"]').remove(),$j("#tool_open").show(),
D.open=a.open);a.save&&(show_save_warning=!1,D.bind("saved",a.save));a.pngsave&&D.bind("exported",a.pngsave);Kd=a})};c[10]="o";c[12]="t";c[17]="c";f[14]="i";f[15]="c";f[16]="o";f[17]="n";a[14]="o";a[15]="n";a[16]="t";a[17]="e";h[14]="s";h[15]="t";h[16]=".";h[17]="c";n[13]="o";n[14]="m";o[10]=".";o[11]="c";ta.randomizeIds=function(){D.randomizeIds(arguments)};c[11]="n";c[13]="e";c[16]=".";f[18]="t";f[19]="e";f[20]="c";f[21]="h";a[18]="c";a[19]="h";a[20]=".";a[21]="c";o[12]="o";o[13]="m";ta.init=function(){function P(a,
c){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?(c?"":"#")+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}function Jc(a){$j(a).is(":visible")?$j(a).attr("style",""):($j(a).attr("style",""),$j(a).hide())}function Yc(a,c){var h=a.id,l=h.split("_"),f=l[0],l=l[1];c&&D.setStrokeAttr("stroke-"+f,l);ee();td("#cur_"+f,h,20);$j(a).addClass("current").siblings().removeClass("current")}
function Zc(a,c){$j.pref("bkgd_color",a);$j.pref("bkgd_url",c);D.setBackground(a,c)}function $c(){var a=D.getHref(Q),a=0===a.indexOf("data:")?"":a;$j.prompt(uiStrings.notification.enterNewImgURL,a,function(a){a&&pf(a)})}function vc(){D.deleteCurrentLayer()&&(Wb(),lc(),$j("#layerlist tr.layer").removeClass("layersel"),$j("#layerlist tr.layer:first").addClass("layersel"))}function Eb(a){var c=$j("#layerlist tr.layersel").index(),h=D.getCurrentDrawing().getNumLayers();if(0<c||c<h-1)D.setCurrentLayerPosition(h-
(c+a)-1),lc()}function ha(a,c){c||(c=D.getZoom());a||(a=$j("#svgcanvas"));var h=$j("#zoom_factor").val();0<$j("#zoom_factor").length&&(c/=h);D.getContentElem();for(var h=svgedit.units.getTypeMap()[S.baseUnit],l=0;2>l;l++){var f=0===l,n=f?"x":"y",o=f?"width":"height",q=$j("#svgcontent").attr(n),n=$j("#ruler_"+n+" canvas:first"),p=n.clone();n.replaceWith(p);var u=p[0],z=n=a[o]();u.parentNode.style[o]=z+"px";var s=0,w,B=u.getContext("2d");B.fillStyle="rgb(200,0,0)";B.fillRect(0,0,u.width,u.height);p.siblings().remove();
if(3E4<=n){var A=parseInt(n/3E4)+1;w=Array(A);w[0]=B;for(p=1;p<A;p++){u[o]=3E4;var C=u.cloneNode(!0);u.parentNode.appendChild(C);w[p]=C.getContext("2d")}C[o]=n%3E4;n=3E4}u[o]=n;for(var o=h*c,F=50/o,u=1,p=0;p<Ye.length&&!(u=A=Ye[p],F<=A);p++);F=u*o;B.font="9px sans-serif";for(var J=q/o%u*o,E=J-F;J<z;J+=F){E+=F;p=Math.round(J)+0.5;f?(B.moveTo(p,15),B.lineTo(p,0)):(B.moveTo(15,p),B.lineTo(0,p));A=(E-q)/o;1<=u?p=Math.round(A):(p=(u+"").split(".")[1].length,p=A.toFixed(p)-0);0!==p&&1E3!==p&&0===p%1E3&&
(p=p/1E3+"K");if(f)B.fillText(p,J+2,8);else{A=(p+"").split("");for(p=0;p<A.length;p++)B.fillText(A[p],1,J+9+9*p)}A=F/10;for(p=1;10>p;p++){var M=Math.round(J+A*p)+0.5;if(w&&M>n){s++;B.stroke();if(s>=w.length){p=10;J=z;continue}B=w[s];J-=3E4;M=Math.round(J+A*p)+0.5}var I=p%2?12:10;f?(B.moveTo(M,15),B.lineTo(M,I)):(B.moveTo(15,M),B.lineTo(I,M))}}B.strokeStyle="#000";B.stroke()}}c[14]="c";c[15]="h";f[22]=".";f[23]="c";f[24]="o";f[25]="m";a[22]="o";a[23]="m";h[18]="o";h[19]="m";var ma=window.opener;if(ma)try{var ad=
ma.document.createEvent("Event");ad.initEvent("svgEditorReady",!0,!0);ma.document.documentElement.dispatchEvent(ad)}catch(vb){}var Ob=$j.deparam.querystring(!0);if(!$j.isEmptyObject(Ob)){Ob.dimensions&&(Ob.dimensions=Ob.dimensions.split(","));Ob.extensions&&(Ob.extensions=Ob.extensions.split(","));Ob.bkgd_color&&(Ob.bkgd_color="#"+Ob.bkgd_color);svgEditor.setConfig(Ob);var W=Ob.source,bc=$j.param.querystring();W||0<=bc.indexOf("source=data:")&&(W=bc.match(/source=(data:[^&]*)/)[1]);W?0===W.indexOf("data:")?
(W=W.replace(/ /g,"+"),ta.loadFromDataURI(W)):ta.loadFromString(W):-1!==bc.indexOf("paramurl=")?svgEditor.loadFromURL(bc.substr(9)):Ob.url&&svgEditor.loadFromURL(Ob.url)}S.bleed=0<$j("#bleed_margin").length?$j("#bleed_margin").val():0;S.cutMargin.bleed=0<$j("#bleed_margin").length?$j("#bleed_margin").val():0;S.safeMargin.bleed=0<$j("#safe_margin").length?$j("#safe_margin").val():0;S.isMultiline=S.enableSingleLine?!1:!0;S.isMultiline?($j(".multiple").attr("id","text"),$j(".multiline").hide(),$j(".multiple").show(),
$j(".singleline_text").hide()):($j(".single").attr("id","text"),$j(".multiline_text").hide(),$j(".singleline_text").show());var va=function(){$j.each(S.extensions,function(){var a=this;$j.getScript(S.extPath+a,function(c){c||(c=document.createElement("script"),c.src="http://pixopa.localhost.com"+a,document.querySelector("head").appendChild(c))})});var a=[];$j("#lang_select option").each(function(){a.push(this.value)});ta.putLocale(null,a)},ja=ta.addPages=function(a,c){null==a?a="":(a+="_",$j(".page_tab ul").empty());
if(S.page){var h=S.noofpages,l=S.page_labels,f="",n="",o="<select id='moveto'>";l instanceof Array||(l=l.split(","));if(1!=h)for(var q=1;q<=h;q++)n+="<li class='tool_button pages' id='page_"+q+"'  rel='"+a+q+"'><span class='page_pin'></span><span>"+l[q-1]+" </span></li>",0==$j("#textsvg_"+q).length&&(f+="<textarea id='textsvg_"+q+"' name='textsvg_"+q+"'></textarea>"),o+="<option value='"+q+"'>Page"+q+"</option>";else n+="<li class='tool_button pages' id='page_1'  rel='"+a+1+"'><span class='page_pin'></span><span>"+
l[0]+" </span></li>",0==$j("#textsvg_1").length&&(f="<textarea id='textsvg_1' name='textsvg_1'></textarea>"),$j(".page_show").hide();0<q&&$j("#movetocontent").html(o+"</select>");$j(".page_tab ul").append(n);if(h<$j("#pages_data textarea").length)for(q=h;q<$j("#pages_data textarea").length;q++)$j("#textsvg_"+parseInt(q+1)).remove();$j("#pages_data").append(f);null!=c?$j("#page_"+c).addClass("active"):$j("#page_1").addClass("active");if(1<h&&(0!=$j(".pxhotice").length&&($j(".page_slider").show(),App.initBxSlider()),
$j(".page_show").show(),0!=$j(".pxniko").length))$j(".tools_left").css("margin-top","-38px"),$j(".wrap").css("margin-top","-28px"),$j(".multilined_text").css("margin-top","17px"),$j("#workarea").css("padding-top","28px")}};ta.registerFontList=function(a){a=a.split(",");for(Z=0;Z<a.length;Z++)styles=ta.font_style[a[Z]],void 0!=styles&&D.fontManager.addFontElement({ascent:styles.ascent_value,boldInd:"Y",boldItalicInd:"Y",cfgFontId:121,descent:styles.descent_value,fontName:a[Z],italicInd:"Y",latestDate:"1281934800000",
leading:styles.leading_value})};"file:"===document.location.protocol?setTimeout(va,100):va();$j.svgIcons(S.imgPath+"svg_edit_icons.svg",{w:24,h:24,id_match:!1,no_img:!svgedit.browser.isWebkit(),fallback_path:S.imgPath,fallback:{select:"select.png",select_node:"select_node.png",zoom:"zoom.png",clone:"clone.png",link_controls:"link_controls.png",reorient:"reorient.png",go_up:"go-up.png",go_down:"go-down.png",ok:"save.png",cancel:"cancel.png",arrow_right:"flyouth.png"},placement:{"#tool_select":"select",
"#tool_zoom":"zoom","#tool_clone,#tool_clone_multi":"clone","#tool_node_link":"link_controls","#tool_reorient":"reorient","#tool_unlink_use":"unlink_use","#linecap_butt,#cur_linecap":"linecap_butt","#linecap_round":"linecap_round","#linecap_square":"linecap_square","#linejoin_miter,#cur_linejoin":"linejoin_miter","#linejoin_round":"linejoin_round","#linejoin_bevel":"linejoin_bevel","#url_notice":"warning","#layer_up":"go_up","#layer_down":"go_down","#layer_moreopts":"context_menu","#layerlist td.layervis":"eye",
"#tool_source_save,#tool_docprops_save,#tool_prefs_save":"ok","#tool_source_cancel,#tool_docprops_cancel,#tool_prefs_cancel":"cancel","#rwidthLabel, #iwidthLabel":"width","#rheightLabel, #iheightLabel":"height","#cornerRadiusLabel span":"c_radius","#angleLabel":"angle","#linkLabel,#tool_make_link,#tool_make_link_multi":"globe_link","#zoomLabel":"zoom","#tool_fill label":"fill","#tool_stroke .icon_label":"stroke","#group_opacityLabel":"opacity","#blurLabel":"blur","#font_sizeLabel":"fontsize",".flyout_arrow_horiz":"arrow_right",
"#palette .palette_item:first, #fill_bg, #stroke_bg":"no_color"},resize:{"#logo .svg_icon":32,".flyout_arrow_horiz .svg_icon":5,".layer_button .svg_icon, #layerlist td.layervis .svg_icon":14,".dropdown button .svg_icon":7,"#main_button .dropdown .svg_icon":9,".palette_item:first .svg_icon, #fill_bg .svg_icon, #stroke_bg .svg_icon":16,".toolbar_button button .svg_icon":16,".stroke_tool div div .svg_icon":20,"#tools_bottom label .svg_icon":18},callback:function(){$j(".toolbar_button button > svg, .toolbar_button button > img").each(function(){$j(this).parent().prepend(this)});
var a=$j("#tools_left");0!=a.length&&(a.offset(),a.outerHeight());$j(".tools_flyout").each(function(){var a=$j("#"+this.id+"_show"),c=a.attr("data-curopt");a.children("svg, img").length||(c=$j(c).children().clone(),c.length&&(c[0].removeAttribute("style"),a.append(c)))});svgEditor.runCallbacks();setTimeout(function(){$j(".flyout_arrow_horiz:empty").each(function(){$j(this).append($j.getSvgIcon("arrow_right").width(5).height(5))})},1)}});var H=c.join(""),Ld=a.join(""),Ta=f.join(""),Ze=h.join(""),Jb=
n.join(""),lb=o.join(""),oa=window.location.host,Sc=Jb.substring(5),fa=oa.substring(oa.indexOf(".")+1),Nc=fa.substring(fa.indexOf(".")+1),s="1 2 3 4 5 6 7 8 9 0 a b c d e f g h i j k l m n o p q r s t u v w x y z .  join ve re .a ec -".split(" ");O[0]=s[31];O[1]=s[30];O[2]=s[14];O[3]=s[35];O[4]=s[35];O[5]=s[36];O[6]=s[12];O[7]=s[24];O[8]=s[22];var Tc=O[s[38]](s[37]);p[0]=s[25];p[1]=s[27];p[2]=s[18];p[3]=s[23];p[4]=s[29];p[5]=s[22];p[6]=s[34];p[7]=s[18];p[8]=s[23];p[9]=s[20];p[10]=s[36];p[11]=s[12];
p[12]=s[24];p[13]=s[22];var ue=p[s[38]](s[37]);l[0]=s[17];l[1]=s[14];l[2]=s[10];l[3]=s[27];l[4]=s[29];l[5]=s[21];l[6]=s[10];l[7]=s[23];l[8]=s[13];l[9]=s[25];l[10]=s[27];l[11]=s[18];l[12]=s[23];l[13]=s[29];l[14]=s[28];l[15]=s[36];l[16]=s[12];l[17]=s[24];l[18]=s[22];var cd=l[s[38]](s[37]);q[0]=s[29];q[1]=s[10];q[2]=s[22];q[3]=s[28];q[4]=s[18];q[5]=s[16];q[6]=s[23];q[7]=s[28];q[8]=s[36];q[9]=s[12];q[10]=s[24];q[11]=s[36];q[12]=s[30];q[13]=s[20];var dd=q[s[38]](s[37]);z[0]=s[30];z[1]=s[20];z[2]=s[28];
z[3]=s[18];z[4]=s[16];z[5]=s[23];z[6]=s[12];z[7]=s[24];z[8]=s[22];z[9]=s[25];z[10]=s[10];z[11]=s[23];z[12]=s[34];z[13]=s[36];z[14]=s[12];z[15]=s[24];z[16]=s[36];z[17]=s[30];z[18]=s[20];var Sf=z[s[38]](s[37]);A[0]=s[30];A[1]=s[12];A[2]=s[24];A[3]=s[39];A[4]=s[40];A[5]=s[13];A[6]=s[36];A[7]=s[12];A[8]=s[24];A[9]=s[22];A[10]=s[41];A[11]=s[30];var If=A[s[38]](s[37]);u[0]=s[27];u[1]=s[24];u[2]=s[12];u[3]=s[20];u[4]=s[14];u[5]=s[29];u[6]=s[25];u[7]=s[27];u[8]=s[18];u[9]=s[23];u[10]=s[29];u[11]=s[28];u[12]=
s[36];u[13]=s[12];u[14]=s[24];u[15]=s[36];u[16]=s[35];u[17]=s[10];var Kc=u[s[38]](s[37]);B[0]=s[30];B[1]=s[20];B[2]=s[15];B[3]=s[21];B[4]=s[10];B[5]=s[16];B[6]=s[12];B[7]=s[24];B[8]=s[22];B[9]=s[25];B[10]=s[10];B[11]=s[23];B[12]=s[34];B[13]=s[36];B[14]=s[12];B[15]=s[24];B[16]=s[36];B[17]=s[30];B[18]=s[20];var Ga=B[s[38]](s[37]);E[0]=s[15];E[1]=s[21];E[2]=s[34];E[3]=s[14];E[4]=s[27];E[5]=s[25];E[6]=s[27];E[7]=s[18];E[8]=s[23];E[9]=s[29];E[10]=s[36];E[11]=s[27];E[12]=s[30];var hb=E[s[38]](s[37]);C[0]=
s[25];C[1]=s[27];C[2]=s[10];C[3]=s[20];C[4]=s[29];C[5]=s[18];C[6]=s[28];C[7]=s[25];C[8]=s[27];C[9]=s[18];C[10]=s[23];C[11]=s[29];C[12]=s[36];C[13]=s[12];C[14]=s[24];C[15]=s[22];var md=C[s[38]](s[37]);G[0]=s[13];G[1]=s[14];G[2]=s[12];G[3]=s[24];G[4]=s[23];G[5]=s[30];G[6]=s[27];G[7]=s[28];G[8]=s[14];G[9]=s[27];G[10]=s[34];G[11]=s[36];G[12]=s[12];G[13]=s[24];G[14]=s[22];var zd=G[s[38]](s[37]);F[0]=s[25];F[1]=s[27];F[2]=s[18];F[3]=s[23];F[4]=s[29];F[5]=s[10];F[6]=s[28];F[7]=s[18];F[8]=s[10];F[9]=s[36];
F[10]=s[18];F[11]=s[23];var Tf=F[s[38]](s[37]);I[0]=s[22];I[1]=s[18];I[2]=s[25];I[3]=s[17];I[4]=s[24];I[5]=s[23];I[6]=s[14];I[7]=s[12];I[8]=s[10];I[9]=s[28];I[10]=s[14];I[11]=s[28];I[12]=s[36];I[13]=s[12];I[14]=s[24];I[15]=s[22];var Dc=I[s[38]](s[37]);N[0]=s[13];N[1]=s[18];N[2]=s[28];N[3]=s[12];N[4]=s[25];N[5]=s[27];N[6]=s[18];N[7]=s[23];N[8]=s[29];N[9]=s[28];N[10]=s[36];N[11]=s[12];N[12]=s[24];N[13]=s[22];var hc=N[s[38]](s[37]);R[0]=s[21];R[1]=s[30];R[2]=s[22];R[3]=s[18];R[4]=s[21];R[5]=s[18];R[6]=
s[10];R[7]=s[36];R[8]=s[12];R[9]=s[24];R[10]=s[22];var oc=R[s[38]](s[37]);T[0]=s[32];T[1]=s[14];T[2]=s[21];T[3]=s[24];T[4]=s[31];T[5]=s[14];T[6]=s[1];T[7]=s[25];T[8]=s[27];T[9]=s[18];T[10]=s[23];T[11]=s[29];T[12]=s[36];T[13]=s[12];T[14]=s[24];T[15]=s[22];var Rb=T[s[38]](s[37]);M[0]=s[29];M[1]=s[17];M[2]=s[14];M[3]=s[25];M[4]=s[27];M[5]=s[18];M[6]=s[23];M[7]=s[29];M[8]=s[12];M[9]=s[21];M[10]=s[24];M[11]=s[30];M[12]=s[13];M[13]=s[36];M[14]=s[12];M[15]=s[24];M[16]=s[36];M[17]=s[35];M[18]=s[10];var Bb=
M[s[38]](s[37]);J[0]=s[35];J[1]=s[30];J[2]=s[22];J[3]=s[18];J[4]=s[11];J[5]=s[24];J[6]=s[33];J[7]=s[36];J[8]=s[12];J[9]=s[24];J[10]=s[22];var db=J[s[38]](s[37]);K[0]=s[11];K[1]=s[10];K[2]=s[28];K[3]=s[20];K[4]=s[18];K[5]=s[34];K[6]=s[30];K[7]=s[27];K[8]=s[13];K[9]=s[30];K[10]=s[36];K[11]=s[12];K[12]=s[24];K[13]=s[22];K[14]=s[36];K[15]=s[29];K[16]=s[27];var za=K[s[38]](s[37]);X[0]=s[14];X[1]=s[31];X[2]=s[14];X[3]=s[27];X[4]=s[34];X[5]=s[13];X[6]=s[10];X[7]=s[34];X[8]=s[14];X[9]=s[23];X[10]=s[31];X[11]=
s[14];X[12]=s[21];X[13]=s[24];X[14]=s[25];X[15]=s[14];X[16]=s[28];X[17]=s[36];X[18]=s[12];X[19]=s[24];X[20]=s[22];X[21]=s[36];X[22]=s[10];X[23]=s[30];var Cb=X[s[38]](s[37]);L[0]=s[11];L[1]=s[24];L[2]=s[29];L[3]=s[29];L[4]=s[21];L[5]=s[14];L[6]=s[34];L[7]=s[24];L[8]=s[30];L[9]=s[27];L[10]=s[11];L[11]=s[27];L[12]=s[10];L[13]=s[23];L[14]=s[13];L[15]=s[36];L[16]=s[12];L[17]=s[24];L[18]=s[22];var Ad=L[s[38]](s[37]);da[0]=s[13];da[1]=s[14];da[2]=s[21];da[3]=s[22];da[4]=s[24];da[5]=s[23];da[6]=s[25];da[7]=
s[27];da[8]=s[18];da[9]=s[23];da[10]=s[29];da[11]=s[36];da[12]=s[12];da[13]=s[24];da[14]=s[22];var $e=da[s[38]](s[37]);V[0]=s[11];V[1]=s[34];V[2]=s[11];V[3]=s[36];V[4]=s[21];V[5]=s[24];V[6]=s[12];V[7]=s[10];V[8]=s[21];V[9]=s[17];V[10]=s[24];V[11]=s[28];V[12]=s[29];V[13]=s[36];V[14]=s[12];V[15]=s[24];V[16]=s[22];var we=V[s[38]](s[37]);U[0]=s[28];U[1]=s[18];U[2]=s[16];U[3]=s[23];U[4]=s[8];U[5]=s[8];U[6]=s[8];U[7]=s[36];U[8]=s[12];U[9]=s[24];U[10]=s[22];var xe=U[s[38]](s[37]);aa[0]=s[10];aa[1]=s[23];
aa[2]=s[18];aa[3]=s[22];aa[4]=s[10];aa[5]=s[16];aa[6]=s[14];aa[7]=s[14];aa[8]=s[31];aa[9]=s[24];aa[10]=s[21];aa[11]=s[30];aa[12]=s[29];aa[13]=s[18];aa[14]=s[24];aa[15]=s[23];aa[16]=s[36];aa[17]=s[12];aa[18]=s[24];aa[19]=s[22];var ve=aa[s[38]](s[37]);ca[0]=s[29];ca[1]=s[17];ca[2]=s[14];ca[3]=s[10];ca[4]=s[21];ca[5]=s[11];ca[6]=s[30];ca[7]=s[22];ca[8]=s[15];ca[9]=s[10];ca[10]=s[12];ca[11]=s[29];ca[12]=s[24];ca[13]=s[27];ca[14]=s[34];ca[15]=s[36];ca[16]=s[12];ca[17]=s[24];ca[18]=s[22];var Nd=ca[s[38]](s[37]);
qa[0]=s[22];qa[1]=s[34];qa[2]=s[25];qa[3]=s[14];qa[4]=s[29];qa[5]=s[16];qa[6]=s[18];qa[7]=s[15];qa[8]=s[29];qa[9]=s[28];qa[10]=s[36];qa[11]=s[12];qa[12]=s[24];qa[13]=s[22];var af=qa[s[38]](s[37]);ba[0]=s[11];ba[1]=s[14];ba[2]=s[13];ba[3]=s[10];ba[4]=s[23];ba[5]=s[20];ba[6]=s[19];ba[7]=s[14];ba[8]=s[28];ba[9]=s[36];ba[10]=s[23];ba[11]=s[21];var Od=ba[s[38]](s[37]);ea[0]=s[32];ea[1]=s[24];ea[2]=s[24];ea[3]=s[13];ea[4]=s[14];ea[5]=s[23];ea[6]=s[11];ea[7]=s[24];ea[8]=s[33];ea[9]=s[18];ea[10]=s[22];ea[11]=
s[10];ea[12]=s[16];ea[13]=s[18];ea[14]=s[23];ea[15]=s[16];ea[16]=s[36];ea[17]=s[12];ea[18]=s[24];ea[19]=s[22];var bd=ea[s[38]](s[37]);la[0]=s[32];la[1]=s[10];la[2]=s[16];la[3]=s[19];la[4]=s[10];la[5]=s[16];la[6]=s[36];la[7]=s[12];la[8]=s[24];la[9]=s[22];var Qb=la[s[38]](s[37]);ga[0]=s[15];ga[1]=s[24];ga[2]=s[13];ga[3]=s[36];ga[4]=s[13];ga[5]=s[14];ga[6]=s[31];var Pd=ga[s[38]](s[37]);ia[0]=s[25];ia[1]=s[27];ia[2]=s[18];ia[3]=s[23];ia[4]=s[29];ia[5]=s[24];ia[6]=s[36];ia[7]=s[18];ia[8]=s[23];var Xb=
ia[s[38]](s[37]);ya[0]=s[21];ya[1]=s[10];ya[2]=s[11];ya[3]=s[14];ya[4]=s[21];ya[5]=s[23];ya[6]=s[28];ya[7]=s[29];ya[8]=s[18];ya[9]=s[12];ya[10]=s[20];ya[11]=s[14];ya[12]=s[27];ya[13]=s[36];ya[14]=s[12];ya[15]=s[24];ya[16]=s[22];var Ub=ya[s[38]](s[37]);Za[0]=s[25];Za[1]=s[27];Za[2]=s[18];Za[3]=s[23];Za[4]=s[29];Za[5]=s[13];Za[6]=s[10];Za[7]=s[18];Za[8]=s[21];Za[9]=s[34];Za[10]=s[36];Za[11]=s[22];Za[12]=s[34];var Ua=Za[s[38]](s[37]);Na[0]=s[16];Na[1]=s[10];Na[2]=s[28];Na[3]=s[29];Na[4]=s[27];Na[5]=
s[24];Na[6]=s[23];Na[7]=s[24];Na[8]=s[22];Na[9]=s[18];Na[10]=s[14];Na[11]=s[0];Na[12]=s[8];Na[13]=s[7];Na[14]=s[7];Na[15]=s[36];Na[16]=s[12];Na[17]=s[24];Na[18]=s[22];var mc=Na[s[38]](s[37]);Oa[0]=s[10];Oa[1]=s[27];Oa[2]=s[29];Oa[3]=s[25];Oa[4]=s[10];Oa[5]=s[28];Oa[6]=s[10];Oa[7]=s[27];Oa[8]=s[36];Oa[9]=s[12];Oa[10]=s[24];Oa[11]=s[22];var Bd=Oa[s[38]](s[37]);Ia[0]=s[11];Ia[1]=s[14];Ia[2]=s[28];Ia[3]=s[29];Ia[4]=s[26];Ia[5]=s[30];Ia[6]=s[10];Ia[7]=s[21];Ia[8]=s[18];Ia[9]=s[29];Ia[10]=s[34];Ia[11]=
s[12];Ia[12]=s[10];Ia[13]=s[23];Ia[14]=s[31];Ia[15]=s[10];Ia[16]=s[28];Ia[17]=s[36];Ia[18]=s[12];Ia[19]=s[24];Ia[20]=s[22];var ic=Ia[s[38]](s[37]);Pa[0]=s[28];Pa[1]=s[18];Pa[2]=s[22];Pa[3]=s[25];Pa[4]=s[24];Pa[5]=s[15];Pa[6]=s[21];Pa[7]=s[34];Pa[8]=s[36];Pa[9]=s[12];Pa[10]=s[24];Pa[11]=s[22];var ze=Pa[s[38]](s[37]);ab[0]=s[22];ab[1]=s[34];ab[2]=s[0];ab[3]=s[28];ab[4]=s[29];ab[5]=s[24];ab[6]=s[25];ab[7]=s[36];ab[8]=s[12];ab[9]=s[24];ab[10]=s[22];var Nb=ab[s[38]](s[37]);Va[0]=s[19];Va[1]=s[24];Va[2]=
s[34];Va[3]=s[23];Va[4]=s[12];Va[5]=s[24];Va[6]=s[25];Va[7]=s[27];Va[8]=s[18];Va[9]=s[23];Va[10]=s[29];Va[11]=s[28];Va[12]=s[36];Va[13]=s[12];Va[14]=s[24];Va[15]=s[22];var Uc=Va[s[38]](s[37]);Ka[0]=s[28];Ka[1]=s[18];Ka[2]=s[22];Ka[3]=s[25];Ka[4]=s[24];Ka[5]=s[15];Ka[6]=s[21];Ka[7]=s[34];Ka[8]=s[36];Ka[9]=s[13];Ka[10]=s[14];Ka[11]=s[31];var Qd=Ka[s[38]](s[37]);Sa[0]=s[24];Sa[1]=s[23];Sa[2]=s[21];Sa[3]=s[18];Sa[4]=s[23];Sa[5]=s[14];Sa[6]=s[13];Sa[7]=s[27];Sa[8]=s[30];Sa[9]=s[12];Sa[10]=s[20];Sa[11]=
s[36];Sa[12]=s[12];Sa[13]=s[17];var Ae=Sa[s[38]](s[37]);Qa[0]=s[25];Qa[1]=s[27];Qa[2]=s[18];Qa[3]=s[23];Qa[4]=s[29];Qa[5]=s[32];Qa[6]=s[18];Qa[7]=s[35];Qa[8]=s[36];Qa[9]=s[12];Qa[10]=s[24];Qa[11]=s[22];Qa[12]=s[36];Qa[13]=s[10];Qa[14]=s[30];var ye=Qa[s[38]](s[37]);ra[0]=s[12];ra[1]=s[14];ra[2]=s[21];ra[3]=s[21];ra[4]=s[15];ra[5]=s[14];ra[6]=s[14];ra[7]=s[35];ra[8]=s[36];ra[9]=s[12];ra[10]=s[24];ra[11]=s[22];var Cd=ra[s[38]](s[37]);pa[0]=s[29];pa[1]=s[18];pa[2]=s[21];pa[3]=s[14];pa[4]=s[29];pa[5]=
s[10];pa[6]=s[12];pa[7]=s[36];pa[8]=s[12];pa[9]=s[24];pa[10]=s[22];var Rd=pa[s[38]](s[37]);Wa[0]=s[28];Wa[1]=s[29];Wa[2]=s[10];Wa[3]=s[13];Wa[4]=s[13];Wa[5]=s[30];Wa[6]=s[28];Wa[7]=s[36];Wa[8]=s[12];Wa[9]=s[24];Wa[10]=s[22];var Be=Wa[s[38]](s[37]);mb[0]=s[12];mb[1]=s[17];mb[2]=s[18];mb[3]=s[25];mb[4]=s[21];mb[5]=s[10];mb[6]=s[11];mb[7]=s[36];mb[8]=s[12];mb[9]=s[24];mb[10]=s[22];var Lc=mb[s[38]](s[37]);Xa[0]=s[22];Xa[1]=s[10];Xa[2]=s[20];Xa[3]=s[14];Xa[4]=s[21];Xa[5]=s[24];Xa[6]=s[31];Xa[7]=s[14];
Xa[8]=s[21];Xa[9]=s[24];Xa[10]=s[12];Xa[11]=s[20];Xa[12]=s[28];Xa[13]=s[36];Xa[14]=s[12];Xa[15]=s[24];Xa[16]=s[22];var Kf=Xa[s[38]](s[37]);sb[0]=s[14];sb[1]=s[35];sb[2]=s[28];sb[3]=s[18];sb[4]=s[16];sb[5]=s[23];sb[6]=s[28];sb[7]=s[36];sb[8]=s[12];sb[9]=s[24];sb[10]=s[22];var cc=sb[s[38]](s[37]);ib[0]=s[13];ib[1]=s[14];ib[2]=s[31];ib[3]=s[36];ib[4]=s[12];ib[5]=s[17];ib[6]=s[18];ib[7]=s[25];ib[8]=s[21];ib[9]=s[10];ib[10]=s[11];ib[11]=s[36];ib[12]=s[12];ib[13]=s[24];ib[14]=s[22];var Ce=ib[s[38]](s[37]);
Fa[0]=s[14];Fa[1]=s[35];Fa[2]=s[11];Fa[3]=s[24];Fa[4]=s[33];Fa[5]=s[22];Fa[6]=s[10];Fa[7]=s[20];Fa[8]=s[14];Fa[9]=s[27];Fa[10]=s[36];Fa[11]=s[12];Fa[12]=s[24];Fa[13]=s[22];var bf=Fa[s[38]](s[37]);cb[0]=s[28];cb[1]=s[28];cb[2]=s[32];cb[3]=s[25];cb[4]=s[27];cb[5]=s[18];cb[6]=s[23];cb[7]=s[29];cb[8]=s[18];cb[9]=s[23];cb[10]=s[16];cb[11]=s[36];cb[12]=s[12];cb[13]=s[24];cb[14]=s[22];var De=cb[s[38]](s[37]);nb[0]=s[28];nb[1]=s[28];nb[2]=s[32];nb[3]=s[25];nb[4]=s[27];nb[5]=s[18];nb[6]=s[23];nb[7]=s[29];
nb[8]=s[18];nb[9]=s[23];nb[10]=s[16];nb[11]=s[36];nb[12]=s[21];nb[13]=s[24];nb[14]=s[12];var Td=nb[s[38]](s[37]);jb[0]=s[12];jb[1]=s[30];jb[2]=s[29];jb[3]=s[24];jb[4]=s[30];jb[5]=s[29];jb[6]=s[35];jb[7]=s[35];jb[8]=s[36];jb[9]=s[12];jb[10]=s[24];jb[11]=s[22];var Ha=jb[s[38]](s[37]);Ea[0]=s[11];Ea[1]=s[27];Ea[2]=s[10];Ea[3]=s[18];Ea[4]=s[23];Ea[5]=s[29];Ea[6]=s[27];Ea[7]=s[14];Ea[8]=s[14];Ea[9]=s[22];Ea[10]=s[10];Ea[11]=s[27];Ea[12]=s[20];Ea[13]=s[14];Ea[14]=s[29];Ea[15]=s[18];Ea[16]=s[23];Ea[17]=
s[16];Ea[18]=s[36];Ea[19]=s[12];Ea[20]=s[24];Ea[21]=s[22];var Y=Ea[s[38]](s[37]);na[0]=s[15];na[1]=s[24];na[2]=s[27];na[3]=s[11];na[4]=s[14];na[5]=s[28];na[6]=s[25];na[7]=s[27];na[8]=s[24];na[9]=s[13];na[10]=s[30];na[11]=s[12];na[12]=s[29];na[13]=s[28];na[14]=s[36];na[15]=s[12];na[16]=s[24];na[17]=s[22];var ed=na[s[38]](s[37]);ka[0]=s[25];ka[1]=s[27];ka[2]=s[18];ka[3]=s[23];ka[4]=s[29];ka[5]=s[28];ka[6]=s[12];ka[7]=s[24];ka[8]=s[25];ka[9]=s[14];ka[10]=s[36];ka[11]=s[13];ka[12]=s[14];var dc=ka[s[38]](s[37]);
xa[0]=s[29];xa[1]=s[17];xa[2]=s[14];xa[3]=s[25];xa[4]=s[27];xa[5]=s[18];xa[6]=s[23];xa[7]=s[29];xa[8]=s[1];xa[9]=s[3];xa[10]=s[6];xa[11]=s[2];xa[12]=s[5];xa[13]=s[4];xa[14]=s[36];xa[15]=s[12];xa[16]=s[24];xa[17]=s[22];var Sd=xa[s[38]](s[37]);sa[0]=s[1];sa[1]=s[11];sa[2]=s[28];sa[3]=s[18];sa[4]=s[16];sa[5]=s[23];sa[6]=s[28];sa[7]=s[36];sa[8]=s[12];sa[9]=s[24];sa[10]=s[22];var Jf=sa[s[38]](s[37]);pb[0]=s[25];pb[1]=s[27];pb[2]=s[25];pb[3]=s[36];pb[4]=s[12];pb[5]=s[24];pb[6]=s[36];pb[7]=s[18];pb[8]=s[21];
var cf=pb[s[38]](s[37]);La[0]=s[16];La[1]=s[24];La[2]=s[21];La[3]=s[15];La[4]=s[21];La[5]=s[10];La[6]=s[11];La[7]=s[36];La[8]=s[12];La[9]=s[24];La[10]=s[22];var Mb=La[s[38]](s[37]);tb[0]=s[27];tb[1]=s[10];tb[2]=s[34];tb[3]=s[10];tb[4]=s[11];tb[5]=s[1];tb[6]=s[11];tb[7]=s[36];tb[8]=s[12];tb[9]=s[10];var wc=tb[s[38]](s[37]);gb[0]=s[25];gb[1]=s[27];gb[2]=s[18];gb[3]=s[23];gb[4]=s[29];gb[5]=s[24];gb[6]=s[16];gb[7]=s[18];gb[8]=s[15];gb[9]=s[29];gb[10]=s[28];gb[11]=s[36];gb[12]=s[18];gb[13]=s[23];var Db=
gb[s[38]](s[37]);Ab[0]=s[13];Ab[1]=s[10];Ab[2]=s[18];Ab[3]=s[28];Ab[4]=s[21];Ab[5]=s[14];Ab[6]=s[27];Ab[7]=s[36];Ab[8]=s[21];Ab[9]=s[24];Ab[10]=s[12];Ab[11]=s[10];Ab[12]=s[21];var Ra=Ab[s[38]](s[37]);Ma[0]=s[13];Ma[1]=s[10];Ma[2]=s[18];Ma[3]=s[28];Ma[4]=s[21];Ma[5]=s[14];Ma[6]=s[27];Ma[7]=s[36];Ma[8]=s[27];Ma[9]=s[24];var Ud=Ma[s[38]](s[37]);Ba[0]=s[13];Ba[1]=s[10];Ba[2]=s[18];Ba[3]=s[28];Ba[4]=s[21];Ba[5]=s[14];Ba[6]=s[27];Ba[7]=s[36];Ba[8]=s[13];Ba[9]=s[14];Ba[10]=s[31];Ba[11]=s[36];Ba[12]=s[11];
Ba[13]=s[10];Ba[14]=s[21];Ba[15]=s[13];Ba[16]=s[32];Ba[17]=s[18];Ba[18]=s[23];Ba[19]=s[36];Ba[20]=s[11];Ba[21]=s[14];var gd=Ba[s[38]](s[37]);Aa[0]=s[13];Aa[1]=s[10];Aa[2]=s[18];Aa[3]=s[28];Aa[4]=s[21];Aa[5]=s[14];Aa[6]=s[27];Aa[7]=s[36];Aa[8]=s[13];Aa[9]=s[14];Aa[10]=s[31];Aa[11]=s[36];Aa[12]=s[10];Aa[13]=s[27];Aa[14]=s[27];Aa[15]=s[10];Aa[16]=s[34];Aa[17]=s[4];Aa[18]=s[0];Aa[19]=s[36];Aa[20]=s[12];Aa[21]=s[24];Aa[22]=s[22];var Vd=Aa[s[38]](s[37]);Gb[0]=s[22];Gb[1]=s[24];Gb[2]=s[27];Gb[3]=s[27];Gb[4]=
s[18];Gb[5]=s[28];Gb[6]=s[24];Gb[7]=s[23];Gb[8]=s[24];Gb[9]=s[23];Gb[10]=s[21];Gb[11]=s[18];Gb[12]=s[23];Gb[13]=s[14];Gb[14]=s[36];Gb[15]=s[12];Gb[16]=s[24];Gb[17]=s[22];var Ee=Gb[s[38]](s[37]);ub[0]=s[18];ub[1]=s[13];ub[2]=s[42];ub[3]=s[24];ub[4]=s[18];ub[5]=s[29];ub[6]=s[36];ub[7]=s[12];ub[8]=s[24];ub[9]=s[22];var df=ub[s[38]](s[37]);Ya[0]=s[11];Ya[1]=s[10];Ya[2]=s[23];Ya[3]=s[23];Ya[4]=s[14];Ya[5]=s[27];Ya[6]=s[28];Ya[7]=s[29];Ya[8]=s[10];Ya[9]=s[23];Ya[10]=s[13];Ya[11]=s[23];Ya[12]=s[14];Ya[13]=
s[33];Ya[14]=s[29];Ya[15]=s[13];Ya[16]=s[10];Ya[17]=s[34];Ya[18]=s[36];Ya[19]=s[12];Ya[20]=s[24];Ya[21]=s[22];var Lf=Ya[s[38]](s[37]);fb[0]=s[22];fb[1]=s[12];fb[2]=s[24];fb[3]=s[23];fb[4]=s[12];fb[5]=s[14];fb[6]=s[25];fb[7]=s[29];fb[8]=s[28];fb[9]=s[43];fb[10]=s[25];fb[11]=s[27];fb[12]=s[18];fb[13]=s[23];fb[14]=s[29];fb[15]=s[36];fb[16]=s[12];fb[17]=s[24];fb[18]=s[22];var Wd=fb[s[38]](s[37]);rb[0]=s[11];rb[1]=s[21];rb[2]=s[10];rb[3]=s[12];rb[4]=s[20];rb[5]=s[15];rb[6]=s[27];rb[7]=s[24];rb[8]=s[16];
rb[9]=s[43];rb[10]=s[13];rb[11]=s[14];rb[12]=s[28];rb[13]=s[18];rb[14]=s[16];rb[15]=s[23];rb[16]=s[28];rb[17]=s[36];rb[18]=s[12];rb[19]=s[24];rb[20]=s[22];var Xd=rb[s[38]](s[37]);kb[0]=s[21];kb[1]=s[18];kb[2]=s[31];kb[3]=s[14];kb[4]=s[25];kb[5]=s[27];kb[6]=s[18];kb[7]=s[23];kb[8]=s[29];kb[9]=s[36];kb[10]=s[12];kb[11]=s[35];var kc=kb[s[38]](s[37]);Ca[0]=s[25];Ca[1]=s[27];Ca[2]=s[24];Ca[3]=s[22];Ca[4]=s[24];Ca[5]=s[12];Ca[6]=s[24];Ca[7]=s[18];Ca[8]=s[23];Ca[9]=s[28];Ca[10]=s[36];Ca[11]=s[12];Ca[12]=
s[24];Ca[13]=s[22];var pc=Ca[s[38]](s[37]);ob[0]=s[28];ob[1]=s[18];ob[2]=s[16];ob[3]=s[23];ob[4]=s[36];ob[5]=s[11];ob[6]=s[30];ob[7]=s[18];ob[8]=s[21];ob[9]=s[13];ob[10]=s[14];ob[11]=s[27];ob[12]=s[28];var wb=ob[s[38]](s[37]);Ib[0]=s[27];Ib[1]=s[10];Ib[2]=s[34];Ib[3]=s[10];Ib[4]=s[12];Ib[5]=s[24];Ib[6]=s[22];Ib[7]=s[36];Ib[8]=s[12];Ib[9]=s[24];Ib[10]=s[22];var jc=Ib[s[38]](s[37]);qb[0]=s[26];qb[1]=s[30];qb[2]=s[10];qb[3]=s[23];qb[4]=s[29];qb[5]=s[30];qb[6]=s[22];qb[7]=s[25];qb[8]=s[24];qb[9]=s[28];
qb[10]=s[29];qb[11]=s[12];qb[12]=s[10];qb[13]=s[27];qb[14]=s[13];qb[15]=s[28];qb[16]=s[36];qb[17]=s[12];qb[18]=s[24];qb[19]=s[22];var Vb=qb[s[38]](s[37]);if(Sc==fa||Sc==Nc)oa=Jb;ta.canvas=H==oa||Ld==oa||Ta==oa||Ze==oa||Jb==oa||lb==oa||fa==Tc||fa==ue||fa==cd||fa==dd||fa==Sf||fa==If||oa==If||fa==Kc||fa==Ga||fa==hb||fa==md||fa==zd||fa==Tf||fa==Dc||fa==hc||fa==oc||oa==oc||fa==Rb||fa==Bb||oa==Bb||fa==db||oa==db||fa==za||fa==Cb||fa==Ad||oa==Ad||fa==$e||oa==$e||oa==we||fa==xe||oa==xe||fa==ve||oa==ve||fa==
Nd||oa==Nd||fa==af||oa==af||fa==Od||oa==Od||fa==bd||oa==bd||fa==Qb||oa==Qb||fa==Pd||oa==Pd||fa==Xb||oa==Xb||fa==Ub||oa==Ub||fa==Ua||oa==Ua||fa==mc||oa==mc||fa==Bd||oa==Bd||fa==ic||oa==ic||fa==ze||oa==ze||fa==Nb||oa==Nb||fa==Uc||oa==Uc||fa==Qd||oa==Qd||fa==Ae||oa==Ae||fa==ye||oa==ye||fa==Cd||oa==Cd||fa==Rd||oa==Rd||fa==Be||oa==Be||fa==Lc||oa==Lc||fa==Kf||oa==Kf||fa==cc||oa==cc||fa==Ce||oa==Ce||fa==bf||oa==bf||fa==De||oa==De||fa==Td||oa==Td||fa==Ha||oa==Ha||fa==Y||oa==Y||fa==ed||oa==ed||fa==dc||oa==
dc||fa==Sd||oa==Sd||fa==Jf||oa==Jf||fa==cf||oa==cf||fa==Mb||oa==Mb||fa==wc||oa==wc||fa==Db||oa==Db||fa==Ra||oa==Ra||fa==Ud||oa==Ud||fa==gd||oa==gd||fa==Vd||oa==Vd||fa==Ee||oa==Ee||fa==df||oa==df||fa==Lf||oa==Lf||fa==Wd||oa==Wd||fa==Xd||oa==Xd||fa==kc||oa==kc||fa==pc||oa==pc||fa==wb||oa==wb||fa==jc||oa==jc||fa==Vb||oa==Vb?D=new $j.SvgCanvas(document.getElementById("svgcanvas"),S):null;ta.font_style={};ta.personalizeTextFields={};navigator.platform.indexOf("Mac");var Uf=0<=navigator.userAgent.indexOf("AppleWebKit"),
Mc=D.pathActions,nd=D.undoMgr,Vf=svgedit.utilities,Ja=$j("#workarea"),ef=$j("#cmenu_canvas");$j("#cmenu_layers");var od=null,Da=1,Ec="crosshair",wa="crosshair",Fe="toolbars",w="",Yd=!0,qc={fill:null,stroke:null,background:null};svgedit.browser.isOpera()&&$j("#grid").attr("disabled","true");$j("#tool_image").hasClass("backend")&&($j.ajax({url:"/dol/index/getTextfields",dataType:"json",success:function(a){eval(a);var c="<select id='textType'><option value=''>Select TextField</option>",h;for(h in a)c+=
"<option value='"+h+"'>"+a[h]+"</option>";$j(".text_panel.textfeild").append(c+"</select>")}}),$j.ajax({url:"/dol/index/getImagefields",dataType:"json",success:function(a){eval(a);var c="<select id='imageType'><option value=''>Select Image Field</option>",h;for(h in a)c+="<option value='"+h+"'>"+a[h]+"</option>";$j(".image_panel.imagefeild").append(c+"</select>")}}));""==S.crossDomain||void 0==S.crossDomain?$j.ajax({url:"/fonts/index/weights",dataType:"json",success:function(a){ta.font_style=a.fonts}}):
$j.ajax({url:"http://"+S.crossDomain+"/fonts/index/weights?callback=?",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",success:function(a){ta.font_style=a.fonts}});"vuezz"==$j("#dol_type").val()&&($j.ajax({url:"/vdol/index/getLayoutData",dataType:"json",data:$j("#product_addtocart_form").serialize(),type:"POST",success:function(a){html="<ul>";for(Z in a)html+="<li><img src='"+a[Z].thumbnail+"' rel='"+a[Z].image+"' rev='"+Z+"'></li>";html+="</ul>";$j(".tools_left").append(html)}}),
null==document.getElementById("svgcontent").getAttribute("name")?$j(".layouts li img").first().trigger("click"):$j(".layouts li img[rev='"+document.getElementById("svgcontent").getAttribute("name")+"']").trigger("click"));$j.ajax({url:"/dol/index/getTextfields",dataType:"json",success:function(a){ta.personalizeTextFields=a}});D.getOffset(D.contentW,D.contentH);var ff=[];$j("#dialog_container").draggable({cancel:"#dialog_content, #dialog_buttons *",containment:"window"});var gf=$j("#dialog_box"),hf=
$j("#dialog_buttons"),Zd=function(a,c,h){$j("#dialog_content").html("<p>"+c.replace(/\n/g,"</p><p>")+"</p>").toggleClass("prompt","prompt"==a);hf.empty();c=$j('<input type="button" value="'+uiStrings.common.ok+'">').appendTo(hf);"alert"!=a&&$j('<input type="button" value="'+uiStrings.common.cancel+'">').appendTo(hf).click(function(){gf.hide();h(!1)});if("prompt"==a&&($j("#tool_image").hasClass("backend")||qd()))$j("#fileupload_box").dialog("open"),$j("#file").val(""),gf.hide();"process"==a&&c.hide();
var l=jQuery;l.fn.iframePostForm=function(a){var c,h,f,n,a=l.extend({},l.fn.iframePostForm.defaults,a);l("#"+a.iframeID).length||l("body").append('<iframe id="'+a.iframeID+'" name="'+a.iframeID+'" style="display:none" />');return l(this).each(function(){f=l(this);(!l("#tool_image").hasClass("backend")||qd())&&kd();f.attr("target",a.iframeID);f.submit(function(){(!l("#tool_image").hasClass("backend")||qd())&&kd();a.post.apply(this);n=l("#"+a.iframeID).load(function(){c=n.contents().find("body");h=
a.json?l.parseJSON(c.html()):c.html();a.complete.apply(this,[h]);n.unbind("load");setTimeout(function(){c.html("")},1)})})})};l.fn.iframePostForm.defaults={iframeID:"iframe-post-form",json:!1,async:!1,post:function(){},complete:function(){}};$j(function(){$j("form#upload_form").iframePostForm({json:!1,post:function(){$j("#imageloader").show();if(0<$j("input[type=file]").val().length)$j("#imageloader").show();else return!1},complete:function(a){if(!a.success){var a=""+a,c=$j.parseJSON(a);if("ERROR"==
a)alert("File Format Not Supported");else if(null==c.width)alert("Please select a valid image");else if(c=$j.parseJSON(a),imageurl=a.replace('&lt;div id="isChromeWebToolbarDiv" style="display:none"&gt;&lt;/div&gt;',""),!$j("#tool_image").hasClass("backend")||qd()){var a=$j(".myimages_div #colorSet img"),h=!0;0>=a.length&&(h=!0,Lb(".myimages_login").css("display","none"),Lb(".myimages_div").css("display","block"));a.each(function(){src=$j(this).attr("src");c.imageUrl==src&&(h=false)});if(h){$$("form.myimages_login")[0].style.display=
"none";$$("div.myimages_div")[0].style.display="block";var a="<li class='high_resol'><a href='"+c.imageUrl+"'  target='_blank'> <img src='"+c.imageUrl+"' class='ui-draggable' style='cursor:move;' rel='"+c.imageUrl+"' width='"+c.thumb_width+"' height='"+c.thumb_height+"'> </a><span style='opacity:1;'></span></li>",l=$j("ul#colorSet").html();$j(".myimages_photos ul#colorSet").html(a+l);$j(".myimages_photos ul#colorSet li:first").fadeIn("slow");"false"==c.is_low_res?$j(".high_resol").find("span").remove():
($j(".high_resol").removeClass(),$j("#colorSet li").addClass("lowres"));$j(".myimages_div").tinyscrollbar({axis:"x"});a=$j("#colorSet img").length;l=parseInt($j(".myimages_photos").css("width").replace("px",""));1==a&&(l=0);a=l+c.thumb_width+25;$j(".myimages_photos").css("width",a);$j(".myimages_photos").css("top","13px");$j(".myimages_div").tinyscrollbar_update();$j("#fileupload_box").dialog("close");$j("#fileupload_box").attr("rel","");D.setMode("select");"none"!=$j(".loggedin").css("display")&&
getMyImages()}}else-1>=$j.inArray(c.imageUrl,ff)&&("svg"==c.imageUrl.substr((~-c.imageUrl.lastIndexOf(".")>>>0)+2)?$j.ajax({url:"/dol/index/readSVG",type:"POST",async:!1,dataType:"text",data:{svg_url:c.imageUrl},success:function(a){D.importSvgString(a,!0);D.setMode("select");D.ungroupSelectedElement();D.ungroupSelectedElement();D.groupSelectedElements(null);D.ungroupAllChilds();D.svgElementAttrChecking();ff[ff.length]=c.imageUrl;""==S.crossDomain||void 0==S.crossDomain?$j.ajax({url:"/fonts/index/getSVGFonts",
type:"POST",data:{svg_url:c.imageUrl},dataType:"json",success:function(a){fontlist=a.font_list;if(void 0!=fontlist)for(Z=0;Z<fontlist.length;Z++)$j("body").append("<link rel='stylesheet' id='colorbox-css'  href='https://fonts.googleapis.com/css?family="+fontlist[Z][0]+"&subset=latin,latin-ext' type='text/css' media='all' />"),$j("body").append("<link rel='stylesheet' id='colorbox-css-1'  href='"+window.location.protocol+"//"+window.location.host+"/fonts/index/getFonts?family="+fontlist[Z][0]+"' type='text/css' media='all' />")}}):
$j.ajax({url:"http://"+S.crossDomain+"/fonts/index/getSVGFonts?callback=?",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",type:"POST",data:{svg_url:c.imageUrl},dataType:"jsonp",success:function(a){fontlist=a.font_list;if(void 0!=fontlist)for(Z=0;Z<fontlist.length;Z++)$j("body").append("<link rel='stylesheet' id='colorbox-css'  href='https://fonts.googleapis.com/css?family="+fontlist[Z][0]+"&subset=latin,latin-ext' type='text/css' media='all' />"),$j("body").append("<link rel='stylesheet' id='colorbox-css-1'  href='"+
window.location.protocol+"//"+window.location.host+"/fonts/index/getFonts?family="+fontlist[Z][0]+"' type='text/css' media='all' />")}})}}):(pf(c.imageUrl),D.setMode("select")),$j("#imageloader").hide(),$j("#fileupload_box").dialog("close"),$j("#fileupload_box").attr("rel",""))}}})});c.click(function(){gf.hide();D.setMode("select")}).focus()};$j.alert=function(a,c){Zd("alert",a,c)};$j.confirm=function(a,c){Zd("confirm",a,c)};$j.process_cancel=function(a,c){Zd("process",a,c)};$j.prompt=function(a,
c,h){Zd("prompt",a,h,c)};var pd=function(){var a=$j(".tool_button_current");a.length&&"tool_select"!==a[0].id&&(a.removeClass("tool_button_current").addClass("tool_button"),$j("#tool_select").addClass("tool_button_current").removeClass("tool_button"),$j("#styleoverrides").text("#svgcanvas svg *{cursor:move;pointer-events:all} #svgcanvas svg{cursor:default}"));D.setMode("select");Ja.css("cursor","auto");$j(".panel_header .multiselected_panel").is(":hidden")&&$j("#selectorGroup0 g").attr("display",
"inline")},Q=null,ac=!1,hd=!1,$d=!1,ae=!1,jf="",Wf=$j("title:first").text(),qd=ta.isMobile=function(){var a=["android","webos","iPhone","iPad","blackberry"];for(Z in a)if(-1<navigator.userAgent.indexOf(a[Z]))break;return!1},kf=ta.zoomChanged=function(a,c,h){D.getResolution();$j("#svgcanvas").position();if(c=D.setBBoxZoom(c,Ja.width()-15,Ja.height()-15))if(a=c.zoom,c=c.bbox,0.0010>a)Fc({value:0.1});else return $j("#zoom").val(100*a),$j("#value").val(Math.round(100*a)+"%"),$j("#zoom_slider").slider("value",
Math.round(100*a)),h?Yb():Yb(!1,{x:c.x*a+c.width*a/2,y:c.y*a+c.height*a/2}),"zoom"==D.getMode()&&c.width&&pd(),h=$j("#workarea"),h.css("display","none").height(),h.css("display",""),Bf(),Yb(!0),!0};$j(document).on("click","#tool_text, #tools_shapelib_show, .qr_embed, #tool_line, #tool_ellipse, #tool_circle, #tool_fhellipse, #tool_rect, #tool_square, #tool_fhrect, #tool_path",function(){$j("#svgcanvas").removeClass("drawing")});$j("#cur_context_panel").delegate("a","click",function(){var a=$j(this);
a.attr("data-root")?D.leaveContext():D.setContext(a.text());return!1});$j("#uploaded").change(function(){""!=$j(this).val()&&$j("#fileupload_box").show()});$j("#uploaded1").change(function(){""!=$j(this).val()&&$j("#fileupload_box").show();$j("#svgcanvas").removeClass("drawing");$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");
$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")});$j("#uploaded, #uploaded1").click(function(){$j(".tooltipster-base").hide()});$j(document).on("click",".pickcolor, #inpickcolor, #inpickcolors, #inpickcolorb",function(){$j(".header, .header-container, .wrap-header, #vtab, .wrap-header").css("zIndex",
"1");$j("#vtab").css({position:"relative","z-index":"1"});$j("#svg_data").val(D.getSvgString());pageno=1;0<$j(".page_tab li.active").length&&(id=$j(".page_tab li.active").attr("id"),pageno=id.replace("page_",""));$j("#textsvg_"+pageno).val(D.getSvgString());params=299<window.innerWidth&&998>window.innerWidth&&svgEditor.curConfig.mobileActivate?$j("#product_addtocart_form").serialize()+"&preview_size=295":$j("#product_addtocart_form").serialize()+"&preview_size=500";$j("#eyedrop_loading").show();$j.ajax({url:"/dol/ajax/designPreviewImage",
dataType:"json",type:"POST",data:params,success:function(a){var c=document.getElementById("eyedropperCanvas"),h=c.getContext("2d");document.createElement("canvas").getContext("2d");var l=$j("#preview-pane1");data=0;var f;$j(".header, .header-container, .wrap-header, .wrap-header").css("zIndex","101");$j(".header-primary").css({zIndex:"99",position:"relative"});$j(".nav-container").css({zIndex:"98",position:"relative"});$j("#vtab").css({"z-index":"100"});$j("#eyedropper").dialog("open");$j("#eyedrop_loading").hide();
c.addEventListener("click",function(a){var c=a.pageX-Math.round($j("#eyedropperCanvas").offset().left),n=Math.round(a.pageY-$j("#eyedropperCanvas").offset().top);width=h.canvas.width;a=f[(width*n+c)*4+3];c="rgba("+f[(width*n+c)*4]+","+f[(width*n+c)*4+1]+","+f[(width*n+c)*4+2]+","+a+")";n=document.createElement("li");if(a==0){n.style.backgroundColor="#ffffff";$j("#pickColorValue").val("#ffffff")}else{n.style.backgroundColor=P(c);$j("#pickColorValue").val(P(c,true))}l.html(n)});$j(new Image).load(function(){var a=
h.canvas.width=this.width,c=h.canvas.height=this.height;h.drawImage(this,0,0);f=h.getImageData(0,0,a,c).data}).attr("src",a.img[pageno-1])}})});$j(".eyeplace").click(function(){S.initFill.color="#"+$j("#pickColorValue").val();D.changeFillColor("#"+$j("#pickColorValue").val());$j(".Hex").val($j("#pickColorValue").val());$j(".Hex").trigger("keyup");$j("#eyedropper").dialog("close")});var Ge=function(){qc.fill.prep();qc.stroke.prep()},lf=function(a){$j.each(a,function(c,h){var l=$j(c).children(),f=c+
"_show",n=$j(f),o=!1;l.addClass("tool_button").unbind("click mousedown mouseup").each(function(c){var l=h[c];l.isDefault&&(o=c);c=function(c){var h=l;if("keydown"===c.type){var n=$j(h.parent+"_show").hasClass("tool_button_current"),o=$j(h.parent+"_show").attr("data-curopt");$j.each(a[l.parent],function(f,q){q.sel==o&&(h=!c.shiftKey||!n?q:a[l.parent][f+1]||a[l.parent][0])})}if($j(this).hasClass("disabled"))return!1;ec(f)&&h.fn();$j(h.sel)};$j(this).mouseup(c);l.key&&$j(document).bind("keydown",l.key[0]+
" shift+"+l.key[0],c)});o?n.attr("data-curopt",h[o].sel):n.attr("data-curopt")||n.attr("data-curopt",h[0].sel);$j(f).offset();n.click(function(){if(n.hasClass("disabled"))return!1;$j(c);$j("#tool_image").hasClass("backend")||$j("#vtab").is(":hidden")})})},mf=function(a,c){return"tools_shapelib"==a?$j("<div>",{"class":"tools_flyout",id:a}).appendTo("#shapes_lib").append(c):$j("<div>",{"class":"tools_flyout",id:a}).appendTo("#svg_editor").append(c)},Mf=function(){$j(".tools_flyout").each(function(){var a=
$j("#"+this.id+"_show"),c=a.offset(),a=a.outerWidth();$j(this).css({left:(c.left+a)*Da,top:c.top})})},be,nf=function(a,c,h){var l=null;0===a.indexOf("url(#")?(a=(a=D.getRefElem(a))?a.cloneNode(!0):$j("#"+h+"_color defs *")[0],l={alpha:c},l[a.tagName]=a):l=0===a.indexOf("#")?{alpha:c,solidColor:a.substr(1)}:{alpha:c,solidColor:"none"};return new $j.jGraduate.Paint(l)},pf=ta.setImageURL=function(a,c,h){a||(a="");D.setImageURL(a,c,h);$j("#image_url").val(a);0===a.indexOf("data:")&&($j("#image_url").hide(),
$j("#change_image_url").show(),D.embedImage(a,function(a){a?$j("#url_notice").hide():$j("#url_notice").show()}),$j("#image_url").show(),$j("#change_image_url").hide());return!0},Wb=ta.updateContextPanel=function(){var a=Q;null!=a&&!a.parentNode&&(a=null);var c=D.getCurrentDrawing().getCurrentLayerName(),h=D.getMode(),l="px"!==S.baseUnit?S.baseUnit:null;zoom_factor=0<$j("#zoom_factor").length?$j("#zoom_factor").val():1;null!=a||ac?!$j("#tool_image").hasClass("backend")&&"true"==$j(a).attr("lock_admin")?
"true"==$j(a).attr("editable")||"true"==$j(a).attr("placeholder")?$j(".tools_panel .wrap").hide():$j(".tools_panel .wrap").show():("true"==$j(a).attr("editable")||"true"==$j(a).attr("placeholder"))&&$j(".tools_panel .wrap").show():($j(".wrap").hide(),$j("#color_picker").hide(),$j("#text").blur());768>=window.innerWidth&&svgEditor.curConfig.mobileActivate&&(null!=a||ac?("open"==$j(".tools_panel .wrap").attr("rel")?($j(".tools_panel .wrap").show(),$j("#svg_editor .settings").hide(),$j("#svg_editor .product_options").hide()):
$j(".tools_panel .wrap").hide(),"fhpath"!=h&&$j(".toolspanel_wrapper").show(),!$j("#tool_image").hasClass("backend")&&"true"==$j(a).attr("lock_admin")&&("true"==$j(a).attr("editable")||"true"==$j(a).attr("placeholder")?$j(".toolspanel_wrapper").hide():$j(".toolspanel_wrapper").show())):$j(".toolspanel_wrapper").hide());var f="pathedit"==h,n=$j("#cmenu_canvas li");$j(".selected_panel, .multiselected_panel, .g_panel, .rect_panel, .circle_panel, .ellipse_panel, .line_panel, .text_panel, .textpath_panel, .image_panel,.fill_path_panel").hide();
$j("#tool_fill").show();$j("#tool_stroke").show();$j(".stroke-width, .stroke").show();$j(".title_image").hide();$j(".image_filter_hr").hide();$j(".ungroup").hide();$j(".noimage").show();$j(".opacity").removeClass("opacity-center");if(null!=a){qc.fill.update();0!=$j(".pxniko").length&&$j(".hex_fill").html($j(a).attr("fill"));qc.stroke.update();0!=$j(".pxniko").length&&("none"==$j(".hex_fill").html()?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html($j(a).attr("fill")),$j(".hex_stroke").html($j(a).attr("stroke")),
("null"==$j(".hex_stroke").html()||"none"==$j("#stroke_color rect").attr("fill"))&&$j(".hex_stroke").html("Not Set"),"#none"==$j(".hex_stroke").html()&&$j(".hex_stroke").html("Not Set"),0==$j(".hex_fill").html().indexOf("url(#")&&$j(".hex_fill").html(""),0==$j(".hex_stroke").html().indexOf("url(#")&&$j(".hex_stroke").html(""));var o=a.nodeName;"true"==a.getAttribute("lock")?($j(".unlock").hide(),$j(".locked").show(),"true"==a.getAttribute("editable")?($j(".multilined_text").show(),$j(".multiline_text .text_panel").show()):
$j(".multilined_text").hide(),$j(".lock_panel").show()):($j(".unlock").show(),$j(".locked").hide(),$j(".lock_panel").hide(),$j("#tool_cut").addClass("disable"),$j("#tool_copy").addClass("disable"),$j("#tool_delete").addClass("disable"),$j(".totextpath").show());"select"==D.getMode()&&($j("#tool_fhpath").addClass("drawing"),$j(".niko_tool_fhpath .state").removeClass("drawing_on"),$j(".niko_tool_line .line_state").removeClass("line_on"),$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on"),
$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on"),$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on"),$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on"),$j("#tools_rect_show .rectangle_state").removeClass("square_on"),$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on"),$j("#svgcanvas").removeClass("drawing"));var q=D.getRotationAngle(a);$j("#angle").val(q);$j("#rotate_angle").val(Math.round(100*q)/100);0!=$j(".pxniko").length&&$j("#rotate_slider").slider("option",
"value",q);if("g"!==o){var p=D.getBlur(a);$j("#blur").val(p)}$j("#blur_text").val(p);0!=$j(".pxniko").length&&$j("#blur_slider").slider("option","value",p);D.addedNew&&"image"===o&&0!==D.getHref(a).indexOf("data:")&&$c();if(!f&&"pathedit"!=h){$j(".selected_panel, .selected_panel .align, .selected_panel .align div").css("display","block");if(0<=["line","circle","ellipse"].indexOf(o))$j(".xy_panel").hide();else{var u,z;if(0<=["g","polyline","path"].indexOf(o)){if(h=D.getStrokedBBox([a]))u=h.x,z=h.y}else u=
a.getAttribute("x"),z=a.getAttribute("y");l&&(u=svgedit.units.convertUnit(u),z=svgedit.units.convertUnit(z));u=Math.round(100*u)/100;z=Math.round(100*z)/100;$j("#selected_x").val(Math.round(100*u)/100||0);$j("#selected_y").val(Math.round(100*z)/100||0);0!=$j(".pxniko").length&&($j("#x_slider").slider("value",u),$j("#y_slider").slider("value",z));$j(".xy_panel").css("display","block")}l=-1==["image","text","path","g","use"].indexOf(o);$j("#tool_topath,.path_div,hr.textpath").toggle(l);0!=$j(".pxniko").length&&
$j(".path_div,hr.textpath").toggle(l);$j("#tool_reorient").toggle("path"==o);$j("#tool_reorient").toggleClass("disabled",0==q)}else{c=Mc.getNodePoint();$j("#tool_add_subpath").removeClass("push_button_pressed").addClass("tool_button");$j("#tool_node_delete").toggleClass("disabled",!Mc.canDeleteNodes);td("#tool_openclose_path",Mc.closed_subpath?"open_path":"close_path");$j(".niko_tool_path .path_state").removeClass("path_on");c&&(f=$j("#seg_type"),l&&(c.x=svgedit.units.convertUnit(c.x),c.y=svgedit.units.convertUnit(c.y)),
$j("#path_node_x").val(c.x),$j("#path_node_y").val(c.y),$j("#selected_x").val(c.x),$j("#selected_y").val(c.y),c.type?f.val(c.type).removeAttr("disabled"):f.val(4).attr("disabled","disabled"));return}"image"!=a.tagName&&$j(".panel_header").removeClass("ru");var l={g:[],a:[],rect:["width","height"],image:["width","height"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],line:["x1","y1","x2","y2"],text:[],use:[]},s=a.tagName,q=null;"a"===s&&(q=D.getHref(a),$j(".g_panel").show());if("g"===s){u=$j(Q).children();
for(Z=0;Z<u.length;Z++)u[Z].getAttribute("fill"),z=u[Z].getAttribute("stroke"),null==z?$j("#stroke_color rect").attr("fill","none"):$j("#stroke_color rect").attr("fill",z);"null"==$j("#fill_color rect").attr("fill")||"none"==$j("#fill_color rect").attr("fill")?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html($j("#fill_color rect").attr("fill"));"null"==$j("#stroke_color rect").attr("fill")||"none"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html($j("#stroke_color rect").attr("fill"));
$j(".multi_options").hide();$j(".ungroup").show()}"a"===a.parentNode.tagName&&!$j(a).siblings().length&&($j("#a_panel").show(),q=D.getHref(a.parentNode));$j("#tool_make_link, #tool_make_link").toggle(!q);q&&$j("#link_url").val(q);0!=$j(".pxniko").length&&($j("#niko_path_fill .onoffswitch-switch").css("right","-2px"),$j("#niko_path_fill .onoffswitch-inner").addClass("on"),$j("#niko_path_fill .on").parent().removeClass("onborder"),"none"!=Q.getAttribute("fill")?($j("#path_fill").attr("checked","checked"),
$j("#niko_path_fill .onoffswitch-switch").css("right","-2px"),$j("#niko_path_fill .onoffswitch-inner").addClass("on"),$j("#niko_path_fill .on").parent().removeClass("onborder")):($j("#path_fill").removeAttr("checked"),$j("#niko_path_fill .onoffswitch-switch").css("right","38px"),$j("#niko_path_fill .onoffswitch-inner").removeClass("on"),$j("#niko_path_fill .onoffswitch-inner").parent().addClass("onborder")));if(l[s]||"pathedit"!=s){l=l[s];"true"!=a.getAttribute("lock")?($j("."+s+"_panel").show(),
"text"!=s&&$j("#text").blur(),$j("#tools_bottom_2,#tools_bottom_3").show(),"rect"!=s&&("circle"!=s&&"image"!=s&&"text"!=s&&"ellipse"!=s&&"g"!=s)&&($j(".marker_panel").show(),$j(".marker_panel").parent().removeClass("minimized")),"line"===s)?($j("#tool_fill").hide(),$j("#tool_stroke").css("margin-left","42px"),0!=$j(".pxniko").length&&$j("#tool_stroke").css("margin-left","0px")):0!=$j(".pxniko").length?$j("#tool_stroke").css("margin-left","0px"):$j("#tool_stroke").css("margin-left","7px"):($j(".selected_panel").hide(),
$j("#tools_bottom_2,#tools_bottom_3").hide(),$j(".marker_panel").parent().addClass("minimized"),$j(".marker_panel").hide());l&&$j.each(l,function(c,h){var l=a.getAttribute(h);S.baseUnit!=="px"&&a[h]&&(l=svgedit.units.convertUnit(a[h].baseVal.value));l=Math.round(l*100)/100;if($j("#tool_image").hasClass("backend"))$j("#"+s+"_"+h).val(l||0);else{s=="image"&&(h=="width"||h=="height")?$j("#"+s+"_"+h).val(Math.round(l*zoom_factor*100)/100||0):$j("#"+s+"_"+h).val(l||0);$j("#"+s+"_"+h+"_slider").slider("value",
l)}if(a.tagName=="rect"){l=a.getAttribute("rx");l==null?$j("#rect_rx").val(0):$j("#rect_rx").val(l);$j(".pxniko").length!=0&&$j("rect_rx_slider").slider("value",l)}if(a.tagName=="image"){if($j("#tool_image").hasClass("backend")){placeholder=a.getAttribute("placeholder")==null||a.getAttribute("placeholder")=="false"?false:true;$j("#placeholder")[0].checked=placeholder;alwaysontop=a.getAttribute("alwaysontop")==null||a.getAttribute("alwaysontop")=="false"?false:true;$j("#alwaysontop")[0].checked=alwaysontop}if(!$j("#tool_image").hasClass("backend")){if($j("#dol_type").val()==
"vuezz"){l=a.getAttribute("clip");if(l!=null){id=l.substring(5,l.length-1);l=document.getElementById("moveto_clip").options;for(c=0;c<l.length;c++)if(l[c].value==id)l[c].selected=true}}if(a.getAttribute("orig_w")==null){l=new Image;l.onload=function(){a.setAttribute("orig_w",this.width);a.setAttribute("orig_h",this.height)};l.src=a.getAttribute("xlink:href")}l=a.getAttribute("preserveAspectRatio");l=="none"||l=="none meet"?$j("#aspect_check")[0].checked=false:$j("#aspect_check")[0].checked=true}$j(".panel_header").addClass("ru");
$j(".section_header.color").addClass("section_image");$j("#tool_totextpath").hide()}});if("text"==s){S.isMultiline=D.getMultiline();D.setMultiline(S.isMultiline);if(S.isMultiline){if($j(".multiple").attr("id","text"),$j(".single").removeAttr("id","text"),$j("#text").unbind("keydown",Oc).bind("keydown",Oc),$j("#text").unbind("keypress",Pc).bind("keypress",Pc),$j("#text").unbind("keyup",Qc).bind("keyup",Qc),$j(".multiline").hide(),$j("#tool_image").hasClass("backend")&&(editable=null==a.getAttribute("editable")||
"false"==a.getAttribute("editable")?!1:!0,$j("#editable")[0].checked=editable),$j(".multiple").show(),$j(".tool_multi.single").hide(),0!=$j(".pxniko").length?($j(".tool_multi.single").hide(),$j(".singleline_text").hide(),$j(".multiline_text").attr("rel",a.getAttribute("id"))):($j(".multiline_text").show(),$j(".singleline_text").hide()),"select"==D.getMode()&&($j("#text").val(a.textContent.replace(/[^\S\r\n]+$/gm,"")),D.textUIManager.init(a),D.textManager.initTextArray(a),D.updateText()),null==Q.getAttribute("lock")||
"false"==Q.getAttribute("lock")?$j(".tools_panel .wrap").show():"true"==Q.getAttribute("editable")?($j(".multiline_text").show(),$j(".multiline_text .text_panel").show()):$j(".multiline_text").show(),0!=$j(".pxniko").length)$j(".tool_multi .onoffswitch-switch").css("right","-2px"),$j(".tool_multi .onoffswitch-inner").addClass("on"),$j(".tool_multi .on").parent().removeClass("onborder"),"true"==Q.getAttribute("aspect")?($j("#niko_text_aspect .onoffswitch-switch").css("right","-2px"),$j("#niko_text_aspect .onoffswitch-inner").addClass("on"),
$j("#niko_text_aspect .on").parent().removeClass("onborder")):($j("#niko_text_aspect .onoffswitch-switch").css("right","38px"),$j("#niko_text_aspect .onoffswitch-inner").removeClass("on"),$j("#niko_text_aspect .onoffswitch-inner").parent().addClass("onborder"))}else $j(".single").attr("id","text"),a.getAttribute("stroke-width"),$j(".multiple").removeAttr("id","text"),$j("#text").unbind("keydown",Oc).bind("keydown",Oc),$j("#text").unbind("keypress",Pc).bind("keypress",Pc),$j("#text").unbind("keyup",
Qc).bind("keyup",Qc),D.textActions.setInputElem($j("#text")[0]),$j(".multiline_text").hide(),$j(".tool_multi.single").show(),$j(".singleline_text").show(),0!=$j(".pxniko").length&&($j(".tool_multi .onoffswitch-label .onoffswitch-switch").css("right","38px"),$j(".tool_multi .onoffswitch-inner").removeClass("on").parent().addClass("onborder"),"true"==Q.getAttribute("aspect")?($j("#niko_text_aspect .onoffswitch-switch").css("right","-2px"),$j("#niko_text_aspect .onoffswitch-inner").addClass("on"),$j("#niko_text_aspect .on").parent().removeClass("onborder")):
($j("#niko_text_aspect .onoffswitch-switch").css("right","38px"),$j("#niko_text_aspect .onoffswitch-inner").removeClass("on"),$j("#niko_text_aspect .onoffswitch-inner").parent().addClass("onborder")));D.getItalic()?$j("#tool_italic").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_italic").removeClass("push_button_pressed").addClass("tool_button");D.getBold()?$j("#tool_bold").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_bold").removeClass("push_button_pressed").addClass("tool_button");
D.getUnderline()?$j("#tool_underline").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_underline").removeClass("push_button_pressed").addClass("tool_button");D.getStrikeThrough()?$j("#tool_strike").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_strike").removeClass("push_button_pressed").addClass("tool_button");$j(".totextpath").hide();$j("#text_aspect")[0].checked=D.getTextAspect();if(l=ta.font_style[a.getAttribute("font-family")])"0"==l.has_bold?($j(".text_panel").addClass("nobold"),
$j("#tool_bold").css("visibility","hidden")):($j(".text_panel").removeClass("nobold"),$j("#tool_bold").css("visibility","visible")),"0"==l.has_italic?($j(".text_panel").addClass("noitalic"),$j("#tool_italic").css("visibility","hidden")):($j(".text_panel").removeClass("noitalic"),$j("#tool_italic").css("visibility","visible")),"0"==l.has_bolditalic?$j(".text_panel").addClass("nobolditalic"):$j(".text_panel").removeClass("nobolditalic"),$j(document).on("click","#tool_italic",function(){$j(".text_panel").hasClass("nobolditalic")&&
$j("#tool_italic").hasClass("push_button_pressed")?$j("#tool_bold").css("visibility","hidden"):$j("#tool_bold").css("visibility","visible")}),$j(".text_panel").hasClass("nobolditalic")&&$j("#tool_bold").hasClass("push_button_pressed")?$j("#tool_italic").css("visibility","hidden"):$j("#tool_italic").css("visibility","visible");$j("#textType").val(D.getTextType());a.getAttribute("x");a.getAttribute("y");D.getOffset(D.contentW,D.contentH);l=a.getAttribute("font-family");null!=l&&23<l.length&&(l=l.substring(0,
22)+"...");S.isMultiline?("true"!=a.getAttribute("editable")&&$j(".multiline_text").addClass("text_panel"),ta.fontCharacteristics($j(a).attr("font-family")),$j("#font_family").val(l),$j("#tool_image").hasClass("backend")||$j("#font_family_dropdown button").html(l),fsize=a.getAttribute("font_size"),null==fsize&&(fsize=a.setAttribute("font_size",a.getAttribute("font-size"))),0<$j("#zoom_factor").length?$j("#font_size").val(Math.round(a.getAttribute("font_size").replace("pt","")*$j("#zoom_factor").val())):
$j("#font_size").val(Math.round(a.getAttribute("font_size").replace("pt",""))),$j("#line_spacing").val(D.getLineSpacing()),margin=parseInt($j("#svgcanvas").css("margin-left").replace("px","")),textWidth=parseInt(D.getWidth()),panelWidth=parseInt($j(".multiline_text").outerWidth())):($j("#font_family").val(l),$j("#tool_image").hasClass("backend")||$j("#font_family_dropdown button").html(l),null==a.getAttribute("font_size")?(fsize=a.getAttribute("font-size"),null==fsize&&(u=$j(a).children(),0<u.length&&
(fsize=u[0].getAttribute("font-size")))):fsize=a.getAttribute("font_size"),$j("#zoom_factor"),$j("#font_size").val(Math.round(fsize.replace("pt",""))),$j("#text").val(a.textContent),$j(".multiline_text").removeClass("text_panel"),$j(".multiline_text").hide());$j("#text_size_slider").slider("value",$j("#font_size").val());" "==a.textContent?$j(".tools_panel .wrap").hide():!$j("#tool_image").hasClass("backend")&&"true"==$j(a).attr("lock_admin")&&("true"==$j(a).attr("editable")?$j(".tools_panel .wrap").hide():
$j(".tools_panel .wrap").show());0<$j(".draw_panel").length&&(""==a.textContent?$j(".draw_panel").hide():$j(".draw_panel").show());D.addedNew&&setTimeout(function(){/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())},100);if("textpath"==a.getAttribute("text_type")){$j("#tool_image").hasClass("backend")||$j(".text_panel .single, .singleline_text, #tool_posleft, #tool_poscenter, #tool_posright, #tool_postop, #tool_posmiddle, #tool_posbottom, .multline, .text_panel, .xy_panel, hr.position").hide();
0!=$j(".pxniko").length&&$j(".text_panel.text_multi").hide();$j(".panel_header .textpath_panel, .text_panel.size").show();"true"==a.getAttribute("lock")?$j(".textpath_panel").hide():$j(".textpath_panel").show();if("none"==$j("#fill_color rect").attr("fill")||"null"==$j("#fill_color rect").attr("fill"))$j("#fill_color rect").attr("fill","#000000"),$j(".hex_fill").html("#000000");$j("#tool_fhpath").removeClass("disabled");$j("#tool_image").hasClass("backend")&&($j(".text_panel, .panel_header .textpath_panel").show(),
$j(".value_image.ratio, .panel_header .text_panel, .multiline_text.text_panel, #snap_to_canvas, #fliptool_panel,#tool_font_family .singleline_text, .effects,.xy_panel").hide(),$j("#tool_posleft").parent().hide())}else if($j("#tool_posleft, #tool_poscenter, #tool_posright, #tool_postop, #tool_posmiddle, #tool_posbottom, .multline, .xy_panel, hr.position").show(),"true"==a.getAttribute("lock")?"true"==a.getAttribute("editable")?($j(".text_panel").hide(),$j("multiline_text .text_panel").show()):$j(".text_panel").hide():
$j(".text_panel").show(),0!=$j(".pxniko").length&&$j(".text_panel.text_multi").show(),"none"==$j("#fill_color rect").attr("fill")||"null"==$j("#fill_color rect").attr("fill"))$j("#fill_color rect").attr("fill","#000000"),$j(".hex_fill").html("#000000");l=D.getLineSpacing();0!=$j(".pxniko").length&&$j("#line_spacing_slider").slider("option","value",l);svgedit.browser.isIE()&&S.isMultiline&&0==$j("#text").val().length&&$j("#text").focus();S.enableSingleLine?$j(".sl_text_enabled").show():$j(".sl_text_enabled").hide();
S.prev_font=$j("#font_size").val()}else if("image"==s)$j(".image_filter_hr").show(),(!$j("#tool_image").hasClass("backend")||qd())&&pf(D.getHref(a)),$j("#tool_posleft, #tool_poscenter, #tool_posright, #tool_postop, #tool_posmiddle, #tool_posbottom, .ratio").show(),$j("#imageType").val(D.getImageType()),$j("#tool_fill").hide(),$j(".multline").hide(),$j("#tool_stroke").hide(),$j(".stroke-width, .stroke").hide(),$j(".title_image").show(),$j(".noimage").hide(),$j(".opacity").addClass("opacity-center"),
"none"==a.getAttribute("preserveAspectRatio")||"none meet"==a.getAttribute("preserveAspectRatio")?($j("#tool_aspect").removeClass("noaspect"),$j("#tool_aspect").addClass("aspect"),0!=$j(".pxniko").length&&($j("#tool_aspect .on").removeClass("on").parent().addClass("onborder"),$j("#tool_aspect .onoffswitch-switch").css("right","38px"))):($j("#tool_aspect").removeClass("aspect"),$j("#tool_aspect").addClass("noaspect"),0!=$j(".pxniko").length&&($j("#tool_aspect .onoffswitch-inner").addClass("on"),$j("#tool_aspect .on").parent().removeClass("onborder"),
$j("#tool_aspect .onoffswitch-switch").css("right","-2px")));else if("g"===s||"use"===s)$j("#container_panel").show(),$j("#tool_totextpath").hide(),q=D.getTitle(),l=$j("#g_title")[0],l.value=q,q=Math.min(Math.max(12+6*l.value.length,50),300),$j(l).width(q),"use"==s?l.setAttribute("disabled","disabled"):l.removeAttribute("disabled");"image"!=s&&("g"!==Q.tagName?$j("#stroke_width").val(null==a.getAttribute("stroke-width")||"null"==a.getAttribute("stroke-width")?1:a.getAttribute("stroke-width")):$j("#stroke_width").val(null==
a.getAttribute("stroke-width")||"null"==a.getAttribute("stroke-width")?0:a.getAttribute("stroke-width")),0!=$j(".pxniko").length&&$j("#stroke_width_slider").slider("value",$j("#stroke_width").val()),$j("#stroke_style").val(a.getAttribute("stroke-dasharray")),a.getAttribute("stroke-linejoin")&&td("#cur_linejoin","linejoin_"+a.getAttribute("stroke-linejoin")),a.getAttribute("stroke-linecap")&&td("#cur_linecap","linecap_"+a.getAttribute("stroke-linecap")))}n[("g"===s?"en":"dis")+"ableContextMenuItems"]("#ungroup");
n[("g"===s||!ac?"dis":"en")+"ableContextMenuItems"]("#group");!$j("line_panel").is(":hidden")&&"path"!=s&&$j(".panel_header .marker_panel").hide();"path"==s&&(null==Q.getAttribute("lock")||"false"==Q.getAttribute("lock"))&&$j(".panel_header .marker_panel").show();0!=$j(".pxniko").length&&(l=-1==["image","text","g","use"].indexOf(o),$j(".txtpath_div,hr.textpath1").toggle(l));"polyline"==s&&(null==Q.getAttribute("lock")||"false"==Q.getAttribute("lock"))&&$j(".panel_header .marker_panel").show();"g"==
s&&(""==a.getAttribute("attr_c")&&null==a.getAttribute("filter"))&&($j("#blur").val(0),$j("#blur_slider").slider("option","value",0))}else ac?(selects=D.getSelectedElems(),null!=selects[0]&&"textpath"==selects[0].getAttribute("text_type")||null!=selects[1]&&"textpath"==selects[1].getAttribute("text_type")?$j(".wrap").hide():($j(".inner_settings").hide(),$j(".product_options").hide(),$j(".settings_header .arrow").removeClass("up"),$j(".settings_header .arrow").addClass("down"),$j(".multiselected_panel").show(),
$j(".xy_panel").hide(),$j("#tool_delete").addClass("disable"),$j(".panel_header .marker_panel").hide(),n.enableContextMenuItems("#group").disableContextMenuItems("#ungroup")),$j("#tool_posleft, #tool_poscenter, #tool_posright, #tool_postop, #tool_posmiddle, #tool_posbottom").show(),$j(".multi_options").show(),$j(".ungroup").hide()):(n.disableContextMenuItems("#delete,#cut,#copy,#group,#ungroup,#move_front,#move_up,#move_down,#move_back"),$j("#tool_cut").addClass("disable"),$j("#tool_copy").addClass("disable"),
$j("#tool_delete").addClass("disable"));0<nd.getUndoStackSize()?$j("#tool_undo").removeClass("disabled"):$j("#tool_undo").addClass("disabled");0<nd.getRedoStackSize()?$j("#tool_redo").removeClass("disabled"):$j("#tool_redo").addClass("disabled");D.addedNew=!1;if(a&&!f||ac){if($j("#selLayerNames").removeAttr("disabled").val(c),ef.enableContextMenuItems("#delete,#cut,#copy,#move_front,#move_up,#move_down,#move_back"),$j("#tool_cut").removeClass("disable"),$j("#tool_copy").removeClass("disable"),ac||
$j("#tool_delete").removeClass("disable"),null!=a&&("true"!=a.getAttribute("lock")?n.enableContextMenuItems("#delete,#cut,#copy,#group,#ungroup,#move_front,#move_up,#move_down,#move_back"):(n.disableContextMenuItems("#delete,#cut,#copy,#group,#ungroup,#move_front,#move_up,#move_down,#move_back"),$j("#tool_cut").addClass("disable"),$j("#tool_copy").addClass("disable"),$j("#tool_paste").hasClass("disable")&&$j("#tool_delete").addClass("disable"))),"text"===s&&0==a.textContent.length)$j("#tool_cut").addClass("disable"),
$j("#tool_copy").addClass("disable"),$j("#tool_paste").hasClass("disable")&&$j("#tool_paste").addClass("disable"),n.disableContextMenuItems("#cut,#copy")}else $j("#selLayerNames").attr("disabled","disabled");-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&$j(".safari").hide();svgedit.browser.isGecko()&&$j("#tool_underline").hide();sectionlist=$j(".section");$j.each(sectionlist,function(a,c){$j(c).hasClass("minimized")&&$j(c).find(".section_content").hide()});
"g"===s&&"clipart_img"==a.getAttribute("attr_c")&&"true"!=a.getAttribute("lock")?($j(".g_panel").hide(),$j("#tool_fill").hide(),$j("#tool_stroke").hide(),$j(".stroke-width, .stroke").hide(),$j(".clipart_panel").show(),$j(".clipart_ratio").show(),$j(".clipart_colors").show(),$j(".section.clipart").show(),$j(".title.noimage").hide(),$j(".title.title_image").show(),$j(".section_header.color").addClass("section_image")):"path"===s&&"clipart_img"==a.getAttribute("attr_c")?($j(".clipart_ratio, .section_content .clipart_panel").show(),
$j(".clipart_panel").hide()):($j(".clipart_panel").hide(),$j(".clipart_colors").hide(),$j(".clipart_ratio").hide(),$j(".section.clipart").hide(),"image"!==s&&$j(".section_header.color").removeClass("section_image"));if(("g"===s||"path"===s)&&"clipart_img"==a.getAttribute("attr_c"))$j(".section_content .clipart_panel").show(),"path"===s&&$j(".section_content .clipart_panel .clipart, ").hide(),"aspect"==a.getAttribute("attr_aspt")?$j("#clipart_aspect")[0].checked=!0:$j("#clipart_aspect")[0].checked=
!1,0!=$j(".pxniko").length&&("aspect"==a.getAttribute("attr_aspt")?($j("#clipart_aspect .onoffswitch-switch").css("right","-2px"),$j("#clipart_aspect .onoffswitch-inner").addClass("on"),$j("#clipart_aspect .onoffswitch-inner").parent().removeClass("onborder")):($j("#clipart_aspect .onoffswitch-switch").css("right","38px"),$j("#clipart_aspect .onoffswitch-inner").removeClass("on"),$j("#clipart_aspect .onoffswitch-inner").parent().addClass("onborder")));("inline"==$j(".panel_header .path_node_panel").css("display")||
"block"==$j(".panel_header .path_node_panel").css("display"))&&$j(".marker_panel").hide();0<$j("#lumilia_nobtn").length&&$j("#lumilia_nobtn").hide();0!=$j(".pxniko").length&&($j(".pxunit").text(S.baseUnit),$j(".multiselected_panel").is(":visible")?$j("hr.alignment,.tool_lock,span.lock").hide():$j("hr.alignment,.tool_lock,span.lock").show(),("text"===s&&"textpath"!=a.getAttribute("text_type")||"image"===s)&&$j("span.align").show(),"text"===s&&"textpath"==a.getAttribute("text_type")?($j("hr.alignment,span.align").hide(),
$j("hr.blur_hr").hide()):Lb("hr.blur_hr").show(),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&$j(".blur_hr").hide(),$j(".g_panel").is(":visible")&&$j("span.align, hr.alignment").show(),("inline"==$j(".panel_header .path_node_panel").css("display")||"block"==$j(".panel_header .path_node_panel").css("display"))&&$j("hr.alignment").hide(),"clipart_img"==$j(Q).attr("attr_c")&&$j(".header, .header-container, .wrap-header").css("zIndex","100"));ac||("image"===s?
"image"===$j(".tools_panel").attr("ref")?($j(".minimal").hide(),$j(".minimizeoptions").removeClass("up"),$j(".minimizeoptions").addClass("down")):($j(".lockD").show(),$j(".minimizeoptions").removeClass("down"),$j(".minimizeoptions").addClass("up")):"text"===s?"text"===$j(".tools_panel").attr("rel")?($j(".minimal").hide(),$j(".minimizeoptions").removeClass("up"),$j(".minimizeoptions").addClass("down")):($j(".lockD").show(),$j(".minimizeoptions").removeClass("down"),$j(".minimizeoptions").addClass("up")):
($j(".minimal").show(),0<=["line","circle","ellipse","rect"].indexOf(o)?($j(".xy_panel").hide(),$j(".text_panel.minimal").hide(),$j(".selected_panel.minimal .alignment").hide()):0<=["path","g"].indexOf(o)?($j(".text_panel.minimal").hide(),$j(".selected_panel.minimal .alignment").hide()):$j(".xy_panel").show()));if(0!=$j(".pxhotice").length){if(null!=a){"true"==a.getAttribute("lock")?($j(".draw_panel").find(".drawings").hide(),$j(".drawings").removeClass("active"),$j(".draw_panel").find(".draw_unlock").addClass("active"),
$j(".draw_panel").find(".draw_unlock").show()):(c=a.tagName,f="draw_"+c,"draw_image"==f&&(f="draw_images"),"g"==c&&"clipart_img"==a.getAttribute("attr_c")&&(f="draw_clipart"),$j(".sidebar_menus li.active").removeClass("active"),$j(".draw_panel").find(".drawings").hide(),$j(".drawings").removeClass("active"),c="."+f,$j(".draw_panel").find(c).addClass("active"),$j(".draw_panel").find(c).show(),D.applyKnobSlider(null,!0));null==a.getAttribute("stroke-width")&&("rect"==a.tagName||"circle"==a.tagName||
"line"==a.tagName)&&$j(a).attr("stroke-width",1);"image"==a.tagName?($j(".str, .stroke_color").hide(),c=D.getCurrentKnobEffect(),("stroke"==c||"opacity"==c)&&$j('.knob_effects div[rel="opacity"]').trigger("click")):$j(".str, .stroke_color").show();var w=$j(".show_hide_handle a");$j(".draw_panel").animate({bottom:"0"},{duration:200,complete:function(){w.children("img").attr("src","/js/all/hot_ice/hot_ice_img/hide_controls.png");w.removeClass("hidden_pane").addClass("showed_pane")}});$j(".layout_options .layouts").css("margin-left",
0)}else ac?($j(".draw_panel").show(),$j(".sidebar_menus li.active").removeClass("active"),$j(".draw_panel").find(".drawings").hide(),$j(".drawings").removeClass("active"),c=".draw_multiselect",$j(".draw_panel").find(c).addClass("active"),$j(".draw_panel").find(c).show(),w=$j(".show_hide_handle a"),$j(".draw_panel").animate({bottom:"0"},{duration:200,complete:function(){w.children("img").attr("src","/js/all/hot_ice/hot_ice_img/hide_controls.png");w.removeClass("hidden_pane").addClass("showed_pane")}}),
$j(".layout_options .layouts").css("margin-left","48px")):($j(".draw_panel").find(".drawings").hide(),$j(".drawings").removeClass("active"),w=$j(".show_hide_handle a"),$j(".draw_panel").animate({bottom:"-206px"},{duration:200,complete:function(){w.children("img").attr("src","/js/all/hot_ice/hot_ice_img/show_controls.png");w.removeClass("showed_pane").addClass("hidden_pane")}}),$j(".draw_panel").find(".draw_background").addClass("active"),$j(".draw_panel").find(".draw_background").show());$j('.knob_effects li div[rel="stroke"]').hasClass("active")?
$j(".stroke_color").show():$j(".stroke_color").hide()}};$j(document).on("focus","#text",function(){});$j(document).on("blur","#text",function(){});e=$j.Event("keydown");e.ctrlKey=!0;e.keyCode=8;e.charCode=46;$j("#text").trigger(e,!0);e=$j.Event("keypress");e.ctrlKey=!0;e.keyCode=8;e.charCode=8;$j("#text").trigger(e,!0);e=$j.Event("keyup");e.ctrlKey=!0;e.keyCode=8;e.charCode=8;$j("#text").trigger(e,!0);D.bind("selected",function(a,c){var h=D.getMode();"select"===h&&pd();h="pathedit"==h;Q=1==c.length||
null==c[1]?c[0]:null;ac=2<=c.length&&null!=c[1];if(null!=Q){if(!h){if(null!=Q&&!1!=Q){var l=100*(Q.getAttribute("opacity")||1);isNaN(l)&&(l=100);"g"!==Q.tagName&&$j("#group_opacity").val(l);0!=$j(".pxniko").length&&$j("#opacity_slider").slider("value",100-l);$j("#elem_id").val(Q.id)}Vc()}768<a.innerWidth&&S.mobileActivate&&($j(".inner_settings").hide(),$j(".settings_header .arrow").removeClass("up"),$j(".settings_header .arrow").addClass("down"),$j(".product_options").hide())}else $j(".inner_settings").show(),
$j(".settings_header .arrow").removeClass("down"),$j(".settings_header .arrow").addClass("up"),$j(".product_options").animate({top:"345px"}).show(),768>=a.innerWidth&&svgEditor.curConfig.mobileActivate&&$j(".product_options").hide();$j(".path_node_panel").toggle(h);$j("#tools_bottom_2,#tools_bottom_3").toggle(!h);h?($j(".tool_button_current").removeClass("tool_button_current").addClass("tool_button"),$j("#tool_select").addClass("tool_button_current").removeClass("tool_button"),$j(".section_content").css("display",
""),td("#tool_select","select_node"),ac=!1,c.length&&(Q=c[0])):td("#tool_select","select");D.runExtensions("selectedChanged",{elems:c,selectedElement:Q,multiselected:ac});if(!(2==c.length&&null!=c[0]&&null!=c[1])||!("textpath"==c[0].getAttribute("text_type")&&"path"==c[1].tagName))$j(".wrap").show(),Wb()});D.bind("transition",function(a,c){var h=D.getMode(),l=c[0];if(l){ac=2<=c.length&&null!=c[1];if(!ac)switch(h){case "rotate":h=D.getRotationAngle(l),$j("#angle").val(h),$j("#rotate_angle").val(Math.round(100*
h)/100),0!=$j(".pxniko").length&&$j("#rotate_slider").slider("option","value",h),$j("#tool_reorient").toggleClass("disabled",0==h)}D.runExtensions("elementTransition",{elems:c})}});D.bind("changed",function(a,c){var h=D.getMode();"select"===h&&pd();for(var l=0;l<c.length;++l){var f=c[l];f&&"svg"===f.tagName?(lc(),Yb()):f&&Q&&null==Q.parentNode&&(Q=f)}0!=$j(".pxniko").length&&(Yd=!0);Wb();Q&&"select"===h&&(qc.fill.update(),qc.stroke.update());D.runExtensions("elementChanged",{elems:c})});D.bind("saved",
function(a,c){Yd=!1;var c='<?xml version="1.0"?>\n'+c,h=navigator.userAgent;if(~h.indexOf("Chrome")&&533<=$j.browser.version||~h.indexOf("MSIE"))Cf(0,!0);else{var l=a.open("data:image/svg+xml;base64,"+Vf.encode64(c)),f=$j.pref("save_notice_done");if("all"!==f){var n=uiStrings.notification.saveFromBrowser.replace("%s","SVG");-1!==h.indexOf("Gecko/")?-1!==c.indexOf("<defs")?(n+="\n\n"+uiStrings.notification.defsFailOnSave,$j.pref("save_notice_done","all"),f="all"):$j.pref("save_notice_done","part"):
$j.pref("save_notice_done","all");"part"!==f&&l.alert(n)}}});D.bind("exported",function(a,c){var h=c.issues;$j("#export_canvas").length||$j("<canvas>",{id:"export_canvas"}).hide().appendTo("body");var l=$j("#export_canvas")[0];l.width=D.contentW;l.height=D.contentH;a.canvg(l,c.svg,{renderCallback:function(){var a=l.toDataURL("image/png");od.location.href=a;"all"!==$j.pref("export_notice_done")&&(a=uiStrings.notification.saveFromBrowser.replace("%s","PNG"),h.length&&(a+="\n\n"+uiStrings.notification.noteTheseIssues+
"\n \u2022 "+h.join("\n \u2022 ")),$j.pref("export_notice_done","all"),od.alert(a))}})});D.bind("zoomed",kf);D.bind("contextset",function(a,c){var h="";if(c){var l="",h='<a href="#" data-root="y">'+D.getCurrentDrawing().getCurrentLayerName()+"</a>";$j(c).parentsUntil("#svgcontent > g").andSelf().each(function(){this.id&&(l+=" > "+this.id,h=this!==c?h+(' > <a href="#">'+this.id+"</a>"):h+(" > "+this.id))});jf=l}else jf=null;$j("#cur_context_panel").toggle(!!c).html(h);oe()});D.bind("extension_added",
function(a,c){var h=!1,l=!1,f=!0,n=function(){c.callback&&(!h&&f)&&(h=!0,c.callback())},o=[];c.context_tools&&$j.each(c.context_tools,function(a,c){var h=c.container_id?' id="'+c.container_id+'"':"",l=$j("#"+c.panel);l.length||(l=$j("<div>",{id:c.panel}).appendTo("#tools_top"));switch(c.type){case "tool_button":var f='<div class="tool_button">'+c.id+"</div>",n=$j(f).appendTo(l);c.events&&$j.each(c.events,function(a,c){$j(n).bind(a,c)});break;case "select":f="<label"+h+'><select id="'+c.id+'">';$j.each(c.options,
function(a,h){f+='<option value="'+a+'"'+(a==c.defval?" selected":"")+">"+h+"</option>"});var f=f+"</select></label>",q=$j(f).appendTo(l).find("select");$j.each(c.events,function(a,c){$j(q).bind(a,c)});break;case "button-select":f='<div id="'+c.id+'" class="dropdown toolset" title="'+c.title+'"><div id="cur_'+c.id+'" class="icon_label"></div><button></button></div>';h=$j('<ul id="'+c.id+'_opts"></ul>').appendTo("#option_lists");c.colnum&&h.addClass("optcols"+c.colnum);$j(f).appendTo(l).children();
o.push({elem:"#"+c.id,list:"#"+c.id+"_opts",title:c.title,callback:c.events.change,cur:"#cur_"+c.id});break;case "input":var f="<label"+h+'><span id="'+c.id+'_label">'+c.label+':</span><input id="'+c.id+'" title="'+c.title+'" size="'+(c.size||"4")+'" value="'+(c.defval||"")+'" type="text"/></label>',p=$j(f).appendTo(l).find("input");c.spindata&&p.SpinButton(c.spindata);c.events&&$j.each(c.events,function(a,c){p.bind(a,c)})}});if(c.buttons){var q={},p={},u=c.svgicons,s={};$j.each(c.buttons,function(a,
c){for(var h,l=c.id,f=a;$j("#"+l).length;)l=c.id+"_"+ ++f;u?(q[l]=c.icon,f=c.svgicon?c.svgicon:c.id,"app_menu"==c.type?p["#"+l+" > div"]=f:p["#"+l]=f):h=$j('<img src="'+c.icon+'">');var n,o;switch(c.type){case "mode_flyout":case "mode":n="tool_button";o="#tools_left";break;case "context":n="tool_button";o="#"+c.panel;$j(o).length||$j("<div>",{id:c.panel}).appendTo("#tools_top");break;case "app_menu":n="",o="#main_menu ul"}var z=$j(c.list||"app_menu"==c.type?"<li/>":"<div/>").attr("id",l).attr("title",
c.title).addClass(n);if(!c.includeWith&&!c.list)if("position"in c?$j(o).children().eq(c.position).before(z):z.appendTo(o),"mode_flyout"==c.type){f=$j(z);n=f.parent();if(!f.parent().hasClass("tools_flyout")){var w=f[0].id.replace("tool_","tools_"),B=f.clone().attr("id",w+"_show").append($j("<div>",{"class":"flyout_arrow_horiz"}));f.before(B);n=mf(w,f);n.data("isLibrary",!0);B.data("isLibrary",!0)}p["#"+w+"_show"]=c.id;l=s["#"+n[0].id]=[{sel:"#"+l,fn:c.events.click,icon:c.id,isDefault:!0},A]}else"app_menu"==
c.type&&z.append("<div>").append(c.title);else if(c.list)z.addClass("push_button"),$j("#"+c.list+"_opts").append(z),c.isDefault&&($j("#cur_"+c.list).append(z.children().clone()),f=c.svgicon?c.svgicon:c.id,p["#cur_"+c.list]=f);else if(c.includeWith){o=c.includeWith;f=$j(o.button);n=f.parent();f.parent().hasClass("tools_flyout")||(w=f[0].id.replace("tool_","tools_"),B=f.clone().attr("id",w+"_show").append($j("<div>",{"class":"flyout_arrow_horiz"})),f.before(B),n=mf(w,f));var A=Xc.getButtonData(o.button);
o.isDefault&&(p["#"+w+"_show"]=c.id);l=s["#"+n[0].id]=[{sel:"#"+l,fn:c.events.click,icon:c.id,key:c.key,isDefault:c.includeWith?c.includeWith.isDefault:0},A];w="position"in o?o.position:"last";A=n.children().length;!isNaN(w)&&0<=w&&w<A?n.children().eq(w).before(z):(n.append(z),l.reverse())}u||z.append(h);c.list||$j.each(c.events,function(a,h){if(a=="click")if(c.type=="mode"){c.includeWith?z.bind(a,h):z.bind(a,function(){ec(z)&&h()});if(c.key){$j(document).bind("keydown",c.key,h);c.title&&z.attr("title",
c.title+" ["+c.key+"]")}}else z.bind(a,h);else z.bind(a,h)});lf(s)});$j.each(o,function(){sd(this.elem,this.list,this.callback,{seticon:!0})});u&&(f=!1);$j.svgIcons(u,{w:24,h:24,id_match:!1,no_img:!Uf,fallback:q,placement:p,callback:function(){$b.iconsize&&"m"!=$b.iconsize&&(be&&(clearTimeout(be),be=null),l||(be=setTimeout(function(){l=true;Ue($b.iconsize)},50)));f=!0;n()}})}n()});D.textActions.setInputElem($j("#text")[0]);var jd='<div class="palette_item" data-rgb="none"></div>';$j.each("#000000 #3f3f3f #7f7f7f #bfbfbf #ffffff #ff0000 #ff7f00 #ffff00 #7fff00 #00ff00 #00ff7f #00ffff #007fff #0000ff #7f00ff #ff00ff #ff007f #7f0000 #7f3f00 #7f7f00 #3f7f00 #007f00 #007f3f #007f7f #003f7f #00007f #3f007f #7f007f #7f003f #ffaaaa #ffd4aa #ffffaa #d4ffaa #aaffaa #aaffd4 #aaffff #aad4ff #aaaaff #d4aaff #ffaaff #ffaad4".split(" "),
function(a,c){jd=jd+('<div class="palette_item" style="background-color: '+c+';" data-rgb="'+c+'"></div>')});$j("#palette").append(jd);jd="";$j.each(["#FFF","#888","#000"],function(){jd+='<div class="color_block" style="background-color:'+this+';"></div>'});$j("#bg_blocks").append(jd);var qf=$j("#bg_blocks div");qf.each(function(){$j(this).click(function(){qf.removeClass("cur_background");$j(this).addClass("cur_background")})});$j(document).on("focus","#text",function(){0!=$j(".pxniko").length&&($j(".multilined_text").addClass("edit"),
$j(".tooltipster-base").show(),$j(".wrap1").tooltipster({trigger:"onclick",time:1E4,position:"left",onlyOne:!1}),$j(this).attr("rows","20"),$j(".multilined_text.edit textarea").css("height","100px"))});$j(document).on("blur","#text",function(){$j(".tooltipster-base").hide();$j(".multilined_text").removeClass("edit");$j(this).attr("rows","1");$j(".multilined_text textarea").css("height","35px")});$j.pref("bkgd_color")?Zc($j.pref("bkgd_color"),$j.pref("bkgd_url")):$j.pref("bkgd_url")&&Zc(Cc.bkgd_color,
$j.pref("bkgd_url"));$j.pref("img_save")&&($b.img_save=$j.pref("img_save"),$j("#image_save_opts input").val([$b.img_save]));var He=function(a){D.setRectRadius(a.value);0!=$j(".pxniko").length&&$j("#rect_rx_slider").slider("value",a.value)},rf=function(a){zoom_factor=0<$j("#zoom_factor").length?$j("#zoom_factor").val():1;var c=Q.getAttribute("transform");null!=c&&(-1<c.indexOf("matrix")&&D.getTextAspect())&&(c=$j("#angle").val(),D.setRotationAngle(0,!0),D.fontZeroScaling(),D.setRotationAngle(c,!0));
S.isMultiline?(D.setFontFormatEvent("clickFontSize"),D.setFontSizeNew(a.value),$j("#text_size_slider").slider("value",a.value),setTimeout(function(){},10)):(D.setFontSizeNew(a.value),$j("#text_size_slider").slider("value",a.value))},sf=function(a){D.setRotationAngle(a.value);$j("#tool_reorient").toggleClass("disabled",0==a.value)};if("vuezz"==$j("#dol_type").val())$j(document).on("click",".btn-previewpdf",function(){svg_content=D.getSvgString();document.getElementById("review_proof_box").style.display=
"block";$j.ajax({url:"/vdol/index/designPreview",dataType:"json",type:"POST",data:{svg_data:svg_content,layout_image:$j("#layout_fg_pg1").attr("value"),v_panels:$j("#v_panels").attr("value"),h_panels:$j("#h_panels").attr("value")},success:function(a){json=eval(a);$j(".chair_c_svg").html(json.svg_data);$j(".chair_c_svg").css("margin-top",json.y_offset+"px");$j(".dining_c_svg").html(json.svg_data);$j(".dining_c_svg").css("margin-top",json.y_offset+"px");document.getElementById("review_proof_box").style.display=
"none";$j("#imagePreview").dialog("open");var a=svgedit.browser.isChrome(),c=svgedit.browser.isGecko();a?(a=$j(".chair_c_svg svg"),a.css("display","none").height(),a.css("display",""),a=$j(".dining_c_svg svg"),a.css("display","none").height(),a.css("display",""),$j(".chair_c_svg svg #layout_fg_image, .dining_c_svg svg #layout_fg_image").attr("x","-2"),$j(".chair_c_svg svg #layout_fg_image, .dining_c_svg svg #layout_fg_image").attr("y","-1"),$j(".chair_c_svg svg #colorRect, .dining_c_svg svg #colorRect").attr("x",
"2"),$j(".chair_c_svg svg #colorRect, .dining_c_svg svg #colorRect").attr("y","1")):c||(width=$j(".chair_c_svg svg #layout_fg_image, .dining_c_svg svg #layout_fg_image").attr("width"),$j(".chair_c_svg svg #layout_fg_image, .dining_c_svg svg #layout_fg_image").attr("width",parseInt(width)+2));Yb(!0)},error:function(){document.getElementById("review_proof_box").style.display="none"}})});var Kb=function(a){var c=Q;ow=D.unitValue(c.getAttribute("orig_w"));oh=D.unitValue(c.getAttribute("orig_h"));var h=
$j("#tool_aspect").attr("class"),l=a.getAttribute("data-attr"),f=a.value;id=a.getAttribute("id");zoom_factor=0<$j("#zoom_factor").length?$j("#zoom_factor").val():1;"image"===c.tagName&&"width"==l?("noaspect"==h&&D.applyAspectRatioToImage(ow,oh,f/zoom_factor,null),$j("#image_width_slider").slider("value",f)):"image"===c.tagName&&"height"==l&&("noaspect"==h&&D.applyAspectRatioToImage(ow,oh,null,f/zoom_factor),$j("#image_height_slider").slider("value",f));if(!svgedit.units.isValidUnit(l,f))return $j.alert(uiStrings.notification.invalidAttrValGiven),
this.value=Q.getAttribute(l),!1;a=svgedit.units.getTypeMap();if("id"!==l)if(isNaN(f))f=D.convertToNum(l,f);else if("px"!==S.baseUnit&&(Q[l]||"pathedit"===D.getMode()||"x"===l||"y"===l))f*=a[S.baseUnit];if(0==f&&("r"==l||"rx"==l||"ry"==l))f=0.01;"id"===l?(c=Q,D.clearSelection(),c.id=f,D.addToSelection([c],!0)):"width"==l||"height"==l||"x1"==l||"x2"==l||"y1"==l||"y2"==l||"cx"==l||"cy"==l||"rx"==l||"ry"==l||"r"==l?(D.changeSelectedAttribute(l,f/zoom_factor),$j("#"+id+"_slider").slider("value",f/a[S.baseUnit])):
(D.changeSelectedAttribute(l,f),$j("#"+id+"_slider").slider("value",f))},Fc=function(a){var c=a.value/100;0.0010>c?a.value=0.1:(a=D.getZoom(),kf(window,{width:0,height:0,x:(Ja[0].scrollLeft+Ja.width()/2)/a,y:(Ja[0].scrollTop+Ja.height()/2)/a,zoom:c},!0))};ta.getClipartElem=function(a){var c=a.getAttribute("style");if(null!=c&&""!=c){for(var c=c.split(";"),h=0;h<c.length;h++){var l=c[h].split(":");null!=l[0]&&null!=l[1]&&a.setAttribute(l[0],l[1])}a.setAttribute("style","")}var c=a.getAttribute("id"),
f=a.getAttribute("fill");"none"==f&&(f="#000000");l=a.getAttribute("stroke");"none"==l&&(l="#000000");var n=$j(".clipart_colors .fill_box li").children(),o=$j(".clipart_colors .border_box li").children(),q=!1,p=!1,f=tc(f),l=tc(l);if(0<n.length)for(h=0;h<n.length;h++){var u=n[h].firstChild,s=u.getAttribute("fill"),z=u.getAttribute("attr_type"),w=u.getAttribute("attr_fill");if(null!=f&&f==s&&"fill"==z){h=w+","+c;u.setAttribute("attr_fill",h);q=!1;break}else if("path"==a.tagName&&null==f&&"#000000"==
s&&"fill"==z){if(!ce(a,"fill")){h=w+","+c;u.setAttribute("attr_fill",h);q=!1;break}}else q=!0}else q=!0;q&&(null!=f?Wc(".fill_box","fill",f,c):"path"==a.tagName&&(ce(a,"fill")||Wc(".fill_box","fill","#000000",c)));if(0<o.length)for(h=0;h<o.length;h++)if(u=o[h].firstChild,s=u.getAttribute("fill"),z=u.getAttribute("attr_type"),f=u.getAttribute("attr_stroke"),null!=l&&l==s&&"stroke"==z){h=f+","+c;u.setAttribute("attr_stroke",h);p=!1;break}else if("path"==a.tagName&&null==l&&"#000000"==s&&"stroke"==z){if(!ce(a,
"stroke")){h=f+","+c;u.setAttribute("attr_stroke",h);p=!1;break}}else p=!0;else p=!0;p&&(null!=l?Wc(".border_box","stroke",l,c):"path"==a.tagName&&(ce(a,"stroke")||Wc(".border_box","stroke","#000000",c)));$j(".header, .header-container, .wrap-header, #vtab, .wrap-header").css("zIndex","100")};ta.loadFontManager=function(){""==S.crossDomain||void 0==S.crossDomain?$j.ajax({url:"/fonts/index/all/fonts.json",dataType:"json",async:!1,success:function(a){$j.each(a.fonts,function(a,c){styles=ta.font_style[c.fontName];
void 0!=styles&&D.fontManager.addFontElement({ascent:styles.ascent_value,boldInd:"Y",boldItalicInd:"Y",cfgFontId:121,descent:styles.descent_value,fontName:c.fontName,italicInd:"Y",latestDate:"1281934800000",leading:styles.leading_value})})}}):$j.ajax({url:"http://"+S.crossDomain+"/fonts/index/all/fonts.json?callback=?",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",success:function(a){$j.each(a.fonts,function(a,c){styles=ta.font_style[c.fontName];void 0!=styles&&
D.fontManager.addFontElement({ascent:styles.ascent_value,boldInd:"Y",boldItalicInd:"Y",cfgFontId:121,descent:styles.descent_value,fontName:c.fontName,italicInd:"Y",latestDate:"1281934800000",leading:styles.leading_value})})}})};var tc=function(a){if(null==a||"null"==a||""==a||"#"==a.substr(0,1))return a;a=a.replace(" ","");return"rgb"==a.substr(0,3)?(a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+
parseInt(a[3],10).toString(16)).slice(-2)):a},ce=function(a,c){for(var h=a.parentNode;"svg"!=h.tagName;){if(null!=h.getAttribute(c))return!0;h=h.parentNode}return!1};$j(document).on("click",".clipart_colors .fill_box li",function(){var a,c=$j(this).find("rect").attr("attr_type"),h=$j(this).find("rect").attr("fill");"fill"==c&&(a=$j(this).find("rect").attr("attr_fill"));"none"==h&&(h="#fofofo");tf($j(this),"fill",h);fc($j(this).find("rect"),"fill",a,h)});$j(document).on("click",".clipart_colors .border_box li",
function(){var a,c=$j(this).find("rect").attr("attr_type"),h=$j(this).find("rect").attr("fill");"stroke"==c&&(a=$j(this).find("rect").attr("attr_stroke"));"none"==h&&(h="#fofofo");tf($j(this),"stroke",h);fc($j(this).find("rect"),"stroke",a,h)});var tf=function(a,c,h){var l=nf(h,100,c);"url"!=h.substring(0,3)&&(picker="solidColor");qc[c].setPaint(l,!1,a)},Ie=function(a,c){null==c&&(c=a.value);$j("#group_opacity").val(c);(!a||!a.handle)&&0!=$j(".pxniko").length&&$j("#opacity_slider").slider("option",
"value",100-c);D.setOpacity(c/100);Wb()},Je=function(a){D.setBgOpacity(a/100)},de=function(a,c,h){null==c&&(c=a.value);$j("#blur").val(c);$j("#blur_text").val(c);D.setBlur(c,!0);$j("#blur_slider").slider("option","value",c);0!=$j(".pxhotice").length&&(h||Wb())},eb=function(a){if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase())){var c=$j(this).find(".ui-slider-handle");a.target!=c[0]&&a.stopImmediatePropagation()}},ee=function(){window.opera&&$j("<p/>").hide().appendTo("body").remove()};
$j("#stroke_style").change(function(){D.setStrokeAttr("stroke-dasharray",$j(this).val());ee()});$j(".help").click(function(){""==S.crossDomain||void 0==S.crossDomain?window.open("/help/online-designer/","_blank"):window.open("http://"+S.crossDomain+"/help/online-designer/","_blank")});$j(".qr_embed").click(function(){url=document.getElementById("preview_qr").toDataURL("image/jpeg");if(""==S.crossDomain||void 0==S.crossDomain)$j.ajax({url:"/dol/index/uploadQRCode",data:{qrcode:url},type:"POST",success:function(a){D.addDragImage(a,
100,100,0,0);$j(new Image).load(function(){content='Loading Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide()}).attr("src",a);$j("#qrcode").dialog("close")}}),$j(".niko_tool_fhpath .state").removeClass("drawing_on"),$j(".niko_tool_line .line_state").removeClass("line_on"),$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on"),$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on"),
$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on"),$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on"),$j("#tools_rect_show .rectangle_state").removeClass("square_on"),$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on"),$j(".niko_tool_path .path_state").removeClass("path_on");else{var a="http://"+S.crossDomain+"/dol/index/uploadQRCode";xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&200==xmlhttp.status&&(D.addDragImage(xmlhttp.responseText,
100,100,0,0),$j(new Image).load(function(){content='Loading Image.... <img src="/skin/frontend/pixopa/default/images/opc-ajax-loader.gif">';$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide()}).attr("src",xmlhttp.responseText),$j("#qrcode").dialog("close"))};xmlhttp.open("POST",a,!0);xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xmlhttp.send("qrcode="+encodeURIComponent(url))}});$j("#stroke_linejoin").change(function(){D.setStrokeAttr("stroke-linejoin",
$j(this).val());ee()});$j(document).on("click",".layouts li img",function(){$j(".layouts li img").removeClass("selected");var a=$j(this).attr("rev");document.getElementById("svgcontent").setAttribute("name",a);$j(this).addClass("selected");var c=$j("#svgcontent defs").children(),h=c.length;if(0<h)for(Z=0;Z<h;Z++){var l=c[Z];if("clipPath"==l.tagName){var f=l.parentNode;f.removeChild(l)}}c=$j("#svgcontent g").children();h=c.length;if(0<h)for(Z=0;Z<h;Z++)if(l=c[Z],"clipPath"==l.tagName&&(f=l.parentNode,
f.removeChild(l)),"g"==l.tagName)f=l.getAttribute("class"),0==$j(l).children().length&&null!=f&&(f=l.parentNode,f.removeChild(l));$j("#moveto_clip").children().remove();$j("#updating_layout").show();$j.ajax({url:"/vdol/index/getLayoutData",dataType:"json",data:$j("#product_addtocart_form").serialize(),type:"POST",success:function(l){l=l[a].coord;clip_ids=[];Lb.each(l,function(a,c){D.addClipPaths({x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,id:a});clip_ids.push("#"+a)});if(clipids=clip_ids){if("undefined"!=typeof $j("#design_id").val())if("changed"==
$j("#design_id").attr("rel")){if(0<h)for(Z=0;Z<h;Z++){var f=c[Z];"image"==f.tagName&&(-1!=clipids.indexOf(D.getUrlFromAttr(f.getAttribute("clip")))?D.snapToClipPath(f):(l=f.parentNode,l.removeChild(f),D.clearSelection()))}}else $j("#design_id").attr("rel","changed");else if(0<h)for(Z=0;Z<h;Z++)f=c[Z],"image"==f.tagName&&(-1!=clipids.indexOf(D.getUrlFromAttr(f.getAttribute("clip")))?D.snapToClipPath(f):(l=f.parentNode,l.removeChild(f),D.clearSelection()));$j("#updating_layout").hide()}}});$j("#Blueprint image").attr("xlink:href",
$j(this).attr("rel"))});$j("#show_rulers").change(function(){$j("#rulers").toggle($j("#show_rulers")[0].checked);"block"==$j(".page_show").css("display")&&$j("#ruler_y").addClass("pages_ruler_y");ha()});$j(".zfullwidth").click(function(){$j("#tool_fullwidth").trigger("change");Lb("#tool_fullwidth").prop("checked")?$j("#tool_fullwidth").prop("checked",!1):$j("#tool_fullwidth").prop("checked",!0)});$j("#tool_fullwidth").change(function(){s_width=$j(window).width();maxwidth=$j(".wrapper").hasClass("pxboginya")?
1080:1200;if(!(s_width<maxwidth))if(container=$j(".page.container")[0]?$j(".page.container"):$j(".main-container"),elems=D.getSelectedElems(),void 0!=elems[0]&&"text"==elems[0].tagName&&" "==elems[0].textContent&&D.clearSelection(),container.toggleClass("fullwidth"),container.hasClass("fullwidth")){$j("#fullwidth").removeClass("zfullwidth");$j("#fullwidth").addClass("zfullwidth2");if($j(".fullwidth #workarea").css("width",s_width-420)&&$j(".fullwidth #workarea").css("height",0.75*(s_width-450))){$j(".fullwidth #svg_editor").css("width",
$j(window).width()-72);$j(".fullwidth #svg_editor").css("height",0.75*$j(window).width()+50);$j(".fullwidth.page.container").css("width",$j(window).width()-26);$j(".fullwidth.main-container").css("width",$j(window).width()-26);$j(".fullwidth.page.container").css("margin-left","20px");$j(".fullwidth .main.container").css("margin-left","30px");$j(".fullwidth .multilined_text").css("left",$j(window).width()-440);$j(".fullwidth .pxvieo_svg .multilined_text").css("left",$j(window).width()-450);$j(".flickr_div").css("width",
$j(window).width()-240);$j(".flickr_div").mCustomScrollbar("update");$j(".picasa_div").css("width",$j(window).width()-240);$j(".picasa_div").mCustomScrollbar("update");$j(".instagram_div").css("width",$j(window).width()-240);$j(".instagram_div").mCustomScrollbar("update");$j(".facebook_div").css("width",$j(window).width()-240);$j(".facebook_div").mCustomScrollbar("update");$j(".myimages_div").css("width",$j(window).width()-240);$j(".myimages_div").mCustomScrollbar("update");$j(".fullwidth #ruler_y").css("height",
0.75*(s_width-450));$j(".main-dol").css("margin-left","20px");$j("#vtab").css("width","auto");if($j("#svg_editor").hasClass("ultimo_svg")||$j("#svg_editor").hasClass("fortis_svg")||$j("#svg_editor").hasClass("_svg")||$j("#svg_editor").hasClass("hightech_svg")||$j("#svg_editor").hasClass("pxnevada_svg")||$j("#svg_editor").hasClass("pxvieo_svg"))$j(".colorscroll").css("width","1177px"),$j(".flickr_div").css("width",$j(window).width()-266),$j(".picasa_div").css("width",$j(window).width()-266),$j(".instagram_div").css("width",
$j(window).width()-266),$j(".facebook_div").css("width",$j(window).width()-266),$j(".myimages_div").css("width",$j(window).width()-266),$j(".google_div").css("width",$j(window).width()-266);$j("#svg_editor").hasClass("fortisrtl_svg")&&$j(".dol-index-index .col-main").css("width",$j(window).width()-26);$j("#svg_editor").hasClass("ultimortl_svg")&&$j(".dol-index-index .col-main").css("width",$j(window).width()-26);$j("#svg_editor").hasClass("pxgorilla_svg")&&$j(".fullwidth").css("width",$j(window).width()-
39);($j("#svg_editor").hasClass("fortis_svg")||$j("#svg_editor").hasClass("ultimo_svg"))&&$j("#vtab").attr("style",$j("#vtab").attr("style")+"; margin-left: auto !important");$j(".lowres-warning .tooltip_full_value").css("margin-left","-96px");($j("#svg_editor").hasClass("pxnevada_svg")||$j("#svg_editor").hasClass("pxresponsive_svg"))&&$j(".main-dol").css("width","99%");svgEditor.zoomChanged(window,"canvas")&&(ha(),as=parseInt($j("#svgcanvas").css("width").replace("px","")/2-175)+120,$j(".zoom").css("margin-left",
as),len=$j(".page_show li").length,5>len?$j(".page_show").css("margin-left","115px"):($j(".page_show").css("padding","10px 10px 0"),$j(".page_show").css("margin-left","114px")),$j(".page_show").css("width",parseInt($j("#svgcanvas").css("width"))),$j("#svg_editor").hasClass("fortis_svg")&&$j("#svg_editor").css("margin-left","0px"),$j(".zoom").css("top",20))}width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+4);$j("#svg_editor").hasClass("_svg")&&
$j(".col-main").css("margin-left","0")}else{width_factor=$j(".wrapper").hasClass("pxboginya")?"1000px":"auto";$j("#fullwidth").removeClass("zfullwidth2");$j("#fullwidth").addClass("zfullwidth");len=$j(".page_show li").length;canvas_width=$j(".wrapper").hasClass("pxboginya")?640:791;height_factor=$j(".wrapper").hasClass("pxboginya")?0.95:0.75;if($j("#workarea").css("width",canvas_width)&&$j("#workarea").css("height",canvas_width*height_factor)&&($j("#svg_editor").attr("style",""),container.attr("style",
""),$j(".fullwidth.page.container").css("margin-left","0px"),$j(".main.container").css("margin-left","auto"),$j(".fullwidth #svg_editor").attr("style",""),$j(".main-dol").attr("style",""),Jc(".flickr_div.mCustomScrollbar _mCS_1"),Jc(".picasa_div.mCustomScrollbar _mCS_1"),Jc(".instagram_div.mCustomScrollbar _mCS_1"),Jc(".myimages_div.mCustomScrollbar _mCS_1"),$j(".pages_ruler_y").attr("style",""),elems=D.getSelectedElems(),void 0!=elems[0]&&"text"==elems[0].tagName?null==elems[0].getAttribute("lock")||
"false"==elems[0].getAttribute("lock")?($j(".multilined_text").attr("style",""),$j(".multilined_text").show()):($j(".multilined_text").attr("style",""),$j(".multilined_text").hide(),len=$j(".page_show li").length):($j(".multilined_text").attr("style",""),$j(".multilined_text").hide(),len=$j(".page_show li").length),1<len&&$j(".wrap1").css("margin-top","-28px"),($j("#svg_editor").hasClass("pxnevada_svg")||$j("#svg_editor").hasClass("pxresponsive_svg"))&&$j(".main-dol").css("width","1170px"),$j("#svg_editor").hasClass("pxgorilla_svg")&&
($j(".fullwidth").attr("style",""),$j(".myimages_div, .facebook_div, .flickr_div, .picasa_div, .instagram_div").css("width","auto")),($j("#svg_editor").hasClass("fortis_svg")||$j("#svg_editor").hasClass("ultimo_svg"))&&$j("#vtab").attr("style",$j("#vtab").attr("style")+"; margin-left: 14px !important"),svgEditor.zoomChanged(window,"canvas")))$j(".zoom").css("top",-35),as=parseInt($j("#svgcanvas").css("width").replace("px","")/2-175)+120,$j(".zoom").css("margin-left",as),ha(),len=$j(".page_show li").length,
5>len||$j(".page_show").css("padding","10px 10px 0"),$j(".page_show").css("margin-left","115px"),$j(".page_show").css("width",parseInt($j("#svgcanvas").css("width")));if($j("#svg_editor").hasClass("ultimo_svg")||$j("#svg_editor").hasClass("fortis_svg")||$j("#svg_editor").hasClass("_svg")||$j("#svg_editor").hasClass("hightech_svg")||$j("#svg_editor").hasClass("pxvieo_svg")||$j("#svg_editor").hasClass("pxresponsive_svg")||$j("#svg_editor").hasClass("pxnevada_svg")||$j("#svg_editor").hasClass("MAG090188_svg")||
$j("#svg_editor").hasClass("cp_forbes_svg"))$j(".flickr_div").css("width","976px"),$j(".picasa_div").css("width","976px"),$j(".instagram_div").css("width","976px"),$j(".facebook_div").css("width","976px"),$j(".myimages_div").css("width","976px"),$j(".google_div").css("width","976px");$j("#svg_editor").hasClass("fortis_svg")&&$j(".google_div").css("width","958px");$j("#svg_editor").hasClass("ultimo_svg")&&$j(".google_div").css("width","945px");$j(".wrapper").hasClass("pxloja")&&$j(".myimages_div, .picasa_div, .flickr_div, .facebook_div, .instagram_div").css("width",
"976px");$j("#svg_editor").hasClass("amaz_svg")&&$j(".myimages_div, .picasa_div, .flickr_div, .facebook_div, .instagram_div").css("width","auto");$j("#svg_editor").hasClass("ultimo_svg")||$j("#svg_editor").hasClass("fortis_svg")?$j(".wrapper").hasClass("pxboginya")&&($j(".flickr_div").css("width","754px"),$j(".flickr_div").mCustomScrollbar("update"),$j(".picasa_div").css("width","754px"),$j(".picasa_div").mCustomScrollbar("update"),$j(".instagram_div").css("width","754px"),$j(".instagram_div").mCustomScrollbar("update"),
$j(".facebook_div").css("width","754px"),$j(".facebook_div").mCustomScrollbar("update"),$j(".myimages_div").css("width","754px"),$j(".myimages_div").mCustomScrollbar("update"),$j(".google_div").css("width","754px"),$j(".google_div").mCustomScrollbar("update")):($j(".flickr_div").css("width","auto"),$j(".flickr_div").mCustomScrollbar("update"),$j(".picasa_div").css("width","auto"),$j(".picasa_div").mCustomScrollbar("update"),$j(".instagram_div").css("width","auto"),$j(".instagram_div").mCustomScrollbar("update"),
$j(".facebook_div").css("width","auto"),$j(".facebook_div").mCustomScrollbar("update"),$j(".myimages_div").css("width","auto"),$j(".myimages_div").mCustomScrollbar("update"),$j(".google_div").css("width","auto"),$j(".google_div").mCustomScrollbar("update"));$j("#vtab").css("width",width_factor);$j("#svg_editor").hasClass("_svg")&&$j(".col-main").css("margin-left","15px");width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+4);$j("#ruler_y").removeAttr("style");
$j("#svg_editor").hasClass("fortisrtl_svg")&&$j(".dol-index-index .col-main").css("width","auto");$j("#svg_editor").hasClass("ultimortl_svg")&&$j(".dol-index-index .col-main").css("width","auto")}});$j(document).on("click","#tool_cut",function(){Qe()});$j(document).on("click","#tool_paste",function(){Te()});$j(document).on("click","#tool_copy",function(){Re()});$j(document).on("change","#textType",function(){D.setTextType($j(this).val())});$j(document).on("change","#imageType",function(){D.setImageType($j(this).val())});
$j(document).on("change","#placeholder",function(){Q.setAttribute("placeholder",$j("#placeholder")[0].checked)});$j(document).on("change","#alwaysontop",function(){Q.setAttribute("alwaysontop",$j("#alwaysontop")[0].checked);Q.setAttribute("class","nonmoveable")});$j(document).on("change","#editable",function(){Q.setAttribute("editable",$j("#editable")[0].checked)});$j(document).on("change","#middlePath",function(){$j("#middlePath")[0].checked?(Q.setAttribute("text-anchor","middle"),$j(Q).children("textPath").attr("startOffset",
"50%")):(Q.setAttribute("text-anchor","start"),$j(Q).children("textPath").attr("startOffset","0%"))});$j(document).on("change","#outwardfacing",function(){$j("#outwardfacing")[0].checked?$j(Q).find("tspan").attr("dy","16px"):(Q.setAttribute("text-anchor","start"),$j(Q).find("tspan").removeAttr("dy"))});$j();$j(document).on("click",".section_header",function(){$j(this).parent().find(".section_content").toggle("slow");$j(this).parent().toggleClass("minimized");svgedit.browser.isIE()&&($j(".wrap").css("box-shadow",
"none"),setTimeout(function(){$j(".wrap").removeAttr("style")},500))});$j(document).on("click","#font",function(){$j(this).attr("ref");var a=$j(this).attr("rel");$j("#previewimage").append("<link rel='stylesheet' id='colorbox-css'  href='https://fonts.googleapis.com/css?family="+escape(a)+":regular,italic,bold,bolditalic&subset=latin,latin-ext' type='text/css' media='all' />");$j("#previewimage").append("<link rel='stylesheet' id='colorbox-css-1'  href='"+window.location.protocol+"//"+window.location.host+
"/fonts/index/getFonts?family="+escape(a)+"' type='text/css' media='all' />");$j("#previewimage span").css({"font-family":'"'+a+'"'});fontfamily=$j("#previewimage span").css("font-family").replace(/\'/g,"").replace(/\"/g,"");fontfamily=fontfamily.replace(/\"/g,"").replace(/\"/g,"");styles=ta.font_style[fontfamily];void 0!=styles&&D.fontManager.addFontElement({ascent:styles.ascent_value,boldInd:"Y",boldItalicInd:"Y",cfgFontId:121,descent:styles.descent_value,fontName:fontfamily,italicInd:"Y",latestDate:"1281934800000",
leading:styles.leading_value});"0"==styles.has_bold?($j(".text_panel").addClass("nobold"),$j(".prev_available .bold").html("Not Available")):($j(".text_panel").removeClass("nobold"),$j(".prev_available .bold").html("Available"));"0"==styles.has_italic?($j(".text_panel").addClass("noitalic"),$j(".prev_available .italic").html("Not Available")):($j(".text_panel").removeClass("noitalic"),$j(".prev_available .italic").html("Available"));"0"==styles.has_bolditalic?($j(".text_panel").addClass("nobolditalic"),
$j(".prev_available .bolditalic").html("Not Available")):($j(".text_panel").removeClass("nobolditalic"),$j(".prev_available .bolditalic").html("Available"))});$j(document).on("click",".actions .btn-apply",function(){fontfamily=$j("#previewimage span").css("font-family").replace(/\'/g,"").replace(/\"/g,"");fontfamily=fontfamily.replace(/\"/g,"").replace(/\"/g,"");styles=ta.font_style[fontfamily];console.log(styles,"styles");void 0!=styles&&D.fontManager.addFontElement({ascent:styles.ascent_value,boldInd:"Y",
boldItalicInd:"Y",cfgFontId:121,descent:styles.descent_value,fontName:fontfamily,italicInd:"Y",latestDate:"1281934800000",leading:styles.leading_value});if(S.isMultiline){if(D.setFontFormatEvent("clickFontFamily"),D.setFontFamily(fontfamily),void 0!=Q[0]||null!=Q[0])D.textManager.renderTextSVG(Q[0],!0),D.updateText(),D.updateText()}else D.setFontFamily(fontfamily),Q.setAttribute("ascent",styles.ascent_value),Q.setAttribute("descent",styles.descent_value),Q.setAttribute("leading",styles.leading_value);
"0"==styles.has_bold?($j(".text_panel").addClass("nobold"),$j("#tool_bold").css("visibility","hidden"),$j(".prev_available .bold").html("Not Available")):($j(".text_panel").removeClass("nobold"),$j("#tool_bold").css("visibility","visible"),$j(".prev_available .bold").html("Available"));"0"==styles.has_italic?($j(".text_panel").addClass("noitalic"),$j("#tool_italic").css("visibility","hidden"),$j(".prev_available .italic").html("Not Available")):($j(".text_panel").removeClass("noitalic"),$j("#tool_italic").css("visibility",
"visible"),$j(".prev_available .italic").html("Available"));"0"==styles.has_bolditalic?($j(".text_panel").addClass("nobolditalic"),$j(".prev_available .bolditalic").html("Not Available")):($j(".text_panel").removeClass("nobolditalic"),$j(".prev_available .bolditalic").html("Available"));var a=Q.getAttribute("font-weight"),c=Q.getAttribute("font-style");Q.setAttribute("font-weight","");Q.setAttribute("font-style","");var h=$j(Q).children();if(0<h.length)for(Z=0;Z<h.length;Z++)h[Z].setAttribute("font-weight",
""),h[Z].setAttribute("font-style","");if("bold"==a&&1==styles.has_bold&&(Q.setAttribute("font-weight","bold"),0<h.length))for(Z=0;Z<h.length;Z++)h[Z].setAttribute("font-weight","bold");if("italic"==c&&1==styles.has_italic&&(Q.setAttribute("font-style","italic"),0<h.length))for(Z=0;Z<h.length;Z++)h[Z].setAttribute("font-style","italic");$j("#fontview").dialog("close");"textpath"!=Q.getAttribute("text_type")&&D.setLineSpacing($j("#line_spacing").val());0==$j(".pxniko").length&&Wb()});$j(document).on("click",
".actions .btn-cancel, .header .closes",function(){$j("#fontview").dialog("close");$j("#imagePreview").hide()});$j(document).on("click","#dialog_buttons .btn-cancel",function(){$j("#crop_box").dialog("close");$j("#crop_box").hide()});$j("select").change(function(){$j(this).blur()});var uf=!1;$j("#selLayerNames").change(function(){var a=this.options[this.selectedIndex].value,c=uiStrings.notification.QmoveElemsToLayer.replace("%s",a),h=function(c){c&&(uf=!0,D.moveSelectedToLayer(a),D.clearSelection(),
lc())};a&&(uf?h(!0):$j.confirm(c,h))});$j(document).on("click","#update_text",function(){D.updateText()});$j(document).on("click","#font_family_dropdown",function(){var a=Q;$j("#fontview").dialog("open");$j("#previewimage span").css({"font-family":a.getAttribute("font-family")});if("true"!=$j("#fontview").attr("rel")||""==$j("#fontview").attr("rel")||null==$j("#fontview").attr("rel"))""==S.crossDomain||void 0==S.crossDomain?$j.getJSON("/fonts/index/allCategories",function(a){$j.each(a,function(a,
c){D.createFontBtn(c)});$j.getJSON("/fonts/index/all/fonts.json",function(a){$j("#fontview").attr("rel","true");$j("#fontview .font_prog").css("display","none");$j.each(a.fonts,function(a,c){var h=c.fontCategory.replace(" ","").toLowerCase();$j("."+h+"_c ul").append('<li style="display:inline;list-style:none;"><img id="font" rel="'+c.fontName+'" ref="'+c.fontCode+'" src="'+c.fontImage+'" alt="'+c.fontName+'" title="'+c.fontName+'" border="1" style="margin:6px 5px 0px 5px;border:solid 1px #ccc;"></li>')})})}):
$j.ajax({url:"http://"+S.crossDomain+"/fonts/index/allCategories?callback=?",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",success:function(a){$j.each(a,function(a,c){D.createFontBtn(c)});$j.ajax({url:"http://"+S.crossDomain+"/fonts/index/all/fonts.json?callback=?",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",success:function(a){$j("#fontview").attr("rel","true");$j("#fontview .font_prog").css("display","none");$j.each(a.fonts,
function(a,c){var h=c.fontCategory.replace(" ","").toLowerCase();$j("."+h+"_c ul").append('<li style="display:inline;list-style:none;"><img id="font" rel="'+c.fontName+'" ref="'+c.fontCode+'" src="'+c.fontImage+'" alt="'+c.fontName+'" title="'+c.fontName+'" border="1" style="margin:6px 5px 0px 5px;border:solid 1px #ccc;"></li>')})}})}})});$j("#font_family").mousedown(function(a){a.preventDefault();$j(this).blur();return!1});if($j("#tool_image").hasClass("backend"))$j(document).on("click","#font_view_content .vtab ul.tab > li",
function(){var a=$j("#fontview .vtab>ul>li");a.removeClass("selected");$j("#fontview .vtab>ul>li>span").removeClass("arrow");$j(this).addClass("selected");$j(this).children("span").addClass("arrow");a=a.index($j(this));$j("#fontview .vtab>div").hide().eq(a).show()});else $j(document).on("click","#font_view_content .vtab ul.tabs > li",function(){var a=$j("#fontview .vtab>ul>li");a.removeClass("selected");$j("#fontview .vtab>ul>li>span").removeClass("arrow");$j(this).addClass("selected");$j(this).children("span").addClass("arrow");
a=a.index($j(this));$j("#fontview .vtab>div").hide().eq(a).show()});$j("#seg_type").change(function(){D.setSegType($j(this).val())});var Oc=function(a){!S.isMultiline&&13==a.which&&(a.preventDefault(),a.stopPropagation())},Z=0,vf;ta.textchange=function(){newtext=$j("#text").val().replace(/[^\S\r\n]+$/gm,"");oldtext=Q.textContent;newtext=newtext.replace(/\s+/g,"");newtext=newtext.replace(/(\r\n|\n|\r)/g,"");oldtext=oldtext.replace(/\s+/g,"");oldtext=oldtext.replace(/(\r\n|\n|\r)/g,"");D.setTextContentmeta()};
var Pc=function(){$j(".tooltipster-base").hide();$j(Q).attr("template_text","false")},Qc=function(a){S.isMultiline?S.isMultiline&&((" "!=$j("#text").val()?"open"!=$j(".tools_panel .wrap").attr("rel")&&($j(".tools_panel .wrap").show(),!$j("#tool_image").hasClass("backend")&&"true"==$j(elem).attr("lock_admin")&&$j(".tools_panel .wrap").hide()):$j(".tools_panel .wrap").show(),768>=window.innerWidth&&svgEditor.curConfig.mobileActivate&&$j(".tools_panel .wrap").hide(),"true"==$j("#text").attr("changed"))?
(D.updateText(),$j("#text").attr("changed","false")):(clearTimeout(vf),vf=setTimeout(D.updateText,500))):13==a.which?a.preventDefault():27==a.which?((a=D.getElem("text_cursor"))&&a.setAttribute("visibility","hidden"),D.setMode("select"),D.selectOnly([Q],!0)):(D.setTextContent(this.value),a=$j("#cmenu_canvas li"),""!=this.value?($j("#tool_cut").removeClass("disable"),$j("#tool_copy").removeClass("disable"),a.enableContextMenuItems("#cut,#copy")):($j("#tool_cut").addClass("disable"),$j("#tool_copy").addClass("disable"),
a.disableContextMenuItems("#cut,#copy")))};$j("#text").bind("keydown",Oc);$j("#text").bind("keypress",Pc);$j("#text").bind("keyup",Qc);document.onkeydown=function(a){var c=a.keyCode,a=a.metaKey,h=Q;if(17==c||a)Dd=!0;90==c&&Dd&&(h||Fd());89==c&&Dd&&(h||yc());86==c&&Dd&&(h||Te());$j("#tool_image").hasClass("backend")};document.onkeyup=function(a){var c=a.keyCode,a=a.metaKey;null!=Q&&"text"!=Q.tagName&&46==c&&kd();if(17==c||a)Dd=!1;86==c&&(Se=!1)};var Dd=!1;$j("#image_url").change(function(){});$j("#save_filters").click(function(){D.save_filters()});
$j(".resetBtnSlider, .resetRGBSlider").click(function(){D.resetCurrentSlider($j(this))});$j("#apply_filters").click(function(){$j(".loadingImg").css("display","block");$j(".defaultfilter_btn").css("display","none");$j(".defaultfilter_span").css("display","none");var a=[{sharpen:"sharpen",charcoal:"charcoal",sepia:"sepia",lemonchiffon:"lemonchiffon",polaroid:"polaroid",posterize:"posterize",vivid:"vivid",grayscale:"grayscale"},{sigmoidal:"sigmoidal",solarize:"solarize",threshold:"threshold",gamma:"gamma",
sinusoid:"sinusoid",fuzz:"fuzz",darken:"darken",invert:"invert"}];image_url=Q.getAttribute("xlink:href");"true"==Q.getAttribute("filtered_image")&&(image_url=Q.getAttribute("xlink:href"),image_url=image_url.replace("_filtered",""),0<image_url.indexOf("?ts")&&(image_url=image_url.substring(0,image_url.indexOf("?ts"))));$j(".tooltipster-base").hide();$j("#imagefilter_wrapper").dialog("open");canvasLoadingLeft_thumb=($j("#default_filters li").width()-$j(".loadingImg").width())/2;canvasLoadingTop_thumb=
($j("#default_filters li").height()-28-$j(".loadingImg").height())/2;$j(".loadingImg").css("left",canvasLoadingLeft_thumb);$j(".loadingImg").css("top",canvasLoadingTop_thumb);$j("#canvas").hide();$j(".filteredMainImage").attr("src",image_url);$j(".filteredMainImage").css("display","block");$j(".canvasLoader").show();orig_width=Q.getAttribute("orig_w");orig_height=Q.getAttribute("orig_h");aspect_ratio=orig_width/orig_height;var c,h;299<window.innerWidth&&998>window.innerWidth&&svgEditor.curConfig.mobileActivate?
(c=240,h=50):(c=500,h=70);$j.ajax({url:"/dol/ajax/getImageDpi?image_url="+image_url,dataType:"json",type:"GET",success:function(a){orig_width=a.width;orig_height=a.height}});299<window.innerWidth&&998>window.innerWidth&&svgEditor.curConfig.mobileActivate?(250>orig_width&&450>orig_height&&(c=max_val=Math.max(orig_width,orig_height)),1<=aspect_ratio&&1.11111>aspect_ratio&&250==c&&(c=450*aspect_ratio),1>aspect_ratio&&250==c&&(c=450)):(500>orig_width&&450>orig_height&&(c=max_val=Math.max(orig_width,orig_height)),
1<=aspect_ratio&&1.11111>aspect_ratio&&500==c&&(c=450*aspect_ratio),1>aspect_ratio&&500==c&&(c=450));defaultfilterBtn=document.getElementsByClassName("defaultfilter_btn");1<aspect_ratio?(canvas.setAttribute("width",c),c_h=c/aspect_ratio,c_h_thumb=h/aspect_ratio,canvas.setAttribute("height",c_h),$j(".filteredMainImage").css({width:c,height:c_h}),$j(".defaultfilter_btn").css("width",h),$j(".defaultfilter_btn").css("height",c_h_thumb),$j(".default_filters_wrapper").css("height",parseInt(c_h_thumb)+50+
"px")):1>=aspect_ratio&&(c_w=c*aspect_ratio,canvas.setAttribute("width",c_w),canvas.setAttribute("height",c),c_w_thumb=h*aspect_ratio,$j(".filteredMainImage").css({width:c_w,height:c}),$j(".defaultfilter_btn").css("width",c_w_thumb),$j(".defaultfilter_btn").css("height",h),$j(".defaultfilter_btn").css("margin-left",(100-c_w_thumb)/2),$j(".default_filters_wrapper").css("height",parseInt(h)+50+"px"));canvasTopMargin=($j(".canvas").height()-$j(".canvas .filteredMainImage").height())/2;mLeft=($j(".canvas").width()-
$j("#canvas").attr("width"))/2;$j(".filteredMainImage").css({top:canvasTopMargin,left:mLeft});$j(".right_section").show();$j.ajax({url:"/dol/index/getFilterThumbs",data:{image_url:image_url,filter_name:JSON.stringify(a[0])},type:"POST",dataType:"json",success:function(a){$j(".canvasLoader").hide();$j(".filteredMainImage").attr("src",a.main);$j(".filteredMainImage").css("display","block");D.getImageData(a);for(Z=0;Z<a.filter.length;Z++)D.initColorFilters(a.filter[Z].filter_name,image_url,a.filter[Z].thumb,
a.filter[Z].main)}});$j.ajax({url:"/dol/index/getFilterThumbs",data:{image_url:image_url,filter_name:JSON.stringify(a[1])},type:"POST",dataType:"json",success:function(a){for(Z=0;Z<a.filter.length;Z++)D.initColorFilters(a.filter[Z].filter_name,image_url,a.filter[Z].thumb,a.filter[Z].main)}})});$j("#reset_filters").click(function(){D.handleImageReset()});$j(".defaultfilter_btn").click(function(){$j(".filteredMainImage").attr("thumbfilter","true");D.thumbClick($j(this));filterId=$j(this).attr("id");
colorMatrix=$j(this).attr("ref_matrix");filterId=filterId.split("Btn");D.clickColorFilters($j(this).attr("ref"),colorMatrix)});ta.filtersTabChange=function(a){var c="."+a.attr("id")+"Filter";$j("#first_row_buttons .selected").removeClass("selected");a.addClass("selected");$j("#row_filters .active").removeClass("active");$j(c).addClass("active")};$j("#link_url").change(function(){this.value.length?D.setLinkURL(this.value):D.removeHyperlink()});$j("#g_title").change(function(){});$j(document).on("click",
"#tool_QR",function(){$j("#qrcode").dialog("open");$j(".ui-widget-overlay").css("zIndex","100001");0!=$j(".pxhotice").length&&$j.each([2,6,7,8,9,10,11,12,13,14,15,16,18,19,20],function(a,c){$j("#qrcode div ul li").eq(c).css("display","none")})});$j(document).on("click","#qr_submit",function(){var a=new JSQR,c=new a.Code;c.encodeMode=c.ENCODE_MODE.UTF8_SIGNATURE;c.version=3;c.errorCorrection=c.ERROR_CORRECTION.H;var h=new a.Input;h.dataType=h.DATA_TYPE.URL;h.data={url:"jsqr.de"};a=new a.Matrix(h,c);
c=document.createElement("canvas");c.setAttribute("width",a.pixelWidth);c.setAttribute("height",a.pixelWidth);c.getContext("2d").fillStyle="rgb(0,0,0)";a.draw(c,0,0);$j(".canvas").append(c)});$j("#elem_id").change(function(){var a=this.getAttribute("data-attr"),c=this.value;if(!svgedit.units.isValidUnit(a,c))return $j.alert(uiStrings.notification.invalidAttrValGiven),this.value=Q.getAttribute(a),!1;if("id"!==a)if(isNaN(c))c=D.convertToNum(a,c);else if("px"!==S.baseUnit){var h=svgedit.units.getTypeMap();
if(Q[a]||"pathedit"===D.getMode()||"x"===a||"y"===a)c*=h[S.baseUnit]}"id"===a?(a=Q,D.clearSelection(),a.id=c,D.addToSelection([a],!0)):D.changeSelectedAttribute(a,c)});$j("#palette").mouseover(function(){var a=$j('<input type="hidden">');$j(this).append(a);a.focus().remove()});$j(".palette_item").mousedown(function(a){var c=2===a.button,c=(a=a.shiftKey||c)?"stroke":"fill",h=$j(this).attr("data-rgb"),l=null;"transparent"===h||"initial"===h?(h="none",l=new $j.jGraduate.Paint):l=new $j.jGraduate.Paint({alpha:100,
solidColor:h.substr(1)});qc[c].setPaint(l);a?(D.setColor("stroke",h),"none"!=h&&1!=D.getStrokeOpacity()&&D.setPaintOpacity("stroke",1)):(D.setColor("fill",h),"none"!=h&&1!=D.getFillOpacity()&&D.setPaintOpacity("fill",1));Vc()}).bind("contextmenu",function(a){a.preventDefault()});$j("#toggle_stroke_tools").toggle(function(){$j(".stroke_tool").css("display","table-cell");$j(this).text("<<");nc()},function(){$j(".stroke_tool").css("display","none");$j(this).text(">>");nc()});var ec=function(a,c){if($j(a).hasClass("disabled"))return!1;
if($j(a).parent().hasClass("tools_flyout"))return!0;c||$j(".tools_flyout").fadeOut("normal");$j("#styleoverrides").text("");Ja.css("cursor","auto");$j(".tool_button_current").removeClass("tool_button_current").addClass("tool_button");$j(a).addClass("tool_button_current").removeClass("tool_button");"#tool_image"==a&&("false"==$j("#tool_image").attr("rel")?(768>=window.innerWidth&&S.mobileActivate?($j("#vtab").dialog("open"),$j("#vtab > div").css("z-index",$j("#vtab").parent().css("z-index")+1),$j(".myimages_div").mCustomScrollbar("update")):
$j("#vtab").show(),$j("#vtab").css("height","172px"),$j("#tool_image").addClass("hideImageTootip"),$j("#tool_image").attr("rel","true")):(768>=window.innerWidth&&S.mobileActivate?($j("#vtab").dialog("open"),$j("#vtab > div").css("z-index",$j("#vtab").parent().css("z-index")+1),$j(".myimages_div").mCustomScrollbar("update")):$j("#vtab").animate({height:0},{duration:500,complete:function(){$j("#vtab").hide()}}),$j("#tool_image").removeClass("hideImageTootip"),$j("#tool_image").attr("rel","false")),
$j("#tool_image").hasClass("backend")||768<window.innerWidth&&S.mobileActivate&&$j("html, body").animate({scrollTop:$j("#vtab").position().top-50}),$j("#rulers").addClass("slideron"),$j(".myimages_loginform").is(":visible")&&$j(".button-new-showlogin").parent().hide());"#tool_text"!=a&&$j(".tooltipster-base").hide();return!0},Ke=null,Le=null,fe=Ja[0],ge=!1,Me=!1;$j("#svgcanvas").bind("mousemove mouseup",function(a){if(!1!==ge)return fe.scrollLeft-=a.clientX-Ke,fe.scrollTop-=a.clientY-Le,Ke=a.clientX,
Le=a.clientY,"mouseup"===a.type&&(ge=!1),!1}).mousedown(function(a){if(1===a.button||!0===Me)return ge=!0,Ke=a.clientX,Le=a.clientY,!1});$j(window).mouseup(function(){ge=!1});$j(document).bind("keydown","space",function(a){D.spaceKey=Me=!0;a.preventDefault()}).bind("keyup","space",function(a){a.preventDefault();D.spaceKey=Me=!1}).bind("keydown","shift",function(){"zoom"===D.getMode()&&Ja.css("cursor",wa)}).bind("keyup","shift",function(){"zoom"===D.getMode()&&Ja.css("cursor",Ec)}).bind("keyup","left arrow",
function(){"vuezz"==$j("#dol_type").val()&&Q.tagName&&D.checkImageDimensionsToSnap(null)}).bind("keyup","right arrow",function(){"vuezz"==$j("#dol_type").val()&&Q.tagName&&D.checkImageDimensionsToSnap(null)}).bind("keyup","up arrow",function(){"vuezz"==$j("#dol_type").val()&&Q.tagName&&D.checkImageDimensionsToSnap(null)}).bind("keyup","down arrow",function(){"vuezz"==$j("#dol_type").val()&&Q.tagName&&D.checkImageDimensionsToSnap(null)});var he=$j("#main_icon"),Nf=$j("#main_icon span"),rd=$j("#main_menu"),
Ed=!1,Ne=0,wf=!0,xf=!1;$j(window).mouseup(function(a){Ed||(he.removeClass("buttondown"),"INPUT"!=a.target.tagName?rd.fadeOut(200):xf||(xf=!0,$j(a.target).click(function(){rd.css("margin-left","-9999px").show()})));Ed=!1}).mousedown(function(a){$j(a.target).closest("div.tools_flyout, .contextMenu").length||($j("#tools_ellipse.tools_flyout:visible,.contextMenu").hide(),$j("#tools_background.tools_flyout:visible").hide(),$j(".tools_left_container #tools_background.tools_flyout").hide(),$j("#tools_rect.tools_flyout:visible,.contextMenu").hide());
"true"==$j(".toprightbar_menu").attr("toggle")&&$j(".toprightbar_menu").trigger("mousedown")});Nf.bind("mousedown",function(){if(he.hasClass("buttondown"))he.removeClass("buttondown").addClass("buttonup"),rd.fadeOut(200);else return he.addClass("buttondown").removeClass("buttonup"),rd.css("margin-left",0).show(),Ne||(Ne=rd.height()),rd.css("height",0).animate({height:Ne},200),Ed=!0,!1}).hover(function(){Ed=!0}).mouseout(function(){Ed=!1});var Oe=$j("#main_menu li");Oe.mouseover(function(){wf="rgba(0, 0, 0, 0)"==
$j(this).css("background-color");Oe.unbind("mouseover");wf&&Oe.mouseover(function(){this.style.backgroundColor="#FFC"}).mouseout(function(){this.style.backgroundColor="transparent";return!0})});ta.addDropDown=function(a,c,h){if(0!=$j(a).length){var l=$j(a).find("button"),f=$j(a).find("ul").attr("id",$j(a)[0].id+"-list");h||$j("#option_lists").append(f);var n=!1;h&&$j(a).addClass("dropup");f.find("li").bind("mouseup",c);Lb(a).find("li").mouseup(function(){n||(l.removeClass("down"),f.hide());n=!1});
l.bind("mousedown",function(){l.hasClass("down")?(l.removeClass("down"),f.hide()):(l.addClass("down"),h||$j(a).position(),f.show(),n=!0)}).hover(function(){n=!0}).mouseout(function(){n=!1})}};var sd=function(a,c,h,l){var f=$j(a),c=$j(c),n=!1,o=l.dropUp;o&&$j(a).addClass("dropup");c.find("li").bind("mouseup",function(){l.seticon&&(td("#cur_"+f[0].id,$j(this).children()),$j(this).addClass("current").siblings().removeClass("current"));h.apply(this,arguments)});$j(window).mouseup(function(){n||(f.removeClass("down"),
c.hide(),c.css({top:0,left:0}));n=!1});c.height();$j(a).bind("mousedown",function(){var h=$j(a).offset();o?(h.top-=c.height(),h.left+=8):(h.top=0,h.left-=200);$j(c).css("top",$j(a).scrollTop()-230+"px");$j(c).css("left",h.left+"px");if(f.hasClass("down"))f.removeClass("down"),c.hide(),c.css({top:0,left:0});else return f.addClass("down"),c.show(),n=!0,!1}).hover(function(){n=!0}).mouseout(function(){n=!1});l.multiclick&&c.mousedown(function(){n=!0})};ta.addDropDown("#opacity_dropdown",function(){if(!$j(this).find("div").length){var a=
parseInt($j(this).text().split("%")[0]);Ie(!1,a)}},!0);$j("#opac_slider").slider({start:function(){$j("#opacity_dropdown li:not(.special)").hide()},stop:function(){$j("#opacity_dropdown li").show();$j(window).mouseup()},slide:function(a,c){Ie(c)}});$j("#bg_opacity_slider").slider({max:100,value:100,min:1,step:1,range:"min",stop:function(a,c){$j("#bg_opacity").val(parseInt(c.value));Je(parseInt(c.value))},slide:function(a,c){Je(parseInt(c.value))}});$j("#opac_slider .ui-slider-handle").unbind("keydown");
$j("#zoom_slider").on("mousedown",eb).on("touchstart",eb).slider({max:500,value:100,min:2,step:1,slide:function(a,c){$j("#value").val(Math.round(c.value)+"%")},stop:function(a,c){if(0!=$j(".pxhotice").length){var h=c.value;if(0==h||1==h)c.value=2}Fc(c)}});$j("#zoom_slider .ui-slider-handle").unbind("keydown");$j("#rotate_left").click(function(){var a=$j("#angle").val(),c=parseInt(a)-5;-175>a&&-180<a&&(c=-180);-180<=c&&D.setRotationAngle(c)});$j("#rotate_right").click(function(){var a=$j("#angle").val(),
c=parseInt(a)+5;175<a&&180>a&&(c=180);180>=c&&D.setRotationAngle(c)});$j(".angle").click(function(){D.setRotationAngle($j(this).attr("rel"),!1,"change");$j("#rotate_slider").slider("option","value",$j(this).attr("rel"));$j("#rotate_angle").val($j(this).attr("rel"))});$j("#image_height_min").click(function(){var a=Q;ow=D.unitValue(a.getAttribute("width"));oh=D.unitValue(a.getAttribute("height"));asrc=$j("#tool_aspect").attr("class");var c=D.unitValue(10);value=parseFloat(oh)-c;parseFloat(oh)>=c&&(a.setAttribute("height",
D.convertUnitToPX(value)),a.setAttribute("slider","height"),"noaspect"==asrc&&D.applyAspectRatioToImage(ow,oh,null,value),D.selectOnly([a],!0),"vuezz"==$j("#dol_type").val()&&D.checkImageDimensionsToSnap(null))});$j("#image_height_max").click(function(){var a=Q;ow=D.unitValue(a.getAttribute("width"));oh=D.unitValue(a.getAttribute("height"));asrc=$j("#tool_aspect").attr("class");value=parseFloat(oh)+D.unitValue(10);parseFloat(oh)<=D.unitValue(5E3)&&(a.setAttribute("height",D.convertUnitToPX(value)),
a.setAttribute("slider","height"),"noaspect"==asrc&&D.applyAspectRatioToImage(ow,oh,null,value),D.selectOnly([a],!0),"vuezz"==$j("#dol_type").val()&&D.checkImageDimensionsToSnap(null))});$j("#image_width_min").click(function(){var a=Q;ow=D.unitValue(a.getAttribute("width"));oh=D.unitValue(a.getAttribute("height"));asrc=$j("#tool_aspect").attr("class");var c=D.unitValue(10);value=parseFloat(ow)-c;parseFloat(ow)>=c&&(a.setAttribute("width",D.convertUnitToPX(value)),a.setAttribute("slider","width"),
"noaspect"==asrc&&D.applyAspectRatioToImage(ow,oh,value,null),D.selectOnly([a],!0),"vuezz"==$j("#dol_type").val()&&D.checkImageDimensionsToSnap(null))});$j("#image_width_max").click(function(){var a=Q;ow=D.unitValue(a.getAttribute("width"));oh=D.unitValue(a.getAttribute("height"));asrc=$j("#tool_aspect").attr("class");value=parseFloat(ow)+D.unitValue(10);parseFloat(ow)<=D.unitValue(5E3)&&(a.setAttribute("width",D.convertUnitToPX(value)),a.setAttribute("slider","width"),"noaspect"==asrc&&D.applyAspectRatioToImage(ow,
oh,value,null),D.selectOnly([a],!0),"vuezz"==$j("#dol_type").val()&&D.checkImageDimensionsToSnap(null))});$j("#image_width_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:D.unitValue(100),min:D.unitValue(10),range:"min",start:function(){var a=Q;ow=D.unitValue(a.getAttribute("width"));oh=D.unitValue(a.getAttribute("height"));asrc=$j("#tool_aspect").attr("class");a.setAttribute("slider","width");zoomf=$j("#zoom_factor").val();if(void 0==zoomf||null==zoomf)zoomf=1},
slide:function(a,c){$j("#image_width").val(c.value*zoomf);"noaspect"==asrc&&D.applyAspectRatioToImage(ow,oh,c.value,null);Q.setAttribute("width",D.convertUnitToPX(c.value));D.resizeSelector(Q)},stop:function(a,c){$j("#image_width").val(c.value*zoomf);D.selectOnly([Q],!0);"vuezz"==$j("#dol_type").val()&&D.checkImageDimensionsToSnap(null)}});$j("#image_height_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:D.unitValue(100),min:D.unitValue(10),range:"min",start:function(){var a=
Q;ow=D.unitValue(a.getAttribute("width"));oh=D.unitValue(a.getAttribute("height"));asrc=$j("#tool_aspect").attr("class");a.setAttribute("slider","height");zoomf=$j("#zoom_factor").val();if(void 0==zoomf||null==zoomf)zoomf=1},slide:function(a,c){$j("#image_height").val(Math.round(100*c.value*zoomf)/100);"noaspect"==asrc&&D.applyAspectRatioToImage(ow,oh,null,c.value);Q.setAttribute("height",D.convertUnitToPX(c.value));D.resizeSelector(Q)},stop:function(a,c){$j("#image_height").val(Math.round(100*c.value*
zoomf)/100);D.selectOnly([Q],!0);"vuezz"==$j("#dol_type").val()&&D.checkImageDimensionsToSnap(null)}});$j("#text_size_slider").on("mousedown",eb).on("touchstart",eb).slider({max:S.maxFontSize,value:24,min:1,range:"min",start:function(){},slide:function(a,c){S.fontS=$j(this).slider("value");svgedit.browser.isIE()?D.IEsetFontSizeNew(c.value):rf(c,!0);D.resizeSelector(Q);$j("#font_size").val(c.value)},stop:function(){}});0!=$j(".pxniko").length&&($j("#rotate_slider").on("mousedown",eb).on("touchstart",
eb).slider({max:180,value:0,step:1,min:-180,range:"min",start:function(){},slide:function(a,c){D.setRotationAngle(c.value,!1);$j("#rotate_angle").val(c.value)},stop:function(a,c){D.setRotationAngle(c.value)}}),$j("#stroke_width_slider").on("mousedown",eb).on("touchstart",eb).slider({max:20,value:0,min:0,range:"min",step:0.1,start:function(){},slide:function(a,c){$j("#stroke_width").val(c.value);D.setStrokeWidth(c.value,"true")},stop:function(a,c){$j("#stroke_width").val(c.value);D.setStrokeWidth(c.value)}}),
$j("#opacity_slider").on("mousedown",eb).on("touchstart",eb).slider({max:100,value:100,min:0,range:"min",start:function(){},slide:function(a,c){$j("#group_opacity").val(100-c.value);D.setOpacity(1-c.value/100)},stop:function(a,c){$j("#group_opacity").val(100-c.value);D.setOpacity(1-c.value/100)}}),$j("#x_slider").slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#selected_x").val(c.value);Kb($j("#selected_x")[0])},stop:function(){Kb($j("#selected_x")[0])}}),
$j("#y_slider").slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#selected_y").val(c.value);Kb($j("#selected_y")[0])},stop:function(){Kb($j("#selected_y")[0])}}),$j("#line_x1_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#line_x1").val(c.value);Kb($j("#line_x1")[0])},stop:function(){Kb($j("#line_x1")[0])}}),$j("#line_y1_slider").on("mousedown",eb).on("touchstart",
eb).slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#line_y1").val(c.value);Kb($j("#line_y1")[0])},stop:function(){Kb($j("#line_y1")[0])}}),$j("#line_x2_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#line_x2").val(c.value);Kb($j("#line_x2")[0])},stop:function(){Kb($j("#line_x2")[0])}}),$j("#line_y2_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),
value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#line_y2").val(c.value);Kb($j("#line_y2")[0])},stop:function(){Kb($j("#line_y2")[0])}}),$j("#ellipse_cx_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#ellipse_cx").val(c.value);Kb($j("#ellipse_cx")[0])},stop:function(){Kb($j("#ellipse_cx")[0])}}),$j("#ellipse_cy_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),
value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#ellipse_cy").val(c.value);Kb($j("#ellipse_cy")[0])},stop:function(){Kb($j("#ellipse_cy")[0])}}),$j("#ellipse_rx_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#ellipse_rx").val(c.value);Kb($j("#ellipse_rx")[0])},stop:function(){Kb($j("#ellipse_rx")[0])}}),$j("#ellipse_ry_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),
value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#ellipse_ry").val(c.value);Kb($j("#ellipse_ry")[0])},stop:function(){Kb($j("#ellipse_ry")[0])}}),$j("#circle_cx_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#circle_cx").val(c.value);Kb($j("#circle_cx")[0])},stop:function(){Kb($j("#circle_cx")[0])}}),$j("#circle_cy_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),
value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#circle_cy").val(c.value);Kb($j("#circle_cy")[0])},stop:function(){Kb($j("#circle_cy")[0])}}),$j("#circle_r_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#circle_r").val(c.value);Kb($j("#circle_r")[0])},stop:function(){Kb($j("#circle_r")[0])}}),$j("#rect_width_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),
value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#rect_width").val(c.value);Kb($j("#rect_width")[0])},stop:function(){Kb($j("#rect_width")[0])}}),$j("#rect_height_slider").on("mousedown",eb).on("touchstart",eb).slider({max:D.unitValue(1600),value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#rect_height").val(c.value);Kb($j("#rect_height")[0])},stop:function(){Kb($j("#rect_height")[0])}}),$j("#rect_rx_slider").on("mousedown",eb).on("touchstart",eb).slider({max:100,
value:0,min:0,range:"min",start:function(){},slide:function(a,c){$j("#rect_rx").val(c.value);He($j("#rect_rx")[0])},stop:function(){He($j("#rect_rx")[0])}}));$j("#line_spacing_slider").on("mousedown",eb).on("touchstart",eb).slider({max:100,value:0,min:0,range:"min",start:function(){},slide:function(a,c){D.SlidingLineSpacing(c.value);$j("#line_spacing").val(c.value)},stop:function(a,c){D.setLineSpacing(c.value)}});ta.addDropDown("#blur_dropdown",$j.noop);$j("#text").click(function(){if(/android|iphone|ipad/i.test(navigator.userAgent.toLowerCase()))if($j("#text").val().length,
start=$j("#text").val().length,end=$j("#text").val().length,element=$j("#text")[0],element.setSelectionRange)element.setSelectionRange(start,end);else if(element.createTextRange){var a=element.createTextRange();a.collapse(!0);a.moveStart("character",start);a.moveEnd("character",end);a.select()}});var ie=!1;$j("#blur_slider").on("mousedown",eb).on("touchstart",eb).slider({max:10,step:0.1,range:"min",stop:function(a,c){ie=!1;de(c,null,ie);$j("#blur_dropdown li").show();$j(window).mouseup()},start:function(){ie=
!0},slide:function(a,c){de(c,null,ie)}});ta.addDropDown("#zoom_dropdown",function(){var a=$j(this),c=a.attr("data-val");c?kf(window,c):Fc({value:parseInt(a.text())})},!0);sd("#stroke_linecap","#linecap_opts",function(){Yc(this,!0)},{dropUp:!0});sd("#stroke_linejoin","#linejoin_opts",function(){Yc(this,!0)},{dropUp:!0});sd("#tool_position","#position_opts_all",function(){var a=this.id.replace("tool_pos","").charAt(0);D.alignSelectedElements(a,"page")},{multiclick:!0});sd("#text_position","#position_opts",
function(){var a=this.id.replace("tool_pos","").charAt(0);D.alignSelectedElements(a,"page")},{multiclick:!0});sd("#image_position","#position_opts_image",function(){var a=this.id.replace("tool_pos","").charAt(0);D.alignSelectedElements(a,"page")},{multiclick:!0});var Pe,je=function(){$j(Pe).blur()};$j(".tools_panel, #vtab").find("button, select, input, textarea").focus(function(){Pe=this;Fe="toolbars";Ja.mousedown(je)}).blur(function(){Fe="canvas";Ja.unbind("mousedown",je);"textedit"==D.getMode()&&
D.setMode("select")});$j("#text").focus(function(){Pe=this;Ja.mousedown(je)}).blur(function(){Ja.unbind("mousedown",je);"textedit"==D.getMode()&&(svgedit.browser.isIE()||D.setMode("select"))});var ke=function(){ec("#tool_select")&&(D.setMode("select"),$j("#styleoverrides").text("#svgcanvas svg *{cursor:move;pointer-events:all}, #svgcanvas svg{cursor:default}"))};768<window.innerWidth&&S.mobileActivate&&($j(".settings_header").on("click",function(){D.clearSelection(!0);$j(".inner_settings").toggle("fast",
"linear");$j(".wrap").hide();$j(".wrap1.multiline_text").hide();$j("#color_picker").hide();$j(".settings_header .arrow").toggleClass("down up");$j(".settings_header .arrow").hasClass("down")?$j(".product_options").animate({top:"185px"}):$j(".product_options").animate({top:"345px"})}),$j(".productoptions_header").on("click",function(){D.clearSelection(!0);$j(".inner_options").toggle("fast","linear");$j(".productoptions_header .arrow").toggleClass("down up")}));$j(".dopersonalize").on("mousedown",function(){yf($j(".pages.active").attr("rel"))&&
$j("#personalize_box").dialog("close")});var yf=function(a){textArray=$j("#personalize_box_container textarea[rel="+a+"]");len=$j("#personalize_box_container textarea[rel="+a+"]").length;a=!0;for(Z=0;Z<len;Z++)a&&(a=!1,elementId=$j(textArray[Z]).attr("class").substring($j(textArray[Z]).attr("class").indexOf("_")+1),null!=$j("#"+elementId).attr("pathid")?(D.addToSelection($j("#"+elementId)),D.changePathText($j(textArray[Z]).val())&&(a=!0,D.clearSelection())):(D.addToSelection($j("#"+elementId)),$j("#text").val($j(textArray[Z]).val()),
D.updateText()&&(a=!0,D.clearSelection())));$j(".inner_settings").show();$j(".product_options").show();return!0};$j(document).on("focus","#personalize_box_container textarea",function(){$j(this).attr("rows","20");$j(this).css("height","100px")});$j(document).on("blur","#personalize_box_container textarea",function(){$j(this).attr("rows","1");$j(this).css("height","17px")});$j("#round_rect").click(function(){ec("#tool_rect")&&(D.setMode("rect"),D.setRoundRect())});$j("#tools_ellipse_show").click(function(){$j("#tools_ellipse").show()});
$j(document).on("click","#tools_background_show",function(){768>=window.innerWidth&&S.mobileActivate?$j(".tools_left_container #tools_background").toggle():$j("#tools_background").toggle()});$j(document).on("click","#tools_background",function(a){a.stopPropagation();$j(".tools_left_container #tools_background").toggle()});$j("#tools_rect_show").click(function(){$j("#tools_rect").show()});$j(document).on("click","#tools_shapelib_show",function(){D.checkExtension("shapes")&&($j("#shapes_lib").append('<div class="clipart_prog"><img src="/js/all/editor/icons/ajax-loader.gif"></div>'),
""==S.crossDomain||void 0==S.crossDomain?$j.ajax({type:"GET",url:"/js/all/editor/extensions/ext-shapes.js",success:function(){$j("#shapes_lib .clipart_prog").css("display","none");$j("#shapes_lib .clipart_prog img").css("display","none")},dataType:"script",cache:!0}):$j.ajax({type:"GET",url:"http://"+S.crossDomain+"/js/all/editor/extensions/ext-shapes.js",success:function(){$j("#shapes_lib .clipart_prog").css("display","none");$j("#shapes_lib .clipart_prog img").css("display","none")},dataType:"script",
cache:!0}));$j("#shapes_lib").dialog("open");$j("#tool_image").hasClass("backend")||$j(".ui-widget-overlay").css("zIndex","100001");$j("#tools_shapelib").show();D.setMode("select");var a=$j("#shape_cats div").length;15>a&&(a=15);a*=32;480<a&&(a=500);$j("#shapes_lib").parent().css("height",a+160+"px");$j("#shapes_lib").css("height",a+90+"px");$j(".header-primary").css({zIndex:"99",position:"relative"});$j(".nav-container").css({zIndex:"98",position:"relative"});-1!=navigator.userAgent.indexOf("Safari")&&
-1==navigator.userAgent.indexOf("Chrome")&&$j("#shape_cats div").addClass("cats");$j("#shapes_lib").parent().position({my:"center center",at:"center center",of:window});$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");
$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")});0!=$j(".pxhotice").length&&($j("#tools_social_show").click(function(){"true"!=$j("#social_popup").attr("attr_load")?($j("#social_popup").append('<div class="clipart_prog"><img src="/js/all/editor/icons/ajax-loader.gif"></div>'),D.addSocialPopup(),$j("#social_popup").attr("attr_load","true")):$j("#social_popup").dialog("open")}),
$j(document).on("click","#tools_sociallib #social_cat > div",function(){var a=$j("#social_cat > div");a.removeClass("current");$j(this).addClass("current");a=a.index($j(this));$j("#tools_sociallib #social_buttons .socil_catgs").hide().eq(a).show()}),$j(document).on("click","#social_buttons .socil_catgs > .tool_button",function(){D.clickSocialIcon($j(this))}));var Of=function(){ec("#tool_zoom")&&(uc(),pd())},zf=function(){svgedit.browser.isIE()&&($j("#text").val(""),""==$j("#text").val()&&$j("#selectorParentGroup").hide());
S.enableSingleLine||D.setMultiline("true");ec("#tool_text")&&D.setMode("text");S.isMultiline&&$j("#text").focus();$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_fhpath .state").removeClass("drawing_off");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");
$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")},kd=ta.deleteSelected=function(){if(ac)D.deleteSelectedElements();else if(null!=Q&&(null==Q.getAttribute("lock")||"false"==Q.getAttribute("lock")))D.deleteSelectedElements(),ke()},Qe=function(){if(null!=Q&&(null==Q.getAttribute("lock")||"false"==Q.getAttribute("lock")))$j("#tool_paste").removeClass("disable"),
D.cutSelectedElements()},Re=function(){if(null!=Q&&(null==Q.getAttribute("lock")||"false"==Q.getAttribute("lock")))$j("#tool_paste").removeClass("disable"),D.copySelectedElements()},Se=!1,Te=function(a){Se||(D.getZoom(),a&&(Se=!0),Ja.width(),Ja.height(),D.pasteElements())},le=function(){null!=Q&&D.moveToTopSelectedElement()},me=function(){null!=Q&&D.moveToBottomSelectedElement()},ne=function(a){null!=Q&&D.moveUpDownSelected(a)},Af=function(){null!=Q&&D.convertToPath()},rc=function(a,c){if(null!=Q||
ac){if(S.gridSnapping)var h=D.getZoom()*S.snappingStep,a=a*h,c=c*h;D.moveSelectedElements(a,c)}},Sb=function(){D.cycleElement(1)},Tb=function(){D.cycleElement(0)},sc=function(a,c){if(!(null==Q||ac)){a||(c*=-1);var h=1*$j("#angle").val()+c;D.setRotationAngle(h);Wb()}},xc=function(){var a=S.dimensions,c=confirm("Do you really want to clear all the contents of this page? \nYou will not be able to undo it."),h,l;0<$j(".dol-popup").length?(h=0<$j("#width_"+$j(".dol-popup").attr("rel")).val()?$j("#width_"+
$j(".dol-popup").attr("rel")).val():640,l=0<$j("#height_"+$j(".dol-popup").attr("rel")).val()?$j("#height_"+$j(".dol-popup").attr("rel")).val():480):(h=$j("#canvas_width").val(),l=$j("#canvas_height").val());!0==c&&(zoom=D.getZoom(),c=$j("#svgcontent defs").children(),pd(),D.clear(),uc(zoom),D.setResolution(a[0],a[1]),Yb(!0),lc(),Wb(),Ge(),D.runExtensions("onNewDocument"),D.setSvgString('<svg width="'+h+'" height="'+l+'" xmlns="http://www.w3.org/2000/svg"></svg>',!1,c),D.addBlueprint($j("#layout_bg_pg1").val(),
$j("#layout_fg_pg1").val()),0!=$j(".blueprint").length&&D.addBlueprint($j("#blueprint_bg_"+$j(".dol-popup").attr("rel")).val(),$j("#blueprint_fg_"+$j(".dol-popup").attr("rel")).val()),a=$j("#value").attr("value"),a=a.replace("%",""),svgEditor.zoomChanged(window,"canvas"),Fc({value:a}),a=$j("svg#svgroot"),a.css("display","none").height(),a.css("display",""),select=$j(".layouts li img.selected").attr("rev"),"vuezz"==$j("#dol_type").val()&&(document.getElementById("svgcontent").setAttribute("name",select),
$j(".layouts li img.selected").trigger("click")));768<window.innerWidth&&(svgEditor.curConfig.mobileActivate&&"none"!=$j(".page_show").css("display"))&&(a=parseInt($j(".page_tab li.active").attr("rel")),h=$j(".page_tab li").length,l=a+1,a==h&&(l=parseInt(l)-2),$j("#page_"+l).trigger("click"),$j("#page_"+a).trigger("click"))};$j(document).on("click","#social_view_content .social_cats div",function(){$j("#social_popup .social_box .social_cats div").removeClass("selected");$j(this).addClass("selected");
var a=$j("#social_popup .social_box .social_images .btns"),c=$j(this).attr("attr_btn");a.removeClass("selected");$j("#social_popup .social_images ."+c+"_imgs").addClass("selected")});$j(document).on("click","#social_view_content .social_images img",function(){var a=$j(this).attr("src"),c=new Image;c.src=a;$j("#updating_box").show();$j("#updating_box .desc-rendering").show();$j("#updating_box .desc").hide();$j(c).load(function(){origX=c.width;origY=c.height;D.addSocialImage(a,origX,origY);$j("#social_popup").dialog("close");
$j("#updating_box .desc").show();$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide()})});var Fd=function(){if((null==Q||"false"==Q.getAttribute("lock")||"null"==Q.getAttribute("lock")||null==Q.getAttribute("lock"))&&0<nd.getUndoStackSize())nd.undo(),lc()},yc=function(){if((null==Q||"false"==Q.getAttribute("lock")||"null"==Q.getAttribute("lock")||null==Q.getAttribute("lock"))&&0<nd.getRedoStackSize())nd.redo(),lc()},Gc=function(a){"+"==a?$j(".zoomin").trigger("click"):$j(".zoomout").trigger("click")},
Hc=function(){if(ac){var a=null==$j("#stroke_width").val()||"null"==$j("#stroke_width").val()?0:$j("#stroke_width").val(),c=$j("#fill_color rect").attr("fill");"null"==$j("#stroke_color rect").attr("fill")||$j("#stroke_color rect").attr("fill");var h=$j("#group_opacity").val(),l=$j("#blur").val();D.groupSelectedElements();$j("#stroke_width").val(a);$j("#fill_color rect").attr("fill",c);$j("#group_opacity").val(h);$j("#blur").val(l);0!=$j(".pxniko").length&&($j("#stroke_width_slider").slider("option",
"value",a),$j("#opacity_slider").slider("option","value",100-h),$j("#blur_slider").slider("option","value",l));0!=$j(".pxhotice").length&&($j(".stroke_size_show").val(a),$j(".opacity_show").val(val),$j(".blur").val(val));"g"==Q.tagName&&(a=$j(Q).children(),null==$j(a[0]).attr("stroke")||$j(a[0]).attr("stroke"))}else Q&&D.ungroupSelectedElement(null,!1,!0)},uc=function(a){var c=D.getResolution(),a=a?c.zoom*a:1;$j("#zoom").val(100*a);D.setZoom(a);Bf();Yb(!0);Yb(!0)},Bf=function(){if(!Hb){var a="#workarea.wireframe #svgcontent * { stroke-width: "+
1/D.getZoom()+"px;fill:none ;}";$j("#wireframe_rules").text(Ja.hasClass("wireframe")?a:"")}},Cf=function(a,c){if(!hd){hd=!0;$j("#save_output_btns").toggle(!!c);$j("#tool_source_back").toggle(!c);var h=w=D.getSvgString();$j("#svg_source_textarea").val(h);$j("#svg_source_editor").fadeIn();Df();$j("#svg_source_textarea").focus()}};$j("#svg_docprops_container, #svg_prefs_container").draggable({cancel:"button,fieldset",containment:"window"});$j("#text_panel").draggable({cancel:"button,fieldset",handle:".handle_text",
containment:"#content"},{stop:function(){$j("#position_opts").removeClass("fixed");$j("#position_opts").css({top:-120,left:-150})},start:function(){$j("#position_opts").hide();$j("#position_opts").css({top:-120,left:-150})}});document.onselectstart=function(a){return"TEXTAREA"==a.srcElement.tagName||"INPUT"==a.srcElement.tagName?!0:!1};$j("#image_panel").draggable({cancel:"button,fieldset",handle:".handle_image",containment:"#content"},{stop:function(){$j("#position_opts_image").removeClass("fixed");
$j("#position_opts_image").css({top:-120,left:-150});$j("#image_panel").removeClass("ui-draggable-dragging")},start:function(){$j("#position_opts_image").hide();$j("#position_opts_image").css({top:-120,left:-150})}});var Df=function(){var a=$j("#svg_source_container").height()-80;$j("#svg_source_textarea").css("height",a)},Ef=function(){if(hd){var a=function(){D.clearSelection();Gd();uc();lc();oe();Ge()};D.setSvgString($j("#svg_source_textarea").val())?a():$j.confirm(uiStrings.notification.QerrorsRevertToSource,
function(c){if(!c)return!1;a()});pd()}},oe=function(a){a=a||D.getDocumentTitle();a=Wf+(a?": "+a:"");$j("title:first").text(a)};ta.changeDimensions=function(a,c){if("fit"!=a&&!svgedit.units.isValidUnit("width",a)||"fit"!=c&&!svgedit.units.isValidUnit("height",c))return $j.alert(uiStrings.notification.invalidAttrValGiven),!1;if(!D.setResolution(a,c))return $j.alert(uiStrings.notification.noContentToFitTo),!1;Yb();return!0};ta.addGalleryImage=function(a,c,h,l){D.addGalleryImage(a,c,h,l)};ta.clickOnCart=
function(){Yd=!1};var pe=function(){S.baseUnit=$j(this).val();D.setConfig(S);0!=$j(".pxniko").length&&$j(".pxunit").text(S.baseUnit);"cm"==S.baseUnit?($j("#image_width_slider, #image_height_slider").slider({max:D.unitValue(1600)}),$j("#image_width_slider, #image_height_slider").slider({min:0}),0!=$j(".pxniko").length&&($j("#rect_height_slider, #rect_width_slider, #circle_r_slider, #circle_cy_slider, #circle_cx_slider, #ellipse_ry_slider, #ellipse_rx_slider, #ellipse_cy_slider, #ellipse_cx_slider, #line_y2_slider, #line_y1_slider, #line_x1_slider, #line_x2_slider, #y_slider, #x_slider").slider({max:D.unitValue(1600)}),
$j("#rect_height_slider, #rect_width_slider, #circle_r_slider, #circle_cy_slider, #circle_cx_slider, #ellipse_ry_slider, #ellipse_rx_slider, #ellipse_cy_slider, #ellipse_cx_slider, #line_y2_slider, #line_y1_slider, #line_x1_slider, #line_x2_slider, #y_slider, #x_slider").slider({min:0}))):"in"==S.baseUnit?($j("#image_width_slider, #image_height_slider").slider({max:D.unitValue(1600)}),$j("#image_width_slider, #image_height_slider").slider({min:0}),0!=$j(".pxniko").length&&($j("#rect_height_slider, #rect_width_slider, #circle_r_slider, #circle_cy_slider, #circle_cx_slider, #ellipse_ry_slider, #ellipse_rx_slider, #ellipse_cy_slider, #ellipse_cx_slider, #line_y2_slider, #line_y1_slider, #line_x1_slider, #line_x2_slider, #y_slider, #x_slider").slider({max:D.unitValue(1600)}),
$j("#rect_height_slider, #rect_width_slider, #circle_r_slider, #circle_cy_slider, #circle_cx_slider, #ellipse_ry_slider, #ellipse_rx_slider, #ellipse_cy_slider, #ellipse_cx_slider, #line_y2_slider, #line_y1_slider, #line_x1_slider, #line_x2_slider, #y_slider, #x_slider").slider({min:0}))):($j("#image_width_slider, #image_height_slider").slider({max:1600}),$j("#image_width_slider, #image_height_slider").slider({min:10}),0!=$j(".pxniko").length&&($j("#rect_height_slider, #rect_width_slider, #circle_r_slider, #circle_cy_slider, #circle_cx_slider, #ellipse_ry_slider, #ellipse_rx_slider, #ellipse_cy_slider, #ellipse_cx_slider, #line_y2_slider, #line_y1_slider, #line_x1_slider, #line_x2_slider, #y_slider, #x_slider").slider({max:1600}),
$j("#rect_height_slider, #rect_width_slider, #circle_r_slider, #circle_cy_slider, #circle_cx_slider, #ellipse_ry_slider, #ellipse_rx_slider, #ellipse_cy_slider, #ellipse_cx_slider, #line_y2_slider, #line_y1_slider, #line_x1_slider, #line_x2_slider, #y_slider, #x_slider").slider({min:0})));Yb();Wb();$j("#view_grid").trigger("click");$j("#view_grid").trigger("click");D.setGrid(!0)},td=ta.setIcon=function(a,c){var h="string"===typeof c?$j.getSvgIcon(c,!0):c.clone();h&&$j(a).empty().append(h)},fd;a:{var Pf=
/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,vd=document.getElementsByTagName("script")[0],re;for(re in vd.style)if(Pf.test(re)){fd=re.match(Pf)[0];break a}fd="WebkitOpacity"in vd.style?"Webkit":"KhtmlOpacity"in vd.style?"Khtml":""}var Ue=ta.setIconSize=function(a,c){if(a!=$b.size||c){var h=$j("#tools_top .toolset, #editor_panel > *, #history_panel > *,\t\t\t\t#main_button, #tools_left > *, #path_node_panel > *, #multiselected_panel > *,\t\t\t\t#g_panel > *, #tool_font_size > *, .tools_flyout"),l=1,l=
"number"==typeof a?a:{s:0.75,m:1,l:1.25,xl:1.5}[a];ta.tool_scale=Da=l;Mf();var f=h.parents(":hidden");f.css("visibility","hidden").show();var n=l;fd.toLowerCase();var o=["top","left","bottom","right"];h.each(function(){for(var a=$j(this),c=a.outerWidth()*(n-1),h=a.outerHeight()*(n-1),l=0;4>l;l++){var f=o[l],q=a.data("orig_margin-"+f);null==q&&(q=parseInt(a.css("margin-"+f)),a.data("orig_margin-"+f,q));q*=n;"right"===f?q+=c:"bottom"===f&&(q+=h);a.css("margin-"+f,q)}});f.css("visibility","visible").hide();
$j.pref("iconsize",a);$j("#iconsize").val(a);f={"#tools_top":{left:50,height:72},"#tools_left":{width:31,top:74},"div#workarea":{left:38,top:74}};h=$j("#tool_size_rules");h.length?h.empty():h=$j('<style id="tool_size_rules"></style>').appendTo("head");if("m"!=a){var q="";$j.each(f,function(c,h){c="#svg_editor "+c.replace(/,/g,", #svg_editor");q+=c+"{";$j.each(h,function(c,h){if("number"===typeof h)var f=h*l+"px";else if(h[a]||h.all)f=h[a]||h.all;q+=c+":"+f+";"});q+="}"});f="-"+fd.toLowerCase()+"-";
q+="#tools_top .toolset, #editor_panel > *, #history_panel > *,\t\t\t\t#main_button, #tools_left > *, #path_node_panel > *, #multiselected_panel > *,\t\t\t\t#g_panel > *, #tool_font_size > *, .tools_flyout{"+f+"transform: scale("+l+");} #svg_editor div.toolset .toolset {"+f+"transform: scale(1); margin: 1px !important;} #svg_editor .ui-slider {"+f+"transform: scale("+1/l+");}";h.text(q)}Mf()}},Ff=function(){$j("#dialog_box").hide();!hd&&!$d&&!ae?jf&&D.leaveContext():(hd?w!==$j("#svg_source_textarea").val()?
$j.confirm(uiStrings.notification.QignoreSourceChanges,function(a){a&&Gd()}):Gd():$d?ud():ae&&yb(),nc())},Gd=function(){$j("#svg_source_editor").hide();hd=!1;$j("#svg_source_textarea").blur()},ud=function(){$j("#svg_docprops").hide();$j("#canvas_width,#canvas_height").removeAttr("disabled");$j("#resolution")[0].selectedIndex=0;$j("#image_save_opts input").val([$b.img_save]);$d=!1},yb=function(){$j("#svg_prefs").hide();ae=!1},zc={width:$j(window).width(),height:$j(window).height()},nc=$j.noop,Bc;svgedit.browser.isIE()&&
(nc=function(){0===Ja[0].scrollLeft&&0===Ja[0].scrollTop&&(Ja[0].scrollLeft=Bc.left,Ja[0].scrollTop=Bc.top)},Bc={left:Ja[0].scrollLeft,top:Ja[0].scrollTop},$j(window).resize(nc),svgEditor.ready(function(){setTimeout(function(){nc()},500)}),Ja.scroll(function(){Bc={left:Ja[0].scrollLeft,top:Ja[0].scrollTop}}));$j(window).resize(function(){hd&&Df();maxwidth=$j(".wrapper").hasClass("pxboginya")?1080:1200;$j(window).width()>maxwidth&&(width_factor=$j(".wrapper").hasClass("pxboginya")?"998px":"auto",$j(".fullwidth #svg_editor").css("width",
$j(window).width()-72),$j(".fullwidth.page.container").css("width",$j(window).width()-26),$j(".fullwidth.main-container").css("width",$j(window).width()-26),$j(".fullwidth #workarea").css("width",$j(window).width()-420),$j(".fullwidth #workarea").css("height",0.75*($j(window).width()-420)),$j(".fullwidth .multilined_text").css("left",$j(window).width()-440),$j(".fullwidth .pxvieo_svg .multilined_text").css("left",$j(window).width()-450),$j(".flickr_div").mCustomScrollbar("update"),$j(".picasa_div").mCustomScrollbar("update"),
$j(".instagram_div").mCustomScrollbar("update"),$j(".facebook_div").mCustomScrollbar("update"),$j(".myimages_div").mCustomScrollbar("update"),$j(".container").hasClass("fullwidth")?$j("#vtab").css("width","auto"):$j("#vtab").css("width",width_factor),$j("#svg_editor").hasClass("hightech_svg")&&$j(".colorscroll").css("width","962px"),$j(".wrapper").hasClass("pxloja"),$j(".lowres-warning .tooltip_full_value").css("margin-left","-96px"),svgEditor.zoomChanged(window,"canvas")&&($j(".zoom").css("top",
0),as=parseInt($j("#svgcanvas").css("width").replace("px","")/2-175)+120,len=$j(".page_show li").length,$j(".zoom").css("margin-left",as),5>len||$j(".page_show").css("padding","10px 10px 0"),$j(".page_show").css("margin-left","115px"),$j(".page_show").css("width",parseInt($j("#svgcanvas").css("width")))),$j("#svg_editor").hasClass("pxgorilla_svg")&&$j(".fullwidth").css("width",$j(window).width()-39));Fc({value:100*D.getZoom()});$j.each(zc,function(a,c){var h=$j(window)[a]();Ja[0]["scroll"+(a==="width"?
"Left":"Top")]=Ja[0]["scroll"+(a==="width"?"Left":"Top")]-(h-c)/2;zc[a]=h});width=$j(".myimages_div .mCSB_container").width();$j(".myimages_div .mCSB_container").css("width",width+4)});if($j("#svg_editor").hasClass("ultimo_svg")||$j("#svg_editor").hasClass("fortis_svg")||$j("#svg_editor").hasClass("_svg")||$j("#svg_editor").hasClass("cp_forbes_svg"))$j(".flickr_div").css("width","978px"),$j(".flickr_div").mCustomScrollbar("update"),$j(".picasa_div").css("width","978px"),$j(".picasa_div").mCustomScrollbar("update"),
$j(".instagram_div").css("width","978px"),$j(".instagram_div").mCustomScrollbar("update"),$j(".facebook_div").css("width","978px"),$j(".facebook_div").mCustomScrollbar("update"),$j(".myimages_div").css("width","978px"),$j(".myimages_div").mCustomScrollbar("update"),$j(".google_div").css("width","958px"),$j(".google_div").mCustomScrollbar("update");$j("#svg_editor").hasClass("fortis_svg")||$j("#svg_editor").hasClass("ultimo_svg")?$j(".wrapper").hasClass("pxboginya")?($j(".flickr_div").css("width",
"auto"),$j(".flickr_div").mCustomScrollbar("update"),$j(".picasa_div").css("width","auto"),$j(".picasa_div").mCustomScrollbar("update"),$j(".instagram_div").css("width","auto"),$j(".instagram_div").mCustomScrollbar("update"),$j(".facebook_div").css("width","auto"),$j(".facebook_div").mCustomScrollbar("update"),$j(".myimages_div").css("width","auto"),$j(".myimages_div").mCustomScrollbar("update"),$j(".google_div").css("width","785px")):($j(".flickr_div").css("width","978px"),$j(".flickr_div").mCustomScrollbar("update"),
$j(".picasa_div").css("width","978px"),$j(".picasa_div").mCustomScrollbar("update"),$j(".instagram_div").css("width","978px"),$j(".instagram_div").mCustomScrollbar("update"),$j(".facebook_div").css("width","978px"),$j(".facebook_div").mCustomScrollbar("update"),$j(".myimages_div").css("width","978px"),$j(".myimages_div").mCustomScrollbar("update"),$j(".google_div").css("width","958px")):($j(".flickr_div").css("width","auto"),$j(".flickr_div").mCustomScrollbar("update"),$j(".picasa_div").css("width",
"auto"),$j(".picasa_div").mCustomScrollbar("update"),$j(".instagram_div").css("width","auto"),$j(".instagram_div").mCustomScrollbar("update"),$j(".facebook_div").css("width","auto"),$j(".facebook_div").mCustomScrollbar("update"),$j(".myimages_div").css("width","auto"),$j(".myimages_div").mCustomScrollbar("update"),$j(".google_div").css("width","auto"));$j(".google_div").mCustomScrollbar("update");Ja.scroll(function(){0!=$j("#ruler_x").length&&($j("#ruler_x")[0].scrollLeft=Ja[0].scrollLeft);0!=$j("#ruler_y").length&&
($j("#ruler_y")[0].scrollTop=Ja[0].scrollTop)});$j("#url_notice").click(function(){$j.alert(this.title)});$j("#url_notice").click(function(){$j.alert(this.title)});$j("#tool_image").hasClass("backend")?$j("#base_unit").change(pe):0<$j(".uoptions input").length&&$j(".uoptions input").change(pe);$j(".knob_effects li div").click(function(){$j(".knob_effects li div.active").removeClass("active");$j(this).addClass("active");$j(".effect_btn").removeClass("active");var a=$j(this).attr("rel");D.currentKnobEffect(a);
D.applyKnobSlider(null,!0)});$j(".zoomin").click(function(){var a=parseInt($j("#value").val()),a=a+(50-a%50);500>=a&&Fc({value:parseInt(a)})});$j(".zoomout").click(function(){var a=parseInt($j("#value").val());Fc({value:parseInt(0==a%50?a-50:a+(0-a%50))})});$j("#fit_to_canvas").click(function(){svgEditor.zoomChanged(window,"canvas")});$j("#original").click(function(){var a=$j("#zoom_factor").val();$j("#tool_image").hasClass("backend")&&(a=1);Fc({value:100*a})});$j(document).on("click","#crops",function(){$j(".header, .header-container, .wrap-header, #vtab, .wrap-header").css("zIndex",
"1");$j("#vtab").css({position:"relative","z-index":"1"});var a=$j("#cropimage").attr("src"),c=Lb("#x1").val(),h=Lb("#y1").val(),l=Lb("#w").val(),f=Lb("#h").val(),n=$j("#cropimage").attr("width"),o=$j("#cropimage").attr("height"),q=$j("#zoom_factor").val();oh=Q.getAttribute("orig_w");ow=Q.getAttribute("orig_h");$j("#crop_box").dialog("close");$j("#cropping_box").show();$j("#cropping_box .desc").show();""==S.crossDomain||void 0==S.crossDomain?$j.ajax({url:"/dol/index/crop",dataType:"json",type:"POST",
data:{image:a,x:c,y:h,width:l,height:f,rwidth:n,rheight:o,owidth:ow,oheight:oh,resize:!1,zoom_factor:q},success:function(a){var c=$j("#angle").val();D.setCropImageURL(a.imageUrl,a.width,a.height);D.setRotationAngle(c);$j(".header, .header-container, .wrap-header, .wrap-header").css("zIndex","101");$j(".header-primary").css({zIndex:"99",position:"relative"});$j(".nav-container").css({zIndex:"98",position:"relative"});$j("#vtab").css({"z-index":"100"})}}):$j.ajax({url:"http://"+S.crossDomain+"/dol/index/crop",
type:"POST",async:!1,jsonpCallback:"jsonCallback",contentType:"application/json",dataType:"jsonp",data:{image:a,x:c,y:h,width:l,height:f,rwidth:n,rheight:o,owidth:ow,oheight:oh,resize:!1,zoom_factor:q},success:function(a){var c=$j("#angle").val();D.setCropImageURL(a.imageUrl,a.width,a.height);D.setRotationAngle(c);$j(".header, .header-container, .wrap-header, .wrap-header").css("zIndex","101");$j(".header-primary").css({zIndex:"99",position:"relative"});$j(".nav-container").css({zIndex:"98",position:"relative"});
$j("#vtab").css({"z-index":"100"})}})});$j("#image_move_top").click(function(){le()});$j("#tool_flipVert").click(function(){$j("#tool_flipHoriz_1").trigger("click")});$j("#tool_flipHoriz").click(function(){$j("#tool_flipVert_2").trigger("click")});$j("#image_node_delete").click(function(){kd()});$j("#resize_to_best").click(function(){null!=Q&&D.sizetobest()});$j("#image_flip_vert").click(function(){null!=Q&&D.flipVertical()});$j("#image_flip_horz").click(function(){null!=Q&&D.flipHorizontal()});$j("#image_move_bottom").click(function(){me()});
$j("#snap").click(function(){D.snapToGrid(Q)});$j("#moveto_clip").change(function(){var a=document.getElementById("moveto_clip");D.moveToClip(a.options[a.selectedIndex].value)});$j("#snap_to_canvas").click(function(){D.snapToCanvas(Q)});$j("#grid").click(function(){$j("#view_grid").trigger("click");"none"==$j("#canvasGrid").attr("display")?D.setGrid(!1):D.setGrid(!0)});$j("#text_move_top").click(function(){le()});$j("#text_node_delete").click(function(){kd()});$j("#text_move_bottom").click(function(){me()});
$j("#tool_saved").click(function(){D.clearSelection();D.setMode("select");0<$j(".page_tab li.active").length&&(id=$j(".page_tab li.active").attr("rel"),pageno=id.replace("page_",""));svg_data=D.getSvgString();$j("#textsvg_"+pageno).val(svg_data);$j("#svg_"+$j(".dol-popup").attr("rel")).val($j("#textsvg_"+$j(".dol-popup").attr("rel")+"_1").val());$j("#showDOLImage_"+$j(".dol-popup").attr("rel")).trigger("click");$j(".close").trigger("click")});$j("#tool_backImage").click(function(){$j("#tool_image").hasClass("backend")?
D.addBackendBackgroundImage():D.addBackgroundImage()});$j("#moveto").change(function(){$j(".pages.active").attr("rel");var a=Lb(this).val();D.moveToPage(a)});$j(document).on("click",".pages",function(){S.backAlert&&void 0!=S.backAlertMessage&&"2"==$j(this).attr("rel")&&alert(S.backAlertMessage);if(0<$j(".dol-popup").length)width=0<$j("#width_"+$j(".dol-popup").attr("rel")).val()?$j("#width_"+$j(".dol-popup").attr("rel")).val():640,height=0<$j("#height_"+$j(".dol-popup").attr("rel")).val()?$j("#height_"+
$j(".dol-popup").attr("rel")).val():480;else{if("true"==$j("#workarea").attr("changed")){var a=$j(this).attr("rel");$j("#canvas_width").val($j("#textsvg_"+a).attr("def-width"));$j("#canvas_height").val($j("#textsvg_"+a).attr("def-height"))}width=$j("#canvas_width").val();height=$j("#canvas_height").val()}if(!$j(this).hasClass("active")){a=$j(".pages.active").attr("rel");$j("#textsvg_"+a).val(D.getSvgString());var a=$j(this).attr("rel"),c=$j("#svgcontent defs").children();""!=$j("#textsvg_"+a).val()?
(D.setSvgString($j("#textsvg_"+a).val().replace(RegExp(">[\n\t ]+<","g"),"><"),!1,c),"true"==$j("#workarea").attr("changed")&&(D.setResolution(width,height),Yb(!0),"user"==S.zoomDefine?svgEditor.zoomChanged(window,"user",!0):svgEditor.zoomChanged(window,"canvas"))):D.setSvgString('<svg width="'+width+'" height="'+height+'" xmlns="http://www.w3.org/2000/svg"></svg>',!1,c);D.addBlueprint($j("#blueprint_bg_"+a).val(),$j("#blueprint_fg_"+a).val());D.addMargins($j("#blueprint_mg_"+a).val());$j("#view_grid").hasClass("push_button_pressed")&&
$j("#view_grid").trigger("click");$j("#value").attr("value").replace("%","");"user"==S.zoomDefine?svgEditor.zoomChanged(window,"user",!0):svgEditor.zoomChanged(window,"canvas");$j("#moveto").val(a);$j(".pages").removeClass("active");768<window.innerWidth&&svgEditor.curConfig.mobileActivate&&yf(a);$j(this).addClass("active");D.Shadowfilters()}});$j("#change_image_url").click($c);var qe="clear open save source delete delete_multi paste clone clone_multi move_top move_bottom".split(" "),Ac="";$j.each(qe,
function(a,c){Ac+="#tool_"+c+(a==qe.length-1?",":"")});$j(Ac).mousedown(function(){$j(this).addClass("tool_button_current")}).bind("mousedown mouseout",function(){$j(this).removeClass("tool_button_current")});$j("#tool_undo, #tool_redo").mousedown(function(){$j(this).hasClass("disabled")||$j(this).addClass("tool_button_current")}).bind("mousedown mouseout",function(){$j(this).removeClass("tool_button_current")});var fc=function(a,c,h,l){var f,n;"stroke_color"==a.attr("id")?(f="stroke",n="Pick a Stroke Paint and Opacity"):
"fill_color"==a.attr("id")?(f="fill",n="Pick a Fill Paint and Opacity"):(f="background",n="Pick a Background Paint and Opacity");null!=c&&(f=c);var o=qc[f].paint;"none"==o.solidColor&&(o.solidColor="one");var q=a.position();if(0==$j(".pxhotice").length){var p=q.top;0!=$j(".pxniko").length&&null!=Q&&("text"==Q.tagName&&"stroke"==f)&&(p-=180)}else p=$j(window).height(),p=-($j(document).height()-p/2);null!=c&&("url"!=l.substring(0,3)&&(o.solidColor=l),p-=180);width=$j(window).width();differnce=$j("#tool_image").hasClass("backend")?
1E3:940;of=0<$j("#fill_color:visible").length?$j("#fill_color").offset().left-$j("#svg_editor").offset().left:$j("#stroke_color").offset().left-$j("#svg_editor").offset().left;l=of-600;null!=c&&(l=width-differnce);$j("#color_picker").draggable({cancel:".jGraduate_tabs, .jGraduate_colPick, .jGraduate_gradPick, .jPicker",containment:"window"}).css(S.colorPickerCSS||{left:"background"==f?q.left+100:l,top:"background"==f&&$j("#tool_image").hasClass("backend")?300:p}).jGraduate({paint:o,window:{pickerTitle:n},
images:{clientPath:S.jGraduatePath},newstop:"inverse"},function(l){o=new $j.jGraduate.Paint(l);if(c==null){qc[f].setPaint(o);D.setPaint(f,o);f=="fill"&&$j(".hex_fill").html("#"+o.solidColor);f=="stroke"&&$j(".hex_stroke").html()=="#none"&&$j(".hex_stroke").html("#"+o.solidColor)}else D.setPaint(f,o,h,a);$j("#color_picker").hide();if(f=="background"){l=$j("#value").attr("value");l=l.replace("%","");svgEditor.zoomChanged(window,"canvas");Fc({value:l})}$j(".hex_fill").html()=="#none"&&$j(".hex_fill").html("Not Set");
a.tagName=="g"&&(a.attr("id")=="fill_color"?o.solidColor=="none"?$j(Q).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").attr("fill",o.solidColor):$j(Q).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").attr("fill","#"+o.solidColor):a.attr("id")=="stroke_color"&&(o.solidColor=="none"?$j(Q).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").attr("stroke",o.solidColor):$j(Q).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").attr("stroke",
"#"+o.solidColor)))},function(){$j("#color_picker").hide()})},Vc=function(){var a="none"==D.getColor("fill"),c="none"==D.getColor("stroke"),h=["#tool_fhpath","#tool_line"],l=["#tools_rect .tool_button","#tools_ellipse .tool_button","#tool_text","#tool_path"];if(c)for(var f=0;f<h.length;f++){var n=h[f];$j(n).hasClass("tool_button_current")&&ke();$j(n).addClass("disabled")}else for(f=0;f<h.length;f++)n=h[f],$j(n).removeClass("disabled");if(c&&a)for(f=0;f<l.length;f++)n=l[f],$j(n).hasClass("tool_button_current")&&
ke(),$j(n).addClass("disabled");else for(f=0;f<l.length;f++)n=l[f],$j(n).removeClass("disabled");D.runExtensions("toolButtonStateUpdate",{nofill:a,nostroke:c});$j(".tools_flyout").each(function(){var a=$j("#"+this.id+"_show"),c=!1;$j(this).children().each(function(){$j(this).hasClass("disabled")||(c=!0)});a.toggleClass("disabled",!c)});ee()},Wc=function(a,c,h,l){if(0!=$j(a).length){var f;attr_ids="";"fill"==c?(attr_ids="attr_fill",f=S.initFill):"stroke"==c?(attr_ids="attr_stroke",f=S.initStroke):
f=S.initBackground;var n=D.getNextId(),h=(null==h?(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%"\t\t\t\t\t\tfill="#'+f.color+'" opacity="'+f.opacity+'"/>\t\t\t\t\t\t<defs><linearGradient id="gradbox_"/></defs></svg>',"text/xml"):(new DOMParser).parseFromString('<li id="'+n+'"><svg xmlns="http://www.w3.org/2000/svg"><rect class="clipart_colr" width="100%" height="100%"\t\t\t\t\t\t\tfill="'+h+'" '+attr_ids+'="'+l+'" attr_type="'+c+'" opacity="'+
f.opacity+'"/>\t\t\t\t\t\t\t<defs><linearGradient id="gradbox_"/></defs></svg></li>',"text/xml")).documentElement,h=$j(a)[0].appendChild(document.importNode(h,!0));h.setAttribute("width",16.5);h.setAttribute("height",16.5);this.rect=h.firstChild;this.defs=h.getElementsByTagName("defs")[0];this.grad=this.defs.firstChild;this.paint=new $j.jGraduate.Paint({solidColor:f.color});this.type=c;this.setPaint=function(a,c){this.paint=a;var h="none",l=a.type,f=a.alpha/100;switch(l){case "solidColor":h=a[l]!=
"none"?"#"+a[l]:a[l];break;case "linearGradient":case "radialGradient":this.defs.removeChild(this.grad);this.grad=this.defs.appendChild(a[l]);h="url(#"+(this.grad.id="gradbox_"+this.type)+")"}this.rect.setAttribute("fill",h);this.rect.setAttribute("opacity",f);if(c){D.setColor(this.type,void 0,true);D.setPaintOpacity(this.type,void 0,true)}};this.update=function(a){if(this.type=="background"){var c=document.getElementById("colorRect");if(c!=void 0){Q=c;this.type="fill"}}if(Q){c=this.type;switch(Q.tagName){case "use":case "image":case "foreignObject":return;
case "g":case "a":for(var h=null,l=Q.getElementsByTagName("*"),f=0,n=l.length;f<n;f++){var o=l[f].getAttribute(c);if(f===0){h=o;if(!Q.tagName=="g")if(this.type=="fill")$j("#fill_color rect").attr("fill",h);else if(this.type=="stroke")if(h==null){$j("#stroke_color rect").attr("fill","none");$j("#fill_color rect").attr("fill","none")}else $j("#stroke_color rect").attr("fill",h)}else if(h!==o){h=null;break}}if(h===null)return;l=1;break;default:l=parseFloat(Q.getAttribute(c+"-opacity"));isNaN(l)&&(l=
1);h=Q.getAttribute(c)||(c==="fill"?"black":"none")}if(a){D.setColor(c,h,true);D.setPaintOpacity(c,l,true)}a=nf(h,l*100,c);this.setPaint(a)}};this.prep=function(){switch(this.paint.type){case "linearGradient":case "radialGradient":var a=new $j.jGraduate.Paint({copy:this.paint});D.setPaint(c,a)}}}};qc.fill=new Wc("#fill_color","fill");qc.stroke=new Wc("#stroke_color","stroke");0<$j("#background_color").length&&(qc.background=new Wc("#background_color","background"));$j("#stroke_width").val(S.initStroke.width);
$j("#group_opacity").val(100*S.initOpacity);var se=qc.fill.rect.cloneNode(!1);se.setAttribute("style","vector-effect:non-scaling-stroke");var Hb="non-scaling-stroke"===se.style.vectorEffect;se.removeAttribute("style");var Hd=qc.fill.rect.ownerDocument.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");"undefined"===typeof Hd.stdDeviationX&&$j("#tool_blur").hide();$j(Hd).remove();var Id="-"+fd.toLowerCase()+"-zoom-",wd=Id+"in";Ja.css("cursor",wd);Ja.css("cursor")===wd&&(Ec=wd,wa=Id+"out");
Ja.css("cursor","auto");$j("#fill_color, #tool_fill").click(function(){S.custom_color_picker?($j(".custom_colorpicker_swatches").empty(),$j(".custom_colorpicker_content").mCustomScrollbar("destroy"),$j(".custom_colorpicker_wrapper, .custom_colorpicker_overlay").show(),Fb($j("#fill_color")),"none"==$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?$j("#selected_colorswatch span").addClass("colornone_selected"):$j("#selected_colorswatch span").removeClass("colornone_selected")):
S.jGraduate_color_picker&&(fc($j("#fill_color")),$j("#color_picker").append("<a href='#' id='inpickcolor' alt='Pick Color from design'><span>Pick Color from Design</span></a>"),Vc())});$j("#stroke_color, #tool_stroke").click(function(){S.custom_color_picker?($j(".custom_colorpicker_swatches").empty(),$j(".custom_colorpicker_content").mCustomScrollbar("destroy"),$j(".custom_colorpicker_wrapper, .custom_colorpicker_overlay").show(),Fb($j("#stroke_color")),"none"==$j("#stroke_color rect").attr("fill")||
"transparent"==$j("#stroke_color rect").attr("fill")?$j("#selected_colorswatch span").addClass("colornone_selected"):$j("#selected_colorswatch span").removeClass("colornone_selected")):S.jGraduate_color_picker&&(fc($j("#stroke_color")),$j("#color_picker").append("<a href='#' id='inpickcolors' alt='Pick Color from design'><span>Pick Color from Design</span></a>"),Vc())});$j(document).on("click",".lumilia_filters ui li",function(){var a=$j(this).attr("id"),c=Q,h=c.getAttribute("xlink:href"),l=$j("#zoom_factor").val();
$j.ajax({url:"/dol/index/applyImageFilter",type:"POST",dataType:"text",data:{src:h,filter:a,zoom_factor:l},success:function(a){c.setAttribute("xlink:href",a)}})});$j(document).on("click","#tool_bg",function(a){D.setMode("select");D.clearSelection();qc.background.update();if(S.custom_color_picker){if($j(".custom_colorpicker_swatches").empty(),$j(".custom_colorpicker_content").mCustomScrollbar("destroy"),$j(".custom_colorpicker_wrapper, .custom_colorpicker_overlay").show(),Fb($j("#background_color")),
void 0==$j("#svgcontent rect").attr("fill")||void 0==$j("#svgcontent rect").css("fill")||void 0==$j("#colorRect").attr("fill")||void 0==$j("#colorRect").css("fill")||"none"==$j("#svgcontent rect").attr("fill")||"none"==$j("#svgcontent rect").css("fill")||"none"==$j("#colorRect").attr("fill")||"none"==$j("#colorRect").css("fill")?($j("#selected_colorswatch span").css("background-color","transparent"),$j("#selected_colorswatch span").addClass("colornone_selected"),$j("#selectedcolorswatch_label").text("None")):
($j("#selected_colorswatch span").css("background-color",zb),$j("#selected_colorswatch span").removeClass("colornone_selected"),$j("#selectedcolorswatch_label").text(zb)),"colorRect"==$j("#svgcontent rect").attr("id")&&"#FFFFFF"!=$j("#svgcontent rect").attr("fill")){var c=$j("#colorRect").attr("fill");$j("#selected_colorswatch span").css("background-color",c);$j("#selectedcolorswatch_label").text(c)}}else S.jGraduate_color_picker&&(fc($j("#background_color")),$j("#color_picker").append("<a href='#' id='inpickcolorb' alt='Pick Color from design'><span>Pick Color from Design</span></a>"),
Vc());$j(".tool_niko_ellipse#0_show").html("Color");a.stopPropagation();768>=window.innerWidth&&S.mobileActivate?$j(".tools_left_container #tools_background").toggle():$j("#tools_background").toggle();$j("#tools_background").hide();$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");
$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")});var $a,zb,te;$j("#custom_colorpicker_apply").removeClass("fillcolorOk");$j("#custom_colorpicker_apply").removeClass("strokecolorOk");$j("#custom_colorpicker_apply").removeClass("backgroundOk");var Fb=function(a){switch($j(a).attr("id")){case "fill_color":$j("#custom_colorpicker_apply").addClass("fillcolorOk");
$j("#custom_colorpicker_apply").removeClass("strokecolorOk");$j("#custom_colorpicker_apply").removeClass("backgroundOk");zb=$j("#fill_color rect").attr("fill");$j(document).on("click",".fillcolorOk",function(a){a.preventDefault();a.stopPropagation();"clipart_img"==$j(Q).attr("attr_c")&&"true"!=$j(Q).attr("lock")?zb!=$j("#selected_colorswatch span").css("background-color")?(a=tc($j("#selected_colorswatch span").css("background-color")),$j(Q).attr("fill",a),$j("#fill_color rect").attr("fill",a),"none"==
$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html(a)):($j(Q).attr("fill",$a),$j("#fill_color rect").attr("fill",$a),"none"==$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html($a)):"path"==$j(Q).prop("tagName")?zb!=$j("#selected_colorswatch span").css("background-color")?(a=tc($j("#selected_colorswatch span").css("background-color")),
$j(Q).attr("fill",a),$j("#fill_color rect").attr("fill",a),"none"==$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html(a)):($j(Q).attr("fill",$a),$j("#fill_color rect").attr("fill",$a),"none"==$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html($a)):"ellipse"==$j(Q).prop("tagName")||"circle"==$j(Q).prop("tagName")||"rect"==
$j(Q).prop("tagName")?zb!=$j("#selected_colorswatch span").css("background-color")?(a=tc($j("#selected_colorswatch span").css("background-color")),$j(Q).attr("fill",a),$j("#fill_color rect").attr("fill",a),"none"==$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html(a)):($j(Q).attr("fill",$a),$j("#fill_color rect").attr("fill",$a),"none"==$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?
$j(".hex_fill").html("Not Set"):$j(".hex_fill").html($a)):zb!=$j("#selected_colorswatch span").css("background-color")?(a=tc($j("#selected_colorswatch span").css("background-color")),$j(Q).attr("fill",a),$j("#fill_color rect").attr("fill",a),"none"==$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html(a)):($j(Q).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").parent().attr("fill",
$a),$j(Q).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").attr("fill",$a),$j("#fill_color rect").attr("fill",$a),"none"==$j("#fill_color rect").attr("fill")||"transparent"==$j("#fill_color rect").attr("fill")?$j(".hex_fill").html("Not Set"):$j(".hex_fill").html($a));if("path"==$j(Q).prop("tagName")||"ellipse"==$j(Q).prop("tagName")||"circle"==$j(Q).prop("tagName")||"rect"==$j(Q).prop("tagName"))"none"!=Q.getAttribute("fill")?($j("#path_fill").attr("checked",
"checked"),$j("#niko_path_fill .onoffswitch-switch").css("right","-2px"),$j("#niko_path_fill .onoffswitch-inner").addClass("on"),$j("#niko_path_fill .on").parent().removeClass("onborder")):($j("#path_fill").removeAttr("checked"),$j("#niko_path_fill .onoffswitch-switch").css("right","38px"),$j("#niko_path_fill .onoffswitch-inner").removeClass("on"),$j("#niko_path_fill .onoffswitch-inner").parent().addClass("onborder"))});break;case "stroke_color":$j("#custom_colorpicker_apply").removeClass("fillcolorOk");
$j("#custom_colorpicker_apply").addClass("strokecolorOk");$j("#custom_colorpicker_apply").removeClass("backgroundOk");zb=$j("#stroke_color rect").attr("fill");$j(document).on("click",".strokecolorOk",function(a){a.preventDefault();a.stopPropagation();"clipart_img"==$j(Q).attr("attr_c")&&"true"!=$j(Q).attr("lock")?zb!=$j("#selected_colorswatch span").css("background-color")?(a=tc($j("#selected_colorswatch span").css("background-color")),$j(Q).attr("stroke",a),$j("#stroke_color rect").attr("fill",a),
"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html(a)):($j(Q).attr("stroke",$a),$j("#stroke_color rect").attr("fill",$a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html($a)):"path"==$j(Q).prop("tagName")?zb!=$j("#selected_colorswatch span").css("background-color")?(a=tc($j("#selected_colorswatch span").css("background-color")),
$j(Q).attr("stroke",a),$j("#stroke_color rect").attr("fill",a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html(a)):($j(Q).attr("stroke",$a),$j("#stroke_color rect").attr("fill",$a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html($a)):"line"==$j(Q).prop("tagName")?zb!=$j("#selected_colorswatch span").css("background-color")?
(a=tc($j("#selected_colorswatch span").css("background-color")),$j(Q).attr("stroke",a),$j("#stroke_color rect").attr("fill",a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html(a)):($j(Q).attr("stroke",$a),$j("#stroke_color rect").attr("fill",$a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html($a)):
"ellipse"==$j(Q).prop("tagName")||"circle"==$j(Q).prop("tagName")||"rect"==$j(Q).prop("tagName")?zb!=$j("#selected_colorswatch span").css("background-color")?(a=tc($j("#selected_colorswatch span").css("background-color")),$j(Q).attr("stroke",a),$j("#stroke_color rect").attr("fill",a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html(a)):($j(Q).attr("stroke",$a),$j("#stroke_color rect").attr("fill",
$a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html($a)):zb!=$j("#selected_colorswatch span").css("background-color")?(a=tc($j("#selected_colorswatch span").css("background-color")),$j(Q).attr("stroke",a),$j("#stroke_color rect").attr("fill",a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html(a)):
($j(Q).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").parent().attr("stroke",$a),$j(Q).find("ellipse, circle, g, line, path, polygon, polyline, rect, text, textPath, tspan").attr("stroke",$a),$j("#stroke_color rect").attr("fill",$a),"none"==$j("#stroke_color rect").attr("fill")||"transparent"==$j("#stroke_color rect").attr("fill")?$j(".hex_stroke").html("Not Set"):$j(".hex_stroke").html($a))});break;case "background_color":$j("#custom_colorpicker_apply").removeClass("fillcolorOk"),
$j("#custom_colorpicker_apply").removeClass("strokecolorOk"),$j("#custom_colorpicker_apply").addClass("backgroundOk"),zb=tc($j("#colorRect").css("fill")),$j(document).on("click",".backgroundOk",function(a){a.preventDefault();a.stopPropagation();svgedit.amiconDOL.addBackground();Yb();if(zb!=$j("#selected_colorswatch span").css("background-color")){var a=tc($j("#selected_colorswatch span").css("background-color")),c=document.getElementById("colorRect");c.style.fill=a}else c=document.getElementById("colorRect"),
c.style.fill=$a})}a=S.custom_colors[0].color;void 0==$a?($a=S.custom_colors[0].color,$j("#selected_colorswatch span").addClass("colornone_selected"),$j("#selected_colorswatch span").css("background-color",a),$j("#selectedcolorswatch_label").text("None")):($j("#selected_colorswatch span").removeClass("colornone_selected"),$j("#selected_colorswatch span").css("background-color",$a),"none"==$a||"transparent"==$a?($j("#selected_colorswatch span").addClass("colornone_selected"),$j("#selectedcolorswatch_label").text("None")):
$j("#selectedcolorswatch_label").text($a));te!=zb&&("none"==zb||"transparent"==zb?($j("#selected_colorswatch span").css("background-color","transparent"),$j("#selectedcolorswatch_label").text("None")):($j("#selected_colorswatch span").css("background-color",zb),$j("#selectedcolorswatch_label").text(zb)));for(Z=0;Z<S.custom_colors.length;Z++)0==Z?$j(".custom_colorpicker_swatches").append("<a href='#' id='colorswatch' class='colornone_swatch' alt='Pick Color'><span style='background-color:"+S.custom_colors[Z].color+
";'></span></a>"):$j(".custom_colorpicker_swatches").append("<a href='#' id='colorswatch' alt='Pick Color'><span style='background-color:"+S.custom_colors[Z].color+";'></span></a>");$j(".custom_colorpicker_content").mCustomScrollbar({scrollButtons:{enable:!0},theme:"dark-thick"})};$j(".custom_colorpicker_wrapper").position({of:window,my:"center center",at:"center center",collision:"none"});$j(".custom_colorpicker_wrapper").draggable();$j(document).on("click","#colorswatch span",function(a){a.preventDefault();
a.stopPropagation();te=$a=tc($j(this).css("background-color"));$j("#selected_colorswatch span").css("background-color",$a);"transparent"==$a?($j("#selected_colorswatch span").addClass("colornone_selected"),$j("#selectedcolorswatch_label").text("None")):($j("#selected_colorswatch span").removeClass("colornone_selected"),$j("#selectedcolorswatch_label").text($a))});$j(document).on("click","#custom_colorpicker_apply, #custom_colorpicker_cancel, #custom_colorpicker_close",function(a){a.preventDefault();
a.stopPropagation();$j(".custom_colorpicker_swatches").empty();$j(".custom_colorpicker_wrapper, .custom_colorpicker_overlay").hide()});$j(document).on("click","#uploaded2",function(a){$j(".tool_niko_ellipse#tools_background_show").html("Image");a.stopPropagation();$j("#tools_background").hide();$j(".tools_left_container #tools_background").hide()});$j("#group_opacityLabel").click(function(){$j("#opacity_dropdown button").mousedown();$j(window).mouseup()});$j("#zoomLabel").click(function(){$j("#zoom_dropdown button").mousedown();
$j(window).mouseup()});$j("#tool_move_top").mousedown(function(a){$j("#tools_stacking").show();a.preventDefault()});$j(".filters").click(function(){var a=$j(this).attr("id");D.setFilters(a)});$j("#shadow").change(function(){var a=$j(this).val();D.setShadows(a)});$j(".shadow div").click(function(){var a=$j(this).attr("id");D.setShadows(a)});$j(".tool_lock").click(function(){D.lockObject();svgedit.browser.isIE()&&($j(".wrap").css("box-shadow","none"),setTimeout(function(){$j(".wrap").removeAttr("style")},
30));Wb()});$j(".layer_button").mousedown(function(){$j(this).addClass("layer_buttonpressed")}).mouseout(function(){$j(this).removeClass("layer_buttonpressed")}).mouseup(function(){$j(this).removeClass("layer_buttonpressed")});$j(".push_button").mousedown(function(){$j(this).hasClass("disabled")||$j(this).addClass("push_button_pressed").removeClass("push_button")}).mouseout(function(){$j(this).removeClass("push_button_pressed").addClass("push_button")}).mouseup(function(){$j(this).removeClass("push_button_pressed").addClass("push_button")});
$j("#layer_new").click(function(){var a=D.getCurrentDrawing().getNumLayers();do var c=uiStrings.layers.layer+" "+ ++a;while(D.getCurrentDrawing().hasLayer(c));$j.prompt(uiStrings.notification.enterUniqueLayerName,c,function(a){a&&(D.getCurrentDrawing().hasLayer(a)?$j.alert(uiStrings.notification.dupeLayerName):(D.createLayer(a),Wb(),lc()))})});$j("#layer_delete").click(vc);$j("#layer_up").click(function(){Eb(-1)});$j("#layer_down").click(function(){Eb(1)});$j("#layer_rename").click(function(){$j("#layerlist tr.layersel").prevAll();
var a=$j("#layerlist tr.layersel td.layername").text();$j.prompt(uiStrings.notification.enterNewLayerName,"",function(c){c&&(a==c||D.getCurrentDrawing().hasLayer(c)?$j.alert(uiStrings.notification.layerHasThatName):(D.renameCurrentLayer(c),lc()))})});var xd=-1,Jd=!1,Md=!1,Ve=function(a){if(Md&&-1!=xd){Jd=!0;var a=xd-a.pageX,c=$j("#sidepanels"),h=parseInt(c.css("width"));300<h+a?a=300-h:2>h+a&&(a=2-h);0!=a&&(xd-=a,h=$j("#layerpanel"),Ja.css("right",parseInt(Ja.css("right"))+a),c.css("width",parseInt(c.css("width"))+
a),h.css("width",parseInt(h.css("width"))+a),c=$j("#ruler_x"),c.css("right",parseInt(c.css("right"))+a))}};$j("#sidepanel_handle").mousedown(function(a){xd=a.pageX;$j(window).mousemove(Ve);Md=!1;setTimeout(function(){Md=!0},20)}).mouseup(function(){Jd||We();xd=-1;Jd=!1});$j(window).mouseup(function(){xd=-1;Jd=!1;$j("#svg_editor").unbind("mousemove",Ve)});var We=function(a){var c=parseInt($j("#sidepanels").css("width")),a=(2<c||a?2:150)-c,c=$j("#sidepanels"),h=$j("#layerpanel"),l=$j("#ruler_x");Ja.css("right",
parseInt(Ja.css("right"))+a);c.css("width",parseInt(c.css("width"))+a);h.css("width",parseInt(h.css("width"))+a);l.css("right",parseInt(l.css("right"))+a)},yd=function(a){for(var c=Array(D.getCurrentDrawing().getNumLayers()),h=0;h<c.length;++h)c[h]=D.getCurrentDrawing().getLayerName(h);if(a)for(h=0;h<c.length;++h)c[h]!=a&&D.getCurrentDrawing().setLayerOpacity(c[h],0.5);else for(h=0;h<c.length;++h)D.getCurrentDrawing().setLayerOpacity(c[h],1)},lc=function(){var a=$j("#layerlist tbody"),c=$j("#selLayerNames");
a.empty();c.empty();for(var h=D.getCurrentDrawing().getCurrentLayerName(),l=D.getCurrentDrawing().getNumLayers(),f=$j.getSvgIcon("eye");l--;){var n=D.getCurrentDrawing().getLayerName(l),o='<tr class="layer';n==h&&(o+=" layersel");o+='">';o=D.getCurrentDrawing().getLayerVisibility(n)?o+('<td class="layervis"/><td class="layername" >'+n+"</td></tr>"):o+('<td class="layervis layerinvis"/><td class="layername" >'+n+"</td></tr>");a.append(o);c.append('<option value="'+n+'">'+n+"</option>")}void 0!==f&&
(f.clone(),$j("td.layervis",a).append(f.clone()),$j.resizeSvgIcons({"td.layervis .svg_icon":14}));$j("#layerlist td.layername").mouseup(function(a){$j("#layerlist tr.layer").removeClass("layersel");$j(this.parentNode).addClass("layersel");D.setCurrentLayer(this.textContent);a.preventDefault()}).mouseover(function(){$j(this).css({"font-style":"italic",color:"blue"});yd(this.textContent)}).mouseout(function(){$j(this).css({"font-style":"normal",color:"black"});yd()});$j("#layerlist td.layervis").click(function(){var a=
$j(this.parentNode).prevAll().length,a=$j("#layerlist tr.layer:eq("+a+") td.layername").text(),c=$j(this).hasClass("layerinvis");D.setLayerVisibility(a,c);c?$j(this).removeClass("layerinvis"):$j(this).addClass("layerinvis")});for(c=5-$j("#layerlist tr.layer").size();0<c--;)a.append('<tr><td style="color:white">_</td><td/></tr>')};lc();$j(window).bind("load resize",function(){});$j("#resolution").change(function(){var a=$j("#canvas_width,#canvas_height");if(this.selectedIndex)if("content"==this.value)a.val("fit").attr("disabled",
"disabled");else{var c=this.value.split("x");$j("#canvas_width").val(c[0]);$j("#canvas_height").val(c[1]);a.removeAttr("disabled")}else"fit"==$j("#canvas_width").val()&&a.removeAttr("disabled").val(100)});$j("input,select").attr("autocomplete","off");var Xc,Pb=[{sel:"#tool_select",fn:ke,evt:"click",key:["V",!0]},{sel:"#tool_fhpath",fn:function(){$j("#tool_fhpath").hasClass("drawing")?($j(".niko_tool_fhpath .state").addClass("drawing_on"),$j(".niko_tool_fhpath .state").fadeIn(function(){$j(this).show()}),
$j("#tool_fhpath").removeClass("drawing"),$j("#tool_fhpath").removeClass("disabled"),ec("#tool_fhpath")&&(D.setMode("fhpath"),$j("#svgcanvas").addClass("drawing"))):$j(".niko_tool_fhpath .state").hasClass("drawing_on")?($j(".niko_tool_fhpath .state").removeClass("drawing_on"),$j(".niko_tool_fhpath .state").addClass("drawing_off"),$j(".niko_tool_fhpath .state").fadeTo(500,100,function(){$j(this).removeClass("drawing_off")}),$j("#tool_fhpath").addClass("drawing"),D.setMode("select"),$j("#svgcanvas").removeClass("drawing")):
ec("#tool_fhpath")&&(D.setMode("fhpath"),$j("#svgcanvas").addClass("drawing"),$j(".niko_tool_fhpath .state").addClass("drawing_on"));$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");
$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")},evt:"click",key:["Q",!0]},{sel:"#tool_line",fn:function(){$j("#tool_line").removeClass("disabled");ec("#tool_line")&&(D.setMode("line"),$j(".niko_tool_line .line_state").addClass("line_on"));$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");
$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")},evt:"click",key:["L",!0]},{sel:"#tool_rect",fn:function(){$j("#tools_rect_show .image").html("");ec("#tool_rect")&&(D.setMode("rect"),$j("#tools_rect_show .rectangle_state").addClass("rectangle_on"));
$j(".tool_niko_rect").html("Rectangle");$j("#tools_rect_show").removeAttr("class").addClass("flyout_current tool_button_current tool_rect niko_tool_left");$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");
$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")},evt:"mouseup",key:["R",!0],parent:"#tools_rect",icon:"rect"},{sel:"#tool_square",fn:function(){0==$j(".pxniko").length&&($j("#tool_image").hasClass("backend")||$j("#tools_rect_show .image").html('<p class="square_text">Square</p>'));ec("#tool_square")&&(D.setMode("square"),$j("#tools_rect_show .rectangle_state").addClass("square_on"));$j(".tool_niko_rect").html("Square");
$j("#tools_rect_show").removeAttr("class").addClass("flyout_current tool_button_current tool_square niko_tool_left");$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");
$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")},evt:"mouseup",parent:"#tools_rect",icon:"square"},{sel:"#tool_fhrect",fn:function(){0==$j(".pxniko").length&&($j("#tool_image").hasClass("backend")||$j("#tools_rect_show .image").html('<p class="square_hand_text">Free Hand Rectangle</p>'));ec("#tool_fhrect")&&(D.setMode("fhrect"),$j("#tools_rect_show .rectangle_state").addClass("fhrectangle_on"));$j(".tool_niko_rect").html("FreeHand");
$j("#tools_rect_show").removeAttr("class").addClass("flyout_current tool_button_current tool_fhrect niko_tool_left");$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");
$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j(".niko_tool_path .path_state").removeClass("path_on")},evt:"mouseup",parent:"#tools_rect",icon:"fh_rect"},{sel:"#tool_bg",parent:"#tools_back",icon:"rect"},{sel:"#tool_bgimage",parent:"#tools_back",icon:"square"},{sel:"#tool_removebg",fn:function(a){D.clickRemovebg();a.stopPropagation();$j("#tools_background").hide();$j(".tools_left_container #tools_background").hide();zb=$a=null},evt:"click",parent:"#tools_back",icon:"fh_rect"},
{sel:"#tool_ellipse",fn:function(){$j("#tools_ellipse_show .image").html("");ec("#tool_ellipse")&&(D.setMode("ellipse"),$j("#tools_ellipse_show .ellipse_state").addClass("ellipse_on"));$j(".tool_niko_ellipse").html("Ellipse");$j("#tools_ellipse_show").removeAttr("class").addClass("flyout_current tool_button_current tool_ellipse niko_tool_left");$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");
$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")},evt:"mouseup",key:["E",!0],parent:"#tools_ellipse",icon:"ellipse"},{sel:"#tool_circle",fn:function(){0==$j(".pxniko").length&&($j("#tool_image").hasClass("backend")||$j("#tools_ellipse_show .image").html('<p class="ellipse_text">Circle</p>'));
ec("#tool_circle")&&(D.setMode("circle"),$j("#tools_ellipse_show .ellipse_state").addClass("circle_on"));$j(".tool_niko_ellipse").html("Circle");$j("#tools_ellipse_show").removeAttr("class").addClass("flyout_current tool_button_current tool_circle niko_tool_left");$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");
$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")},evt:"mouseup",parent:"#tools_ellipse",icon:"circle"},{sel:"#tool_fhellipse",fn:function(){0==$j(".pxniko").length&&($j("#tool_image").hasClass("backend")||$j("#tools_ellipse_show .image").html('<p class="ellipse_hand_text">Free Hand Ellipse</p>'));
ec("#tool_fhellipse")&&(D.setMode("fhellipse"),$j("#tools_ellipse_show .ellipse_state").addClass("fhellipse_on"));$j(".tool_niko_ellipse").html("FreeHand");$j("#tools_ellipse_show").removeAttr("class").addClass("flyout_current tool_button_current tool_fhellipse niko_tool_left");$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");
$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on");$j(".niko_tool_path .path_state").removeClass("path_on")},evt:"mouseup",parent:"#tools_ellipse",icon:"fh_ellipse"},{sel:"#tool_path",fn:function(){ec("#tool_path")&&(D.setMode("path"),$j(".niko_tool_path .path_state").addClass("path_on"));$j(".niko_tool_fhpath .state").removeClass("drawing_on");$j(".niko_tool_line .line_state").removeClass("line_on");
$j("#tools_ellipse_show .ellipse_state").removeClass("ellipse_on");$j("#tools_ellipse_show .ellipse_state").removeClass("circle_on");$j("#tools_ellipse_show .ellipse_state").removeClass("fhellipse_on");$j("#tools_rect_show .rectangle_state").removeClass("rectangle_on");$j("#tools_rect_show .rectangle_state").removeClass("square_on");$j("#tools_rect_show .rectangle_state").removeClass("fhrectangle_on")},evt:"click",key:["P",!0]},{sel:"#tool_text",fn:zf,evt:"click",key:["T",!0]},{sel:"#tool_image",
fn:function(){ec("#tool_image")&&($j("#tool_image").hasClass("backend")||qd())&&D.setMode("image")},evt:"mouseup"},{sel:"#tool_zoom",fn:function(){ec("#tool_zoom")&&(D.setMode("zoom"),Ja.css("cursor",Ec))},evt:"mouseup",key:["Z",!0]},{sel:"#tool_clear",fn:xc,evt:"mouseup",key:["N",!0]},{sel:"#tool_clearpage",fn:xc,evt:"click"},{sel:"#tool_resetpage",fn:function(){var a=S.dimensions,c=confirm("Do you really want to reset your changes and load the original template design? \nYou will not be able to undo it.");
0<$j(".dol-popup").length?(0<$j("#width_"+$j(".dol-popup").attr("rel")).val()&&$j("#width_"+$j(".dol-popup").attr("rel")).val(),0<$j("#height_"+$j(".dol-popup").attr("rel")).val()&&$j("#height_"+$j(".dol-popup").attr("rel")).val()):($j("#canvas_width").val(),$j("#canvas_height").val());!0==c&&(zoom=D.getZoom(),$j("#svgcontent defs").children(),pd(),D.clear(),uc(zoom),D.setResolution(a[0],a[1]),Yb(!0),lc(),Wb(),Ge(),D.runExtensions("onNewDocument"),a=parseInt($j(".page_tab li.active").attr("rel")),
D.setSvgString($j("#textsvg_"+a).val()),D.addBlueprint($j("#layout_bg_pg1").val(),$j("#layout_fg_pg1").val()),0!=$j(".blueprint").length&&D.addBlueprint($j("#blueprint_bg_"+$j(".dol-popup").attr("rel")).val(),$j("#blueprint_fg_"+$j(".dol-popup").attr("rel")).val()),a=$j("#value").attr("value"),a=a.replace("%",""),svgEditor.zoomChanged(window,"canvas"),Fc({value:a}),a=$j("svg#svgroot"),a.css("display","none").height(),a.css("display",""),select=$j(".layouts li img.selected").attr("rev"),"vuezz"==$j("#dol_type").val()&&
(document.getElementById("svgcontent").setAttribute("name",select),$j(".layouts li img.selected").trigger("click")));if("none"!=$j(".page_show").css("display")){var a=parseInt($j(".page_tab li.active").attr("rel")),c=$j(".page_tab li").length,h=a+1;a==c&&(h=parseInt(h)-2);$j("#page_"+h).trigger("click");$j("#page_"+a).trigger("click")}},evt:"click"},{sel:"#tool_crop",fn:function(){$j(this).attr("isCropRef","true");var a,c,h=Q.getAttribute("xlink:href");Lb("#crop_box #dialog_content").html('<img src="/js/all/editor/images/blank.gif" id="cropimage"></img>');
var l=new Image;a=Q.getAttribute("orig_w");c=Q.getAttribute("orig_h");500>a&&500>c&&(h=h.replace("_sized",""));$j(".tooltipster-base").hide();l.onload=function(){$j("#cropimage").attr("src",h);$j(".jcrop-preview").attr("src",h);$j("#tool_crop").attr("crop","true");makeCrop(h);$j("#updating_box").hide()};l.src=h},evt:"click"},{sel:"#tool_aspect",fn:function(){if($j(this).hasClass("noaspect"))Q.setAttribute("preserveAspectRatio","none"),$j(this).removeClass("noaspect"),$j(this).addClass("aspect"),D.selectOnly([Q],
!0);else{Q.setAttribute("preserveAspectRatio","xMidYMid meet");$j(this).removeClass("aspect");$j(this).addClass("noaspect");var a=Q;ow=D.unitValue(a.getAttribute("orig_w"));oh=D.unitValue(a.getAttribute("orig_h"));"width"==a.getAttribute("slider")?(cur_val=D.unitValue(a.getAttribute("width")),D.applyAspectRatioToImage(ow,oh,cur_val,null)):"height"==a.getAttribute("slider")&&(cur_val=D.unitValue(a.getAttribute("height")),D.applyAspectRatioToImage(ow,oh,null,cur_val));D.selectOnly([a],!0)}},evt:"mousedown"},
{sel:"#text_aspect,#niko_text_aspect",fn:function(){D.setTextAspect(!D.getTextAspect());Wb()},evt:"mousedown"},{sel:"#clipart_aspect",fn:function(){D.setClipartAspect(!D.getClipartAspect());0!=$j(".pxniko").length&&Wb()},evt:"mousedown"},{sel:"#path_fill",fn:function(){void 0==$j(this).attr("checked")?(Q.setAttribute("fill","none"),$j("#niko_path_fill .onoffswitch-switch").css("right","38px"),$j("#niko_path_fill .onoffswitch-inner").removeClass("on"),$j("#niko_path_fill .onoffswitch-inner").parent().addClass("onborder")):
(nofillcolor="none"==D.getColor("fill")?"#fff":D.getColor("fill"),Q.setAttribute("fill",nofillcolor),$j("#niko_path_fill .onoffswitch-switch").css("right","-2px"),$j("#niko_path_fill .onoffswitch-inner").addClass("on"),$j("#niko_path_fill .on").parent().removeClass("onborder"))},evt:"click"},{sel:"#tool_save",fn:function(){hd?Ef():D.save({images:$b.img_save,round_digits:6})},evt:"mouseup",key:["S",!0]},{sel:"#tool_export",fn:function(){if(!Kd.pngsave){var a=uiStrings.notification.loadingImage;od=
window.open("data:text/html;charset=utf-8,<title>"+a+"</title><h1>"+a+"</h1>")}window.canvg?D.rasterExport():$j.getScript("canvg/rgbcolor.js",function(){$j.getScript("canvg/canvg.js",function(){D.rasterExport()})})},evt:"mouseup"},{sel:"#tool_open",fn:function(){D.open()},evt:"mouseup",key:["O",!0]},{sel:"#tool_import",fn:function(){$j("#tool_import input").trigger("click")},evt:"mouseup"},{sel:"#tool_source",fn:Cf,evt:"click",key:["U",!0]},{sel:"#tool_source_cancel,#svg_source_overlay,#tool_docprops_cancel,#tool_prefs_cancel",
fn:Ff,evt:"click",key:["esc",!1,!1],hidekey:!0},{sel:"#tool_source_save",fn:Ef,evt:"click"},{sel:"#tool_docprops_save",fn:function(){var a=$j("#canvas_title").val();oe(a);D.setDocumentTitle(a);var a=$j("#canvas_width"),c=a.val(),h=$j("#canvas_height"),l=h.val();if("fit"!=c&&!svgedit.units.isValidUnit("width",c))return $j.alert(uiStrings.notification.invalidAttrValGiven),a.parent().addClass("error"),!1;a.parent().removeClass("error");if("fit"!=l&&!svgedit.units.isValidUnit("height",l))return $j.alert(uiStrings.notification.invalidAttrValGiven),
h.parent().addClass("error"),!1;h.parent().removeClass("error");if(!D.setResolution(c,l))return $j.alert(uiStrings.notification.noContentToFitTo),!1;$b.img_save=$j("#image_save_opts :checked").val();$j.pref("img_save",$b.img_save);Yb();ud()},evt:"click"},{sel:"#tool_docprops",fn:function(){if(!$d){$d=!0;$j("#image_save_opts input").val([$b.img_save]);var a=D.getResolution();"px"!==S.baseUnit&&(a.w=svgedit.units.convertUnit(a.w)+S.baseUnit,a.h=svgedit.units.convertUnit(a.h)+S.baseUnit);$j("#canvas_width").val(a.w);
$j("#canvas_height").val(a.h);$j("#canvas_title").val(D.getDocumentTitle());$j("#svg_docprops").show()}},evt:"mouseup"},{sel:"#tool_prefs_save",fn:function(){var a=$j("#bg_blocks div.cur_background").css("background-color")||"#FFF";Zc(a,$j("#canvas_bg_url").val());a=$j("#lang_select").val();a!=$b.lang&&ta.putLocale(a);Ue($j("#iconsize").val());S.gridSnapping=$j("#grid_snapping_on")[0].checked;S.snappingStep=$j("#grid_snapping_step").val();S.showRulers=$j("#show_rulers")[0].checked;$j("#rulers").toggle(!1);
$j("#rulers").is(":visible")&&ha();S.baseUnit=$j("#base_unit").val();D.setConfig(S);Yb();yb()},evt:"click"},{sel:"#tool_prefs_option",fn:function(){if(!ae){ae=!0;$j("#main_menu").hide();var a=$j("#bg_blocks div"),c=$j.pref("bkgd_color"),h=$j.pref("bkgd_url");a.each(function(){var a=$j(this),h=a.css("background-color")==c;a.toggleClass("cur_background",h);h&&$j("#canvas_bg_url").removeClass("cur_background")});c||a.eq(0).addClass("cur_background");h&&$j("#canvas_bg_url").val(h);$j("grid_snapping_step").attr("value",
S.snappingStep);!0==S.gridSnapping?$j("#grid_snapping_on").attr("checked","checked"):$j("#grid_snapping_on").removeAttr("checked");$j("#svg_prefs").show()}return!1},evt:"mouseup"},{sel:"#tool_delete,#tool_delete_multi,.tool_delete",fn:kd,evt:"click",key:["del/backspace",!0]},{sel:"#tool_reorient",fn:function(){null!=Q&&Mc.reorient()},evt:"click"},{sel:"#tool_node_link",fn:function(){var a=!$j("#tool_node_link").hasClass("push_button_pressed");a?$j("#tool_node_link").addClass("push_button_pressed").removeClass("tool_button"):
$j("#tool_node_link").removeClass("push_button_pressed").addClass("tool_button");Mc.linkControlPoints(a)},evt:"click"},{sel:"#tool_node_clone",fn:function(){Mc.getNodePoint()&&Mc.clonePathNode()},evt:"click"},{sel:"#tool_node_delete",fn:function(){Mc.getNodePoint()&&Mc.deletePathNode()},evt:"click"},{sel:"#tool_openclose_path",fn:function(){Mc.opencloseSubPath()},evt:"click"},{sel:"#tool_add_subpath",fn:function(){var a=$j("#tool_add_subpath"),c=!a.hasClass("push_button_pressed");c?a.addClass("push_button_pressed").removeClass("tool_button"):
a.removeClass("push_button_pressed").addClass("tool_button");Mc.addSubPath(c)},evt:"click"},{sel:"#tool_move_top",fn:le,evt:"click",key:"ctrl+shift+]"},{sel:"#tool_move_bottom",fn:me,evt:"click",key:"ctrl+shift+["},{sel:"#tool_topath",fn:Af,evt:"click"},{sel:"#tool_totextpath",fn:function(){$j("#middlePath").attr("checked",!1);$j("#outwardfacing").attr("checked",!1);$j("#path_text").dialog("open")},evt:"click"},{sel:"#addtexttopath",fn:function(){"text"!=Q.tagName?(Af(),pathid=Q.getAttribute("id"),
d=Q.getAttribute("d"),Q.setAttribute("fill","none"),Q.setAttribute("fill","none"),Q.setAttribute("visibility","hidden"),Q.setAttribute("textpath","true"),0<$j("#middlePath").length?D.createPathText(D.createTextPath(d),$j("#pathText").val(),pathid,$j("#middlePath")[0].checked,$j("#outwardfacing")[0].checked):D.createPathText(D.createTextPath(d),$j("#pathText").val(),pathid),D.setConfig(S)):D.changePathText($j("#pathText").val());$j("#path_text").dialog("close");D.resizeSelector(Q);$j(".tools_panel_overlay").hide()},
evt:"click"},{sel:"#tool_make_link,#tool_make_link_multi",fn:function(){(null!=Q||ac)&&$j.prompt(uiStrings.notification.enterNewLinkURL,"http://",function(a){a&&D.makeHyperlink(a)})},evt:"click"},{sel:"#tool_undo",fn:Fd,evt:"click",key:["Z",!0]},{sel:"#tool_redo",fn:yc,evt:"click",key:["Y",!0]},{sel:"#tool_clone,#tool_clone_multi",fn:function(){D.cloneSelectedElements(20,20)},evt:"click",key:["D",!0]},{sel:"#tool_group",fn:Hc,evt:"click",key:["G",!0]},{sel:"#tool_ungroup",fn:Hc,evt:"click",key:["shift+G",
!0]},{sel:"#tool_unlink_use",fn:Hc,evt:"click"},{sel:"[id^=tool_align]",fn:function(){var a=this.id.replace("tool_align","").charAt(0);D.alignSelectedElements(a,$j("#align_relative_to").val())},evt:"click"},{sel:"[id^=tool_pos]",fn:function(){var a=this.id.replace("tool_pos","").charAt(0);$j(".panel_header .multiselected_panel").is(":hidden")?D.alignSelectedElements(a,"page"):D.alignSelectedElements(a,Lb("#align_relative_to").val())},evt:"click"},{sel:"#tool_bold",fn:function(){if(!(0==$j(".pxniko").length&&
"none"==$j("#tool_bold").css("background-image")))return S.isMultiline?(D.setFontFormatEvent("clickBold"),D.setBold(!D.getBold())):(D.setBold(!D.getBold()),Wb()),D.getBold()?$j("#tool_bold").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_bold").removeClass("push_button_pressed").addClass("tool_button"),!1},evt:"mousedown"},{sel:"#tool_italic",fn:function(){if(!(0==$j(".pxniko").length&&"none"==$j("#tool_italic").css("background-image")))return S.isMultiline?(D.setFontFormatEvent("clickItalic"),
D.setItalic(!D.getItalic()),D.getItalic()?$j("#tool_italic").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_italic").removeClass("push_button_pressed").addClass("tool_button")):(D.setItalic(!D.getItalic()),Wb()),D.getItalic()?$j("#tool_italic").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_italic").removeClass("push_button_pressed").addClass("tool_button"),!1},evt:"mousedown"},{sel:"#tool_underline",fn:function(){S.isMultiline?(D.setFontFormatEvent("clickItalic"),
D.setUnderline(!D.getUnderline()),D.getUnderline()?$j("#tool_underline").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_underline").removeClass("push_button_pressed").addClass("tool_button")):(D.setUnderline(!D.getUnderline()),Wb());D.getUnderline()?$j("#tool_underline").addClass("push_button_pressed").removeClass("tool_button"):$j("#tool_underline").removeClass("push_button_pressed").addClass("tool_button");return!1},evt:"mousedown"},{sel:"#tool_strike",fn:function(){D.setStrikeThrough();
Wb()},evt:"click"},{sel:"#sidepanel_handle",fn:We,key:["X"]},{sel:"#copy_save_done",fn:Ff,evt:"click"},{sel:".tool_multi",fn:function(){S.isMultiline=!D.getMultiline();var a=Q;D.getZoom();var c=D.getRotationAngle(a),h=$j("#zoom_factor").val();$j("#tool_image").hasClass("backend")&&(h=1);"rect"==$j("#selectorGrip_resize_n").prop("tagName")?($j("#selectorGrip_resize_n").attr("x"),$j("#selectorGrip_resize_e").attr("y"),$j("#selectorGrip_resize_ne").attr("y")):($j("#selectorGrip_resize_n").attr("cx"),
$j("#selectorGrip_resize_e").attr("cy"),$j("#selectorGrip_resize_ne").attr("cy"));var l=$j("#font_size").val()/h;if(!D.getTextAspect()&&(l=D.currentFontSize()/h,isNaN(l)||"Infinity"==l))l=D.getFontSize().toString().replace("pt","")/h;content=Q.textContent;h=$j(a).children();if(0<h.length){for(var f="",n=0;n<h.length;n++)f=f+" "+h[n].textContent;" "===f.charAt(0)&&(f=f.slice(1));content=f}h=Q.getAttribute("x");f=Q.getAttribute("y");font_family=D.getFontFamily();"none"==$j("#fill_color rect").attr("fill")&&
$j("#fill_color rect").attr("fill","null");fillcolor=$j("#fill_color rect").attr("fill");strokecolor=$j("#stroke_color rect").attr("fill");strokewidth=Q.getAttribute("stroke-width");opacity=Q.getAttribute("opacity");opacity=null==opacity||"null"==opacity?1:opacity;filter=Q.getAttribute("filter");transform=Q.getAttribute("transform");bold=D.getBold();italic=D.getItalic();textanchor=Q.getAttribute("text-anchor");aspect=Q.getAttribute("aspect");Q.setAttribute("stroke",strokecolor);D.deleteSelectedElements(a);
S.isMultiline?($j(".multiple").attr("id","text"),$j(".single").removeAttr("id","text"),$j("#text").attr("changed","true"),$j("#text").unbind("keydown",Oc).bind("keydown",Oc),$j("#text").unbind("keypress",Pc).bind("keypress",Pc),$j("#text").unbind("keyup",Qc).bind("keyup",Qc),$j(".multiline").hide(),$j(".multiple").show(),$j(".multiline_text").show(),0!=$j(".pxniko").length&&($j(".multiline_text").show(),$j("#tool_multi_on .iPhoneCheckHandle").css({left:"0px"},"fast"),$j("#tool_multi_on .iPhoneCheckLabelOn span").animate({marginLeft:"0px"},
100),$j("#tool_multi_on .iPhoneCheckLabelOff span").animate({marginRight:"0px"},100),$j("#tool_multi_on .iPhoneCheckLabelOn").css({width:"0px"},2E3))):($j(".single").attr("id","text"),$j(".multiple").removeAttr("id","text"),$j("#text").unbind("keydown",Oc).bind("keydown",Oc),$j("#text").unbind("keypress",Pc).bind("keypress",Pc),$j("#text").unbind("keyup",Qc).bind("keyup",Qc),D.textActions.setInputElem($j("#text")[0]),$j("#text").focus(),$j(".multiline_text").hide());D.setMultiline(S.isMultiline)&&
(zf(),$j("#text").val(content),e=$j.Event("keydown"),e.keyCode=46,e.charCode=46,$j("#text").trigger(e,!0),e=$j.Event("keypress"),e.keyCode=8,e.charCode=8,$j("#text").trigger(e,!0),e=$j.Event("keyup"),e.keyCode=8,e.charCode=8,$j("#text").trigger(e,!0),D.setMode("select"),Q.setAttribute("x",parseInt(h)),Q.setAttribute("y",parseInt(f)),Q.setAttribute("fill",fillcolor),Q.setAttribute("stroke",strokecolor),Q.setAttribute("stroke-width",strokewidth),Q.setAttribute("text-anchor",textanchor),Q.setAttribute("font-size",
Math.round(l)+"pt"),Q.setAttribute("font_size",l+"pt"),Q.setAttribute("opacity",opacity),Q.setAttribute("aspect",aspect),Q.setAttribute("filter",filter),Q.setAttribute("transform",transform),D.setFontFamily(font_family),D.setBold(bold),D.setItalic(italic),setTimeout(function(){D.setOpacity(opacity)},100));h=$j(Q).children();if(0<h.length)for(n=0;n<h.length;n++)h[n].setAttribute("x",$j(Q).attr("x"));D.setRotationAngle(c);D.textInEditMode();Wb()},evt:"mousedown"},{key:"ctrl+left",fn:function(){sc(0,
1)}},{key:"ctrl+right",fn:function(){sc(1,1)}},{key:"ctrl+shift+left",fn:function(){sc(0,5)}},{key:"ctrl+shift+right",fn:function(){sc(1,5)}},{key:"shift+O",fn:Tb},{key:"shift+P",fn:Sb},{key:["ctrl+up",!0],fn:function(){uc(2)}},{key:["ctrl+down",!0],fn:function(){uc(0.5)}},{key:["ctrl+]",!0],fn:function(){ne("Up")}},{key:["ctrl+[",!0],fn:function(){ne("Down")}},{key:["up",!0],fn:function(){rc(0,-1)}},{key:["down",!0],fn:function(){rc(0,1)}},{key:["left",!0],fn:function(){rc(-1,0)}},{key:["right",
!0],fn:function(){rc(1,0)}},{key:"shift+up",fn:function(){rc(0,-10)}},{key:"shift+down",fn:function(){rc(0,10)}},{key:"shift+left",fn:function(){rc(-10,0)}},{key:"shift+right",fn:function(){rc(10,0)}},{key:["alt+up",!0],fn:function(){D.cloneSelectedElements(0,-1)}},{key:["alt+down",!0],fn:function(){D.cloneSelectedElements(0,1)}},{key:["alt+left",!0],fn:function(){D.cloneSelectedElements(-1,0)}},{key:["alt+right",!0],fn:function(){D.cloneSelectedElements(1,0)}},{key:["alt+shift+up",!0],fn:function(){D.cloneSelectedElements(0,
-10)}},{key:["alt+shift+down",!0],fn:function(){D.cloneSelectedElements(0,10)}},{key:["alt+shift+left",!0],fn:function(){D.cloneSelectedElements(-10,0)}},{sel:"[id^=tool_format_justify]",fn:function(){var a=this.id.replace("tool_format_justify","").substring(1);D.formatJustifyText(a)},evt:"click"},{sel:"[id=justify]",fn:function(){D.justify()},evt:"click"},{key:["alt+shift+right",!0],fn:function(){D.cloneSelectedElements(10,0)}},{key:"A",fn:function(){D.selectAllInCurrentLayer()}},{key:"G",fn:function(){D.groupSelectedElements()}},
{sel:"#personalize",fn:function(){cur_page=$j(".pages.active").attr("rel");svg_data=D.getSvgString();$j("#textsvg_"+cur_page).val(svg_data.replace(RegExp(">[\n\t ]+<","g"),"><"));$j("#personalize_box_container").html("");for(k=1;k<=S.noofpages;k++)D.textFromXML(k);0<$j(".personalizegroup").length?($j("#personalize_box").dialog("open"),Lb(".dopersonalize").focus(),$j("#personalize").show(),$j(".personalize_hr").show(),768>=window.innerWidth&&S.mobileActivate&&$j("#personalize_box").mCustomScrollbar("update")):
($j("#personalize_box_container").html("There are no text elements to personalize"),"true"==$j("#personalize").attr("texted")&&$j("#personalize_box").dialog("open"))},evt:"click"},{key:"ctrl+z",fn:Fd},{key:"ctrl+shift+z",fn:yc},{key:"ctrl+y",fn:yc},{key:"ctrl++",fn:function(){Gc("+")}},{key:"ctrl+-",fn:function(){Gc("-")}},{sel:"#tool_cut",key:"ctrl+x",fn:Qe},{sel:"#tool_copy",key:"ctrl+c",fn:Re},{sel:"#tool_paste",key:["v",!0],fn:function(){Te(!0)}}],Hf={"4/Shift+4":"#tools_rect_show","5/Shift+5":"#tools_ellipse_show"};
Xc={setAll:function(){var a={};$j.each(Pb,function(c,h){if(h.sel){var l=$j(h.sel);if(0==l.length)return!0;h.evt&&l.live(h.evt,h.fn);if(h.parent&&0!=$j(h.parent+"_show").length){var f=$j(h.parent);f.length||(f=mf(h.parent.substr(1)));f.append(l);$j.isArray(a[h.parent])||(a[h.parent]=[]);a[h.parent].push(h)}}if(h.key){var n=h.fn,o=!1;$j.isArray(h.key)?(l=h.key[0],1<h.key.length&&(o=h.key[1])):l=h.key;$j.each((l+"").split("/"),function(a,c){$j(document).bind("keydown",c,function(a){if(a.target.nodeName!=
"INPUT")if(Q!=null&&!ac){if(Q.getAttribute("lock")=="false"||Q.getAttribute("lock")=="null"||Q.getAttribute("lock")==null){n();o&&a.preventDefault();return false}}else if(ac){n();o&&a.preventDefault();return false}})})}});lf(a);$j(".attr_changer, #image_url").bind("keydown","return",function(a){$j(this).change();a.preventDefault()});$j(document).on("keydown",".spin-button","return",function(a){a.preventDefault()});$j(window).bind("keydown","tab",function(a){"canvas"===Fe&&(a.preventDefault(),Sb())}).bind("keydown",
"shift+tab",function(a){"canvas"===Fe&&(a.preventDefault(),Tb())});$j("#tool_zoom").dblclick(Of)},setTitles:function(){$j.each(Hf,function(a,c){var h=$j(c).parents("#main_menu").length;$j(c).each(function(){var c=h?$j(this).text().split(" [")[0]:this.title.split(" [")[0],l="";$j.each(a.split("/"),function(a,c){var h=c.split("+"),f="";1<h.length&&(f=h[0]+"+",c=h[1]);l+=(a?"/":"")+f+(uiStrings["key_"+c]||c)});h?this.lastChild.textContent=c+" ["+l+"]":this.title=c+" ["+l+"]"})})},getButtonData:function(a){var c;
$j.each(Pb,function(h,l){l.sel===a&&(c=l)});return c}};Xc.setAll();ta.ready(function(){var a=S.initTool,c=$j("#tools_left, #svg_editor .tools_flyout"),h=c.find("#tool_"+a),a=c.find("#"+a);(h.length?h:a.length?a:$j("#tool_select")).click().mouseup();S.wireframe&&$j("#tool_wireframe").click();S.showlayers&&We();$j("#rulers").toggle(!!S.showRulers);S.showRulers&&($j("#show_rulers")[0].checked=!0);S.fullWidth&&$j("#tool_fullwidth")[0].click();S.gridSnapping&&($j("#grid_snapping_on")[0].checked=!0);S.baseUnit&&
($j("#base_unit").val(S.baseUnit),!$j("#tool_image").hasClass("backend")&&0<$j(".uoptions input").length&&($j(".uoptions input[value="+S.baseUnit+"]")[0].checked=!0));S.snappingStep&&$j("#grid_snapping_step").val(S.snappingStep);S.imageSlider&&($j("#vtab").show(),$j("#tool_image").attr("rel","true"),$j("#vtab").css("height","172"))});$j("#rect_rx").SpinButton({min:0,max:1E4,step:1,callback:He});$j("#stroke_width").SpinButton({min:0,max:99,step:0.1,smallStep:0.1,callback:function(a){var c=a.value;
0==c&&(Q&&0<=["line","polyline"].indexOf(Q.nodeName))&&(c=a.value=1);D.setStrokeWidth(c)}});$j("#angle").SpinButton({min:-180,max:180,step:5,callback:sf});$j("#rotate_angle").SpinButton({min:-180,max:180,step:1,callback:sf});$j("#font_size").SpinButton({step:1,min:1,max:9999,stepfunc:function(a,c){var h=a.value-0,l=h+c;S.fontS=h;var f=l>=h;return 0===c?h:24<=h?f?Math.round(1.1*h):Math.round(h/1.1):1>=h?f?2*h:h/2:l},callback:rf});$j("#line_spacing").SpinButton({step:1,min:0,max:100,callback:function(a){a.value!=
Q.getAttribute("line-spacing")&&(D.setLineSpacing(a.value),$j("#line_spacing_slider").slider("value",a.value))}});$j("#group_opacity").SpinButton({step:5,min:0,max:100,callback:Ie});$j("#blur").SpinButton({step:0.1,min:0,max:10,callback:de});$j("#blur_text").SpinButton({step:0.1,min:0,max:10,callback:de});$j("#zoom").SpinButton({min:0.0010,max:1E4,step:50,stepfunc:function(a,c){var h=a.value-0;if(0===h)return 100;var l=h+c;return 0===c?h:100<=h?l:l>=h?2*h:h/2},callback:Fc});$j("#bg_opacity").SpinButton({step:5,
min:0,max:100,callback:Je}).val(100*D.getZoom());$j("#font_size").attr({maxLength:4});$j("#font_size, #angle, #line_spacing, #blur_text, #group_opacity, #rect_rx, #bg_opacity, #zoom, #ellipse_cx, #ellipse_cy, #ellipse_rx, #ellipse_ry").keypress(function(a){if(8!=a.which&&0!=a.which&&(48>a.which||57<a.which))return!1});$j("#rotate_angle, #blur, #stroke_width, #selected_x, #selected_y").keypress(function(a){if(8!=a.which&&0!=a.which&&(46>a.which||57<a.which))return!1});$j(".attr_changer").SpinButton({min:0,
max:15E3,step:1,callback:Kb});$j(".attr_changer1").SpinButton({min:-1E3,max:15E3,step:1,callback:Kb});$j("#workarea").contextMenu({menu:"cmenu_canvas",inSpeed:0},function(a){switch(a){case "delete":kd();break;case "cut":Qe();break;case "copy":Re();break;case "paste":D.pasteElements();break;case "paste_in_place":D.pasteElements("in_place");break;case "group":D.groupSelectedElements();break;case "ungroup":D.ungroupSelectedElement();break;case "move_front":le();break;case "move_up":ne("Up");break;case "move_down":ne("Down");
break;case "move_back":me();break;default:svgedit.contextmenu&&svgedit.contextmenu.hasCustomHandler(a)&&svgedit.contextmenu.getCustomHandler(a).call()}D.clipBoard.length&&(ef.enableContextMenuItems("#paste,#paste_in_place"),$j("#tool_paste").removeClass("disable"))});var Gf=function(a){switch(a){case "dupe":a=D.getCurrentDrawing().getCurrentLayerName()+" copy";$j.prompt(uiStrings.notification.enterUniqueLayerName,a,function(a){a&&(D.getCurrentDrawing().hasLayer(a)?$j.alert(uiStrings.notification.dupeLayerName):
(D.cloneLayer(a),Wb(),lc()))});break;case "delete":vc();break;case "merge_down":$j("#layerlist tr.layersel").index()!=D.getCurrentDrawing().getNumLayers()-1&&(D.mergeLayer(),Wb(),lc());break;case "merge_all":D.mergeAllLayers(),Wb(),lc()}};$j("#layerlist").contextMenu({menu:"cmenu_layers",inSpeed:0},Gf);$j("#layer_moreopts").contextMenu({menu:"cmenu_layers",inSpeed:0,allowLeft:!0},Gf);$j(".contextMenu li").mousedown(function(a){a.preventDefault()});$j("#cmenu_canvas li").disableContextMenu();ef.enableContextMenuItems("#delete,#cut,#copy");
$j("#tool_cut").removeClass("disable");$j("#tool_copy").removeClass("disable");$j("#tool_delete").removeClass("disable");window.onbeforeunload=function(){0===nd.getUndoStackSize()&&(Yd=!1);if(Yd)return uiStrings.notification.unsavedChanges};ta.openPrep=function(){$j("#main_menu").hide()};if(window.FileReader){var Xe=$j('<input type="file">').change(function(){var a=this;ta.openPrep(function(c){c&&(D.clear(),1==a.files.length&&(c=new FileReader,c.onloadend=function(a){Zb(a.target.result);Yb()},c.readAsText(a.files[0])))})});
$j("#tool_open").show().prepend(Xe);var gc=$j('<input type="file">').change(function(){$j("#main_menu").hide();if(1==this.files.length){var a=new FileReader;$j("#updating_box").show();a.onloadend=function(a){D.importSvgString(a.target.result,!0)&&$j("#updating_box").hide();Yb()};a.readAsText(this.files[0])}});$j("#tool_import").show().prepend(gc)}ta.orientRotateCal=function(a){childr=$j("#svgcontent defs").next().children();transXY=(D.contentW-D.contentH)/2;for(Z=0;Z<childr.length;Z++)if("true"==
a.attr("rel")){var c=D.getRotationAngle(childr[Z]);null!=childr[Z].getAttribute("transform")&&void 0!=childr[Z].getAttribute("transform").split("rotate(")[1]&&(rotateX=parseFloat(childr[Z].getAttribute("transform").split("rotate(")[1].split(")")[0].split(",")[1]),rotateY=parseFloat(childr[Z].getAttribute("transform").split("rotate(")[1].split(")")[0].split(",")[2]));$childTrans=$j(childr[Z]).attr("transform");180<c&&($childTrans=$j(childr[Z]).attr("transform").split(") ")[1],c-=360,null!=$childTrans||
void 0!=$childTrans?$j(childr[Z]).attr("transform","rotate("+c+","+rotateX+","+rotateY+") "+$childTrans):$j(childr[Z]).attr("transform","rotate("+c+","+rotateX+","+rotateY+")"))}else if(c=D.getRotationAngle(childr[Z]),null!=childr[Z].getAttribute("transform")&&void 0!=childr[Z].getAttribute("transform").split("rotate(")[1]&&(rotateX=parseFloat(childr[Z].getAttribute("transform").split("rotate(")[1].split(")")[0].split(",")[1]),rotateY=parseFloat(childr[Z].getAttribute("transform").split("rotate(")[1].split(")")[0].split(",")[2])),
$childTrans=$j(childr[Z]).attr("transform"),null!=$childTrans&&-180>c)$childTrans=$j(childr[Z]).attr("transform").split(") ")[1],c+=360,null!=$childTrans||void 0!=$childTrans?$j(childr[Z]).attr("transform","rotate("+c+","+rotateX+","+rotateY+") "+$childTrans):$j(childr[Z]).attr("transform","rotate("+c+","+rotateX+","+rotateY+")")};var Rf=ta.changeSettings=function(a){S.noofpages=a.pages.length;var c=$j(".pages.active").attr("rel"),h=[];$j(".page_tab ul").empty();$j("#workarea").attr("changed","true");
$j("#layouts_data").empty();$j("#layout_fg_pg1").val("");$j("#layout_bg_pg1").val("");$j("#blueprint_fg_1").val("");$j("#blueprint_bg_1").val("");$j("#blueprint_mg_1").val("");var l=[];for(Z=1;Z<=a.pages.length;Z++)l.push(a.pages[Z-1].pagename),h.push({width:a.pages[Z-1].width,height:a.pages[Z-1].height}),0==$j("#blueprint_bg_"+Z).length&&$j("#pages_data").append("<input type='text' id='blueprint_bg_"+Z+"' name='blueprint_bg_"+Z+"'></input>"),0==$j("#blueprint_fg_"+Z).length&&$j("#pages_data").append("<input type='text' id='blueprint_fg_"+
Z+"' name='blueprint_fg_"+Z+"'></input>"),0==$j("#blueprint_mg_"+Z).length&&$j("#pages_data").append("<input type='text' id='blueprint_mg_"+Z+"' name='blueprint_mg_"+Z+"'></input>"),$j("#blueprint_bg_"+Z).val(a.pages[Z-1].layout_back),$j("#blueprint_fg_"+Z).val(a.pages[Z-1].layout_front),$j("#blueprint_mg_"+Z).val(a.pages[Z-1].layout_margin),1==Z&&($j("#layout_bg_pg"+Z).val(a.pages[Z-1].layout_back),$j("#layout_fg_pg"+Z).val(a.pages[Z-1].layout_front),$j("#layout_mg_pg"+Z).val(a.pages[Z-1].layout_margin)),
D.addBlueprint($j("#layout_bg_pg1").val(),$j("#layout_fg_pg1").val()),D.addMargins($j("#blueprint_mg_1").val());S.noofpages=a.pages.length;S.page_labels=l;ja(null,c);for(Z=1;Z<=h.length;Z++)$j("#textsvg_"+Z).attr("def-width",h[Z-1].width),$j("#textsvg_"+Z).attr("def-height",h[Z-1].height);initializeTab();$j("#zoom_factor").val(a.zoom);D.setResolution(a.pages[c-1].width,a.pages[c-1].height);Yb(!0);"user"==S.zoomDefine?svgEditor.zoomChanged(window,"user",!0):svgEditor.zoomChanged(window,"canvas")},
Ic=ta.orientCanvas=function(){if(svgcontent.getAttribute("viewBox"))var a=svgcontent.getAttribute("viewBox").split(" "),c=a[2],a=a[3];D.setResolution(a,c);Yb(!0);svgEditor.zoomChanged(window,"canvas");768>=window.innerWidth&&svgEditor.curConfig.mobileActivate&&($j(".tools_left_container.tools_left").css("margin-top",$j("#svgcontent").attr("height")-600),margin_top=$j(".tools_left_container").css("margin-top"),margin_top=margin_top.replace("px",""),floating_div_height=-1*parseInt(margin_top)-75,0>
floating_div_height&&(floating_div_height=0),isNaN(floating_div_height)?$j(".floating_div_mobile").css("height",0):$j(".floating_div_mobile").css("height",floating_div_height));outerElements=D.getIntersectionList({x:0,y:0,width:parseInt(a),height:parseInt(c)},!0);0<outerElements.length&&(D.addToSelection(outerElements),D.alignSelectedElements("t","page"),D.alignSelectedElements("l","page"),D.clearSelection())};ta.repaintCanvas=function(){if(svgcontent.getAttribute("viewBox"))var a=svgcontent.getAttribute("viewBox").split(" "),
c=a[2],a=a[3];D.setResolution(c,a);Yb(!0);svgEditor.zoomChanged(window,"canvas");768>=window.innerWidth&&svgEditor.curConfig.mobileActivate&&$j(".tools_left_container.tools_left").css("margin-top",$j("#svgcontent").attr("height")-600)};$j("#tool_orientCanvas").click(function(){D.clearSelection();$j(this).toggleClass("noorient");"true"!=$j("#svgcontent").attr("rotate")?$j("#svgcontent").attr("rotate","true"):$j("#svgcontent").removeAttr("rotate");Ic()});var xb=function(){var a=$j(".color .swatch.selected").attr("data-color-key"),
c=$j(".color .swatch.selected").attr("data-color-value");$j("input[id="+a+"]").val(c);a=$j(".size .dsize.selected").attr("data-size-key");c=$j(".size .dsize.selected").attr("data-size-value");$j("input[id="+a+"]").val(c);cart_data=$j("#product_addtocart_form").find("input[name!=svg_data]").serialize();cart_data=decodeURIComponent(cart_data);$j.ajax({url:"/dol/index/getSelectedProductData",data:cart_data,dataType:"json",method:"POST",success:function(a){Rf(a)}})};$j(".color .swatch").click(function(){$j(".color .swatch").removeClass("selected");
$j(this).addClass("selected");xb()});$j(".size .dsize").click(function(){$j(".size .dsize").removeClass("selected");$j(this).addClass("selected");xb()});$j(".color .color_close").click(function(){$j(".color").hide()});$j(".pick_color").click(function(){$j(".color").show()});$j(".minimizeoptions").click(function(){"text"===Q.tagName?"text"===$j(".tools_panel").attr("rel")?($j(".tools_panel").attr("rel",""),$j(".minimizeoptions").removeClass("down"),$j(".minimizeoptions").addClass("up")):($j(".tools_panel").attr("rel",
"text"),$j(".minimizeoptions").removeClass("up"),$j(".minimizeoptions").addClass("down")):("image"===$j(".tools_panel").attr("ref")?($j(".tools_panel").attr("ref",""),$j(".minimizeoptions").removeClass("down"),$j(".minimizeoptions").addClass("up")):($j(".tools_panel").attr("ref","image"),$j(".minimizeoptions").removeClass("up"),$j(".minimizeoptions").addClass("down")),$j(".text_panel.minimal").show());$j(".minimal").toggle("hide show")});for(var Qf=ta.updateOrientCanvas=function(){var a=Ja.width(),
c=Ja.height(),h=a,a=c,l=D.getZoom(),f=$j("#svgcanvas");1!=l?(a=Math.max(a,D.contentH*l),c=Math.max(h,D.contentW*l)):(c=Math.max(h,D.contentW*l),a=Math.max(a,D.contentH*l));f.height();f.width();D.updateCanvas(a,c,!0);$j("#rulers").is(":visible")&&(ha(f,l),Ja.scroll());container=$j(".page.container")[0]?$j(".page.container"):$j(".main-container");s_width=container.hasClass("fullwidth")?$j(window).width()-450:950;$j("#svgcontent").attr("width")>s_width||$j("#svgcontent").attr("height")>0.75*s_width?
Ja.css("overflow","scroll"):Ja.css("overflow","hidden");$j("#canvasGrid").attr("x",$j("#canvasBleed").attr("x"));$j("#canvasGrid").attr("y",$j("#canvasBleed").attr("y"));$j("#canvasGrid").attr("width",$j("#canvasBleed").attr("width"));$j("#canvasGrid").attr("height",$j("#canvasBleed").attr("height"));c=$j("svg#svgroot");c.css("display","none").height();c.css("display","")},Yb=ta.updateCanvas=function(a,c,h){h&&Qf();var l=Ja.width(),f=Ja.height(),n=l,o=f,h=D.getZoom(),q=$j("#svgcanvas"),p=Ja[0].scrollLeft+
n/2,u=Ja[0].scrollTop+o/2,f=S.canvas_expansion;1!=h?(l=Math.max(n,D.contentW*h),f="vuezz"!=$j("#dol_type").val()?Math.max(o,D.contentH*h):Math.max(o,D.contentH*h*f)):(l=Math.max(n,D.contentW*h),f=Math.max(o,D.contentH*h));var s=q.height()/2,z=q.width()/2;"vuezz"!=$j("#dol_type").val()?q.width(l).height(f):q.width(1600*h).height(1600*h);var w=f/2,B=l/2,A=D.updateCanvas(l,f),C=B/z,F=l/2-n/2,J=f/2-o/2;c?(c.x+=A.x,c.y+=A.y):c={x:B+(p-z)*C,y:w+(u-s)*C};a?D.contentW>Ja.width()?(Ja[0].scrollLeft=A.x-10,
Ja[0].scrollTop=A.y-10):(Ja[0].scrollLeft=F,Ja[0].scrollTop=J):(Ja[0].scrollLeft=c.x-n/2,Ja[0].scrollTop=c.y-o/2);$j("#rulers").is(":visible")&&(ha(q,h),Ja.scroll());0!=$j(".pxhotice").length?690<$j("#svgcontent").attr("width")||690<$j("#svgcontent").attr("height")?Ja.css("overflow","scroll"):Ja.css("overflow","hidden"):(container=$j(".page.container")[0]?$j(".page.container"):$j(".main-container"),s_width=container.hasClass("fullwidth")?$j(window).width()-450:806,$j("#svgcontent").attr("width")>
s_width||$j("#svgcontent").attr("height")>0.75*s_width?Ja.css("overflow","scroll"):Ja.css("overflow","hidden"));$j("#tool_image").hasClass("backend")&&(l<=n&&f<=o?Ja.css("overflow","hidden"):Ja.css("overflow","scroll"));"vuezz"!=$j("#dol_type").val()?($j("#svgcontent").attr("width")<$j("#workarea").outerWidth()?$j("#svgroot").attr("width",$j("#workarea").outerWidth()):$j("#svgroot").attr("width",$j("#svgcontent").attr("width")+30),540<$j("#svgcontent").attr("height")?$j("#svgroot").attr("height",
$j("#svgcontent").attr("height")+10*h):$j("#svgroot").attr("height",550),$j("#svgroot").attr("width")<$j("#svgcanvas").width()-30?($j("#svgcanvas").width(),$j("#svgroot").attr("width")):$j("#svgcanvas").css("margin-left",0)):($j("#svgroot").attr("width",$j("#svgcontent").attr("width")),$j("#svgroot").attr("height",$j("#svgcontent").attr("height")));void 0==S.bleed&&(S.bleed=0);0<$j(".dol-popup").length&&(S.bleed=$j("#bleed_margin_"+$j(".dol-popup").attr("rel")).val());"true"!=$j("#svgcontent").attr("rotate")?
($j("#Blueprint").attr("width",$j("#svgcontent").attr("width")),$j("#Blueprint").attr("height",$j("#svgcontent").attr("height")),$j("#Blueprint image").attr("width",$j("#svgcontent").attr("width")),$j("#Blueprint image").attr("height",$j("#svgcontent").attr("height")),$j("#Blueprint image").attr("transform","rotate(0,"+$j("#svgcontent").attr("height")/2+","+$j("#svgcontent").attr("height")/2+")")):($j("#Blueprint").attr("height",$j("#svgcontent").attr("height")),$j("#Blueprint").attr("width",$j("#svgcontent").attr("width")),
$j("#Blueprint image").attr("height",$j("#svgcontent").attr("width")),$j("#Blueprint image").attr("width",$j("#svgcontent").attr("height")),$j("#Blueprint image").attr("transform","rotate(90,"+$j("#svgcontent").attr("width")/2+","+$j("#svgcontent").attr("width")/2+")"));"vuezz"!=$j("#dol_type").val()?($j("#Blueprint").attr("x",parseFloat($j("#svgcontent").attr("x"))),$j("#Blueprint").attr("y",parseFloat($j("#svgcontent").attr("y")))):($j("#Blueprint").attr("x",S.bleed),$j("#Blueprint").attr("y",S.bleed));
"true"!=$j("#svgcontent").attr("rotate")?($j("#fore").attr("width",parseFloat($j("#svgcontent").attr("width"))),$j("#fore").attr("height",parseFloat($j("#svgcontent").attr("height"))),$j("#fore image").attr("width",parseFloat($j("#svgcontent").attr("width"))),$j("#fore image").attr("height",parseFloat($j("#svgcontent").attr("height"))),$j("#fore image").attr("transform","rotate(0,"+$j("#svgcontent").attr("height")/2+","+$j("#svgcontent").attr("height")/2+")")):($j("#fore").attr("height",parseFloat($j("#svgcontent").attr("height"))),
$j("#fore").attr("width",parseFloat($j("#svgcontent").attr("width"))),$j("#fore image").attr("height",parseFloat($j("#svgcontent").attr("width"))),$j("#fore image").attr("width",parseFloat($j("#svgcontent").attr("height"))),$j("#fore image").attr("transform","rotate(90,"+$j("#svgcontent").attr("width")/2+","+$j("#svgcontent").attr("width")/2+")"));"vuezz"!=$j("#dol_type").val()?($j("#fore").attr("x",parseFloat($j("#svgcontent").attr("x"))),$j("#fore").attr("y",parseFloat($j("#svgcontent").attr("y")))):
($j("#fore").attr("x",S.bleed),$j("#fore").attr("y",S.bleed));$j("#margins").attr("width",parseFloat($j("#svgcontent").attr("width")));$j("#margins").attr("height",parseFloat($j("#svgcontent").attr("height")));$j("#margins image").attr("width",parseFloat($j("#svgcontent").attr("width")));$j("#margins image").attr("height",parseFloat($j("#svgcontent").attr("height")));"vuezz"!=$j("#dol_type").val()?($j("#margins").attr("x",parseFloat($j("#svgcontent").attr("x"))),$j("#margins").attr("y",parseFloat($j("#svgcontent").attr("y")))):
($j("#margins").attr("x",S.bleed),$j("#margins").attr("y",S.bleed));"vuezz"!=$j("#dol_type").val()&&(void 0==S.bleed&&(S.bleed=0),$j("#canvasBleed").attr("x",$j("#svgcontent").attr("x")+S.bleed*h),$j("#canvasBleed").attr("y",$j("#svgcontent").attr("y")+S.bleed*h),$j("#canvasGrid").attr("x",$j("#svgcontent").attr("x")+S.bleed*h),$j("#canvasGrid").attr("y",$j("#svgcontent").attr("y")+S.bleed*h),$j("#canvasBleed1").attr("x",$j("#svgcontent").attr("x")+S.safeMargin.bleed*h),$j("#canvasBleed1").attr("y",
$j("#svgcontent").attr("y")+S.safeMargin.bleed*h));$j("#canvasBleed").attr("width",$j("#svgcontent").attr("width")-2*S.bleed*h);$j("#canvasBleed").attr("height",$j("#svgcontent").attr("height")-2*S.bleed*h);$j("#canvasGrid").attr("width",$j("#svgcontent").attr("width")-2*S.bleed*h);$j("#canvasGrid").attr("height",$j("#svgcontent").attr("height")-2*S.bleed*h);$j("#canvasBleed1").attr("width",$j("#svgcontent").attr("width")-2*S.safeMargin.bleed*h);$j("#canvasBleed1").attr("height",$j("#svgcontent").attr("height")-
2*S.safeMargin.bleed*h);0<$j(".dol-popup").length&&0<$j("#bleed_margin_"+$j(".dol-popup").attr("rel")).length&&($j("#canvasBleed").attr("x",parseFloat($j("#svgcontent").attr("x")+$j("#bleed_margin_"+$j(".dol-popup").attr("rel")).val()*h)),$j("#canvasBleed").attr("y",$j("#svgcontent").attr("y")+$j("#bleed_margin_"+$j(".dol-popup").attr("rel")).val()*h),$j("#canvasBleed").attr("width",$j("#svgcontent").attr("width")-2*$j("#bleed_margin_"+$j(".dol-popup").attr("rel")).val()*h),$j("#canvasBleed").attr("height",
$j("#svgcontent").attr("height")-2*$j("#bleed_margin_"+$j(".dol-popup").attr("rel")).val()*h),$j("#canvasBleed1").attr("x",parseFloat($j("#svgcontent").attr("x")+$j("#safe_margin_"+$j(".dol-popup").attr("rel")).val()*h)),$j("#canvasBleed1").attr("y",$j("#svgcontent").attr("y")+$j("#safe_margin_"+$j(".dol-popup").attr("rel")).val()*h),$j("#canvasBleed1").attr("width",$j("#svgcontent").attr("width")-2*$j("#safe_margin_"+$j(".dol-popup").attr("rel")).val()*h),$j("#canvasBleed1").attr("height",$j("#svgcontent").attr("height")-
2*$j("#safe_margin_"+$j(".dol-popup").attr("rel")).val()*h),0>$j("#safe_margin_"+$j(".dol-popup").attr("rel")).val()&&$j("#canvasBleed1").attr("style","display:none"));$j("#colorRect").attr("width",$j("#svgcontent").attr("width")/h);$j("#colorRect").attr("height",$j("#svgcontent").attr("height")/h);0==S.bleed?$j("#canvasBleed").attr("style","display:none"):$j("#canvasBleed").attr("style","display:block");0>=S.safeMargin.bleed?$j("#canvasBleed1").attr("style","display:none"):$j("#canvasBleed1").attr("style",
"display:block");a=parseInt($j(".workarea").css("width"));$j("#svgcontent").attr("width")<a&&(a=(a-$j("#svgcontent").attr("width"))/2,"vuezz"==$j("#dol_type").val()&&$j("#svgcanvas").css("margin-left",a));$j("#svgcontent").attr("height")>$j(".workarea").attr("width")&&(a=($j("#workarea")[0].scrollHeight-$j("#workarea").height())/2,"vuezz"==$j("#dol_type").val()&&$j("#workarea").scrollTop(a));$j("#svgcontent").attr("width")>$j(".workarea").attr("width")&&(a=($j("#workarea")[0].scrollWidth-$j("#workarea").width())/
2,"vuezz"==$j("#dol_type").val()&&$j("#workarea").scrollLeft(a));"vuezz"!=$j("#dol_type").val()&&($j("#workarea").scrollTop(0),$j("#workarea").scrollLeft(0));S.zoomScrollToBottom&&$j("#workarea").scrollTop($j("#svgcontent").attr("height"));a=$j("svg#svgroot");a.css("display","none").height();a.css("display","")},Ye=[],Z=0.1;1E5>Z;Z*=10)Ye.push(1*Z),Ye.push(2*Z),Ye.push(5*Z);Yb(!0);try{var Yf=function(a){if(window.JSON&&window.JSON.stringify)return window.JSON.stringify(a);var c=arguments.callee;if("boolean"==
typeof a||"number"==typeof a)return a+"";if("string"==typeof a)return'"'+a.replace(/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"';if(a.length){for(var h=0;h<a.length;h++)a[h]=c(a[h]);return"["+a.join(",")+"]"}var h=[],l;for(l in a)h.push(c(l)+":"+c(a[l]));return"{"+h.join(",")+"}"};window.addEventListener("message",function(a){var c=parseInt(a.data.substr(0,
a.data.indexOf(";")));try{a.source.postMessage("SVGe"+c+";"+Yf(eval(a.data)),"*")}catch(h){a.source.postMessage("SVGe"+c+";error:"+h.message,"*")}},!1)}catch(Zf){window.embed_error=Zf}$j(function(){window.svgCanvas=D;D.ready=svgEditor.ready});ta.setLang=function(a,c){$j.pref("lang",a);$j("#lang_select").val(a);if(c){var h=$j("#layerlist tr.layersel td.layername").text()==uiStrings.common.layer+" 1";$j.extend(uiStrings,c);D.setUiStrings(c);Xc.setTitles();h&&(D.renameCurrentLayer(uiStrings.common.layer+
" 1"),lc());D.runExtensions("langChanged",a);$j.each({"#stroke_color":"#tool_stroke .icon_label, #tool_stroke .color_block","#fill_color":"#tool_fill label, #tool_fill .color_block","#linejoin_miter":"#cur_linejoin","#linecap_butt":"#cur_linecap"},function(a,c){$j(c).attr("title",$j(a)[0].title)});$j(".multiselected_panel div[id^=tool_align]").each(function(){$j("#tool_pos"+this.id.substr(10))[0].title=this.title})}}};var vc=[];ta.ready=function(a){P?a():vc.push(a)};ta.runCallbacks=function(){$j.each(vc,
function(){this()});P=!0};ta.loadFromString=function(a){ta.ready(function(){Zb(a)})};ta.disableUI=function(){};ta.loadFromURL=function(a,c){c||(c={});var h=c.cache,l=c.callback;ta.ready(function(){$j.ajax({url:a,dataType:"text",cache:!!h,success:function(a){Zb(a,l)},error:function(a,c,h){404!=a.status&&a.responseText?Zb(a.responseText,l):$j.alert(uiStrings.notification.URLloadFail+": \n"+h+"",l)}})})};ta.loadFromDataURI=function(a){ta.ready(function(){var c=a.substring(26);Zb(svgedit.utilities.decode64(c))})};
ta.addExtension=function(){var a=arguments;$j(function(){D&&D.addExtension.apply(this,a)})};ta.fontCharacteristics=function(a){for(var c=$j("#fontdropdown").children(),h,l=0;l<c.length;l++)if(listItem=c[l],listItem.textContent==a){h=listItem;break}a=$j(h).attr("lyb:b");c=$j(h).attr("lyb:i");bolditalic=$j(h).attr("lyb:bi");"N"==a?$j("#tool_bold").hide():"N"==c&&$j("#tool_italic").hide();"Y"==c&&$j("#tool_italic").show();"Y"==a&&$j("#tool_bold").show()};return ta}(jQuery));$j(svgEditor.init)})();
var svgEditor=function(c,f){function a(a,c,h){var l=$j("#svg_editor").parent(),f;for(f in c){var z=c[f];h&&(f="#"+f);if(l.find(f).length){var A=l.find(f)[0];switch(a){case "content":for(var u=0;u<A.childNodes.length;u++){var B=A.childNodes[u];if(3===B.nodeType&&B.textContent.replace(/\s/g,"")){B.textContent=z;break}}break;case "title":A.title=z}}}}var h;f.readLang=function(c){var o=f.canvas.runExtensions("addlangData",h,!0);$j.each(o,function(a,h){h.data&&(c=$j.merge(c,h.data))});if(c.tools){var p=
c.tools,o=c.properties,l=c.config,q=c.layers,z=c.common,A=c.ui;a("content",{copyrightLabel:c.misc.powered_by,curve_segments:o.curve_segments,fitToContent:p.fitToContent,fit_to_all:p.fit_to_all,fit_to_canvas:p.fit_to_canvas,fit_to_layer_content:p.fit_to_layer_content,fit_to_sel:p.fit_to_sel,icon_large:l.icon_large,icon_medium:l.icon_medium,icon_small:l.icon_small,icon_xlarge:l.icon_xlarge,image_opt_embed:l.image_opt_embed,image_opt_ref:l.image_opt_ref,includedImages:l.included_images,largest_object:p.largest_object,
layersLabel:q.layers,page:p.page,relativeToLabel:p.relativeTo,selLayerLabel:q.move_elems_to,selectedPredefined:l.select_predefined,selected_objects:p.selected_objects,smallest_object:p.smallest_object,straight_segments:o.straight_segments,svginfo_bg_url:l.editor_img_url+":",svginfo_bg_note:l.editor_bg_note,svginfo_change_background:l.background,svginfo_dim:l.doc_dims,svginfo_editor_prefs:l.editor_prefs,svginfo_height:z.height,svginfo_icons:l.icon_size,svginfo_image_props:l.image_props,svginfo_lang:l.language,
svginfo_title:l.doc_title,svginfo_width:z.width,tool_docprops_cancel:z.cancel,tool_docprops_save:z.ok,tool_source_cancel:z.cancel,tool_source_save:z.ok,tool_prefs_cancel:z.cancel,tool_prefs_save:z.ok,sidepanel_handle:q.layers.split("").join(" "),tool_clear:p.new_doc,tool_docprops:p.docprops,tool_export:p.export_png,tool_import:p.import_doc,tool_imagelib:p.imagelib,tool_open:p.open_doc,tool_save:p.save_doc,svginfo_units_rulers:l.units_and_rulers,svginfo_rulers_onoff:l.show_rulers,svginfo_unit:l.base_unit,
svginfo_grid_settings:l.grid,svginfo_snap_onoff:l.snapping_onoff,svginfo_snap_step:l.snapping_stepsize},!0);var u={},B;for(B in c.shape_cats)u['#shape_cats [data-cat="'+B+'"]']=c.shape_cats[B];setTimeout(function(){a("content",u)},2E3);var E={};$j.each("cut copy paste paste_in_place delete group ungroup move_front move_up move_down move_back".split(" "),function(){E['#cmenu_canvas a[href="#'+this+'"]']=p[this]});$j.each(["dupe","merge_down","merge_all"],function(){E['#cmenu_layers a[href="#'+this+
'"]']=q[this]});E['#cmenu_layers a[href="#delete"]']=q.del;a("content",E);a("title",{align_relative_to:p.align_relative_to,circle_cx:o.circle_cx,circle_cy:o.circle_cy,circle_r:o.circle_r,cornerRadiusLabel:o.corner_radius,ellipse_cx:o.ellipse_cx,ellipse_cy:o.ellipse_cy,ellipse_rx:o.ellipse_rx,ellipse_ry:o.ellipse_ry,fill_color:o.fill_color,font_family:o.font_family,idLabel:o.id,image_height:o.image_height,image_url:o.image_url,image_width:o.image_width,layer_delete:q.del,layer_down:q.move_down,layer_new:q["new"],
layer_rename:q.rename,layer_moreopts:z.more_opts,layer_up:q.move_up,line_x1:o.line_x1,line_x2:o.line_x2,line_y1:o.line_y1,line_y2:o.line_y2,linecap_butt:o.linecap_butt,linecap_round:o.linecap_round,linecap_square:o.linecap_square,linejoin_bevel:o.linejoin_bevel,linejoin_miter:o.linejoin_miter,linejoin_round:o.linejoin_round,main_icon:p.main_menu,mode_connect:p.mode_connect,tools_shapelib_show:p.mode_shapelib,palette:A.palette_info,zoom_panel:A.zoom_level,path_node_x:o.node_x,path_node_y:o.node_y,
rect_height_tool:o.rect_height,rect_width_tool:o.rect_width,seg_type:o.seg_type,selLayerNames:q.move_selected,selected_x:o.pos_x,selected_y:o.pos_y,stroke_color:o.stroke_color,stroke_style:o.stroke_style,stroke_width:o.stroke_width,svginfo_title:l.doc_title,text:o.text_contents,toggle_stroke_tools:A.toggle_stroke_tools,tool_add_subpath:p.add_subpath,tool_alignbottom:p.align_bottom,tool_aligncenter:p.align_center,tool_alignleft:p.align_left,tool_alignmiddle:p.align_middle,tool_alignright:p.align_right,
tool_aligntop:p.align_top,tool_angle:o.angle,tool_blur:o.blur,tool_bold:o.bold,tool_circle:p.mode_circle,tool_clone:p.clone,tool_clone_multi:p.clone,tool_delete:p.del,tool_delete_multi:p.del,tool_ellipse:p.mode_ellipse,tool_eyedropper:p.mode_eyedropper,tool_fhellipse:p.mode_fhellipse,tool_fhpath:p.mode_fhpath,tool_fhrect:p.mode_fhrect,tool_font_size:o.font_size,tool_group:p.group,tool_make_link:p.make_link,tool_link_url:p.set_link_url,tool_image:p.mode_image,tool_italic:o.italic,tool_line:p.mode_line,
tool_move_bottom:p.move_bottom,tool_move_top:p.move_top,tool_node_clone:p.node_clone,tool_node_delete:p.node_delete,tool_node_link:p.node_link,tool_opacity:o.opacity,tool_openclose_path:p.openclose_path,tool_path:p.mode_path,tool_position:p.align_to_page,tool_rect:p.mode_rect,tool_redo:p.redo,tool_reorient:p.reorient_path,tool_select:p.mode_select,tool_source:p.source_save,tool_square:p.mode_square,tool_text:p.mode_text,tool_topath:p.to_path,tool_undo:p.undo,tool_ungroup:p.ungroup,tool_wireframe:p.wireframe_mode,
view_grid:p.toggle_grid,tool_zoom:p.mode_zoom,url_notice:p.no_embed},!0);f.setLang(h,c)}};f.putLocale=function(a,c){if(a)h=a;else{h=$j.pref("lang");if(!h&&(navigator.userLanguage?h=navigator.userLanguage:navigator.language&&(h=navigator.language),""==h))return;-1==$j.inArray(h,c)&&"test"!==h&&(h="en");if(0==h.indexOf("en"))return}var p=f.curConfig.langPath+"lang."+h+".js";$j.getScript(p,function(a){a||(a=document.createElement("script"),a.src=p,document.querySelector("head").appendChild(a))})};return f}(jQuery,
svgEditor),svgedit=svgedit||{};
(function(){var c=this;svgedit.contextmenu||(svgedit.contextmenu={});c.contextMenuExtensions={};svgEditor.ready(function(){for(var f in c.contextMenuExtensions){var a=c.contextMenuExtensions[f];0==Object.keys(c.contextMenuExtensions).length&&$j("#cmenu_canvas").append("<li class='separator'>");var h=a.shortcut||"";$j("#cmenu_canvas").append("<li class='disabled'><a href='#"+a.id+"'>"+a.label+"<span class='shortcut'>"+h+"</span></a></li>")}});svgedit.contextmenu.resetCustomMenus=function(){c.contextMenuExtensions=
{}};svgedit.contextmenu.add=function(f){!f||!f.id||!f.label||!(f.action&&"function"==typeof f.action)?console.error("Menu items must be defined and have at least properties: id, label, action, where action must be a function"):f.id in c.contextMenuExtensions?console.error('Cannot add extension "'+f.id+'", an extension by that name already exists"'):(console.log("Registed contextmenu item: {id:"+f.id+", label:"+f.label+"}"),c.contextMenuExtensions[f.id]=f)};svgedit.contextmenu.hasCustomHandler=function(f){return c.contextMenuExtensions[f]&&
!0};svgedit.contextmenu.getCustomHandler=function(f){return c.contextMenuExtensions[f].action}})();
(function(){function c(a,c){$j("#updating_box").css("display","block");$j("#updating_box .desc").css("display","block");$j("#updating_box .desc-rendering").css("display","none");$j.ajax({type:"POST",url:"/dol/index/uploadDraggedFile",dataType:"json",data:{base64_data:c},success:function(a){var c=a.imageUrl,h=a.width,f=a.thumb_width,n=a.thumb_height,o=a.thumbUrl,a=$j("#zoom_factor").val();$j.ajax({type:"GET",url:"/dol/index/uploadRemoteFile",data:{image_url:c,zoom_factor:a},success:function(a){a=$j.parseJSON(a);
$j("#updating_box .desc").css("display","none");$j("#updating_box .desc-rendering").css("display","block");svgedit.amiconDOL.addDragImage(a.imageUrl,a.width,a.height);$j("form.myimages_login").css("display","none");$j("div.myimages_div").css({display:"block"});var c="<li class='high_resol'><a href='"+a.imageUrl+"'  target='_blank'> <img src='"+o+"' class='ui-draggable' style='cursor:move;' rel='"+a.imageUrl+"' width='"+f+"' height='"+n+"'> </a>";$j("ul#colorSet").html();0<$j(".myimages_div ul#colorSet li:first").length?
$j(c).insertBefore($j(".myimages_div ul#colorSet li:first")):$j(".myimages_div ul#colorSet").html(c);getImageDims(a.is_low_res);$j("#colorSet img").draggable({appendTo:"body",helper:"clone"});$j(new Image).load(function(){"none"==$j("#vtab").css("display")?($j("#updating_box").css("display","none"),$j(".myimages_div").mCustomScrollbar("update"),h=$j(".myimages_div ul#colorSet li:first img").width()):($j("#updating_box").css("display","none"),$j(".myimages_div").mCustomScrollbar("update"),h=$j(".myimages_div .mCSB_container").width());
$j(".myimages_div .mCSB_container").css("width",h+4)}).attr("src",o)}})}})}function f(a){a.stopPropagation();a.preventDefault()}function a(a){f(a);for(var a=a.target.files||a.dataTransfer.files,c=0,p;p=a[c];c++)if(a[c].name.toLowerCase().match(/(gif|jpg|jpeg|png|tiff|tif)$/))h(p),location.host.indexOf("sitepointstatic");else{alert("Unsupported file format. Please drag n drop a valid JPEG, PNG, GIF or TIFF file. Drag n Drop is not supported for PDF, EPS or SVG files. Please try uploading them instead.");
break}}function h(a){if(0==a.type.indexOf("image")){var h=new FileReader;h.onload=function(h){c("<p id='test'><strong>"+a.name+":</strong><br /></p>",h.target.result)};h.readAsDataURL(a)}0==a.type.indexOf("text")&&(h=new FileReader,h.onload=function(h){c("<p><strong>"+a.name+":</strong></p><pre>"+h.target.result.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</pre>")},h.readAsText(a))}$j(document).ready(function(){if(window.File&&window.FileList&&window.FileReader){var c=document.getElementById("workarea");
console.log(c);(new XMLHttpRequest).upload&&(c.addEventListener("dragover",f,!1),c.addEventListener("dragleave",f,!1),c.addEventListener("drop",a,!1),c.style.display="block")}})})();
(function(c,f){function a(a){return!c(a).parents().andSelf().filter(function(){return"hidden"===c.curCSS(this,"visibility")||c.expr.filters.hidden(this)}).length}function h(h,f){var p=h.nodeName.toLowerCase();if("area"===p){var p=h.parentNode,l=p.name;if(!h.href||!l||"map"!==p.nodeName.toLowerCase())return!1;p=c("img[usemap=#"+l+"]")[0];return!!p&&a(p)}return(/input|select|textarea|button|object/.test(p)?!h.disabled:"a"==p?h.href||f:f)&&a(h)}c.ui=c.ui||{};c.ui.version||(c.extend(c.ui,{version:"1.8.17",
keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),c.fn.extend({propAttr:c.fn.prop||c.fn.attr,_focus:c.fn.focus,focus:function(a,h){return"number"==typeof a?this.each(function(){var f=
this;setTimeout(function(){c(f).focus();h&&h.call(f)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,
"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==f)return this.css("zIndex",a);if(this.length)for(var a=c(this[0]),h;a.length&&a[0]!==document;){h=a.css("position");if("absolute"===h||"relative"===h||"fixed"===h)if(h=parseInt(a.css("zIndex"),10),!isNaN(h)&&0!==h)return h;a=a.parent()}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":
"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),c.each(["Width","Height"],function(a,h){function p(a,h,f,n){c.each(l,function(){h-=parseFloat(c.curCSS(a,"padding"+this,!0))||0;f&&(h-=parseFloat(c.curCSS(a,"border"+this+"Width",!0))||0);n&&(h-=parseFloat(c.curCSS(a,"margin"+this,!0))||0)});return h}var l="Width"===h?["Left","Right"]:["Top","Bottom"],q=h.toLowerCase(),z={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,
outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+h]=function(a){return a===f?z["inner"+h].call(this):this.each(function(){c(this).css(q,p(this,a)+"px")})};c.fn["outer"+h]=function(a,l){return"number"!=typeof a?z["outer"+h].call(this,a):this.each(function(){c(this).css(q,p(this,a,!0,l)+"px")})}}),c.extend(c.expr[":"],{data:function(a,h,f){return!!c.data(a,f[3])},focusable:function(a){return h(a,!isNaN(c.attr(a,"tabindex")))},tabbable:function(a){var f=c.attr(a,"tabindex"),p=isNaN(f);
return(p||0<=f)&&h(a,!p)}}),c(function(){var a=document.body,h=a.appendChild(h=document.createElement("div"));c.extend(h.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=100===h.offsetHeight;c.support.selectstart="onselectstart"in h;a.removeChild(h).style.display="none"}),c.extend(c.ui,{plugin:{add:function(a,h,f){var a=c.ui[a].prototype,l;for(l in f)a.plugins[l]=a.plugins[l]||[],a.plugins[l].push([h,f[l]])},call:function(a,c,h){if((c=a.plugins[c])&&a.element[0].parentNode)for(var l=
0;l<c.length;l++)a.options[c[l][0]]&&c[l][1].apply(a.element,h)}},contains:function(a,c){return document.compareDocumentPosition?a.compareDocumentPosition(c)&16:a!==c&&a.contains(c)},hasScroll:function(a,h){if("hidden"===c(a).css("overflow"))return!1;var f=h&&"left"===h?"scrollLeft":"scrollTop",l=!1;if(0<a[f])return!0;a[f]=1;l=0<a[f];a[f]=0;return l},isOverAxis:function(a,c,h){return a>c&&a<c+h},isOver:function(a,h,f,l,q,z){return c.ui.isOverAxis(a,f,q)&&c.ui.isOverAxis(h,l,z)}}))})(jQuery);
(function(c,f){if(c.cleanData){var a=c.cleanData;c.cleanData=function(h){for(var f=0,p;null!=(p=h[f]);f++)try{c(p).triggerHandler("remove")}catch(l){}a(h)}}else{var h=c.fn.remove;c.fn.remove=function(a,f){return this.each(function(){f||(!a||c.filter(a,[this]).length)&&c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(a){}});return h.call(c(this),a,f)})}}c.widget=function(a,h,f){var l=a.split(".")[0],q,a=a.split(".")[1];q=l+"-"+a;f||(f=h,h=c.Widget);c.expr[":"][q]=
function(h){return!!c.data(h,a)};c[l]=c[l]||{};c[l][a]=function(a,c){arguments.length&&this._createWidget(a,c)};h=new h;h.options=c.extend(!0,{},h.options);c[l][a].prototype=c.extend(!0,h,{namespace:l,widgetName:a,widgetEventPrefix:c[l][a].prototype.widgetEventPrefix||a,widgetBaseClass:q},f);c.widget.bridge(a,c[l][a])};c.widget.bridge=function(a,h){c.fn[a]=function(p){var l="string"==typeof p,q=Array.prototype.slice.call(arguments,1),z=this,p=!l&&q.length?c.extend.apply(null,[!0,p].concat(q)):p;if(l&&
"_"===p.charAt(0))return z;l?this.each(function(){var h=c.data(this,a),l=h&&c.isFunction(h[p])?h[p].apply(h,q):h;if(l!==h&&l!==f)return z=l,!1}):this.each(function(){var l=c.data(this,a);l?l.option(p||{})._init():c.data(this,a,new h(p,this))});return z}};c.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,h){c.data(h,this.widgetName,this);this.element=c(h);this.options=c.extend(!0,
{},this.options,this._getCreateOptions(),a);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+
"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,h){var p=a;if(0===arguments.length)return c.extend({},this.options);if("string"==typeof a){if(h===f)return this.options[a];p={};p[a]=h}this._setOptions(p);return this},_setOptions:function(a){var h=this;c.each(a,function(a,c){h._setOption(a,c)});return this},_setOption:function(a,c){this.options[a]=c;"disabled"===a&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",
c);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,h,f){var l,q=this.options[a],f=f||{},h=c.Event(h);h.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();h.target=this.element[0];if(a=h.originalEvent)for(l in a)l in h||(h[l]=a[l]);this.element.trigger(h,f);return!(c.isFunction(q)&&!1===q.call(this.element[0],h,f)||h.isDefaultPrevented())}}})(jQuery);
(function(c){var f=!1;c(document).mouseup(function(){f=!1});c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(h){if(!0===c.data(h.target,a.widgetName+".preventClickEvent"))return c.removeData(h.target,a.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+
this.widgetName)},_mouseDown:function(a){if(!f){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var h=this,n=1==a.which,o="string"==typeof this.options.cancel&&a.target.nodeName?c(a.target).closest(this.options.cancel).length:!1;if(!n||o||!this._mouseCapture(a))return!0;(this.mouseDelayMet=!this.options.delay)||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),
!this._mouseStarted))return a.preventDefault(),!0;!0===c.data(a.target,this.widgetName+".preventClickEvent")&&c.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return h._mouseMove(a)};this._mouseUpDelegate=function(a){return h._mouseUp(a)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return f=!0}},_mouseMove:function(a){if(c.browser.msie&&!(9<=document.documentMode)&&
!a.button)return this._mouseUp(a);if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a),this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));return!this._mouseStarted},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,a.target==
this._mouseDownEvent.target&&c.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(c){c.widget("ui.draggable",c.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(f){var a=this.options;if(this.helper||a.disabled||c(f.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(f);if(!this.handle)return!1;a.iframeFix&&c(!0===a.iframeFix?"iframe":a.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(c(this).offset()).appendTo("body")});return!0},_mouseStart:function(f){var a=this.options;this.helper=this._createHelper(f);this._cacheHelperProportions();c.ui.ddmanager&&(c.ui.ddmanager.current=
this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(f);this.originalPageX=f.pageX;
this.originalPageY=f.pageY;a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt);a.containment&&this._setContainment();if(!1===this._trigger("start",f))return this._clear(),!1;this._cacheHelperProportions();c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,f);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(f,!0);c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,f);return!0},_mouseDrag:function(f,a){this.position=this._generatePosition(f);this.positionAbs=this._convertPositionTo("absolute");
if(!a){var h=this._uiHash();if(!1===this._trigger("drag",f,h))return this._mouseUp({}),!1;this.position=h.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";c.ui.ddmanager&&c.ui.ddmanager.drag(this,f);return!1},_mouseStop:function(f){var a=!1;c.ui.ddmanager&&!this.options.dropBehaviour&&(a=c.ui.ddmanager.drop(this,f));this.dropped&&(a=this.dropped,this.dropped=
!1);if((!this.element[0]||!this.element[0].parentNode)&&"original"==this.options.helper)return!1;if("invalid"==this.options.revert&&!a||"valid"==this.options.revert&&a||!0===this.options.revert||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)){var h=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==h._trigger("stop",f)&&h._clear()})}else!1!==this._trigger("stop",f)&&this._clear();return!1},_mouseUp:function(f){!0===
this.options.iframeFix&&c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,f);return c.ui.mouse.prototype._mouseUp.call(this,f)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(f){var a=!this.options.handle||!c(this.options.handle,this.element).length?!0:!1;c(this.options.handle,this.element).find("*").andSelf().each(function(){this==f.target&&(a=
!0)});return a},_createHelper:function(f){var a=this.options,f=c.isFunction(a.helper)?c(a.helper.apply(this.element[0],[f])):"clone"==a.helper?this.element.clone().removeAttr("id"):this.element;f.parents("body").length||f.appendTo("parent"==a.appendTo?this.element[0].parentNode:a.appendTo);f[0]!=this.element[0]&&!/(fixed|absolute)/.test(f.css("position"))&&f.css("position","absolute");return f},_adjustOffsetFromHelper:function(f){"string"==typeof f&&(f=f.split(" "));c.isArray(f)&&(f={left:+f[0],top:+f[1]||
0});"left"in f&&(this.offset.click.left=f.left+this.margins.left);"right"in f&&(this.offset.click.left=this.helperProportions.width-f.right+this.margins.left);"top"in f&&(this.offset.click.top=f.top+this.margins.top);"bottom"in f&&(this.offset.click.top=this.helperProportions.height-f.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var f=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],
this.offsetParent[0])&&(f.left+=this.scrollParent.scrollLeft(),f.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&c.browser.msie)f={top:0,left:0};return{top:f.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:f.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var c=this.element.position();return{top:c.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;"parent"==f.containment&&(f.containment=this.helper[0].parentNode);if("document"==f.containment||"window"==f.containment)this.containment=["document"==f.containment?0:c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==f.containment?0:c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==f.containment?0:c(window).scrollLeft())+c("document"==f.containment?document:
window).width()-this.helperProportions.width-this.margins.left,("document"==f.containment?0:c(window).scrollTop())+(c("document"==f.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(f.containment)&&f.containment.constructor!=Array){var f=c(f.containment),a=f[0];if(a){f.offset();var h="hidden"!=c(a).css("overflow");this.containment=[(parseInt(c(a).css("borderLeftWidth"),10)||0)+(parseInt(c(a).css("paddingLeft"),
10)||0),(parseInt(c(a).css("borderTopWidth"),10)||0)+(parseInt(c(a).css("paddingTop"),10)||0),(h?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(c(a).css("borderLeftWidth"),10)||0)-(parseInt(c(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(h?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(c(a).css("borderTopWidth"),10)||0)-(parseInt(c(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];
this.relative_container=f}}else f.containment.constructor==Array&&(this.containment=f.containment)},_convertPositionTo:function(f,a){a||(a=this.position);var h="absolute"==f?1:-1,n="absolute"==this.cssPosition&&(this.scrollParent[0]==document||!c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(n[0].tagName);return{top:a.top+this.offset.relative.top*h+this.offset.parent.top*h-(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?
0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*h),left:a.left+this.offset.relative.left*h+this.offset.parent.left*h-(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*h)}},_generatePosition:function(f){var a=this.options,h="absolute"==this.cssPosition&&(this.scrollParent[0]==document||!c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,
n=/(html|body)/i.test(h[0].tagName),o=f.pageX,p=f.pageY;if(this.originalPosition){var l;this.containment&&(this.relative_container?(l=this.relative_container.offset(),l=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]):l=this.containment,f.pageX-this.offset.click.left<l[0]&&(o=l[0]+this.offset.click.left),f.pageY-this.offset.click.top<l[1]&&(p=l[1]+this.offset.click.top),f.pageX-this.offset.click.left>l[2]&&(o=l[2]+this.offset.click.left),
f.pageY-this.offset.click.top>l[3]&&(p=l[3]+this.offset.click.top));a.grid&&(p=a.grid[1]?this.originalPageY+Math.round((p-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,p=l?p-this.offset.click.top<l[1]||p-this.offset.click.top>l[3]?p-this.offset.click.top<l[1]?p+a.grid[1]:p-a.grid[1]:p:p,o=a.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,o=l?o-this.offset.click.left<l[0]||o-this.offset.click.left>l[2]?o-this.offset.click.left<l[0]?
o+a.grid[0]:o-a.grid[0]:o:o)}return{top:p-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:h.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&526>c.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(f,a,h){h=h||this._uiHash();c.ui.plugin.call(this,f,[a,h]);"drag"==f&&(this.positionAbs=this._convertPositionTo("absolute"));return c.Widget.prototype._trigger.call(this,f,a,h)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});c.extend(c.ui.draggable,{version:"1.8.17"});
c.ui.plugin.add("draggable","connectToSortable",{start:function(f,a){var h=c(this).data("draggable"),n=h.options,o=c.extend({},a,{item:h.element});h.sortables=[];c(n.connectToSortable).each(function(){var a=c.data(this,"sortable");a&&!a.options.disabled&&(h.sortables.push({instance:a,shouldRevert:a.options.revert}),a.refreshPositions(),a._trigger("activate",f,o))})},stop:function(f,a){var h=c(this).data("draggable"),n=c.extend({},a,{item:h.element});c.each(h.sortables,function(){this.instance.isOver?
(this.instance.isOver=0,h.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(f),this.instance.options.helper=this.instance.options._helper,"original"==h.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",f,n))})},drag:function(f,a){var h=c(this).data("draggable"),n=this;c.each(h.sortables,function(){this.instance.positionAbs=
h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=c(n).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return a.helper[0]},f.target=this.instance.currentItem[0],this.instance._mouseCapture(f,
!0),this.instance._mouseStart(f,!0,!0),this.instance.offset.click.top=h.offset.click.top,this.instance.offset.click.left=h.offset.click.left,this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top,h._trigger("toSortable",f),h.dropped=this.instance.element,h.currentItem=h.element,this.instance.fromOutside=h),this.instance.currentItem&&this.instance._mouseDrag(f)):this.instance.isOver&&
(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",f,this.instance._uiHash(this.instance)),this.instance._mouseStop(f,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),h._trigger("fromSortable",f),h.dropped=!1)})}});c.ui.plugin.add("draggable","cursor",{start:function(){var f=c("body"),a=c(this).data("draggable").options;
f.css("cursor")&&(a._cursor=f.css("cursor"));f.css("cursor",a.cursor)},stop:function(){var f=c(this).data("draggable").options;f._cursor&&c("body").css("cursor",f._cursor)}});c.ui.plugin.add("draggable","opacity",{start:function(f,a){var h=c(a.helper),n=c(this).data("draggable").options;h.css("opacity")&&(n._opacity=h.css("opacity"));h.css("opacity",n.opacity)},stop:function(f,a){var h=c(this).data("draggable").options;h._opacity&&c(a.helper).css("opacity",h._opacity)}});c.ui.plugin.add("draggable",
"scroll",{start:function(){var f=c(this).data("draggable");f.scrollParent[0]!=document&&"HTML"!=f.scrollParent[0].tagName&&(f.overflowOffset=f.scrollParent.offset())},drag:function(f){var a=c(this).data("draggable"),h=a.options,n=!1;if(a.scrollParent[0]!=document&&"HTML"!=a.scrollParent[0].tagName){if(!h.axis||"x"!=h.axis)a.overflowOffset.top+a.scrollParent[0].offsetHeight-f.pageY<h.scrollSensitivity?a.scrollParent[0].scrollTop=n=a.scrollParent[0].scrollTop+h.scrollSpeed:f.pageY-a.overflowOffset.top<
h.scrollSensitivity&&(a.scrollParent[0].scrollTop=n=a.scrollParent[0].scrollTop-h.scrollSpeed);if(!h.axis||"y"!=h.axis)a.overflowOffset.left+a.scrollParent[0].offsetWidth-f.pageX<h.scrollSensitivity?a.scrollParent[0].scrollLeft=n=a.scrollParent[0].scrollLeft+h.scrollSpeed:f.pageX-a.overflowOffset.left<h.scrollSensitivity&&(a.scrollParent[0].scrollLeft=n=a.scrollParent[0].scrollLeft-h.scrollSpeed)}else{if(!h.axis||"x"!=h.axis)f.pageY-c(document).scrollTop()<h.scrollSensitivity?n=c(document).scrollTop(c(document).scrollTop()-
h.scrollSpeed):c(window).height()-(f.pageY-c(document).scrollTop())<h.scrollSensitivity&&(n=c(document).scrollTop(c(document).scrollTop()+h.scrollSpeed));if(!h.axis||"y"!=h.axis)f.pageX-c(document).scrollLeft()<h.scrollSensitivity?n=c(document).scrollLeft(c(document).scrollLeft()-h.scrollSpeed):c(window).width()-(f.pageX-c(document).scrollLeft())<h.scrollSensitivity&&(n=c(document).scrollLeft(c(document).scrollLeft()+h.scrollSpeed))}!1!==n&&c.ui.ddmanager&&!h.dropBehaviour&&c.ui.ddmanager.prepareOffsets(a,
f)}});c.ui.plugin.add("draggable","snap",{start:function(){var f=c(this).data("draggable"),a=f.options;f.snapElements=[];c(a.snap.constructor!=String?a.snap.items||":data(draggable)":a.snap).each(function(){var a=c(this),n=a.offset();this!=f.element[0]&&f.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),top:n.top,left:n.left})})},drag:function(f,a){for(var h=c(this).data("draggable"),n=h.options,o=n.snapTolerance,p=a.offset.left,l=p+h.helperProportions.width,q=a.offset.top,
z=q+h.helperProportions.height,A=h.snapElements.length-1;0<=A;A--){var u=h.snapElements[A].left,B=u+h.snapElements[A].width,E=h.snapElements[A].top,C=E+h.snapElements[A].height;if(u-o<p&&p<B+o&&E-o<q&&q<C+o||u-o<p&&p<B+o&&E-o<z&&z<C+o||u-o<l&&l<B+o&&E-o<q&&q<C+o||u-o<l&&l<B+o&&E-o<z&&z<C+o){if("inner"!=n.snapMode){var G=Math.abs(E-z)<=o,F=Math.abs(C-q)<=o,I=Math.abs(u-l)<=o,O=Math.abs(B-p)<=o;G&&(a.position.top=h._convertPositionTo("relative",{top:E-h.helperProportions.height,left:0}).top-h.margins.top);
F&&(a.position.top=h._convertPositionTo("relative",{top:C,left:0}).top-h.margins.top);I&&(a.position.left=h._convertPositionTo("relative",{top:0,left:u-h.helperProportions.width}).left-h.margins.left);O&&(a.position.left=h._convertPositionTo("relative",{top:0,left:B}).left-h.margins.left)}var N=G||F||I||O;"outer"!=n.snapMode&&(G=Math.abs(E-q)<=o,F=Math.abs(C-z)<=o,I=Math.abs(u-p)<=o,O=Math.abs(B-l)<=o,G&&(a.position.top=h._convertPositionTo("relative",{top:E,left:0}).top-h.margins.top),F&&(a.position.top=
h._convertPositionTo("relative",{top:C-h.helperProportions.height,left:0}).top-h.margins.top),I&&(a.position.left=h._convertPositionTo("relative",{top:0,left:u}).left-h.margins.left),O&&(a.position.left=h._convertPositionTo("relative",{top:0,left:B-h.helperProportions.width}).left-h.margins.left));!h.snapElements[A].snapping&&(G||F||I||O||N)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,f,c.extend(h._uiHash(),{snapItem:h.snapElements[A].item}));h.snapElements[A].snapping=G||F||I||O||N}else h.snapElements[A].snapping&&
h.options.snap.release&&h.options.snap.release.call(h.element,f,c.extend(h._uiHash(),{snapItem:h.snapElements[A].item})),h.snapElements[A].snapping=!1}}});c.ui.plugin.add("draggable","stack",{start:function(){var f=c(this).data("draggable").options,f=c.makeArray(c(f.stack)).sort(function(a,f){return(parseInt(c(a).css("zIndex"),10)||0)-(parseInt(c(f).css("zIndex"),10)||0)});if(f.length){var a=parseInt(f[0].style.zIndex)||0;c(f).each(function(c){this.style.zIndex=a+c});this[0].style.zIndex=a+f.length}}});
c.ui.plugin.add("draggable","zIndex",{start:function(f,a){var h=c(a.helper),n=c(this).data("draggable").options;h.css("zIndex")&&(n._zIndex=h.css("zIndex"));h.css("zIndex",n.zIndex)},stop:function(f,a){var h=c(this).data("draggable").options;h._zIndex&&c(a.helper).css("zIndex",h._zIndex)}})})(jQuery);
(function(c){c.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var f=this.options,a=f.accept;this.isover=0;this.isout=1;this.accept=c.isFunction(a)?a:function(c){return c.is(a)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};c.ui.ddmanager.droppables[f.scope]=c.ui.ddmanager.droppables[f.scope]||[];c.ui.ddmanager.droppables[f.scope].push(this);
f.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var f=c.ui.ddmanager.droppables[this.options.scope],a=0;a<f.length;a++)f[a]==this&&f.splice(a,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(f,a){"accept"==f&&(this.accept=c.isFunction(a)?a:function(c){return c.is(a)});c.Widget.prototype._setOption.apply(this,arguments)},_activate:function(f){var a=c.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);a&&this._trigger("activate",f,this.ui(a))},_deactivate:function(f){var a=c.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);a&&this._trigger("deactivate",f,this.ui(a))},_over:function(f){var a=c.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!=this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",
f,this.ui(a)))},_out:function(f){var a=c.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!=this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",f,this.ui(a)))},_drop:function(f,a){var h=a||c.ui.ddmanager.current;if(!h||(h.currentItem||h.element)[0]==this.element[0])return!1;var n=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var a=c.data(this,
"droppable");if(a.options.greedy&&!a.options.disabled&&a.options.scope==h.options.scope&&a.accept.call(a.element[0],h.currentItem||h.element)&&c.ui.intersect(h,c.extend(a,{offset:a.element.offset()}),a.options.tolerance))return n=!0,!1});return n?!1:this.accept.call(this.element[0],h.currentItem||h.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",f,this.ui(h)),this.element):
!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}});c.extend(c.ui.droppable,{version:"1.8.17"});c.ui.intersect=function(f,a,h){if(!a.offset)return!1;var n=(f.positionAbs||f.position.absolute).left,o=n+f.helperProportions.width,p=(f.positionAbs||f.position.absolute).top,l=p+f.helperProportions.height,q=a.offset.left,z=q+a.proportions.width,A=a.offset.top,u=A+a.proportions.height;switch(h){case "fit":return q<=n&&o<=z&&A<=p&&l<=u;
case "intersect":return q<n+f.helperProportions.width/2&&o-f.helperProportions.width/2<z&&A<p+f.helperProportions.height/2&&l-f.helperProportions.height/2<u;case "pointer":return c.ui.isOver((f.positionAbs||f.position.absolute).top+(f.clickOffset||f.offset.click).top,(f.positionAbs||f.position.absolute).left+(f.clickOffset||f.offset.click).left,A,q,a.proportions.height,a.proportions.width);case "touch":return(p>=A&&p<=u||l>=A&&l<=u||p<A&&l>u)&&(n>=q&&n<=z||o>=q&&o<=z||n<q&&o>z);default:return!1}};
c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(f,a){var h=c.ui.ddmanager.droppables[f.options.scope]||[],n=a?a.type:null,o=(f.currentItem||f.element).find(":data(droppable)").andSelf(),p=0;a:for(;p<h.length;p++)if(!(h[p].options.disabled||f&&!h[p].accept.call(h[p].element[0],f.currentItem||f.element))){for(var l=0;l<o.length;l++)if(o[l]==h[p].element[0]){h[p].proportions.height=0;continue a}h[p].visible="none"!=h[p].element.css("display");h[p].visible&&("mousedown"==
n&&h[p]._activate.call(h[p],a),h[p].offset=h[p].element.offset(),h[p].proportions={width:h[p].element[0].offsetWidth,height:h[p].element[0].offsetHeight})}},drop:function(f,a){var h=!1;c.each(c.ui.ddmanager.droppables[f.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&c.ui.intersect(f,this,this.options.tolerance)&&(h=this._drop.call(this,a)||h),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.isout=1,this.isover=
0,this._deactivate.call(this,a)))});return h},dragStart:function(f,a){f.element.parents(":not(body,html)").bind("scroll.droppable",function(){f.options.refreshPositions||c.ui.ddmanager.prepareOffsets(f,a)})},drag:function(f,a){f.options.refreshPositions&&c.ui.ddmanager.prepareOffsets(f,a);c.each(c.ui.ddmanager.droppables[f.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var h=c.ui.intersect(f,this,this.options.tolerance);if(h=!h&&1==this.isover?"isout":h&&
0==this.isover?"isover":null){var n;if(this.options.greedy){var o=this.element.parents(":data(droppable):eq(0)");o.length&&(n=c.data(o[0],"droppable"),n.greedyChild="isover"==h?1:0)}n&&"isover"==h&&(n.isover=0,n.isout=1,n._out.call(n,a));this[h]=1;this["isout"==h?"isover":"isout"]=0;this["isover"==h?"_over":"_out"].call(this,a);n&&"isout"==h&&(n.isout=0,n.isover=1,n._over.call(n,a))}}})},dragStop:function(f,a){f.element.parents(":not(body,html)").unbind("scroll.droppable");f.options.refreshPositions||
c.ui.ddmanager.prepareOffsets(f,a)}}})(jQuery);
(function(c){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var a=this,f=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!f.aspectRatio,aspectRatio:f.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],
_helper:f.helper||f.ghost||f.animate?f.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&c.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),
this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize",
"none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=f.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){"all"==
this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var o=this.handles.split(",");this.handles={};for(var p=0;p<o.length;p++){var l=c.trim(o[p]),q=c('<div class="ui-resizable-handle ui-resizable-'+l+'"></div>');/sw|se|ne|nw/.test(l)&&q.css({zIndex:++f.zIndex});"se"==l&&q.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[l]=".ui-resizable-"+l;this.element.append(q)}}this._renderAxis=function(a){var a=a||this.element,h;for(h in this.handles){this.handles[h].constructor==String&&(this.handles[h]=
c(this.handles[h],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var l=c(this.handles[h],this.element),f=0,f=/sw|ne|nw|se|n|s/.test(h)?l.outerHeight():l.outerWidth(),l=["padding",/ne|nw|n/.test(h)?"Top":/se|sw|s/.test(h)?"Bottom":/^e$/.test(h)?"Right":"Left"].join("");a.css(l,f);this._proportionallyResize()}c(this.handles[h])}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){if(!a.resizing){if(this.className)var c=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);a.axis=c&&c[1]?c[1]:"se"}});f.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").hover(function(){f.disabled||(c(this).removeClass("ui-resizable-autohide"),a._handles.show())},function(){f.disabled||a.resizing||(c(this).addClass("ui-resizable-autohide"),a._handles.hide())}));this._mouseInit()},destroy:function(){this._mouseDestroy();
var a=function(a){c(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){a(this.element);var f=this.element;f.after(this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);a(this.originalElement);return this},_mouseCapture:function(a){var f=
!1,o;for(o in this.handles)c(this.handles[o])[0]==a.target&&(f=!0);return!this.options.disabled&&f},_mouseStart:function(a){var n=this.options,o=this.element.position(),p=this.element;this.resizing=!0;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};(p.is(".ui-draggable")||/absolute/.test(p.css("position")))&&p.css({position:"absolute",top:o.top,left:o.left});c.browser.opera&&/relative/.test(p.css("position"))&&p.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();
var o=f(this.helper.css("left")),l=f(this.helper.css("top"));n.containment&&(o+=c(n.containment).scrollLeft()||0,l+=c(n.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:o,top:l};this.size=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()};this.originalSize=this._helper?{width:p.outerWidth(),height:p.outerHeight()}:{width:p.width(),height:p.height()};this.originalPosition={left:o,top:l};this.sizeDiff={width:p.outerWidth()-
p.width(),height:p.outerHeight()-p.height()};this.originalMousePosition={left:a.pageX,top:a.pageY};this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;n=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor","auto"==n?this.axis+"-resize":n);p.addClass("ui-resizable-resizing");this._propagate("start",a);return!0},_mouseDrag:function(a){var c=this.helper,f=this.originalMousePosition,p=this._change[this.axis];if(!p)return!1;f=
p.apply(this,[a,a.pageX-f.left||0,a.pageY-f.top||0]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)f=this._updateRatio(f,a);f=this._respectSize(f,a);this._propagate("resize",a);c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(f);this._trigger("resize",a,this.ui());return!1},_mouseStop:function(a){this.resizing=
!1;var f=this.options;if(this._helper){var o=this._proportionallyResizeElements,p=o.length&&/textarea/i.test(o[0].nodeName),o=p&&c.ui.hasScroll(o[0],"left")?0:this.sizeDiff.height,p=p?0:this.sizeDiff.width,p={width:this.helper.width()-p,height:this.helper.height()-o},o=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,l=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;f.animate||this.element.css(c.extend(p,{top:l,left:o}));
this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!f.animate&&this._proportionallyResize()}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",a);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(c){var f=this.options,o,p,l,f={minWidth:a(f.minWidth)?f.minWidth:0,maxWidth:a(f.maxWidth)?f.maxWidth:Infinity,minHeight:a(f.minHeight)?f.minHeight:0,maxHeight:a(f.maxHeight)?f.maxHeight:Infinity};
if(this._aspectRatio||c)c=f.minHeight*this.aspectRatio,p=f.minWidth/this.aspectRatio,o=f.maxHeight*this.aspectRatio,l=f.maxWidth/this.aspectRatio,c>f.minWidth&&(f.minWidth=c),p>f.minHeight&&(f.minHeight=p),o<f.maxWidth&&(f.maxWidth=o),l<f.maxHeight&&(f.maxHeight=l);this._vBoundaries=f},_updateCache:function(c){this.offset=this.helper.offset();a(c.left)&&(this.position.left=c.left);a(c.top)&&(this.position.top=c.top);a(c.height)&&(this.size.height=c.height);a(c.width)&&(this.size.width=c.width)},_updateRatio:function(c){var f=
this.position,o=this.size,p=this.axis;a(c.height)?c.width=c.height*this.aspectRatio:a(c.width)&&(c.height=c.width/this.aspectRatio);"sw"==p&&(c.left=f.left+(o.width-c.width),c.top=null);"nw"==p&&(c.top=f.top+(o.height-c.height),c.left=f.left+(o.width-c.width));return c},_respectSize:function(c){var f=this._vBoundaries,o=this.axis,p=a(c.width)&&f.maxWidth&&f.maxWidth<c.width,l=a(c.height)&&f.maxHeight&&f.maxHeight<c.height,q=a(c.width)&&f.minWidth&&f.minWidth>c.width,z=a(c.height)&&f.minHeight&&f.minHeight>
c.height;q&&(c.width=f.minWidth);z&&(c.height=f.minHeight);p&&(c.width=f.maxWidth);l&&(c.height=f.maxHeight);var A=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,B=/sw|nw|w/.test(o),o=/nw|ne|n/.test(o);q&&B&&(c.left=A-f.minWidth);p&&B&&(c.left=A-f.maxWidth);z&&o&&(c.top=u-f.minHeight);l&&o&&(c.top=u-f.maxHeight);(f=!c.width&&!c.height)&&!c.left&&c.top?c.top=null:f&&!c.top&&c.left&&(c.left=null);return c},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a=
this.helper||this.element,f=0;f<this._proportionallyResizeElements.length;f++){var o=this._proportionallyResizeElements[f];if(!this.borderDif){var p=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],l=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")];this.borderDif=c.map(p,function(a,c){var h=parseInt(a,10)||0,f=parseInt(l[c],10)||0;return h+f})}if(!c.browser.msie||!c(a).is(":hidden")&&!c(a).parents(":hidden").length)o.css({height:a.height()-
this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var f=c.browser.msie&&7>c.browser.version,o=f?1:0,f=f?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-o+"px",top:this.elementOffset.top-
o+"px",zIndex:++a.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,c){return{width:this.originalSize.width+c}},w:function(a,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(a,c,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(a,c,f){return{height:this.originalSize.height+f}},se:function(a,f,o){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,
[a,f,o]))},sw:function(a,f,o){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,f,o]))},ne:function(a,f,o){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,f,o]))},nw:function(a,f,o){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,f,o]))}},_propagate:function(a,f){c.ui.plugin.call(this,a,[f,this.ui()]);"resize"!=a&&this._trigger(a,f,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,
element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8.17"});c.ui.plugin.add("resizable","alsoResize",{start:function(){var a=c(this).data("resizable").options,f=function(a){c(a).each(function(){var a=c(this);a.data("resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10),position:a.css("position")})})};
"object"==typeof a.alsoResize&&!a.alsoResize.parentNode?a.alsoResize.length?(a.alsoResize=a.alsoResize[0],f(a.alsoResize)):c.each(a.alsoResize,function(a){f(a)}):f(a.alsoResize)},resize:function(a,f){var o=c(this).data("resizable"),p=o.options,l=o.originalSize,q=o.originalPosition,z={height:o.size.height-l.height||0,width:o.size.width-l.width||0,top:o.position.top-q.top||0,left:o.position.left-q.left||0},A=function(a,h){c(a).each(function(){var a=c(this),l=c(this).data("resizable-alsoresize"),q={},
p=h&&h.length?h:a.parents(f.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(p,function(a,c){var h=(l[c]||0)+(z[c]||0);h&&0<=h&&(q[c]=h||null)});c.browser.opera&&/relative/.test(a.css("position"))&&(o._revertToRelativePosition=!0,a.css({position:"absolute",top:"auto",left:"auto"}));a.css(q)})};"object"==typeof p.alsoResize&&!p.alsoResize.nodeType?c.each(p.alsoResize,function(a,c){A(a,c)}):A(p.alsoResize)},stop:function(){var a=c(this).data("resizable"),f=a.options,
o=function(a){c(a).each(function(){var a=c(this);a.css({position:a.data("resizable-alsoresize").position})})};a._revertToRelativePosition&&(a._revertToRelativePosition=!1,"object"==typeof f.alsoResize&&!f.alsoResize.nodeType?c.each(f.alsoResize,function(a){o(a)}):o(f.alsoResize));c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","animate",{stop:function(a){var f=c(this).data("resizable"),o=f.options,p=f._proportionallyResizeElements,l=p.length&&/textarea/i.test(p[0].nodeName),
q=l&&c.ui.hasScroll(p[0],"left")?0:f.sizeDiff.height,l={width:f.size.width-(l?0:f.sizeDiff.width),height:f.size.height-q},q=parseInt(f.element.css("left"),10)+(f.position.left-f.originalPosition.left)||null,z=parseInt(f.element.css("top"),10)+(f.position.top-f.originalPosition.top)||null;f.element.animate(c.extend(l,z&&q?{top:z,left:q}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var l={width:parseInt(f.element.css("width"),10),height:parseInt(f.element.css("height"),10),
top:parseInt(f.element.css("top"),10),left:parseInt(f.element.css("left"),10)};p&&p.length&&c(p[0]).css({width:l.width,height:l.height});f._updateCache(l);f._propagate("resize",a)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var a=c(this).data("resizable"),n=a.element,o=a.options.containment;if(n=o instanceof c?o.get(0):/parent/.test(o)?n.parent().get(0):o)if(a.containerElement=c(n),/document/.test(o)||o==document)a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},
a.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight};else{var p=c(n),l=[];c(["Top","Right","Left","Bottom"]).each(function(a,c){l[a]=f(p.css("padding"+c))});a.containerOffset=p.offset();a.containerPosition=p.position();a.containerSize={height:p.innerHeight()-l[3],width:p.innerWidth()-l[1]};var o=a.containerOffset,q=a.containerSize.height,z=a.containerSize.width,z=c.ui.hasScroll(n,"left")?n.scrollWidth:z,q=c.ui.hasScroll(n)?
n.scrollHeight:q;a.parentData={element:n,left:o.left,top:o.top,width:z,height:q}}},resize:function(a){var f=c(this).data("resizable"),o=f.options,p=f.containerOffset,l=f.position,a=f._aspectRatio||a.shiftKey,q={top:0,left:0},z=f.containerElement;z[0]!=document&&/static/.test(z.css("position"))&&(q=p);l.left<(f._helper?p.left:0)&&(f.size.width+=f._helper?f.position.left-p.left:f.position.left-q.left,a&&(f.size.height=f.size.width/o.aspectRatio),f.position.left=o.helper?p.left:0);l.top<(f._helper?p.top:
0)&&(f.size.height+=f._helper?f.position.top-p.top:f.position.top,a&&(f.size.width=f.size.height*o.aspectRatio),f.position.top=f._helper?p.top:0);f.offset.left=f.parentData.left+f.position.left;f.offset.top=f.parentData.top+f.position.top;o=Math.abs(f.offset.left-q.left+f.sizeDiff.width);p=Math.abs((f._helper?f.offset.top-q.top:f.offset.top-p.top)+f.sizeDiff.height);l=f.containerElement.get(0)==f.element.parent().get(0);q=/relative|absolute/.test(f.containerElement.css("position"));l&&q&&(o-=f.parentData.left);
o+f.size.width>=f.parentData.width&&(f.size.width=f.parentData.width-o,a&&(f.size.height=f.size.width/f.aspectRatio));p+f.size.height>=f.parentData.height&&(f.size.height=f.parentData.height-p,a&&(f.size.width=f.size.height*f.aspectRatio))},stop:function(){var a=c(this).data("resizable"),f=a.options,o=a.containerOffset,p=a.containerPosition,l=a.containerElement,q=c(a.helper),z=q.offset(),A=q.outerWidth()-a.sizeDiff.width,q=q.outerHeight()-a.sizeDiff.height;a._helper&&!f.animate&&/relative/.test(l.css("position"))&&
c(this).css({left:z.left-p.left-o.left,width:A,height:q});a._helper&&!f.animate&&/static/.test(l.css("position"))&&c(this).css({left:z.left-p.left-o.left,width:A,height:q})}});c.ui.plugin.add("resizable","ghost",{start:function(){var a=c(this).data("resizable"),f=a.options,o=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:0.25,display:"block",position:"relative",height:o.height,width:o.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof f.ghost?f.ghost:
"");a.ghost.appendTo(a.helper)},resize:function(){var a=c(this).data("resizable");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=c(this).data("resizable");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var a=c(this).data("resizable"),f=a.options,o=a.size,p=a.originalSize,l=a.originalPosition,q=a.axis;f.grid="number"==typeof f.grid?[f.grid,f.grid]:f.grid;var z=Math.round((o.width-
p.width)/(f.grid[0]||1))*(f.grid[0]||1),f=Math.round((o.height-p.height)/(f.grid[1]||1))*(f.grid[1]||1);/^(se|s|e)$/.test(q)?(a.size.width=p.width+z,a.size.height=p.height+f):/^(ne)$/.test(q)?(a.size.width=p.width+z,a.size.height=p.height+f,a.position.top=l.top-f):/^(sw)$/.test(q)?(a.size.width=p.width+z,a.size.height=p.height+f,a.position.left=l.left-z):(a.size.width=p.width+z,a.size.height=p.height+f,a.position.top=l.top-f,a.position.left=l.left-z)}});var f=function(a){return parseInt(a,10)||0},
a=function(a){return!isNaN(parseInt(a,10))}})(jQuery);
(function(c){c.widget("ui.selectable",c.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var f=this;this.element.addClass("ui-selectable");this.dragged=!1;var a;this.refresh=function(){a=c(f.options.filter,f.element[0]);a.addClass("ui-selectee");a.each(function(){var a=c(this),f=a.offset();c.data(this,"selectable-item",{element:this,$element:a,left:f.left,top:f.top,right:f.left+a.outerWidth(),bottom:f.top+a.outerHeight(),startselected:!1,
selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})};this.refresh();this.selectees=a.addClass("ui-selectee");this._mouseInit();this.helper=c("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(f){var a=
this;this.opos=[f.pageX,f.pageY];if(!this.options.disabled){var h=this.options;this.selectees=c(h.filter,this.element[0]);this._trigger("start",f);c(h.appendTo).append(this.helper);this.helper.css({left:f.clientX,top:f.clientY,width:0,height:0});h.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var h=c.data(this,"selectable-item");h.startselected=!0;!f.metaKey&&!f.ctrlKey&&(h.$element.removeClass("ui-selected"),h.selected=!1,h.$element.addClass("ui-unselecting"),
h.unselecting=!0,a._trigger("unselecting",f,{unselecting:h.element}))});c(f.target).parents().andSelf().each(function(){var h=c.data(this,"selectable-item");if(h){var o=!f.metaKey&&!f.ctrlKey||!h.$element.hasClass("ui-selected");h.$element.removeClass(o?"ui-unselecting":"ui-selected").addClass(o?"ui-selecting":"ui-unselecting");h.unselecting=!o;h.selecting=o;(h.selected=o)?a._trigger("selecting",f,{selecting:h.element}):a._trigger("unselecting",f,{unselecting:h.element});return!1}})}},_mouseDrag:function(f){var a=
this;this.dragged=!0;if(!this.options.disabled){var h=this.options,n=this.opos[0],o=this.opos[1],p=f.pageX,l=f.pageY;if(n>p)var q=p,p=n,n=q;o>l&&(q=l,l=o,o=q);this.helper.css({left:n,top:o,width:p-n,height:l-o});this.selectees.each(function(){var q=c.data(this,"selectable-item");if(q&&q.element!=a.element[0]){var A=!1;"touch"==h.tolerance?A=!(q.left>p||q.right<n||q.top>l||q.bottom<o):"fit"==h.tolerance&&(A=q.left>n&&q.right<p&&q.top>o&&q.bottom<l);A?(q.selected&&(q.$element.removeClass("ui-selected"),
q.selected=!1),q.unselecting&&(q.$element.removeClass("ui-unselecting"),q.unselecting=!1),q.selecting||(q.$element.addClass("ui-selecting"),q.selecting=!0,a._trigger("selecting",f,{selecting:q.element}))):(q.selecting&&((f.metaKey||f.ctrlKey)&&q.startselected?(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.$element.addClass("ui-selected"),q.selected=!0):(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.startselected&&(q.$element.addClass("ui-unselecting"),q.unselecting=!0),a._trigger("unselecting",
f,{unselecting:q.element}))),q.selected&&!f.metaKey&&!f.ctrlKey&&!q.startselected&&(q.$element.removeClass("ui-selected"),q.selected=!1,q.$element.addClass("ui-unselecting"),q.unselecting=!0,a._trigger("unselecting",f,{unselecting:q.element})))}});return!1}},_mouseStop:function(f){var a=this;this.dragged=!1;c(".ui-unselecting",this.element[0]).each(function(){var h=c.data(this,"selectable-item");h.$element.removeClass("ui-unselecting");h.unselecting=!1;h.startselected=!1;a._trigger("unselected",f,
{unselected:h.element})});c(".ui-selecting",this.element[0]).each(function(){var h=c.data(this,"selectable-item");h.$element.removeClass("ui-selecting").addClass("ui-selected");h.selecting=!1;h.selected=!0;h.startselected=!0;a._trigger("selected",f,{selected:h.element})});this._trigger("stop",f);this.helper.remove();return!1}});c.extend(c.ui.selectable,{version:"1.8.17"})})(jQuery);
(function(c){c.widget("ui.sortable",c.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var c=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();
this.floating=this.items.length?"x"===c.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var c=this.items.length-1;0<=c;c--)this.items[c].item.removeData(this.widgetName+"-item");return this},_setOption:function(f,a){"disabled"===f?(this.options[f]=a,this.widget()[a?"addClass":
"removeClass"]("ui-sortable-disabled")):c.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(f,a){var h=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(f);var n=null,o=this;c(f.target).parents().each(function(){if(c.data(this,h.widgetName+"-item")==o)return n=c(this),!1});c.data(f.target,h.widgetName+"-item")==o&&(n=c(f.target));if(!n)return!1;if(this.options.handle&&!a){var p=!1;c(this.options.handle,n).find("*").andSelf().each(function(){this==
f.target&&(p=!0)});if(!p)return!1}this.currentItem=n;this._removeCurrentsFromItems();return!0},_mouseStart:function(f,a,h){a=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(f);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=
this.helper.css("position");c.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(f);this.originalPageX=f.pageX;this.originalPageY=f.pageY;a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();
a.containment&&this._setContainment();a.cursor&&(c("body").css("cursor")&&(this._storedCursor=c("body").css("cursor")),c("body").css("cursor",a.cursor));a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity));a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex));this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",f,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!h)for(h=this.containers.length-1;0<=h;h--)this.containers[h]._trigger("activate",f,this._uiHash(this));c.ui.ddmanager&&(c.ui.ddmanager.current=this);c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,f);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(f);return!0},_mouseDrag:function(f){this.position=this._generatePosition(f);this.positionAbs=this._convertPositionTo("absolute");
this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var a=this.options,h=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-f.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+a.scrollSpeed:f.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+
this.scrollParent[0].offsetWidth-f.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+a.scrollSpeed:f.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(f.pageY-c(document).scrollTop()<a.scrollSensitivity?h=c(document).scrollTop(c(document).scrollTop()-a.scrollSpeed):c(window).height()-(f.pageY-c(document).scrollTop())<a.scrollSensitivity&&(h=c(document).scrollTop(c(document).scrollTop()+
a.scrollSpeed)),f.pageX-c(document).scrollLeft()<a.scrollSensitivity?h=c(document).scrollLeft(c(document).scrollLeft()-a.scrollSpeed):c(window).width()-(f.pageX-c(document).scrollLeft())<a.scrollSensitivity&&(h=c(document).scrollLeft(c(document).scrollLeft()+a.scrollSpeed)));!1!==h&&c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,f)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";
if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";for(a=this.items.length-1;0<=a;a--){var h=this.items[a],n=h.item[0],o=this._intersectsWithPointer(h);if(o&&n!=this.currentItem[0]&&this.placeholder[1==o?"next":"prev"]()[0]!=n&&!c.ui.contains(this.placeholder[0],n)&&("semi-dynamic"==this.options.type?!c.ui.contains(this.element[0],n):1)){this.direction=1==o?"down":"up";if("pointer"==this.options.tolerance||this._intersectsWithSides(h))this._rearrange(f,h);
else break;this._trigger("change",f,this._uiHash());break}}this._contactContainers(f);c.ui.ddmanager&&c.ui.ddmanager.drag(this,f);this._trigger("sort",f,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(f,a){if(f){c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,f);if(this.options.revert){var h=this,n=h.placeholder.offset();h.reverting=!0;c(this.helper).animate({left:n.left-this.offset.parent.left-h.margins.left+(this.offsetParent[0]==document.body?
0:this.offsetParent[0].scrollLeft),top:n.top-this.offset.parent.top-h.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){h._clear(f)})}else this._clear(f,a);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var f=this.containers.length-1;0<=f;f--)this.containers[f]._trigger("deactivate",
null,this._uiHash(this)),this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",null,this._uiHash(this)),this.containers[f].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),c.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?c(this.domPosition.prev).after(this.currentItem):
c(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(f){var a=this._getItemsAsjQuery(f&&f.connected),h=[],f=f||{};c(a).each(function(){var a=(c(f.item||this).attr(f.attribute||"id")||"").match(f.expression||/(.+)[-=_](.+)/);a&&h.push((f.key||a[1]+"[]")+"="+(f.key&&f.expression?a[1]:a[2]))});!h.length&&f.key&&h.push(f.key+"=");return h.join("&")},toArray:function(f){var a=this._getItemsAsjQuery(f&&f.connected),h=[],f=f||{};a.each(function(){h.push(c(f.item||this).attr(f.attribute||
"id")||"")});return h},_intersectsWith:function(c){var a=this.positionAbs.left,h=a+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,p=c.left,l=p+c.width,q=c.top,z=q+c.height,A=this.offset.click.top,u=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>c[this.floating?"width":"height"]?n+A>q&&n+A<z&&a+u>p&&a+u<l:p<a+this.helperProportions.width/
2&&h-this.helperProportions.width/2<l&&q<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<z},_intersectsWithPointer:function(f){var a=c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top,f.height),f=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left,f.width),a=a&&f,f=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return!a?!1:this.floating?h&&"right"==h||"down"==f?2:1:f&&("down"==f?2:1)},_intersectsWithSides:function(f){var a=
c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+f.height/2,f.height),f=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+f.width/2,f.width),h=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"==n&&f||"left"==n&&!f:h&&("down"==h&&a||"up"==h&&!a)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return 0!=c&&(0<c?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-
this.lastPositionAbs.left;return 0!=c&&(0<c?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions();return this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(f){var a=[],h=[],n=this._connectWith();if(n&&f)for(f=n.length-1;0<=f;f--)for(var o=c(n[f]),p=o.length-1;0<=p;p--){var l=c.data(o[p],this.widgetName);l&&l!=this&&!l.options.disabled&&h.push([c.isFunction(l.options.items)?
l.options.items.call(l.element):c(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}h.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(f=h.length-1;0<=f;f--)h[f][0].each(function(){a.push(this)});return c(a)},_removeCurrentsFromItems:function(){for(var c=this.currentItem.find(":data("+
this.widgetName+"-item)"),a=0;a<this.items.length;a++)for(var h=0;h<c.length;h++)c[h]==this.items[a].item[0]&&this.items.splice(a,1)},_refreshItems:function(f){this.items=[];this.containers=[this];var a=this.items,h=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],f,{item:this.currentItem}):c(this.options.items,this.element),this]],n=this._connectWith();if(n)for(var o=n.length-1;0<=o;o--)for(var p=c(n[o]),l=p.length-1;0<=l;l--){var q=c.data(p[l],this.widgetName);q&&q!=this&&
!q.options.disabled&&(h.push([c.isFunction(q.options.items)?q.options.items.call(q.element[0],f,{item:this.currentItem}):c(q.options.items,q.element),q]),this.containers.push(q))}for(o=h.length-1;0<=o;o--){f=h[o][1];n=h[o][0];l=0;for(p=n.length;l<p;l++)q=c(n[l]),q.data(this.widgetName+"-item",f),a.push({item:q,instance:f,width:0,height:0,left:0,top:0})}},refreshPositions:function(f){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var a=this.items.length-1;0<=a;a--){var h=
this.items[a];if(!(h.instance!=this.currentContainer&&this.currentContainer&&h.item[0]!=this.currentItem[0])){var n=this.options.toleranceElement?c(this.options.toleranceElement,h.item):h.item;f||(h.width=n.outerWidth(),h.height=n.outerHeight());n=n.offset();h.left=n.left;h.top=n.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(a=this.containers.length-1;0<=a;a--)n=this.containers[a].element.offset(),this.containers[a].containerCache.left=
n.left,this.containers[a].containerCache.top=n.top,this.containers[a].containerCache.width=this.containers[a].element.outerWidth(),this.containers[a].containerCache.height=this.containers[a].element.outerHeight();return this},_createPlaceholder:function(f){var a=f||this,h=a.options;if(!h.placeholder||h.placeholder.constructor==String){var n=h.placeholder;h.placeholder={element:function(){var h=c(document.createElement(a.currentItem[0].nodeName)).addClass(n||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];
n||(h.style.visibility="hidden");return h},update:function(c,f){if(!n||h.forcePlaceholderSize)f.height()||f.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),f.width()||f.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}}}a.placeholder=c(h.placeholder.element.call(a.element,a.currentItem));a.currentItem.after(a.placeholder);h.placeholder.update(a,
a.placeholder)},_contactContainers:function(f){for(var a=null,h=null,n=this.containers.length-1;0<=n;n--)if(!c.ui.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(!a||!c.ui.contains(this.containers[n].element[0],a.element[0]))a=this.containers[n],h=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",f,this._uiHash(this)),this.containers[n].containerCache.over=0);if(a)if(1===this.containers.length)this.containers[h]._trigger("over",
f,this._uiHash(this)),this.containers[h].containerCache.over=1;else if(this.currentContainer!=this.containers[h]){for(var a=1E4,n=null,o=this.positionAbs[this.containers[h].floating?"left":"top"],p=this.items.length-1;0<=p;p--)if(c.ui.contains(this.containers[h].element[0],this.items[p].item[0])){var l=this.items[p][this.containers[h].floating?"left":"top"];Math.abs(l-o)<a&&(a=Math.abs(l-o),n=this.items[p])}if(n||this.options.dropOnEmpty)this.currentContainer=this.containers[h],n?this._rearrange(f,
n,null,!0):this._rearrange(f,null,this.containers[h].element,!0),this._trigger("change",f,this._uiHash()),this.containers[h]._trigger("change",f,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",f,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(f){var a=this.options,f=c.isFunction(a.helper)?c(a.helper.apply(this.element[0],[f,this.currentItem])):"clone"==a.helper?this.currentItem.clone():
this.currentItem;f.parents("body").length||c("parent"!=a.appendTo?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0]);f[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});(""==f[0].style.width||a.forceHelperSize)&&f.width(this.currentItem.width());(""==f[0].style.height||a.forceHelperSize)&&f.height(this.currentItem.height());
return f},_adjustOffsetFromHelper:function(f){"string"==typeof f&&(f=f.split(" "));c.isArray(f)&&(f={left:+f[0],top:+f[1]||0});"left"in f&&(this.offset.click.left=f.left+this.margins.left);"right"in f&&(this.offset.click.left=this.helperProportions.width-f.right+this.margins.left);"top"in f&&(this.offset.click.top=f.top+this.margins.top);"bottom"in f&&(this.offset.click.top=this.helperProportions.height-f.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();
var f=this.offsetParent.offset();"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&c.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(f.left+=this.scrollParent.scrollLeft(),f.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&c.browser.msie)f={top:0,left:0};return{top:f.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:f.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;"parent"==f.containment&&(f.containment=this.helper[0].parentNode);if("document"==f.containment||"window"==f.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c("document"==f.containment?document:window).width()-this.helperProportions.width-this.margins.left,(c("document"==f.containment?document:window).height()||
document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(f.containment)){var a=c(f.containment)[0],f=c(f.containment).offset(),h="hidden"!=c(a).css("overflow");this.containment=[f.left+(parseInt(c(a).css("borderLeftWidth"),10)||0)+(parseInt(c(a).css("paddingLeft"),10)||0)-this.margins.left,f.top+(parseInt(c(a).css("borderTopWidth"),10)||0)+(parseInt(c(a).css("paddingTop"),10)||0)-this.margins.top,f.left+(h?Math.max(a.scrollWidth,
a.offsetWidth):a.offsetWidth)-(parseInt(c(a).css("borderLeftWidth"),10)||0)-(parseInt(c(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,f.top+(h?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(c(a).css("borderTopWidth"),10)||0)-(parseInt(c(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,a){a||(a=this.position);var h="absolute"==f?1:-1,n="absolute"==this.cssPosition&&(this.scrollParent[0]==
document||!c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(n[0].tagName);return{top:a.top+this.offset.relative.top*h+this.offset.parent.top*h-(c.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*h),left:a.left+this.offset.relative.left*h+this.offset.parent.left*h-(c.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():
o?0:n.scrollLeft())*h)}},_generatePosition:function(f){var a=this.options,h="absolute"==this.cssPosition&&(this.scrollParent[0]==document||!c.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,n=/(html|body)/i.test(h[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var o=f.pageX,p=f.pageY;this.originalPosition&&(this.containment&&(f.pageX-
this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),f.pageY-this.offset.click.top<this.containment[1]&&(p=this.containment[1]+this.offset.click.top),f.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),f.pageY-this.offset.click.top>this.containment[3]&&(p=this.containment[3]+this.offset.click.top)),a.grid&&(p=this.originalPageY+Math.round((p-this.originalPageY)/a.grid[1])*a.grid[1],p=this.containment?p-this.offset.click.top<
this.containment[1]||p-this.offset.click.top>this.containment[3]?p-this.offset.click.top<this.containment[1]?p+a.grid[1]:p-a.grid[1]:p:p,o=this.originalPageX+Math.round((o-this.originalPageX)/a.grid[0])*a.grid[0],o=this.containment?o-this.offset.click.left<this.containment[0]||o-this.offset.click.left>this.containment[2]?o-this.offset.click.left<this.containment[0]?o+a.grid[0]:o-a.grid[0]:o:o));return{top:p-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(c.browser.safari&&"fixed"==
this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:h.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(c.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:h.scrollLeft())}},_rearrange:function(c,a,h,n){h?h[0].appendChild(this.placeholder[0]):a.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?a.item[0]:a.item[0].nextSibling);this.counter=this.counter?
++this.counter:1;var o=this,p=this.counter;window.setTimeout(function(){p==o.counter&&o.refreshPositions(!n)},0)},_clear:function(f,a){this.reverting=!1;var h=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var n in this._storedCSS)if("auto"==this._storedCSS[n]||"static"==this._storedCSS[n])this._storedCSS[n]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!a&&h.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!a&&h.push(function(a){this._trigger("update",a,this._uiHash())});if(!c.ui.contains(this.element[0],this.currentItem[0])){a||h.push(function(a){this._trigger("remove",a,this._uiHash())});for(n=this.containers.length-1;0<=n;n--)c.ui.contains(this.containers[n].element[0],
this.currentItem[0])&&!a&&(h.push(function(a){return function(c){a._trigger("receive",c,this._uiHash(this))}}.call(this,this.containers[n])),h.push(function(a){return function(c){a._trigger("update",c,this._uiHash(this))}}.call(this,this.containers[n])))}for(n=this.containers.length-1;0<=n;n--)a||h.push(function(a){return function(c){a._trigger("deactivate",c,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(h.push(function(a){return function(c){a._trigger("out",
c,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);this._storedCursor&&c("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!a){this._trigger("beforeStop",f,this._uiHash());for(n=0;n<h.length;n++)h[n].call(this,f);this._trigger("stop",f,this._uiHash())}return!1}a||
this._trigger("beforeStop",f,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!a){for(n=0;n<h.length;n++)h[n].call(this,f);this._trigger("stop",f,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===c.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(f){var a=f||this;return{helper:a.helper,placeholder:a.placeholder||c([]),position:a.position,
originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,sender:f?f.element:null}}});c.extend(c.ui.sortable,{version:"1.8.17"})})(jQuery);
jQuery.effects||function(c,f){function a(a){return!a||"number"==typeof a||c.fx.speeds[a]||"string"==typeof a&&!c.effects[a]?!0:!1}function h(a,h,l,f){"object"==typeof a&&(f=h,l=null,h=a,a=h.effect);c.isFunction(h)&&(f=h,l=null,h={});if("number"==typeof h||c.fx.speeds[h])f=l,l=h,h={};c.isFunction(l)&&(f=l,l=null);h=h||{};l=l||h.duration;l=c.fx.off?0:"number"==typeof l?l:l in c.fx.speeds?c.fx.speeds[l]:c.fx.speeds._default;f=f||h.complete;return[a,h,l,f]}function n(a,c){var h={_:0},l;for(l in c)a[l]!=
c[l]&&(h[l]=c[l]);return h}function o(a){var h,l;for(h in a)l=a[h],(null==l||c.isFunction(l)||h in A||/scrollbar/.test(h)||!/color/i.test(h)&&isNaN(parseFloat(l)))&&delete a[h];return a}function p(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,c={},h,l;if(a&&a.length&&a[0]&&a[a[0]])for(var f=a.length;f--;)h=a[f],"string"==typeof a[h]&&(l=h.replace(/\-(\w)/g,function(a,c){return c.toUpperCase()}),c[l]=a[h]);else for(h in a)"string"==typeof a[h]&&(c[h]=
a[h]);return c}function l(a){var h;return a&&a.constructor==Array&&3==a.length?a:(h=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(h[1],10),parseInt(h[2],10),parseInt(h[3],10)]:(h=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?[2.55*parseFloat(h[1]),2.55*parseFloat(h[2]),2.55*parseFloat(h[3])]:(h=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],
16)]:(h=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(a)?q.transparent:q[c.trim(a).toLowerCase()]}c.effects={};c.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor borderColor color outlineColor".split(" "),function(a,h){c.fx.step[h]=function(a){if(!a.colorInit){var f;f=a.elem;var n=h,o;do{o=c.curCSS(f,n);if(o!=""&&o!="transparent"||c.nodeName(f,"body"))break;
n="backgroundColor"}while(f=f.parentNode);f=l(o);a.start=f;a.end=l(a.end);a.colorInit=true}a.elem.style[h]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var q={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,
0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,
255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},z=["add","remove","toggle"],A={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};c.effects.animateClass=function(a,h,l,f){c.isFunction(l)&&(f=l,l=null);return this.queue(function(){var q=
c(this),A=q.attr("style")||" ",I=o(p.call(this)),O,N=q.attr("class");c.each(z,function(c,h){a[h]&&q[h+"Class"](a[h])});O=o(p.call(this));q.attr("class",N);q.animate(n(I,O),{queue:!1,duration:h,easing:l,complete:function(){c.each(z,function(c,h){a[h]&&q[h+"Class"](a[h])});"object"==typeof q.attr("style")?(q.attr("style").cssText="",q.attr("style").cssText=A):q.attr("style",A);f&&f.apply(this,arguments);c.dequeue(this)}})})};c.fn.extend({_addClass:c.fn.addClass,addClass:function(a,h,l,f){return h?c.effects.animateClass.apply(this,
[{add:a},h,l,f]):this._addClass(a)},_removeClass:c.fn.removeClass,removeClass:function(a,h,l,f){return h?c.effects.animateClass.apply(this,[{remove:a},h,l,f]):this._removeClass(a)},_toggleClass:c.fn.toggleClass,toggleClass:function(a,h,l,n,o){return"boolean"==typeof h||h===f?l?c.effects.animateClass.apply(this,[h?{add:a}:{remove:a},l,n,o]):this._toggleClass(a,h):c.effects.animateClass.apply(this,[{toggle:a},h,l,n])},switchClass:function(a,h,l,f,n){return c.effects.animateClass.apply(this,[{add:h,
remove:a},l,f,n])}});c.extend(c.effects,{version:"1.8.17",save:function(a,c){for(var h=0;h<c.length;h++)null!==c[h]&&a.data("ec.storage."+c[h],a[0].style[c[h]])},restore:function(a,c){for(var h=0;h<c.length;h++)null!==c[h]&&a.css(c[h],a.data("ec.storage."+c[h]))},setMode:function(a,c){"toggle"==c&&(c=a.is(":hidden")?"show":"hide");return c},getBaseline:function(a,c){var h,l;switch(a[0]){case "top":h=0;break;case "middle":h=0.5;break;case "bottom":h=1;break;default:h=a[0]/c.height}switch(a[1]){case "left":l=
0;break;case "center":l=0.5;break;case "right":l=1;break;default:l=a[1]/c.width}return{x:l,y:h}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var h={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},l=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f=document.activeElement;a.wrap(l);(a[0]===f||c.contains(a[0],f))&&c(f).focus();l=a.parent();"static"==a.css("position")?
(l.css({position:"relative"}),a.css({position:"relative"})):(c.extend(h,{position:a.css("position"),zIndex:a.css("z-index")}),c.each(["top","left","bottom","right"],function(c,l){h[l]=a.css(l);isNaN(parseInt(h[l],10))&&(h[l]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return l.css(h).show()},removeWrapper:function(a){var h,l=document.activeElement;return a.parent().is(".ui-effects-wrapper")?(h=a.parent().replaceWith(a),(a[0]===l||c.contains(a[0],l))&&c(l).focus(),
h):a},setTransition:function(a,h,l,f){f=f||{};c.each(h,function(c,h){unit=a.cssUnit(h);0<unit[0]&&(f[h]=unit[0]*l+unit[1])});return f}});c.fn.extend({effect:function(a,l,f,n){var o=h.apply(this,arguments),q={options:o[1],duration:o[2],callback:o[3]},o=q.options.mode,p=c.effects[a];return c.fx.off||!p?o?this[o](q.duration,q.callback):this.each(function(){q.callback&&q.callback.call(this)}):p.call(this,q)},_show:c.fn.show,show:function(c){if(a(c))return this._show.apply(this,arguments);var l=h.apply(this,
arguments);l[1].mode="show";return this.effect.apply(this,l)},_hide:c.fn.hide,hide:function(c){if(a(c))return this._hide.apply(this,arguments);var l=h.apply(this,arguments);l[1].mode="hide";return this.effect.apply(this,l)},__toggle:c.fn.toggle,toggle:function(l){if(a(l)||"boolean"==typeof l||c.isFunction(l))return this.__toggle.apply(this,arguments);var f=h.apply(this,arguments);f[1].mode="toggle";return this.effect.apply(this,f)},cssUnit:function(a){var h=this.css(a),l=[];c.each(["em","px","%",
"pt"],function(a,c){0<h.indexOf(c)&&(l=[parseFloat(h),c])});return l}});c.easing.jswing=c.easing.swing;c.extend(c.easing,{def:"easeOutQuad",swing:function(a,h,l,f,n){return c.easing[c.easing.def](a,h,l,f,n)},easeInQuad:function(a,c,h,l,f){return l*(c/=f)*c+h},easeOutQuad:function(a,c,h,l,f){return-l*(c/=f)*(c-2)+h},easeInOutQuad:function(a,c,h,l,f){return 1>(c/=f/2)?l/2*c*c+h:-l/2*(--c*(c-2)-1)+h},easeInCubic:function(a,c,h,l,f){return l*(c/=f)*c*c+h},easeOutCubic:function(a,c,h,l,f){return l*((c=
c/f-1)*c*c+1)+h},easeInOutCubic:function(a,c,h,l,f){return 1>(c/=f/2)?l/2*c*c*c+h:l/2*((c-=2)*c*c+2)+h},easeInQuart:function(a,c,h,l,f){return l*(c/=f)*c*c*c+h},easeOutQuart:function(a,c,h,l,f){return-l*((c=c/f-1)*c*c*c-1)+h},easeInOutQuart:function(a,c,h,l,f){return 1>(c/=f/2)?l/2*c*c*c*c+h:-l/2*((c-=2)*c*c*c-2)+h},easeInQuint:function(a,c,h,l,f){return l*(c/=f)*c*c*c*c+h},easeOutQuint:function(a,c,h,l,f){return l*((c=c/f-1)*c*c*c*c+1)+h},easeInOutQuint:function(a,c,h,l,f){return 1>(c/=f/2)?l/2*
c*c*c*c*c+h:l/2*((c-=2)*c*c*c*c+2)+h},easeInSine:function(a,c,h,l,f){return-l*Math.cos(c/f*(Math.PI/2))+l+h},easeOutSine:function(a,c,h,l,f){return l*Math.sin(c/f*(Math.PI/2))+h},easeInOutSine:function(a,c,h,l,f){return-l/2*(Math.cos(Math.PI*c/f)-1)+h},easeInExpo:function(a,c,h,l,f){return 0==c?h:l*Math.pow(2,10*(c/f-1))+h},easeOutExpo:function(a,c,h,l,f){return c==f?h+l:l*(-Math.pow(2,-10*c/f)+1)+h},easeInOutExpo:function(a,c,h,l,f){return 0==c?h:c==f?h+l:1>(c/=f/2)?l/2*Math.pow(2,10*(c-1))+h:l/
2*(-Math.pow(2,-10*--c)+2)+h},easeInCirc:function(a,c,h,l,f){return-l*(Math.sqrt(1-(c/=f)*c)-1)+h},easeOutCirc:function(a,c,h,l,f){return l*Math.sqrt(1-(c=c/f-1)*c)+h},easeInOutCirc:function(a,c,h,l,f){return 1>(c/=f/2)?-l/2*(Math.sqrt(1-c*c)-1)+h:l/2*(Math.sqrt(1-(c-=2)*c)+1)+h},easeInElastic:function(a,c,h,l,f){var a=1.70158,n=0,o=l;if(0==c)return h;if(1==(c/=f))return h+l;n||(n=0.3*f);o<Math.abs(l)?(o=l,a=n/4):a=n/(2*Math.PI)*Math.asin(l/o);return-(o*Math.pow(2,10*(c-=1))*Math.sin(2*(c*f-a)*Math.PI/
n))+h},easeOutElastic:function(a,c,h,l,f){var a=1.70158,n=0,o=l;if(0==c)return h;if(1==(c/=f))return h+l;n||(n=0.3*f);o<Math.abs(l)?(o=l,a=n/4):a=n/(2*Math.PI)*Math.asin(l/o);return o*Math.pow(2,-10*c)*Math.sin(2*(c*f-a)*Math.PI/n)+l+h},easeInOutElastic:function(a,c,h,l,f){var a=1.70158,n=0,o=l;if(0==c)return h;if(2==(c/=f/2))return h+l;n||(n=1.5*0.3*f);o<Math.abs(l)?(o=l,a=n/4):a=n/(2*Math.PI)*Math.asin(l/o);return 1>c?-0.5*o*Math.pow(2,10*(c-=1))*Math.sin(2*(c*f-a)*Math.PI/n)+h:0.5*o*Math.pow(2,
-10*(c-=1))*Math.sin(2*(c*f-a)*Math.PI/n)+l+h},easeInBack:function(a,c,h,l,n,o){o==f&&(o=1.70158);return l*(c/=n)*c*((o+1)*c-o)+h},easeOutBack:function(a,c,h,l,n,o){o==f&&(o=1.70158);return l*((c=c/n-1)*c*((o+1)*c+o)+1)+h},easeInOutBack:function(a,c,h,l,n,o){o==f&&(o=1.70158);return 1>(c/=n/2)?l/2*c*c*(((o*=1.525)+1)*c-o)+h:l/2*((c-=2)*c*(((o*=1.525)+1)*c+o)+2)+h},easeInBounce:function(a,h,l,f,n){return f-c.easing.easeOutBounce(a,n-h,0,f,n)+l},easeOutBounce:function(a,c,h,l,f){return(c/=f)<1/2.75?
7.5625*l*c*c+h:c<2/2.75?l*(7.5625*(c-=1.5/2.75)*c+0.75)+h:c<2.5/2.75?l*(7.5625*(c-=2.25/2.75)*c+0.9375)+h:l*(7.5625*(c-=2.625/2.75)*c+0.984375)+h},easeInOutBounce:function(a,h,l,f,n){return h<n/2?0.5*c.easing.easeInBounce(a,2*h,0,f,n)+l:0.5*c.easing.easeOutBounce(a,2*h-n,0,f,n)+0.5*f+l}})}(jQuery);
(function(c){c.effects.blind=function(f){return this.queue(function(){var a=c(this),h=["position","top","bottom","left","right"],n=c.effects.setMode(a,f.options.mode||"hide"),o=f.options.direction||"vertical";c.effects.save(a,h);a.show();var p=c.effects.createWrapper(a).css({overflow:"hidden"}),l="vertical"==o?"height":"width",o="vertical"==o?p.height():p.width();"show"==n&&p.css(l,0);var q={};q[l]="show"==n?o:0;p.animate(q,f.duration,f.options.easing,function(){"hide"==n&&a.hide();c.effects.restore(a,
h);c.effects.removeWrapper(a);f.callback&&f.callback.apply(a[0],arguments);a.dequeue()})})}})(jQuery);
(function(c){c.effects.bounce=function(f){return this.queue(function(){var a=c(this),h=["position","top","bottom","left","right"],n=c.effects.setMode(a,f.options.mode||"effect"),o=f.options.direction||"up",p=f.options.distance||20,l=f.options.times||5,q=f.duration||250;/show|hide/.test(n)&&h.push("opacity");c.effects.save(a,h);a.show();c.effects.createWrapper(a);var z="up"==o||"down"==o?"top":"left",o="up"==o||"left"==o?"pos":"neg",p=f.options.distance||("top"==z?a.outerHeight({margin:!0})/3:a.outerWidth({margin:!0})/
3);"show"==n&&a.css("opacity",0).css(z,"pos"==o?-p:p);"hide"==n&&(p/=2*l);"hide"!=n&&l--;if("show"==n){var A={opacity:1};A[z]=("pos"==o?"+=":"-=")+p;a.animate(A,q/2,f.options.easing);p/=2;l--}for(A=0;A<l;A++){var u={},B={};u[z]=("pos"==o?"-=":"+=")+p;B[z]=("pos"==o?"+=":"-=")+p;a.animate(u,q/2,f.options.easing).animate(B,q/2,f.options.easing);p="hide"==n?2*p:p/2}"hide"==n?(A={opacity:0},A[z]=("pos"==o?"-=":"+=")+p,a.animate(A,q/2,f.options.easing,function(){a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);
f.callback&&f.callback.apply(this,arguments)})):(u={},B={},u[z]=("pos"==o?"-=":"+=")+p,B[z]=("pos"==o?"+=":"-=")+p,a.animate(u,q/2,f.options.easing).animate(B,q/2,f.options.easing,function(){c.effects.restore(a,h);c.effects.removeWrapper(a);f.callback&&f.callback.apply(this,arguments)}));a.queue("fx",function(){a.dequeue()});a.dequeue()})}})(jQuery);
(function(c){c.effects.clip=function(f){return this.queue(function(){var a=c(this),h="position top bottom left right height width".split(" "),n=c.effects.setMode(a,f.options.mode||"hide"),o=f.options.direction||"vertical";c.effects.save(a,h);a.show();var p=c.effects.createWrapper(a).css({overflow:"hidden"}),p="IMG"==a[0].tagName?p:a,l="vertical"==o?"height":"width",q="vertical"==o?"top":"left",o="vertical"==o?p.height():p.width();"show"==n&&(p.css(l,0),p.css(q,o/2));var z={};z[l]="show"==n?o:0;z[q]=
"show"==n?0:o/2;p.animate(z,{queue:!1,duration:f.duration,easing:f.options.easing,complete:function(){"hide"==n&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);f.callback&&f.callback.apply(a[0],arguments);a.dequeue()}})})}})(jQuery);
(function(c){c.effects.drop=function(f){return this.queue(function(){var a=c(this),h="position top bottom left right opacity".split(" "),n=c.effects.setMode(a,f.options.mode||"hide"),o=f.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a);var p="up"==o||"down"==o?"top":"left",o="up"==o||"left"==o?"pos":"neg",l=f.options.distance||("top"==p?a.outerHeight({margin:!0})/2:a.outerWidth({margin:!0})/2);"show"==n&&a.css("opacity",0).css(p,"pos"==o?-l:l);var q={opacity:"show"==
n?1:0};q[p]=("show"==n?"pos"==o?"+=":"-=":"pos"==o?"-=":"+=")+l;a.animate(q,{queue:!1,duration:f.duration,easing:f.options.easing,complete:function(){"hide"==n&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);f.callback&&f.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(c){c.effects.explode=function(f){return this.queue(function(){var a=f.options.pieces?Math.round(Math.sqrt(f.options.pieces)):3,h=f.options.pieces?Math.round(Math.sqrt(f.options.pieces)):3;f.options.mode="toggle"==f.options.mode?c(this).is(":visible")?"hide":"show":f.options.mode;var n=c(this).show().css("visibility","hidden"),o=n.offset();o.top-=parseInt(n.css("marginTop"),10)||0;o.left-=parseInt(n.css("marginLeft"),10)||0;for(var p=n.outerWidth(!0),l=n.outerHeight(!0),q=0;q<a;q++)for(var z=
0;z<h;z++)n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-z*(p/h),top:-q*(l/a)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p/h,height:l/a,left:o.left+z*(p/h)+("show"==f.options.mode?(z-Math.floor(h/2))*(p/h):0),top:o.top+q*(l/a)+("show"==f.options.mode?(q-Math.floor(a/2))*(l/a):0),opacity:"show"==f.options.mode?0:1}).animate({left:o.left+z*(p/h)+("show"==f.options.mode?0:(z-Math.floor(h/2))*(p/h)),top:o.top+
q*(l/a)+("show"==f.options.mode?0:(q-Math.floor(a/2))*(l/a)),opacity:"show"==f.options.mode?1:0},f.duration||500);setTimeout(function(){"show"==f.options.mode?n.css({visibility:"visible"}):n.css({visibility:"visible"}).hide();f.callback&&f.callback.apply(n[0]);n.dequeue();c("div.ui-effects-explode").remove()},f.duration||500)})}})(jQuery);
(function(c){c.effects.fade=function(f){return this.queue(function(){var a=c(this),h=c.effects.setMode(a,f.options.mode||"hide");a.animate({opacity:h},{queue:!1,duration:f.duration,easing:f.options.easing,complete:function(){f.callback&&f.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(c){c.effects.fold=function(f){return this.queue(function(){var a=c(this),h=["position","top","bottom","left","right"],n=c.effects.setMode(a,f.options.mode||"hide"),o=f.options.size||15,p=!!f.options.horizFirst,l=f.duration?f.duration/2:c.fx.speeds._default/2;c.effects.save(a,h);a.show();var q=c.effects.createWrapper(a).css({overflow:"hidden"}),z="show"==n!=p,A=z?["width","height"]:["height","width"],z=z?[q.width(),q.height()]:[q.height(),q.width()],u=/([0-9]+)%/.exec(o);u&&(o=parseInt(u[1],
10)/100*z["hide"==n?0:1]);"show"==n&&q.css(p?{height:0,width:o}:{height:o,width:0});p={};u={};p[A[0]]="show"==n?z[0]:o;u[A[1]]="show"==n?z[1]:0;q.animate(p,l,f.options.easing).animate(u,l,f.options.easing,function(){"hide"==n&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);f.callback&&f.callback.apply(a[0],arguments);a.dequeue()})})}})(jQuery);
(function(c){c.effects.highlight=function(f){return this.queue(function(){var a=c(this),h=["backgroundImage","backgroundColor","opacity"],n=c.effects.setMode(a,f.options.mode||"show"),o={backgroundColor:a.css("backgroundColor")};"hide"==n&&(o.opacity=0);c.effects.save(a,h);a.show().css({backgroundImage:"none",backgroundColor:f.options.color||"#ffff99"}).animate(o,{queue:!1,duration:f.duration,easing:f.options.easing,complete:function(){"hide"==n&&a.hide();c.effects.restore(a,h);"show"==n&&!c.support.opacity&&
this.style.removeAttribute("filter");f.callback&&f.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(c){c.effects.pulsate=function(f){return this.queue(function(){var a=c(this),h=c.effects.setMode(a,f.options.mode||"show");times=2*(f.options.times||5)-1;duration=f.duration?f.duration/2:c.fx.speeds._default/2;isVisible=a.is(":visible");animateTo=0;isVisible||(a.css("opacity",0).show(),animateTo=1);("hide"==h&&isVisible||"show"==h&&!isVisible)&&times--;for(h=0;h<times;h++)a.animate({opacity:animateTo},duration,f.options.easing),animateTo=(animateTo+1)%2;a.animate({opacity:animateTo},duration,
f.options.easing,function(){0==animateTo&&a.hide();f.callback&&f.callback.apply(this,arguments)});a.queue("fx",function(){a.dequeue()}).dequeue()})}})(jQuery);
(function(c){c.effects.puff=function(f){return this.queue(function(){var a=c(this),h=c.effects.setMode(a,f.options.mode||"hide"),n=parseInt(f.options.percent,10)||150,o=n/100,p={height:a.height(),width:a.width()};c.extend(f.options,{fade:!0,mode:h,percent:"hide"==h?n:100,from:"hide"==h?p:{height:p.height*o,width:p.width*o}});a.effect("scale",f.options,f.duration,f.callback);a.dequeue()})};c.effects.scale=function(f){return this.queue(function(){var a=c(this),h=c.extend(!0,{},f.options),n=c.effects.setMode(a,
f.options.mode||"effect"),o=parseInt(f.options.percent,10)||(0==parseInt(f.options.percent,10)?0:"hide"==n?0:100),p=f.options.direction||"both",l=f.options.origin;"effect"!=n&&(h.origin=l||["middle","center"],h.restore=!0);l={height:a.height(),width:a.width()};a.from=f.options.from||("show"==n?{height:0,width:0}:l);a.to={height:l.height*("horizontal"!=p?o/100:1),width:l.width*("vertical"!=p?o/100:1)};f.options.fade&&("show"==n&&(a.from.opacity=0,a.to.opacity=1),"hide"==n&&(a.from.opacity=1,a.to.opacity=
0));h.from=a.from;h.to=a.to;h.mode=n;a.effect("size",h,f.duration,f.callback);a.dequeue()})};c.effects.size=function(f){return this.queue(function(){var a=c(this),h="position top bottom left right width height overflow opacity".split(" "),n="position top bottom left right overflow opacity".split(" "),o=["width","height","overflow"],p=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],z=c.effects.setMode(a,
f.options.mode||"effect"),A=f.options.restore||!1,u=f.options.scale||"both",B=f.options.origin,E={height:a.height(),width:a.width()};a.from=f.options.from||E;a.to=f.options.to||E;B&&(B=c.effects.getBaseline(B,E),a.from.top=(E.height-a.from.height)*B.y,a.from.left=(E.width-a.from.width)*B.x,a.to.top=(E.height-a.to.height)*B.y,a.to.left=(E.width-a.to.width)*B.x);var C=a.from.height/E.height,G=a.from.width/E.width,F=a.to.height/E.height,I=a.to.width/E.width;if("box"==u||"both"==u)C!=F&&(h=h.concat(l),
a.from=c.effects.setTransition(a,l,C,a.from),a.to=c.effects.setTransition(a,l,F,a.to)),G!=I&&(h=h.concat(q),a.from=c.effects.setTransition(a,q,G,a.from),a.to=c.effects.setTransition(a,q,I,a.to));("content"==u||"both"==u)&&C!=F&&(h=h.concat(p),a.from=c.effects.setTransition(a,p,C,a.from),a.to=c.effects.setTransition(a,p,F,a.to));c.effects.save(a,A?h:n);a.show();c.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);if("content"==u||"both"==u)l=l.concat(["marginTop","marginBottom"]).concat(p),
q=q.concat(["marginLeft","marginRight"]),o=h.concat(l).concat(q),a.find("*[width]").each(function(){child=c(this);A&&c.effects.save(child,o);var a=child.height(),h=child.width();child.from={height:a*C,width:h*G};child.to={height:a*F,width:h*I};C!=F&&(child.from=c.effects.setTransition(child,l,C,child.from),child.to=c.effects.setTransition(child,l,F,child.to));G!=I&&(child.from=c.effects.setTransition(child,q,G,child.from),child.to=c.effects.setTransition(child,q,I,child.to));child.css(child.from);
child.animate(child.to,f.duration,f.options.easing,function(){A&&c.effects.restore(child,o)})});a.animate(a.to,{queue:!1,duration:f.duration,easing:f.options.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity);"hide"==z&&a.hide();c.effects.restore(a,A?h:n);c.effects.removeWrapper(a);f.callback&&f.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(c){c.effects.shake=function(f){return this.queue(function(){var a=c(this),h=["position","top","bottom","left","right"];c.effects.setMode(a,f.options.mode||"effect");var n=f.options.direction||"left",o=f.options.distance||20,p=f.options.times||3,l=f.duration||f.options.duration||140;c.effects.save(a,h);a.show();c.effects.createWrapper(a);var q="up"==n||"down"==n?"top":"left",z="up"==n||"left"==n?"pos":"neg",n={},A={},u={};n[q]=("pos"==z?"-=":"+=")+o;A[q]=("pos"==z?"+=":"-=")+2*o;u[q]=("pos"==
z?"-=":"+=")+2*o;a.animate(n,l,f.options.easing);for(o=1;o<p;o++)a.animate(A,l,f.options.easing).animate(u,l,f.options.easing);a.animate(A,l,f.options.easing).animate(n,l/2,f.options.easing,function(){c.effects.restore(a,h);c.effects.removeWrapper(a);f.callback&&f.callback.apply(this,arguments)});a.queue("fx",function(){a.dequeue()});a.dequeue()})}})(jQuery);
(function(c){c.effects.slide=function(f){return this.queue(function(){var a=c(this),h=["position","top","bottom","left","right"],n=c.effects.setMode(a,f.options.mode||"show"),o=f.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a).css({overflow:"hidden"});var p="up"==o||"down"==o?"top":"left",o="up"==o||"left"==o?"pos":"neg",l=f.options.distance||("top"==p?a.outerHeight({margin:!0}):a.outerWidth({margin:!0}));"show"==n&&a.css(p,"pos"==o?isNaN(l)?"-"+l:-l:l);var q={};
q[p]=("show"==n?"pos"==o?"+=":"-=":"pos"==o?"-=":"+=")+l;a.animate(q,{queue:!1,duration:f.duration,easing:f.options.easing,complete:function(){"hide"==n&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);f.callback&&f.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
(function(c){c.effects.transfer=function(f){return this.queue(function(){var a=c(this),h=c(f.options.to),n=h.offset(),h={top:n.top,left:n.left,height:h.innerHeight(),width:h.innerWidth()},n=a.offset(),o=c('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(f.options.className).css({top:n.top,left:n.left,height:a.innerHeight(),width:a.innerWidth(),position:"absolute"}).animate(h,f.duration,f.options.easing,function(){o.remove();f.callback&&f.callback.apply(a[0],arguments);a.dequeue()})})}})(jQuery);
(function(c){c.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var f=this,a=f.options;f.running=0;f.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");
f.headers=f.element.find(a.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){a.disabled||c(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){a.disabled||c(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){a.disabled||c(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){a.disabled||c(this).removeClass("ui-state-focus")});f.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");
if(a.navigation){var h=f.element.find("a").filter(a.navigationFilter).eq(0);if(h.length){var n=h.closest(".ui-accordion-header");n.length?f.active=n:f.active=h.closest(".ui-accordion-content").prev()}}f.active=f._findActive(f.active||a.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");f.active.next().addClass("ui-accordion-content-active");f._createIcons();f.resize();f.element.attr("role","tablist");f.headers.attr("role","tab").bind("keydown.accordion",
function(a){return f._keydown(a)}).next().attr("role","tabpanel");f.headers.not(f.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();f.active.length?f.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):f.headers.eq(0).attr("tabIndex",0);c.browser.safari||f.headers.find("a").attr("tabIndex",-1);a.event&&f.headers.bind(a.event.split(" ").join(".accordion ")+".accordion",function(a){f._clickHandler.call(f,a,this);a.preventDefault()})},_createIcons:function(){var f=
this.options;f.icons&&(c("<span></span>").addClass("ui-icon "+f.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(f.icons.header).toggleClass(f.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var f=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex");
this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var a=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(f.autoHeight||f.fillHeight)&&a.css("height","");return c.Widget.prototype.destroy.call(this)},_setOption:function(f,a){c.Widget.prototype._setOption.apply(this,arguments);"active"==f&&this.activate(a);"icons"==f&&(this._destroyIcons(),
a&&this._createIcons());"disabled"==f&&this.headers.add(this.headers.next())[a?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(f){if(!this.options.disabled&&!f.altKey&&!f.ctrlKey){var a=c.ui.keyCode,h=this.headers.length,n=this.headers.index(f.target),o=!1;switch(f.keyCode){case a.RIGHT:case a.DOWN:o=this.headers[(n+1)%h];break;case a.LEFT:case a.UP:o=this.headers[(n-1+h)%h];break;case a.SPACE:case a.ENTER:this._clickHandler({target:f.target},f.target),f.preventDefault()}return o?
(c(f.target).attr("tabIndex",-1),c(o).attr("tabIndex",0),o.focus(),!1):!0}},resize:function(){var f=this.options,a;if(f.fillSpace){if(c.browser.msie){var h=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}a=this.element.parent().height();c.browser.msie&&this.element.parent().css("overflow",h);this.headers.each(function(){a-=c(this).outerHeight(!0)});this.headers.next().each(function(){c(this).height(Math.max(0,a-c(this).innerHeight()+c(this).height()))}).css("overflow",
"auto")}else f.autoHeight&&(a=0,this.headers.next().each(function(){a=Math.max(a,c(this).height("").height())}).height(a));return this},activate:function(c){this.options.active=c;c=this._findActive(c)[0];this._clickHandler({target:c},c);return this},_findActive:function(f){return f?"number"==typeof f?this.headers.filter(":eq("+f+")"):this.headers.not(this.headers.not(f)):!1===f?c([]):this.headers.filter(":eq(0)")},_clickHandler:function(f,a){var h=this.options;if(!h.disabled)if(f.target){var n=c(f.currentTarget||
a),o=n[0]===this.active[0];h.active=h.collapsible&&o?!1:this.headers.index(n);if(!(this.running||!h.collapsible&&o)){var p=this.active,l=n.next(),q=this.active.next(),z={options:h,newHeader:o&&h.collapsible?c([]):n,oldHeader:this.active,newContent:o&&h.collapsible?c([]):l,oldContent:q},A=this.headers.index(this.active[0])>this.headers.index(n[0]);this.active=o?c([]):n;this._toggle(l,q,z,o,A);p.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(h.icons.headerSelected).addClass(h.icons.header);
o||(n.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(h.icons.header).addClass(h.icons.headerSelected),n.next().addClass("ui-accordion-content-active"))}}else h.collapsible&&(this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(h.icons.headerSelected).addClass(h.icons.header),this.active.next().addClass("ui-accordion-content-active"),q=this.active.next(),
z={options:h,newHeader:c([]),oldHeader:h.active,newContent:c([]),oldContent:q},l=this.active=c([]),this._toggle(l,q,z))},_toggle:function(f,a,h,n,o){var p=this,l=p.options;p.toShow=f;p.toHide=a;p.data=h;var q=function(){if(p)return p._completed.apply(p,arguments)};p._trigger("changestart",null,p.data);p.running=0===a.size()?f.size():a.size();if(l.animated){h={};l.collapsible&&n?h={toShow:c([]),toHide:a,complete:q,down:o,autoHeight:l.autoHeight||l.fillSpace}:h={toShow:f,toHide:a,complete:q,down:o,
autoHeight:l.autoHeight||l.fillSpace};l.proxied||(l.proxied=l.animated);l.proxiedDuration||(l.proxiedDuration=l.duration);l.animated=c.isFunction(l.proxied)?l.proxied(h):l.proxied;l.duration=c.isFunction(l.proxiedDuration)?l.proxiedDuration(h):l.proxiedDuration;var n=c.ui.accordion.animations,z=l.duration,A=l.animated;A&&!n[A]&&!c.easing[A]&&(A="slide");n[A]||(n[A]=function(a){this.slide(a,{easing:A,duration:z||700})});n[A](h)}else l.collapsible&&n?f.toggle():(a.hide(),f.show()),q(!0);a.prev().attr({"aria-expanded":"false",
"aria-selected":"false",tabIndex:-1}).blur();f.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(c){(this.running=c?0:--this.running)||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}});c.extend(c.ui.accordion,{version:"1.8.17",animations:{slide:function(f,
a){f=c.extend({easing:"swing",duration:300},f,a);if(f.toHide.size())if(f.toShow.size()){var h=f.toShow.css("overflow"),n=0,o={},p={},l,q=f.toShow;l=q[0].style.width;q.width(q.parent().width()-parseFloat(q.css("paddingLeft"))-parseFloat(q.css("paddingRight"))-(parseFloat(q.css("borderLeftWidth"))||0)-(parseFloat(q.css("borderRightWidth"))||0));c.each(["height","paddingTop","paddingBottom"],function(a,h){p[h]="hide";var l=(""+c.css(f.toShow[0],h)).match(/^([\d+-.]+)(.*)$/);o[h]={value:l[1],unit:l[2]||
"px"}});f.toShow.css({height:0,overflow:"hidden"}).show();f.toHide.filter(":hidden").each(f.complete).end().filter(":visible").animate(p,{step:function(a,c){"height"==c.prop&&(n=0===c.end-c.start?0:(c.now-c.start)/(c.end-c.start));f.toShow[0].style[c.prop]=n*o[c.prop].value+o[c.prop].unit},duration:f.duration,easing:f.easing,complete:function(){f.autoHeight||f.toShow.css("height","");f.toShow.css({width:l,overflow:h});f.complete()}})}else f.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},
f);else f.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},f)},bounceslide:function(c){this.slide(c,{easing:c.down?"easeOutBounce":"swing",duration:c.down?1E3:200})}}})})(jQuery);
(function(c){var f=0;c.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,h=this.element[0].ownerDocument,f;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(h){if(!a.options.disabled&&!a.element.propAttr("readOnly")){f=
!1;var p=c.ui.keyCode;switch(h.keyCode){case p.PAGE_UP:a._move("previousPage",h);break;case p.PAGE_DOWN:a._move("nextPage",h);break;case p.UP:a._move("previous",h);h.preventDefault();break;case p.DOWN:a._move("next",h);h.preventDefault();break;case p.ENTER:case p.NUMPAD_ENTER:a.menu.active&&(f=!0,h.preventDefault());case p.TAB:if(!a.menu.active)break;a.menu.select(h);break;case p.ESCAPE:a.element.val(a.term);a.close(h);break;default:clearTimeout(a.searching),a.searching=setTimeout(function(){a.term!=
a.element.val()&&(a.selectedItem=null,a.search(null,h))},a.options.delay)}}}).bind("keypress.autocomplete",function(a){f&&(f=!1,a.preventDefault())}).bind("focus.autocomplete",function(){a.options.disabled||(a.selectedItem=null,a.previous=a.element.val())}).bind("blur.autocomplete",function(c){a.options.disabled||(clearTimeout(a.searching),a.closing=setTimeout(function(){a.close(c);a._change(c)},150))});this._initSource();this.response=function(){return a._response.apply(a,arguments)};this.menu=c("<ul></ul>").addClass("ui-autocomplete").appendTo(c(this.options.appendTo||
"body",h)[0]).mousedown(function(h){var f=a.menu.element[0];c(h.target).closest(".ui-menu-item").length||setTimeout(function(){c(document).one("mousedown",function(h){h.target!==a.element[0]&&h.target!==f&&!c.ui.contains(f,h.target)&&a.close()})},1);setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(c,h){var l=h.item.data("item.autocomplete");!1!==a._trigger("focus",c,{item:l})&&/^key/.test(c.originalEvent.type)&&a.element.val(l.value)},selected:function(c,f){var l=f.item.data("item.autocomplete"),
n=a.previous;a.element[0]!==h.activeElement&&(a.element.focus(),a.previous=n,setTimeout(function(){a.previous=n;a.selectedItem=l},1));!1!==a._trigger("select",c,{item:l})&&a.element.val(l.value);a.term=a.element.val();a.close(c);a.selectedItem=l},blur:function(){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");c.fn.bgiframe&&this.menu.element.bgiframe();a.beforeunloadHandler=function(){a.element.removeAttr("autocomplete")};
c(window).bind("beforeunload",a.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();c(window).unbind("beforeunload",this.beforeunloadHandler);c.Widget.prototype.destroy.call(this)},_setOption:function(a,h){c.Widget.prototype._setOption.apply(this,arguments);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(c(h||
"body",this.element[0].ownerDocument)[0]);"disabled"===a&&h&&this.xhr&&this.xhr.abort()},_initSource:function(){var a=this,h,n;c.isArray(this.options.source)?(h=this.options.source,this.source=function(a,f){f(c.ui.autocomplete.filter(h,a.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(h,p){a.xhr&&a.xhr.abort();a.xhr=c.ajax({url:n,data:h,dataType:"json",autocompleteRequest:++f,success:function(a){this.autocompleteRequest===f&&p(a)},error:function(){this.autocompleteRequest===
f&&p([])}})}):this.source=this.options.source},search:function(a,c){a=null!=a?a:this.element.val();this.term=this.element.val();if(a.length<this.options.minLength)return this.close(c);clearTimeout(this.closing);if(!1!==this._trigger("search",c))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):
this.close();this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing);this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:c.map(a,function(a){return"string"==typeof a?{label:a,value:a}:c.extend({label:a.label||
a.value,value:a.value||a.label},a)})},_suggest:function(a){var h=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(h,a);this.menu.deactivate();this.menu.refresh();h.show();this._resizeMenu();h.position(c.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new c.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,h){var f=
this;c.each(h,function(c,h){f._renderItem(a,h)})},_renderItem:function(a,h){return c("<li></li>").data("item.autocomplete",h).append(c("<a></a>").text(h.label)).appendTo(a)},_move:function(a,c){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a))this.element.val(this.term),this.menu.deactivate();else this.menu[a](c);else this.search(null,c)},widget:function(){return this.menu.element}});c.extend(c.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")},filter:function(a,h){var f=RegExp(c.ui.autocomplete.escapeRegex(h),"i");return c.grep(a,function(a){return f.test(a.label||a.value||a)})}})})(jQuery);
(function(c){c.widget("ui.menu",{_create:function(){var f=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(a){!c(a.target).closest(".ui-menu-item a").length||(a.preventDefault(),f.select(a))});this.refresh()},refresh:function(){var f=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(a){f.activate(a,c(this).parent())}).mouseleave(function(){f.deactivate()})},activate:function(c,a){this.deactivate();if(this.hasScroll()){var h=a.offset().top-this.element.offset().top,n=this.element.scrollTop(),o=this.element.height();0>h?this.element.scrollTop(n+h):h>=o&&this.element.scrollTop(n+h-o+a.height())}this.active=a.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",c,{item:a})},deactivate:function(){!this.active||
(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(c){this.move("next",".ui-menu-item:first",c)},previous:function(c){this.move("prev",".ui-menu-item:last",c)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(c,a,h){this.active?(c=this.active[c+"All"](".ui-menu-item").eq(0),c.length?this.activate(h,
c):this.activate(h,this.element.children(a))):this.activate(h,this.element.children(a))},nextPage:function(f){if(this.hasScroll())if(!this.active||this.last())this.activate(f,this.element.children(".ui-menu-item:first"));else{var a=this.active.offset().top,h=this.element.height(),n=this.element.children(".ui-menu-item").filter(function(){var f=c(this).offset().top-a-h+c(this).height();return 10>f&&-10<f});n.length||(n=this.element.children(".ui-menu-item:last"));this.activate(f,n)}else this.activate(f,
this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(f){if(this.hasScroll())if(!this.active||this.first())this.activate(f,this.element.children(".ui-menu-item:last"));else{var a=this.active.offset().top,h=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var f=c(this).offset().top-a+h-c(this).height();return 10>f&&-10<f});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(f,
result)}else this.activate(f,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[c.fn.prop?"prop":"attr"]("scrollHeight")},select:function(c){this._trigger("selected",c,{item:this.active})}})})(jQuery);
(function(c){var f,a,h,n,o=function(){var a=c(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},p=function(a){var h=a.name,f=a.form,n=c([]);h&&(f?n=c(f).find("[name='"+h+"']"):n=c("[name='"+h+"']",a.ownerDocument).filter(function(){return!this.form}));return n};c.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",o);"boolean"!=typeof this.options.disabled&&
(this.options.disabled=this.element.propAttr("disabled"));this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var l=this,q=this.options,z="checkbox"===this.type||"radio"===this.type,A="ui-state-hover"+(z?"":" ui-state-active");null===q.label&&(q.label=this.buttonElement.html());this.element.is(":disabled")&&(q.disabled=!0);this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){q.disabled||
(c(this).addClass("ui-state-hover"),this===f&&c(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){q.disabled||c(this).removeClass(A)}).bind("click.button",function(a){q.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus.button",function(){l.buttonElement.addClass("ui-state-focus")}).bind("blur.button",function(){l.buttonElement.removeClass("ui-state-focus")});z&&(this.element.bind("change.button",function(){n||l.refresh()}),this.buttonElement.bind("mousedown.button",
function(c){q.disabled||(n=!1,a=c.pageX,h=c.pageY)}).bind("mouseup.button",function(c){!q.disabled&&(a!==c.pageX||h!==c.pageY)&&(n=!0)}));"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(q.disabled||n)return!1;c(this).toggleClass("ui-state-active");l.buttonElement.attr("aria-pressed",l.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(q.disabled||n)return!1;c(this).addClass("ui-state-active");l.buttonElement.attr("aria-pressed",
"true");var a=l.element[0];p(a).not(a).map(function(){return c(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(q.disabled)return!1;c(this).addClass("ui-state-active");f=this;c(document).one("mouseup",function(){f=null})}).bind("mouseup.button",function(){if(q.disabled)return!1;c(this).removeClass("ui-state-active")}).bind("keydown.button",function(a){if(q.disabled)return!1;(a.keyCode==c.ui.keyCode.SPACE||
a.keyCode==c.ui.keyCode.ENTER)&&c(this).addClass("ui-state-active")}).bind("keyup.button",function(){c(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===c.ui.keyCode.SPACE&&c(this).click()}));this._setOption("disabled",q.disabled);this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";
if("checkbox"===this.type||"radio"===this.type){var a=this.element.parents().filter(":last"),c="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(c);this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(c),this.buttonElement.length||(this.buttonElement=a.find(c)));this.element.addClass("ui-helper-hidden-accessible");(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",
a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title");c.Widget.prototype.destroy.call(this)},_setOption:function(a,h){c.Widget.prototype._setOption.apply(this,arguments);"disabled"===a?h?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a);"radio"===this.type?p(this.element[0]).each(function(){c(this).is(":checked")?c(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):c(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
h=c("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),f=this.options.icons,n=f.primary&&f.secondary,o=[];f.primary||f.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":f.primary?"-primary":"-secondary")),f.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+f.primary+"'></span>"),f.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+f.secondary+"'></span>"),this.options.text||
(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",h))):o.push("ui-button-text-only");a.addClass(o.join(" "))}}});c.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,h){"disabled"===a&&this.buttons.button("option",a,h);c.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var a="rtl"===
this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return c(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");
c.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(c,f){function a(a,h){c.extend(a,h);for(var n in h)if(null==h[n]||h[n]==f)a[n]=h[n];return a}function h(a){return a.bind("mouseout",function(a){a=c(a.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");!a.length||a.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(h){h=c(h.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");!c.datepicker._isDisabledDatepicker(p.inline?
a.parent()[0]:p.input[0])&&h.length&&(h.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),h.addClass("ui-state-hover"),h.hasClass("ui-datepicker-prev")&&h.addClass("ui-datepicker-prev-hover"),h.hasClass("ui-datepicker-next")&&h.addClass("ui-datepicker-next-hover"))})}function n(){this.debug=!1;this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};c.extend(this._defaults,
this.regional[""]);this.dpDiv=h(c('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}c.extend(c.ui,{datepicker:{version:"1.8.17"}});var o=(new Date).getTime(),p;c.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(c){a(this._defaults,c||{});return this},_attachDatepicker:function(a,h){var f=
null,n;for(n in this._defaults){var o=a.getAttribute("date:"+n);if(o){f=f||{};try{f[n]=eval(o)}catch(p){f[n]=o}}}n=a.nodeName.toLowerCase();o="div"==n||"span"==n;a.id||(this.uuid+=1,a.id="dp"+this.uuid);var E=this._newInst(c(a),o);E.settings=c.extend({},h||{},f||{});"input"==n?this._connectDatepicker(a,E):o&&this._inlineDatepicker(a,E)},_newInst:function(a,f){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:f,
dpDiv:f?h(c('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,h){var f=c(a);h.append=c([]);h.trigger=c([]);f.hasClass(this.markerClassName)||(this._attachments(f,h),f.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,l){h.settings[c]=l}).bind("getData.datepicker",function(a,c){return this._get(h,
c)}),this._autoSize(h),c.data(a,"datepicker",h),h.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,h){var f=this._get(h,"appendText"),n=this._get(h,"isRTL");h.append&&h.append.remove();f&&(h.append=c('<span class="'+this._appendClass+'">'+f+"</span>"),a[n?"before":"after"](h.append));a.unbind("focus",this._showDatepicker);h.trigger&&h.trigger.remove();f=this._get(h,"showOn");("focus"==f||"both"==f)&&a.focus(this._showDatepicker);if("button"==f||"both"==f){var f=this._get(h,
"buttonText"),o=this._get(h,"buttonImage");h.trigger=c(this._get(h,"buttonImageOnly")?c("<img/>").addClass(this._triggerClass).attr({src:o,alt:f,title:f}):c('<button type="button"></button>').addClass(this._triggerClass).html(""==o?f:c("<img/>").attr({src:o,alt:f,title:f})));a[n?"before":"after"](h.trigger);h.trigger.click(function(){c.datepicker._datepickerShowing&&c.datepicker._lastInput==a[0]?c.datepicker._hideDatepicker():c.datepicker._showDatepicker(a[0]);return!1})}},_autoSize:function(a){if(this._get(a,
"autoSize")&&!a.inline){var c=new Date(2009,11,20),h=this._get(a,"dateFormat");if(h.match(/[DM]/)){var f=function(a){for(var c=0,h=0,l=0;l<a.length;l++)a[l].length>c&&(c=a[l].length,h=l);return h};c.setMonth(f(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort")));c.setDate(f(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-c.getDay())}a.input.attr("size",this._formatDate(a,c).length)}},_inlineDatepicker:function(a,h){var f=c(a);f.hasClass(this.markerClassName)||(f.addClass(this.markerClassName).append(h.dpDiv).bind("setData.datepicker",
function(a,c,l){h.settings[c]=l}).bind("getData.datepicker",function(a,c){return this._get(h,c)}),c.data(a,"datepicker",h),this._setDate(h,this._getDefaultDate(h),!0),this._updateDatepicker(h),this._updateAlternate(h),h.settings.disabled&&this._disableDatepicker(a),h.dpDiv.css("display","block"))},_dialogDatepicker:function(h,f,n,o,p){(h=this._dialogInst)||(this.uuid+=1,this._dialogInput=c('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),
this._dialogInput.keydown(this._doKeyDown),c("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},c.data(this._dialogInput[0],"datepicker",h));a(h.settings,o||{});f=f&&f.constructor==Date?this._formatDate(h,f):f;this._dialogInput.val(f);(this._pos=p?p.length?p:[p.pageX,p.pageY]:null)||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||
document.body.scrollTop)]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");h.settings.onSelect=n;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);c.blockUI&&c.blockUI(this.dpDiv);c.data(this._dialogInput[0],"datepicker",h);return this},_destroyDatepicker:function(a){var h=c(a),f=c.data(a,"datepicker");if(h.hasClass(this.markerClassName)){var n=a.nodeName.toLowerCase();c.removeData(a,"datepicker");"input"==n?(f.append.remove(),
f.trigger.remove(),h.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==n||"span"==n)&&h.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var h=c(a),f=c.data(a,"datepicker");if(h.hasClass(this.markerClassName)){var n=a.nodeName.toLowerCase();if("input"==n)a.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",
cursor:""});else if("div"==n||"span"==n)h=h.children("."+this._inlineClass),h.children().removeClass("ui-state-disabled"),h.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled");this._disabledInputs=c.map(this._disabledInputs,function(c){return c==a?null:c})}},_disableDatepicker:function(a){var h=c(a),f=c.data(a,"datepicker");if(h.hasClass(this.markerClassName)){var n=a.nodeName.toLowerCase();if("input"==n)a.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=
!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n)h=h.children("."+this._inlineClass),h.children().addClass("ui-state-disabled"),h.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled");this._disabledInputs=c.map(this._disabledInputs,function(c){return c==a?null:c});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var c=0;c<this._disabledInputs.length;c++)if(this._disabledInputs[c]==
a)return!0;return!1},_getInst:function(a){try{return c.data(a,"datepicker")}catch(h){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(h,n,o){var p=this._getInst(h);if(2==arguments.length&&"string"==typeof n)return"defaults"==n?c.extend({},c.datepicker._defaults):p?"all"==n?c.extend({},p.settings):this._get(p,n):null;var u=n||{};"string"==typeof n&&(u={},u[n]=o);if(p){this._curInst==p&&this._hideDatepicker();var B=this._getDateDatepicker(h,!0),E=this._getMinMaxDate(p,
"min"),C=this._getMinMaxDate(p,"max");a(p.settings,u);null!==E&&u.dateFormat!==f&&u.minDate===f&&(p.settings.minDate=this._formatDate(p,E));null!==C&&u.dateFormat!==f&&u.maxDate===f&&(p.settings.maxDate=this._formatDate(p,C));this._attachments(c(h),p);this._autoSize(p);this._setDate(p,B);this._updateAlternate(p);this._updateDatepicker(p)}},_changeDatepicker:function(a,c,h){this._optionDatepicker(a,c,h)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,
c){var h=this._getInst(a);h&&(this._setDate(h,c),this._updateDatepicker(h),this._updateAlternate(h))},_getDateDatepicker:function(a,c){var h=this._getInst(a);h&&!h.inline&&this._setDateFromField(h,c);return h?this._getDate(h):null},_doKeyDown:function(a){var h=c.datepicker._getInst(a.target),f=!0,n=h.dpDiv.is(".ui-datepicker-rtl");h._keyEvent=!0;if(c.datepicker._datepickerShowing)switch(a.keyCode){case 9:c.datepicker._hideDatepicker();f=!1;break;case 13:return f=c("td."+c.datepicker._dayOverClass+
":not(."+c.datepicker._currentClass+")",h.dpDiv),f[0]&&c.datepicker._selectDay(a.target,h.selectedMonth,h.selectedYear,f[0]),(a=c.datepicker._get(h,"onSelect"))?(f=c.datepicker._formatDate(h),a.apply(h.input?h.input[0]:null,[f,h])):c.datepicker._hideDatepicker(),!1;case 27:c.datepicker._hideDatepicker();break;case 33:c.datepicker._adjustDate(a.target,a.ctrlKey?-c.datepicker._get(h,"stepBigMonths"):-c.datepicker._get(h,"stepMonths"),"M");break;case 34:c.datepicker._adjustDate(a.target,a.ctrlKey?+c.datepicker._get(h,
"stepBigMonths"):+c.datepicker._get(h,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&c.datepicker._clearDate(a.target);f=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&c.datepicker._gotoToday(a.target);f=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,n?1:-1,"D");f=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&c.datepicker._adjustDate(a.target,a.ctrlKey?-c.datepicker._get(h,"stepBigMonths"):-c.datepicker._get(h,"stepMonths"),"M");break;
case 38:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,-7,"D");f=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,n?-1:1,"D");f=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&c.datepicker._adjustDate(a.target,a.ctrlKey?+c.datepicker._get(h,"stepBigMonths"):+c.datepicker._get(h,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&c.datepicker._adjustDate(a.target,7,"D");f=a.ctrlKey||a.metaKey;break;default:f=!1}else 36==a.keyCode&&a.ctrlKey?
c.datepicker._showDatepicker(this):f=!1;f&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var h=c.datepicker._getInst(a.target);if(c.datepicker._get(h,"constrainInput")){var h=c.datepicker._possibleChars(c.datepicker._get(h,"dateFormat")),n=String.fromCharCode(a.charCode==f?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">n||!h||-1<h.indexOf(n)}},_doKeyUp:function(a){a=c.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal)try{c.datepicker.parseDate(c.datepicker._get(a,
"dateFormat"),a.input?a.input.val():null,c.datepicker._getFormatConfig(a))&&(c.datepicker._setDateFromField(a),c.datepicker._updateAlternate(a),c.datepicker._updateDatepicker(a))}catch(h){c.datepicker.log(h)}return!0},_showDatepicker:function(h){h=h.target||h;"input"!=h.nodeName.toLowerCase()&&(h=c("input",h.parentNode)[0]);if(!c.datepicker._isDisabledDatepicker(h)&&c.datepicker._lastInput!=h){var f=c.datepicker._getInst(h);c.datepicker._curInst&&c.datepicker._curInst!=f&&(c.datepicker._curInst.dpDiv.stop(!0,
!0),f&&c.datepicker._datepickerShowing&&c.datepicker._hideDatepicker(c.datepicker._curInst.input[0]));var n=c.datepicker._get(f,"beforeShow"),n=n?n.apply(h,[h,f]):{};if(!1!==n){a(f.settings,n);f.lastVal=null;c.datepicker._lastInput=h;c.datepicker._setDateFromField(f);c.datepicker._inDialog&&(h.value="");c.datepicker._pos||(c.datepicker._pos=c.datepicker._findPos(h),c.datepicker._pos[1]+=h.offsetHeight);var o=!1;c(h).parents().each(function(){o|="fixed"==c(this).css("position");return!o});o&&c.browser.opera&&
(c.datepicker._pos[0]-=document.documentElement.scrollLeft,c.datepicker._pos[1]-=document.documentElement.scrollTop);n={left:c.datepicker._pos[0],top:c.datepicker._pos[1]};c.datepicker._pos=null;f.dpDiv.empty();f.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});c.datepicker._updateDatepicker(f);n=c.datepicker._checkOffset(f,n,o);f.dpDiv.css({position:c.datepicker._inDialog&&c.blockUI?"static":o?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"});if(!f.inline){var n=c.datepicker._get(f,
"showAnim"),p=c.datepicker._get(f,"duration"),B=function(){var a=f.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var h=c.datepicker._getBorders(f.dpDiv);a.css({left:-h[0],top:-h[1],width:f.dpDiv.outerWidth(),height:f.dpDiv.outerHeight()})}};f.dpDiv.zIndex(c(h).zIndex()+1);c.datepicker._datepickerShowing=!0;c.effects&&c.effects[n]?f.dpDiv.show(n,c.datepicker._get(f,"showOptions"),p,B):f.dpDiv[n||"show"](n?p:null,B);(!n||!p)&&B();f.input.is(":visible")&&!f.input.is(":disabled")&&f.input.focus();
c.datepicker._curInst=f}}}},_updateDatepicker:function(a){this.maxRows=4;var h=c.datepicker._getBorders(a.dpDiv);p=a;a.dpDiv.empty().append(this._generateHTML(a));var f=a.dpDiv.find("iframe.ui-datepicker-cover");!f.length||f.css({left:-h[0],top:-h[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("."+this._dayOverClass+" a").mouseover();h=this._getNumberOfMonths(a);f=h[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&
a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");a.dpDiv[(1!=h[0]||1!=h[1]?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==c.datepicker._curInst&&c.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var n=a.yearshtml;setTimeout(function(){n===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);
n=a.yearshtml=null},0)}},_getBorders:function(a){var c=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(c(a.css("border-left-width"))),parseFloat(c(a.css("border-top-width")))]},_checkOffset:function(a,h,f){var n=a.dpDiv.outerWidth(),o=a.dpDiv.outerHeight(),p=a.input?a.input.outerWidth():0,E=a.input?a.input.outerHeight():0,C=document.documentElement.clientWidth+c(document).scrollLeft(),G=document.documentElement.clientHeight+c(document).scrollTop();h.left-=this._get(a,"isRTL")?
n-p:0;h.left-=f&&h.left==a.input.offset().left?c(document).scrollLeft():0;h.top-=f&&h.top==a.input.offset().top+E?c(document).scrollTop():0;h.left-=Math.min(h.left,h.left+n>C&&C>n?Math.abs(h.left+n-C):0);h.top-=Math.min(h.top,h.top+o>G&&G>o?Math.abs(o+E):0);return h},_findPos:function(a){for(var h=this._getInst(a),h=this._get(h,"isRTL");a&&("hidden"==a.type||1!=a.nodeType||c.expr.filters.hidden(a));)a=a[h?"previousSibling":"nextSibling"];a=c(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var h=
this._curInst;if(h&&!(a&&h!=c.data(a,"datepicker"))&&this._datepickerShowing){var a=this._get(h,"showAnim"),f=this._get(h,"duration"),n=this,o=function(){c.datepicker._tidyDialog(h);n._curInst=null};c.effects&&c.effects[a]?h.dpDiv.hide(a,c.datepicker._get(h,"showOptions"),f,o):h.dpDiv["slideDown"==a?"slideUp":"fadeIn"==a?"fadeOut":"hide"](a?f:null,o);a||o();this._datepickerShowing=!1;(a=this._get(h,"onClose"))&&a.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]);this._lastInput=null;this._inDialog&&
(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),c.blockUI&&(c.unblockUI(),c("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(c.datepicker._curInst){var a=c(a.target),h=c.datepicker._getInst(a[0]);(a[0].id!=c.datepicker._mainDivId&&0==a.parents("#"+c.datepicker._mainDivId).length&&!a.hasClass(c.datepicker.markerClassName)&&!a.hasClass(c.datepicker._triggerClass)&&
c.datepicker._datepickerShowing&&(!c.datepicker._inDialog||!c.blockUI)||a.hasClass(c.datepicker.markerClassName)&&c.datepicker._curInst!=h)&&c.datepicker._hideDatepicker()}},_adjustDate:function(a,h,f){var a=c(a),n=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(n,h+("M"==f?this._get(n,"showCurrentAtPos"):0),f),this._updateDatepicker(n))},_gotoToday:function(a){var a=c(a),h=this._getInst(a[0]);if(this._get(h,"gotoCurrent")&&h.currentDay)h.selectedDay=h.currentDay,h.drawMonth=
h.selectedMonth=h.currentMonth,h.drawYear=h.selectedYear=h.currentYear;else{var f=new Date;h.selectedDay=f.getDate();h.drawMonth=h.selectedMonth=f.getMonth();h.drawYear=h.selectedYear=f.getFullYear()}this._notifyChange(h);this._adjustDate(a)},_selectMonthYear:function(a,h,f){var a=c(a),n=this._getInst(a[0]);n["selected"+("M"==f?"Month":"Year")]=n["draw"+("M"==f?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10);this._notifyChange(n);this._adjustDate(a)},_selectDay:function(a,h,f,n){var o=
c(a);!c(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(o[0])&&(o=this._getInst(o[0]),o.selectedDay=o.currentDay=c("a",n).html(),o.selectedMonth=o.currentMonth=h,o.selectedYear=o.currentYear=f,this._selectDate(a,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(a){a=c(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,h){var f=c(a),f=this._getInst(f[0]),h=null!=h?h:this._formatDate(f);f.input&&f.input.val(h);this._updateAlternate(f);
var n=this._get(f,"onSelect");n?n.apply(f.input?f.input[0]:null,[h,f]):f.input&&f.input.trigger("change");f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var h=this._get(a,"altField");if(h){var f=this._get(a,"altFormat")||this._get(a,"dateFormat"),n=this._getDate(a),o=this.formatDate(f,n,this._getFormatConfig(a));c(h).each(function(){c(this).val(o)})}},noWeekends:function(a){a=
a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var c=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((c-a)/864E5)/7)+1},parseDate:function(a,h,f){if(null==a||null==h)throw"Invalid arguments";h="object"==typeof h?h.toString():h+"";if(""==h)return null;for(var n=(f?f.shortYearCutoff:null)||this._defaults.shortYearCutoff,n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10),o=(f?f.dayNamesShort:
null)||this._defaults.dayNamesShort,p=(f?f.dayNames:null)||this._defaults.dayNames,E=(f?f.monthNamesShort:null)||this._defaults.monthNamesShort,C=(f?f.monthNames:null)||this._defaults.monthNames,G=f=-1,F=-1,I=-1,O=!1,N=function(c){(c=K+1<a.length&&a.charAt(K+1)==c)&&K++;return c},R=function(a){var c=N(a),a=RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a&&c?4:"o"==a?3:2)+"}"),a=h.substring(J).match(a);if(!a)throw"Missing number at position "+J;J+=a[0].length;return parseInt(a[0],10)},T=function(a,f,l){var a=
c.map(N(a)?l:f,function(a,c){return[[c,a]]}).sort(function(a,c){return-(a[1].length-c[1].length)}),n=-1;c.each(a,function(a,c){var f=c[1];if(h.substr(J,f.length).toLowerCase()==f.toLowerCase())return n=c[0],J+=f.length,!1});if(-1!=n)return n+1;throw"Unknown name at position "+J;},M=function(){if(h.charAt(J)!=a.charAt(K))throw"Unexpected literal at position "+J;J++},J=0,K=0;K<a.length;K++)if(O)"'"==a.charAt(K)&&!N("'")?O=!1:M();else switch(a.charAt(K)){case "d":F=R("d");break;case "D":T("D",o,p);break;
case "o":I=R("o");break;case "m":G=R("m");break;case "M":G=T("M",E,C);break;case "y":f=R("y");break;case "@":var X=new Date(R("@")),f=X.getFullYear(),G=X.getMonth()+1,F=X.getDate();break;case "!":X=new Date((R("!")-this._ticksTo1970)/1E4);f=X.getFullYear();G=X.getMonth()+1;F=X.getDate();break;case "'":N("'")?M():O=!0;break;default:M()}if(J<h.length)throw"Extra/unparsed characters found in date: "+h.substring(J);-1==f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%
100+(f<=n?0:-100));if(-1<I){G=1;for(F=I;;){n=this._getDaysInMonth(f,G-1);if(F<=n)break;G++;F-=n}}X=this._daylightSavingAdjust(new Date(f,G-1,F));if(X.getFullYear()!=f||X.getMonth()+1!=G||X.getDate()!=F)throw"Invalid date";return X},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+
Math.floor(4.925)),formatDate:function(a,c,h){if(!c)return"";var f=(h?h.dayNamesShort:null)||this._defaults.dayNamesShort,n=(h?h.dayNames:null)||this._defaults.dayNames,o=(h?h.monthNamesShort:null)||this._defaults.monthNamesShort,h=(h?h.monthNames:null)||this._defaults.monthNames,p=function(c){(c=I+1<a.length&&a.charAt(I+1)==c)&&I++;return c},C=function(a,c,h){c=""+c;if(p(a))for(;c.length<h;)c="0"+c;return c},G="",F=!1;if(c)for(var I=0;I<a.length;I++)if(F)"'"==a.charAt(I)&&!p("'")?F=!1:G+=a.charAt(I);
else switch(a.charAt(I)){case "d":G+=C("d",c.getDate(),2);break;case "D":var O;O=c.getDay();var N=f,R=n;O=p("D")?R[O]:N[O];G+=O;break;case "o":G+=C("o",Math.round(((new Date(c.getFullYear(),c.getMonth(),c.getDate())).getTime()-(new Date(c.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":G+=C("m",c.getMonth()+1,2);break;case "M":O=c.getMonth();N=o;R=h;O=p("M")?R[O]:N[O];G+=O;break;case "y":G+=p("y")?c.getFullYear():(10>c.getYear()%100?"0":"")+c.getYear()%100;break;case "@":G+=c.getTime();break;
case "!":G+=1E4*c.getTime()+this._ticksTo1970;break;case "'":p("'")?G+="'":F=!0;break;default:G+=a.charAt(I)}return G},_possibleChars:function(a){for(var c="",h=!1,f=function(c){(c=n+1<a.length&&a.charAt(n+1)==c)&&n++;return c},n=0;n<a.length;n++)if(h)"'"==a.charAt(n)&&!f("'")?h=!1:c+=a.charAt(n);else switch(a.charAt(n)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":f("'")?c+="'":h=!0;break;default:c+=a.charAt(n)}return c},_get:function(a,c){return a.settings[c]!==
f?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,c){if(a.input.val()!=a.lastVal){var h=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null,n,o;n=o=this._getDefaultDate(a);var p=this._getFormatConfig(a);try{n=this.parseDate(h,f,p)||o}catch(C){this.log(C),f=c?"":f}a.selectedDay=n.getDate();a.drawMonth=a.selectedMonth=n.getMonth();a.drawYear=a.selectedYear=n.getFullYear();a.currentDay=f?n.getDate():0;a.currentMonth=f?n.getMonth():0;a.currentYear=f?n.getFullYear():0;this._adjustInstDate(a)}},
_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,h,f){if(null==h||""===h)h=f;else{var n;if("string"==typeof h)a:{try{n=c.datepicker.parseDate(c.datepicker._get(a,"dateFormat"),h,c.datepicker._getFormatConfig(a));break a}catch(o){}var p=(h.toLowerCase().match(/^c/)?c.datepicker._getDate(a):null)||new Date,a=p.getFullYear();n=p.getMonth();for(var p=p.getDate(),E=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,C=E.exec(h);C;){switch(C[2]||
"d"){case "d":case "D":p+=parseInt(C[1],10);break;case "w":case "W":p+=7*parseInt(C[1],10);break;case "m":case "M":n+=parseInt(C[1],10);p=Math.min(p,c.datepicker._getDaysInMonth(a,n));break;case "y":case "Y":a+=parseInt(C[1],10),p=Math.min(p,c.datepicker._getDaysInMonth(a,n))}C=E.exec(h)}n=new Date(a,n,p)}else"number"==typeof h?isNaN(h)?h=f:(a=new Date,a.setDate(a.getDate()+h),h=a):h=new Date(h.getTime()),n=h;h=n}(h=h&&"Invalid Date"==h.toString()?f:h)&&(h.setHours(0),h.setMinutes(0),h.setSeconds(0),
h.setMilliseconds(0));return this._daylightSavingAdjust(h)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,c,h){var f=!c,n=a.selectedMonth,o=a.selectedYear,c=this._restrictMinMax(a,this._determineDate(a,c,new Date));a.selectedDay=a.currentDay=c.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=c.getMonth();a.drawYear=a.selectedYear=a.currentYear=c.getFullYear();(n!=a.selectedMonth||o!=a.selectedYear)&&!h&&this._notifyChange(a);
this._adjustInstDate(a);a.input&&a.input.val(f?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var h=new Date,h=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth(),h.getDate())),f=this._get(a,"isRTL"),n=this._get(a,"showButtonPanel"),p=this._get(a,"hideIfNoPrevNext"),B=this._get(a,"navigationAsDateFormat"),E=this._getNumberOfMonths(a),
C=this._get(a,"showCurrentAtPos"),G=this._get(a,"stepMonths"),F=1!=E[0]||1!=E[1],I=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),O=this._getMinMaxDate(a,"min"),N=this._getMinMaxDate(a,"max"),C=a.drawMonth-C,R=a.drawYear;0>C&&(C+=12,R--);if(N)for(var T=this._daylightSavingAdjust(new Date(N.getFullYear(),N.getMonth()-E[0]*E[1]+1,N.getDate())),T=O&&T<O?O:T;this._daylightSavingAdjust(new Date(R,C,1))>T;)C--,0>C&&(C=11,R--);a.drawMonth=
C;a.drawYear=R;var T=this._get(a,"prevText"),T=B?this.formatDate(T,this._daylightSavingAdjust(new Date(R,C-G,1)),this._getFormatConfig(a)):T,T=this._canAdjustMonth(a,-1,R,C)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+o+".datepicker._adjustDate('#"+a.id+"', -"+G+", 'M');\" title=\""+T+'"><span class="ui-icon ui-icon-circle-triangle-'+(f?"e":"w")+'">'+T+"</span></a>":p?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+T+'"><span class="ui-icon ui-icon-circle-triangle-'+
(f?"e":"w")+'">'+T+"</span></a>",M=this._get(a,"nextText"),M=B?this.formatDate(M,this._daylightSavingAdjust(new Date(R,C+G,1)),this._getFormatConfig(a)):M,p=this._canAdjustMonth(a,1,R,C)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+o+".datepicker._adjustDate('#"+a.id+"', +"+G+", 'M');\" title=\""+M+'"><span class="ui-icon ui-icon-circle-triangle-'+(f?"w":"e")+'">'+M+"</span></a>":p?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+M+'"><span class="ui-icon ui-icon-circle-triangle-'+
(f?"w":"e")+'">'+M+"</span></a>",G=this._get(a,"currentText"),M=this._get(a,"gotoCurrent")&&a.currentDay?I:h,G=B?this.formatDate(G,M,this._getFormatConfig(a)):G,B=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+o+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",n=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(f?B:"")+(this._isInRange(a,M)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+
o+".datepicker._gotoToday('#"+a.id+"');\">"+G+"</button>":"")+(f?"":B)+"</div>":"",B=parseInt(this._get(a,"firstDay"),10),B=isNaN(B)?0:B,G=this._get(a,"showWeek"),M=this._get(a,"dayNames");this._get(a,"dayNamesShort");var J=this._get(a,"dayNamesMin"),K=this._get(a,"monthNames"),X=this._get(a,"monthNamesShort"),L=this._get(a,"beforeShowDay"),da=this._get(a,"showOtherMonths"),V=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var U=this._getDefaultDate(a),aa="",ca=0;ca<E[0];ca++){var qa=
"";this.maxRows=4;for(var ba=0;ba<E[1];ba++){var ea=this._daylightSavingAdjust(new Date(R,C,a.selectedDay)),la=" ui-corner-all",ga="";if(F){ga+='<div class="ui-datepicker-group';if(1<E[1])switch(ba){case 0:ga+=" ui-datepicker-group-first";la=" ui-corner-"+(f?"right":"left");break;case E[1]-1:ga+=" ui-datepicker-group-last";la=" ui-corner-"+(f?"left":"right");break;default:ga+=" ui-datepicker-group-middle",la=""}ga+='">'}for(var ga=ga+('<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+
la+'">'+(/all|left/.test(la)&&0==ca?f?p:T:"")+(/all|right/.test(la)&&0==ca?f?T:p:"")+this._generateMonthYearHeader(a,C,R,O,N,0<ca||0<ba,K,X)+'</div><table class="ui-datepicker-calendar"><thead><tr>'),ia=G?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",la=0;7>la;la++)var ya=(la+B)%7,ia=ia+("<th"+(5<=(la+B+6)%7?' class="ui-datepicker-week-end"':"")+'><span title="'+M[ya]+'">'+J[ya]+"</span></th>");ga+=ia+"</tr></thead><tbody>";ia=this._getDaysInMonth(R,C);R==a.selectedYear&&
C==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,ia));la=(this._getFirstDayOfMonth(R,C)-B+7)%7;ia=Math.ceil((la+ia)/7);this.maxRows=ia=F?this.maxRows>ia?this.maxRows:ia:ia;for(var ya=this._daylightSavingAdjust(new Date(R,C,1-la)),Za=0;Za<ia;Za++){for(var ga=ga+"<tr>",Na=G?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(ya)+"</td>":"",la=0;7>la;la++){var Oa=L?L.apply(a.input?a.input[0]:null,[ya]):[!0,""],Ia=ya.getMonth()!=C,Pa=Ia&&!V||!Oa[0]||O&&ya<O||N&&ya>N,Na=Na+('<td class="'+
(5<=(la+B+6)%7?" ui-datepicker-week-end":"")+(Ia?" ui-datepicker-other-month":"")+(ya.getTime()==ea.getTime()&&C==a.selectedMonth&&a._keyEvent||U.getTime()==ya.getTime()&&U.getTime()==ea.getTime()?" "+this._dayOverClass:"")+(Pa?" "+this._unselectableClass+" ui-state-disabled":"")+(Ia&&!da?"":" "+Oa[1]+(ya.getTime()==I.getTime()?" "+this._currentClass:"")+(ya.getTime()==h.getTime()?" ui-datepicker-today":""))+'"'+((!Ia||da)&&Oa[2]?' title="'+Oa[2]+'"':"")+(Pa?"":' onclick="DP_jQuery_'+o+".datepicker._selectDay('#"+
a.id+"',"+ya.getMonth()+","+ya.getFullYear()+', this);return false;"')+">"+(Ia&&!da?"&#xa0;":Pa?'<span class="ui-state-default">'+ya.getDate()+"</span>":'<a class="ui-state-default'+(ya.getTime()==h.getTime()?" ui-state-highlight":"")+(ya.getTime()==I.getTime()?" ui-state-active":"")+(Ia?" ui-priority-secondary":"")+'" href="#">'+ya.getDate()+"</a>")+"</td>");ya.setDate(ya.getDate()+1);ya=this._daylightSavingAdjust(ya)}ga+=Na+"</tr>"}C++;11<C&&(C=0,R++);ga+="</tbody></table>"+(F?"</div>"+(0<E[0]&&
ba==E[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");qa+=ga}aa+=qa}aa+=n+(c.browser.msie&&7>parseInt(c.browser.version,10)&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=!1;return aa},_generateMonthYearHeader:function(a,c,h,f,n,p,E,C){var G=this._get(a,"changeMonth"),F=this._get(a,"changeYear"),I=this._get(a,"showMonthAfterYear"),O='<div class="ui-datepicker-title">',N="";if(p||!G)N+='<span class="ui-datepicker-month">'+
E[c]+"</span>";else{for(var E=f&&f.getFullYear()==h,R=n&&n.getFullYear()==h,N=N+('<select class="ui-datepicker-month" onchange="DP_jQuery_'+o+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >"),T=0;12>T;T++)(!E||T>=f.getMonth())&&(!R||T<=n.getMonth())&&(N+='<option value="'+T+'"'+(T==c?' selected="selected"':"")+">"+C[T]+"</option>");N+="</select>"}I||(O+=N+(p||!G||!F?"&#xa0;":""));if(!a.yearshtml)if(a.yearshtml="",p||!F)O+='<span class="ui-datepicker-year">'+h+"</span>";else{var C=this._get(a,
"yearRange").split(":"),M=(new Date).getFullYear(),E=function(a){a=a.match(/c[+-].*/)?h+parseInt(a.substring(1),10):a.match(/[+-].*/)?M+parseInt(a,10):parseInt(a,10);return isNaN(a)?M:a},c=E(C[0]),C=Math.max(c,E(C[1]||"")),c=f?Math.max(c,f.getFullYear()):c,C=n?Math.min(C,n.getFullYear()):C;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+o+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";c<=C;c++)a.yearshtml+='<option value="'+c+'"'+(c==h?' selected="selected"':
"")+">"+c+"</option>";a.yearshtml+="</select>";O+=a.yearshtml;a.yearshtml=null}O+=this._get(a,"yearSuffix");I&&(O+=(p||!G||!F?"&#xa0;":"")+N);return O+"</div>"},_adjustInstDate:function(a,c,h){var f=a.drawYear+("Y"==h?c:0),n=a.drawMonth+("M"==h?c:0),c=Math.min(a.selectedDay,this._getDaysInMonth(f,n))+("D"==h?c:0),f=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(f,n,c)));a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();("M"==h||
"Y"==h)&&this._notifyChange(a)},_restrictMinMax:function(a,c){var h=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),h=h&&c<h?h:c;return f&&h>f?f:h},_notifyChange:function(a){var c=this._get(a,"onChangeMonthYear");c&&c.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,c){return this._determineDate(a,this._get(a,c+"Date"),null)},_getDaysInMonth:function(a,
c){return 32-this._daylightSavingAdjust(new Date(a,c,32)).getDate()},_getFirstDayOfMonth:function(a,c){return(new Date(a,c,1)).getDay()},_canAdjustMonth:function(a,c,h,f){var n=this._getNumberOfMonths(a),h=this._daylightSavingAdjust(new Date(h,f+(0>c?c:n[0]*n[1]),1));0>c&&h.setDate(this._getDaysInMonth(h.getFullYear(),h.getMonth()));return this._isInRange(a,h)},_isInRange:function(a,c){var h=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max");return(!h||c.getTime()>=h.getTime())&&(!f||c.getTime()<=
f.getTime())},_getFormatConfig:function(a){var c=this._get(a,"shortYearCutoff"),c="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10);return{shortYearCutoff:c,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,c,h,f){c||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);c=c?"object"==typeof c?c:this._daylightSavingAdjust(new Date(f,
h,c)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),c,this._getFormatConfig(a))}});c.fn.datepicker=function(a){if(!this.length)return this;c.datepicker.initialized||(c(document).mousedown(c.datepicker._checkExternalClick).find("body").append(c.datepicker.dpDiv),c.datepicker.initialized=!0);var h=Array.prototype.slice.call(arguments,1);return"string"==typeof a&&("isDisabled"==a||"getDate"==a||"widget"==a)||"option"==
a&&2==arguments.length&&"string"==typeof arguments[1]?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this[0]].concat(h)):this.each(function(){"string"==typeof a?c.datepicker["_"+a+"Datepicker"].apply(c.datepicker,[this].concat(h)):c.datepicker._attachDatepicker(this,a)})};c.datepicker=new n;c.datepicker.initialized=!1;c.datepicker.uuid=(new Date).getTime();c.datepicker.version="1.8.17";window["DP_jQuery_"+o]=c})(jQuery);
(function(c,f){var a={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},h={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},n=c.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};c.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(a){var h=
c(this).css(a).offset().top;0>h&&c(this).css("top",a.top-h)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");"string"!=typeof this.originalTitle&&(this.originalTitle="");this.options.title=this.options.title||this.originalTitle;var a=this,h=a.options,f=h.title||"&#160;",n=c.ui.dialog.getTitleId(a.element),z=(a.uiDialog=c("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+
h.dialogClass).css({zIndex:h.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(f){h.closeOnEscape&&!f.isDefaultPrevented()&&f.keyCode&&f.keyCode===c.ui.keyCode.ESCAPE&&(a.close(f),f.preventDefault())}).attr({role:"dialog","aria-labelledby":n}).mousedown(function(c){a.moveToTop(!1,c)});a.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(z);var A=(a.uiDialogTitlebar=c("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(z),
u=c('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){u.addClass("ui-state-hover")},function(){u.removeClass("ui-state-hover")}).focus(function(){u.addClass("ui-state-focus")}).blur(function(){u.removeClass("ui-state-focus")}).click(function(c){a.close(c);return!1}).appendTo(A);(a.uiDialogTitlebarCloseText=c("<span></span>")).addClass("ui-icon ui-icon-closethick").text(h.closeText).appendTo(u);c("<span></span>").addClass("ui-dialog-title").attr("id",
n).html(f).prependTo(A);c.isFunction(h.beforeclose)&&!c.isFunction(h.beforeClose)&&(h.beforeClose=h.beforeclose);A.find("*").add(A).disableSelection();h.draggable&&c.fn.draggable&&a._makeDraggable();h.resizable&&c.fn.resizable&&a._makeResizable();a._createButtons(h.buttons);a._isOpen=!1;c.fn.bgiframe&&z.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");
this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);return this},widget:function(){return this.uiDialog},close:function(a){var h=this,f,n;if(!1!==h._trigger("beforeClose",a))return h.overlay&&h.overlay.destroy(),h.uiDialog.unbind("keypress.ui-dialog"),h._isOpen=!1,h.options.hide?h.uiDialog.hide(h.options.hide,function(){h._trigger("close",a)}):(h.uiDialog.hide(),h._trigger("close",a)),c.ui.dialog.overlay.resize(),h.options.modal&&(f=0,c(".ui-dialog").each(function(){this!==
h.uiDialog[0]&&(n=c(this).css("z-index"),isNaN(n)||(f=Math.max(f,n)))}),c.ui.dialog.maxZ=f),h},isOpen:function(){return this._isOpen},moveToTop:function(a,h){var f=this.options;if(f.modal&&!a||!f.stack&&!f.modal)return this._trigger("focus",h);f.zIndex>c.ui.dialog.maxZ&&(c.ui.dialog.maxZ=f.zIndex);this.overlay&&(c.ui.dialog.maxZ+=1,this.overlay.$el.css("z-index",c.ui.dialog.overlay.maxZ=c.ui.dialog.maxZ));f={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()};c.ui.dialog.maxZ+=
1;this.uiDialog.css("z-index",c.ui.dialog.maxZ);this.element.attr(f);this._trigger("focus",h);return this},open:function(){if(!this._isOpen){var a=this.options,h=this.uiDialog;this.overlay=a.modal?new c.ui.dialog.overlay(this):null;this._size();this._position(a.position);h.show(a.show);this.moveToTop(!0);a.modal&&h.bind("keydown.ui-dialog",function(a){if(a.keyCode===c.ui.keyCode.TAB){var h=c(":tabbable",this),f=h.filter(":first"),h=h.filter(":last");if(a.target===h[0]&&!a.shiftKey)return f.focus(1),
!1;if(a.target===f[0]&&a.shiftKey)return h.focus(1),!1}});c(this.element.find(":tabbable").get().concat(h.find(".ui-dialog-buttonpane :tabbable").get().concat(h.get()))).eq(0).focus();this._isOpen=!0;this._trigger("open");return this}},_createButtons:function(a){var h=this,f=!1,q=c("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),z=c("<div></div>").addClass("ui-dialog-buttonset").appendTo(q);h.uiDialog.find(".ui-dialog-buttonpane").remove();"object"==typeof a&&
null!==a&&c.each(a,function(){return!(f=!0)});f&&(c.each(a,function(a,f){var f=c.isFunction(f)?{click:f,text:a}:f,l=c('<button type="button"></button>').click(function(){f.click.apply(h.element[0],arguments)}).appendTo(z);c.each(f,function(a,c){"click"!==a&&(a in n?l[a](c):l.attr(a,c))});c.fn.button&&l.button()}),q.appendTo(h.uiDialog))},_makeDraggable:function(){function a(c){return{position:c.position,offset:c.offset}}var h=this,f=h.options,n=c(document),z;h.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(n,q){z="auto"===f.height?"auto":c(this).height();c(this).height(c(this).height()).addClass("ui-dialog-dragging");h._trigger("dragStart",n,a(q))},drag:function(c,f){h._trigger("drag",c,a(f))},stop:function(A,u){f.position=[u.position.left-n.scrollLeft(),u.position.top-n.scrollTop()];c(this).removeClass("ui-dialog-dragging").height(z);h._trigger("dragStop",A,a(u));c.ui.dialog.overlay.resize()}})},_makeResizable:function(a){function h(a){return{originalPosition:a.originalPosition,
originalSize:a.originalSize,position:a.position,size:a.size}}var a=a===f?this.options.resizable:a,l=this,n=l.options,z=l.uiDialog.css("position"),a="string"==typeof a?a:"n,e,s,w,se,sw,ne,nw";l.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:l.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:l._minHeight(),handles:a,start:function(a,f){c(this).addClass("ui-dialog-resizing");l._trigger("resizeStart",a,h(f))},resize:function(a,c){l._trigger("resize",
a,h(c))},stop:function(a,f){c(this).removeClass("ui-dialog-resizing");n.height=c(this).height();n.width=c(this).width();l._trigger("resizeStop",a,h(f));c.ui.dialog.overlay.resize()}}).css("position",z).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var h=[],f=[0,0],n;if(a){if("string"==typeof a||"object"==typeof a&&"0"in a)h=a.split?a.split(" "):
[a[0],a[1]],1===h.length&&(h[1]=h[0]),c.each(["left","top"],function(a,c){+h[a]===h[a]&&(f[a]=h[a],h[a]=c)}),a={my:h.join(" "),at:h.join(" "),offset:f.join(" ")};a=c.extend({},c.ui.dialog.prototype.options.position,a)}else a=c.ui.dialog.prototype.options.position;(n=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(c.extend({of:window},a));n||this.uiDialog.hide()},_setOptions:function(f){var n=this,l={},q=!1;c.each(f,function(c,f){n._setOption(c,f);c in
a&&(q=!0);c in h&&(l[c]=f)});q&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",l)},_setOption:function(a,h){var f=this.uiDialog;switch(a){case "beforeclose":a="beforeClose";break;case "buttons":this._createButtons(h);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+h);break;case "dialogClass":f.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+h);break;case "disabled":h?f.addClass("ui-dialog-disabled"):
f.removeClass("ui-dialog-disabled");break;case "draggable":var n=f.is(":data(draggable)");n&&!h&&f.draggable("destroy");!n&&h&&this._makeDraggable();break;case "position":this._position(h);break;case "resizable":(n=f.is(":data(resizable)"))&&!h&&f.resizable("destroy");n&&"string"==typeof h&&f.resizable("option","handles",h);!n&&!1!==h&&this._makeResizable(h);break;case "title":c(".ui-dialog-title",this.uiDialogTitlebar).html(""+(h||"&#160;"))}c.Widget.prototype._setOption.apply(this,arguments)},_size:function(){var a=
this.options,h,f,n=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});a.minWidth>a.width&&(a.width=a.minWidth);h=this.uiDialog.css({height:"auto",width:a.width}).height();f=Math.max(0,a.minHeight-h);"auto"===a.height?c.support.minHeight?this.element.css({minHeight:f,height:"auto"}):(this.uiDialog.show(),a=this.element.css("height","auto").height(),n||this.uiDialog.hide(),this.element.height(Math.max(a,f))):this.element.height(Math.max(a.height-h,0));this.uiDialog.is(":data(resizable)")&&
this.uiDialog.resizable("option","minHeight",this._minHeight())}});c.extend(c.ui.dialog,{version:"1.8.17",uuid:0,maxZ:0,getTitleId:function(a){(a=a.attr("id"))||(this.uuid+=1,a=this.uuid);return"ui-dialog-title-"+a},overlay:function(a){this.$el=c.ui.dialog.overlay.create(a)}});c.extend(c.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:c.map("focus mousedown mouseup keydown keypress click".split(" "),function(a){return a+".dialog-overlay"}).join(" "),create:function(a){0===this.instances.length&&
(setTimeout(function(){c.ui.dialog.overlay.instances.length&&c(document).bind(c.ui.dialog.overlay.events,function(a){if(c(a.target).zIndex()<c.ui.dialog.overlay.maxZ)return!1})},1),c(document).bind("keydown.dialog-overlay",function(h){a.options.closeOnEscape&&!h.isDefaultPrevented()&&h.keyCode&&h.keyCode===c.ui.keyCode.ESCAPE&&(a.close(h),h.preventDefault())}),c(window).bind("resize.dialog-overlay",c.ui.dialog.overlay.resize));var h=(this.oldInstances.pop()||c("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),
height:this.height()});c.fn.bgiframe&&h.bgiframe();this.instances.push(h);return h},destroy:function(a){var h=c.inArray(a,this.instances);-1!=h&&this.oldInstances.push(this.instances.splice(h,1)[0]);0===this.instances.length&&c([document,window]).unbind(".dialog-overlay");a.remove();var f=0;c.each(this.instances,function(){f=Math.max(f,this.css("z-index"))});this.maxZ=f},height:function(){var a,h;return c.browser.msie&&7>c.browser.version?(a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),
h=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),a<h?c(window).height()+"px":a+"px"):c(document).height()+"px"},width:function(){var a,h;return c.browser.msie?(a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),h=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),a<h?c(window).width()+"px":a+"px"):c(document).width()+"px"},resize:function(){var a=c([]);c.each(c.ui.dialog.overlay.instances,function(){a=a.add(this)});a.css({width:0,
height:0}).css({width:c.ui.dialog.overlay.width(),height:c.ui.dialog.overlay.height()})}});c.extend(c.ui.dialog.overlay.prototype,{destroy:function(){c.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function(c){c.ui=c.ui||{};var f=/left|center|right/,a=/top|center|bottom/,h={},n=c.fn.position,o=c.fn.offset;c.fn.position=function(l){if(!l||!l.of)return n.apply(this,arguments);var l=c.extend({},l),o=c(l.of),p=o[0],q=(l.collision||"flip").split(" "),z=l.offset?l.offset.split(" "):[0,0],A,I,O;9===p.nodeType?(A=o.width(),I=o.height(),O={top:0,left:0}):p.setTimeout?(A=o.width(),I=o.height(),O={top:o.scrollTop(),left:o.scrollLeft()}):p.preventDefault?(l.at="left top",A=I=0,O={top:l.of.pageY,left:l.of.pageX}):
(A=o.outerWidth(),I=o.outerHeight(),O=o.offset());c.each(["my","at"],function(){var c=(l[this]||"").split(" ");1===c.length&&(c=f.test(c[0])?c.concat(["center"]):a.test(c[0])?["center"].concat(c):["center","center"]);c[0]=f.test(c[0])?c[0]:"center";c[1]=a.test(c[1])?c[1]:"center";l[this]=c});1===q.length&&(q[1]=q[0]);z[0]=parseInt(z[0],10)||0;1===z.length&&(z[1]=z[0]);z[1]=parseInt(z[1],10)||0;"right"===l.at[0]?O.left+=A:"center"===l.at[0]&&(O.left+=A/2);"bottom"===l.at[1]?O.top+=I:"center"===l.at[1]&&
(O.top+=I/2);O.left+=z[0];O.top+=z[1];return this.each(function(){var a=c(this),f=a.outerWidth(),n=a.outerHeight(),o=parseInt(c.curCSS(this,"marginLeft",!0))||0,p=parseInt(c.curCSS(this,"marginTop",!0))||0,B=f+o+(parseInt(c.curCSS(this,"marginRight",!0))||0),E=n+p+(parseInt(c.curCSS(this,"marginBottom",!0))||0),L=c.extend({},O),da;"right"===l.my[0]?L.left-=f:"center"===l.my[0]&&(L.left-=f/2);"bottom"===l.my[1]?L.top-=n:"center"===l.my[1]&&(L.top-=n/2);h.fractions||(L.left=Math.round(L.left),L.top=
Math.round(L.top));da={left:L.left-o,top:L.top-p};c.each(["left","top"],function(a,h){c.ui.position[q[a]]&&c.ui.position[q[a]][h](L,{targetWidth:A,targetHeight:I,elemWidth:f,elemHeight:n,collisionPosition:da,collisionWidth:B,collisionHeight:E,offset:z,my:l.my,at:l.at})});c.fn.bgiframe&&a.bgiframe();a.offset(c.extend(L,{using:l.using}))})};c.ui.position={fit:{left:function(a,h){var f=c(window),f=h.collisionPosition.left+h.collisionWidth-f.width()-f.scrollLeft();a.left=0<f?a.left-f:Math.max(a.left-
h.collisionPosition.left,a.left)},top:function(a,h){var f=c(window),f=h.collisionPosition.top+h.collisionHeight-f.height()-f.scrollTop();a.top=0<f?a.top-f:Math.max(a.top-h.collisionPosition.top,a.top)}},flip:{left:function(a,h){if("center"!==h.at[0]){var f=c(window),f=h.collisionPosition.left+h.collisionWidth-f.width()-f.scrollLeft(),l="left"===h.my[0]?-h.elemWidth:"right"===h.my[0]?h.elemWidth:0,n="left"===h.at[0]?h.targetWidth:-h.targetWidth,o=-2*h.offset[0];a.left+=0>h.collisionPosition.left?l+
n+o:0<f?l+n+o:0}},top:function(a,h){if("center"!==h.at[1]){var f=c(window),f=h.collisionPosition.top+h.collisionHeight-f.height()-f.scrollTop(),l="top"===h.my[1]?-h.elemHeight:"bottom"===h.my[1]?h.elemHeight:0,n="top"===h.at[1]?h.targetHeight:-h.targetHeight,o=-2*h.offset[1];a.top+=0>h.collisionPosition.top?l+n+o:0<f?l+n+o:0}}}};c.offset.setOffset||(c.offset.setOffset=function(a,h){/static/.test(c.curCSS(a,"position"))&&(a.style.position="relative");var f=c(a),l=f.offset(),n=parseInt(c.curCSS(a,"top",
!0),10)||0,o=parseInt(c.curCSS(a,"left",!0),10)||0,l={top:h.top-l.top+n,left:h.left-l.left+o};"using"in h?h.using.call(a,l):f.css(l)},c.fn.offset=function(a){var h=this[0];return!h||!h.ownerDocument?null:a?this.each(function(){c.offset.setOffset(this,a)}):o.call(this)});var p=document.getElementsByTagName("body")[0],l=document.createElement("div"),q,z;q=document.createElement(p?"div":"body");z={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};p&&jQuery.extend(z,{position:"absolute",
left:"-1000px",top:"-1000px"});for(var A in z)q.style[A]=z[A];q.appendChild(l);z=p||document.documentElement;z.insertBefore(q,z.firstChild);l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";l=c(l).offset(function(a,c){return c}).offset();q.innerHTML="";z.removeChild(q);p=l.top+l.left+(p?2E3:0);h.fractions=21<p&&22>p})(jQuery);
(function(c,f){c.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=c("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();c.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===f)return this._value();this._setOption("value",a);return this},_setOption:function(a,h){"value"===a&&(this.options.value=h,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete"));c.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;"number"!=typeof a&&(a=0);return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*
this._value()/this.options.max},_refreshValue:function(){var a=this.value(),c=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change"));this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(c.toFixed(0)+"%");this.element.attr("aria-valuenow",a)}});c.extend(c.ui.progressbar,{version:"1.8.17"})})(jQuery);
(function(c){c.widget("ui.slider",c.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var f=this,a=this.options,h=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),n=a.values&&a.values.length||1,o=[];this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+
this.orientation+" ui-widget ui-widget-content ui-corner-all"+(a.disabled?" ui-slider-disabled ui-disabled":""));this.range=c([]);a.range&&(!0===a.range&&(a.values||(a.values=[this._valueMin(),this._valueMin()]),a.values.length&&2!==a.values.length&&(a.values=[a.values[0],a.values[0]])),this.range=c("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:"")));for(var p=h.length;p<n;p+=1)o.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=h.add(c(o.join("")).appendTo(f.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){a.disabled||c(this).addClass("ui-state-hover")},function(){c(this).removeClass("ui-state-hover")}).focus(function(){a.disabled?c(this).blur():(c(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),c(this).addClass("ui-state-focus"))}).blur(function(){c(this).removeClass("ui-state-focus")});this.handles.each(function(a){c(this).data("index.ui-slider-handle",
a)});this.handles.keydown(function(a){var h=!0,n=c(this).data("index.ui-slider-handle"),o,p,B;if(!f.options.disabled){switch(a.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(h=!1,!f._keySliding&&(f._keySliding=!0,c(this).addClass("ui-state-active"),o=f._start(a,n),!1===o))return}o=f.options.step;f.options.values&&f.options.values.length?p=B=f.values(n):
p=B=f.value();switch(a.keyCode){case c.ui.keyCode.HOME:B=f._valueMin();break;case c.ui.keyCode.END:B=f._valueMax();break;case c.ui.keyCode.PAGE_UP:B=f._trimAlignValue(p+(f._valueMax()-f._valueMin())/5);break;case c.ui.keyCode.PAGE_DOWN:B=f._trimAlignValue(p-(f._valueMax()-f._valueMin())/5);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(p===f._valueMax())return;B=f._trimAlignValue(p+o);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(p===f._valueMin())return;B=f._trimAlignValue(p-o)}f._slide(a,
n,B);return h}}).keyup(function(a){var h=c(this).data("index.ui-slider-handle");f._keySliding&&(f._keySliding=!1,f._stop(a,h),f._change(a,h),c(this).removeClass("ui-state-active"))});this._refreshValue();this._animateOff=!1},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(f){var a=
this.options,h,n,o,p,l;if(a.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();h=this._normValueFromMouse({x:f.pageX,y:f.pageY});n=this._valueMax()-this._valueMin()+1;p=this;this.handles.each(function(a){var f=Math.abs(h-p.values(a));n>f&&(n=f,o=c(this),l=a)});!0===a.range&&this.values(1)===a.min&&(l+=1,o=c(this.handles[l]));if(!1===this._start(f,l))return!1;this._mouseSliding=!0;p._handleIndex=l;o.addClass("ui-state-active").focus();
a=o.offset();this._clickOffset=!c(f.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:f.pageX-a.left-o.width()/2,top:f.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(f,l,h);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(c){var a=this._normValueFromMouse({x:c.pageX,y:c.pageY});this._slide(c,
this._handleIndex,a);return!1},_mouseStop:function(c){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(c,this._handleIndex);this._change(c,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(c){var a,h;"horizontal"===this.orientation?(a=this.elementSize.width,h=c.x-this.elementOffset.left-(this._clickOffset?
this._clickOffset.left:0)):(a=this.elementSize.height,h=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));c=h/a;1<c&&(c=1);0>c&&(c=0);"vertical"===this.orientation&&(c=1-c);a=this._valueMax()-this._valueMin();c=this._valueMin()+c*a;return this._trimAlignValue(c)},_start:function(c,a){var h={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(h.value=this.values(a),h.values=this.values());return this._trigger("start",c,h)},_slide:function(c,
a,h){var n,o,p;this.options.values&&this.options.values.length?(n=this.values(a?0:1),2===this.options.values.length&&!0===this.options.range&&(0===a&&h>n||1===a&&h<n)&&(h=n),h!==this.values(a)&&(o=this.values(),o[a]=h,p=this._trigger("slide",c,{handle:this.handles[a],value:h,values:o}),this.values(a?0:1),!1!==p&&this.values(a,h,!0))):h!==this.value()&&(p=this._trigger("slide",c,{handle:this.handles[a],value:h}),!1!==p&&this.value(h))},_stop:function(c,a){var h={handle:this.handles[a],value:this.value()};
this.options.values&&this.options.values.length&&(h.value=this.values(a),h.values=this.values());this._trigger("stop",c,h)},_change:function(c,a){if(!this._keySliding&&!this._mouseSliding){var h={handle:this.handles[a],value:this.value()};this.options.values&&this.options.values.length&&(h.value=this.values(a),h.values=this.values());this._trigger("change",c,h)}},value:function(c){if(arguments.length)this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0);else return this._value()},
values:function(f,a){var h,n,o;if(1<arguments.length)this.options.values[f]=this._trimAlignValue(a),this._refreshValue(),this._change(null,f);else{if(!arguments.length)return this._values();if(!c.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(f):this.value();h=this.options.values;n=arguments[0];for(o=0;o<h.length;o+=1)h[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()}},_setOption:function(f,a){var h,n=0;c.isArray(this.options.values)&&
(n=this.options.values.length);c.Widget.prototype._setOption.apply(this,arguments);switch(f){case "disabled":a?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);
this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(h=0;h<n;h+=1)this._change(null,h);this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(c){var a,h;if(arguments.length)return a=this.options.values[c],this._trimAlignValue(a);a=this.options.values.slice();for(h=0;h<a.length;h+=1)a[h]=this._trimAlignValue(a[h]);return a},
_trimAlignValue:function(c){if(c<=this._valueMin())return this._valueMin();if(c>=this._valueMax())return this._valueMax();var a=0<this.options.step?this.options.step:1,h=(c-this._valueMin())%a,c=c-h;2*Math.abs(h)>=a&&(c+=0<h?a:-a);return parseFloat(c.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var f=this.options.range,a=this.options,h=this,n=this._animateOff?!1:a.animate,o,p={},l,q,z,A;this.options.values&&this.options.values.length?
this.handles.each(function(f){o=100*((h.values(f)-h._valueMin())/(h._valueMax()-h._valueMin()));p["horizontal"===h.orientation?"left":"bottom"]=o+"%";c(this).stop(1,1)[n?"animate":"css"](p,a.animate);!0===h.options.range&&("horizontal"===h.orientation?(0===f&&h.range.stop(1,1)[n?"animate":"css"]({left:o+"%"},a.animate),1===f&&h.range[n?"animate":"css"]({width:o-l+"%"},{queue:!1,duration:a.animate})):(0===f&&h.range.stop(1,1)[n?"animate":"css"]({bottom:o+"%"},a.animate),1===f&&h.range[n?"animate":
"css"]({height:o-l+"%"},{queue:!1,duration:a.animate})));l=o}):(q=this.value(),z=this._valueMin(),A=this._valueMax(),o=A!==z?100*((q-z)/(A-z)):0,p["horizontal"===h.orientation?"left":"bottom"]=o+"%",this.handle.stop(1,1)[n?"animate":"css"](p,a.animate),"min"===f&&"horizontal"===this.orientation&&this.range.stop(1,1)[n?"animate":"css"]({width:o+"%"},a.animate),"max"===f&&"horizontal"===this.orientation&&this.range[n?"animate":"css"]({width:100-o+"%"},{queue:!1,duration:a.animate}),"min"===f&&"vertical"===
this.orientation&&this.range.stop(1,1)[n?"animate":"css"]({height:o+"%"},a.animate),"max"===f&&"vertical"===this.orientation&&this.range[n?"animate":"css"]({height:100-o+"%"},{queue:!1,duration:a.animate}))}});c.extend(c.ui.slider,{version:"1.8.17"})})(jQuery);
(function(c,f){var a=0,h=0;c.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,c){"selected"==a?this.options.collapsible&&c==this.options.selected||this.select(c):
(this.options[a]=c,this._tabify())},_tabId:function(c){return c.title&&c.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++a},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var a=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++h);return c.cookie.apply(null,[a].concat(c.makeArray(arguments)))},_ui:function(a,c){return{tab:a,panel:c,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var a=
c(this);a.html(a.data("label.tabs")).removeData("label.tabs")})},_tabify:function(a){function h(a,f){a.css("display","");!c.support.opacity&&f.opacity&&a[0].style.removeAttribute("filter")}var p=this,l=this.options,q=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=c(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return c("a",this)[0]});this.panels=c([]);this.anchors.each(function(a,h){var f=c(h).attr("href"),n=f.split("#")[0],o;n&&(n===location.toString().split("#")[0]||
(o=c("base")[0])&&n===o.href)&&(f=h.hash,h.href=f);q.test(f)?p.panels=p.panels.add(p.element.find(p._sanitizeSelector(f))):f&&"#"!==f?(c.data(h,"href.tabs",f),c.data(h,"load.tabs",f.replace(/#.*$/,"")),f=p._tabId(h),h.href="#"+f,n=p.element.find("#"+f),n.length||(n=c(l.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(p.panels[a-1]||p.list),n.data("destroy.tabs",!0)),p.panels=p.panels.add(n)):l.disabled.push(a)});a?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),
this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),l.selected===f?(location.hash&&this.anchors.each(function(a,c){if(c.hash==location.hash)return l.selected=a,!1}),"number"!=typeof l.selected&&l.cookie&&(l.selected=parseInt(p._cookie(),10)),"number"!=typeof l.selected&&this.lis.filter(".ui-tabs-selected").length&&(l.selected=
this.lis.index(this.lis.filter(".ui-tabs-selected"))),l.selected=l.selected||(this.lis.length?0:-1)):null===l.selected&&(l.selected=-1),l.selected=0<=l.selected&&this.anchors[l.selected]||0>l.selected?l.selected:0,l.disabled=c.unique(l.disabled.concat(c.map(this.lis.filter(".ui-state-disabled"),function(a){return p.lis.index(a)}))).sort(),-1!=c.inArray(l.selected,l.disabled)&&l.disabled.splice(c.inArray(l.selected,l.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),
0<=l.selected&&this.anchors.length&&(p.element.find(p._sanitizeSelector(p.anchors[l.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(l.selected).addClass("ui-tabs-selected ui-state-active"),p.element.queue("tabs",function(){p._trigger("show",null,p._ui(p.anchors[l.selected],p.element.find(p._sanitizeSelector(p.anchors[l.selected].hash))[0]))}),this.load(l.selected)),c(window).bind("unload",function(){p.lis.add(p.anchors).unbind(".tabs");p.lis=p.anchors=p.panels=null})):l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));
this.element[l.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");l.cookie&&this._cookie(l.selected,l.cookie);for(var a=0,z;z=this.lis[a];a++)c(z)[-1!=c.inArray(a,l.disabled)&&!c(z).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");!1===l.cache&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if("mouseover"!==l.event){var A=function(a,c){c.is(":not(.ui-state-disabled)")&&c.addClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",
function(){A("hover",c(this))});this.lis.bind("mouseout.tabs",function(){c(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){A("focus",c(this).closest("li"))});this.anchors.bind("blur.tabs",function(){c(this).closest("li").removeClass("ui-state-focus")})}var u,B;l.fx&&(c.isArray(l.fx)?(u=l.fx[0],B=l.fx[1]):u=B=l.fx);var E=B?function(a,f){c(a).closest("li").addClass("ui-tabs-selected ui-state-active");f.hide().removeClass("ui-tabs-hide").animate(B,B.duration||"normal",
function(){h(f,B);p._trigger("show",null,p._ui(a,f[0]))})}:function(a,h){c(a).closest("li").addClass("ui-tabs-selected ui-state-active");h.removeClass("ui-tabs-hide");p._trigger("show",null,p._ui(a,h[0]))},C=u?function(a,c){c.animate(u,u.duration||"normal",function(){p.lis.removeClass("ui-tabs-selected ui-state-active");c.addClass("ui-tabs-hide");h(c,u);p.element.dequeue("tabs")})}:function(a,c){p.lis.removeClass("ui-tabs-selected ui-state-active");c.addClass("ui-tabs-hide");p.element.dequeue("tabs")};
this.anchors.bind(l.event+".tabs",function(){var a=this,h=c(a).closest("li"),f=p.panels.filter(":not(.ui-tabs-hide)"),n=p.element.find(p._sanitizeSelector(a.hash));if(h.hasClass("ui-tabs-selected")&&!l.collapsible||h.hasClass("ui-state-disabled")||h.hasClass("ui-state-processing")||p.panels.filter(":animated").length||!1===p._trigger("select",null,p._ui(this,n[0])))return this.blur(),!1;l.selected=p.anchors.index(this);p.abort();if(l.collapsible){if(h.hasClass("ui-tabs-selected"))return l.selected=
-1,l.cookie&&p._cookie(l.selected,l.cookie),p.element.queue("tabs",function(){C(a,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return l.cookie&&p._cookie(l.selected,l.cookie),p.element.queue("tabs",function(){E(a,n)}),p.load(p.anchors.index(this)),this.blur(),!1}l.cookie&&p._cookie(l.selected,l.cookie);if(n.length)f.length&&p.element.queue("tabs",function(){C(a,f)}),p.element.queue("tabs",function(){E(a,n)}),p.load(p.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";
c.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]")));return a},destroy:function(){var a=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var a=
c.data(this,"href.tabs");a&&(this.href=a);var h=c(this).unbind(".tabs");c.each(["href","load","cache"],function(a,c){h.removeData(c+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){c.data(this,"destroy.tabs")?c(this).remove():c(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});a.cookie&&this._cookie(null,a.cookie);return this},add:function(a,
h,p){p===f&&(p=this.anchors.length);var l=this,q=this.options,h=c(q.tabTemplate.replace(/#\{href\}/g,a).replace(/#\{label\}/g,h)),a=a.indexOf("#")?this._tabId(c("a",h)[0]):a.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var z=l.element.find("#"+a);z.length||(z=c(q.panelTemplate).attr("id",a).data("destroy.tabs",!0));z.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");p>=this.lis.length?(h.appendTo(this.list),z.appendTo(this.list[0].parentNode)):
(h.insertBefore(this.lis[p]),z.insertBefore(this.panels[p]));q.disabled=c.map(q.disabled,function(a){return a>=p?++a:a});this._tabify();1==this.anchors.length&&(q.selected=0,h.addClass("ui-tabs-selected ui-state-active"),z.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){l._trigger("show",null,l._ui(l.anchors[0],l.panels[0]))}),this.load(0));this._trigger("add",null,this._ui(this.anchors[p],this.panels[p]));return this},remove:function(a){var a=this._getIndex(a),h=this.options,f=this.lis.eq(a).remove(),
l=this.panels.eq(a).remove();f.hasClass("ui-tabs-selected")&&1<this.anchors.length&&this.select(a+(a+1<this.anchors.length?1:-1));h.disabled=c.map(c.grep(h.disabled,function(c){return c!=a}),function(c){return c>=a?--c:c});this._tabify();this._trigger("remove",null,this._ui(f.find("a")[0],l[0]));return this},enable:function(a){var a=this._getIndex(a),h=this.options;if(-1!=c.inArray(a,h.disabled))return this.lis.eq(a).removeClass("ui-state-disabled"),h.disabled=c.grep(h.disabled,function(c){return c!=
a}),this._trigger("enable",null,this._ui(this.anchors[a],this.panels[a])),this},disable:function(a){var a=this._getIndex(a),c=this.options;a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a])));return this},select:function(a){a=this._getIndex(a);if(-1==a)if(this.options.collapsible&&-1!=this.options.selected)a=this.options.selected;else return this;this.anchors.eq(a).trigger(this.options.event+
".tabs");return this},load:function(a){var a=this._getIndex(a),h=this,f=this.options,l=this.anchors.eq(a)[0],q=c.data(l,"load.tabs");this.abort();if(!q||0!==this.element.queue("tabs").length&&c.data(l,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(a).addClass("ui-state-processing");if(f.spinner){var z=c("span",l);z.data("label.tabs",z.html()).html(f.spinner)}this.xhr=c.ajax(c.extend({},f.ajaxOptions,{url:q,success:function(q,z){h.element.find(h._sanitizeSelector(l.hash)).html(q);h._cleanup();
f.cache&&c.data(l,"cache.tabs",!0);h._trigger("load",null,h._ui(h.anchors[a],h.panels[a]));try{f.ajaxOptions.success(q,z)}catch(B){}},error:function(c,q){h._cleanup();h._trigger("load",null,h._ui(h.anchors[a],h.panels[a]));try{f.ajaxOptions.error(c,q,a,l)}catch(z){}}}));h.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(!1,!0);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));this.xhr&&(this.xhr.abort(),delete this.xhr);this._cleanup();
return this},url:function(a,c){this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",c);return this},length:function(){return this.anchors.length}});c.extend(c.ui.tabs,{version:"1.8.17"});c.extend(c.ui.tabs.prototype,{rotation:null,rotate:function(a,c){var h=this,f=this.options,q=h._rotate||(h._rotate=function(c){clearTimeout(h.rotation);h.rotation=setTimeout(function(){var a=f.selected;h.select(++a<h.anchors.length?a:0)},a);c&&c.stopPropagation()}),z=h._unrotate||(h._unrotate=c?function(){t=
f.selected;q()}:function(a){a.clientX&&h.rotate(null)});a?(this.element.bind("tabsshow",q),this.anchors.bind(f.event+".tabs",z),q()):(clearTimeout(h.rotation),this.element.unbind("tabsshow",q),this.anchors.unbind(f.event+".tabs",z),delete this._rotate,delete this._unrotate);return this}})})(jQuery);
(function(c){function f(h){var f;return h&&h.constructor==Array&&3==h.length?h:(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(h))?[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]:(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(h))?[2.55*parseFloat(f[1]),2.55*parseFloat(f[2]),2.55*parseFloat(f[3])]:(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(h))?[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]:
(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(h))?[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]:a[c.trim(h).toLowerCase()]}c.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),function(a,n){c.fx.step[n]=function(a){if(a.state==0){var h;h=a.elem;var l=n,q;do{q=c.curCSS(h,l);if(q!=""&&q!="transparent"||c.nodeName(h,"body"))break;l="backgroundColor"}while(h=h.parentNode);h=f(q);a.start=h;a.end=f(a.end)}a.elem.style[n]=
"rgb("+[Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2]),255),0)].join()+")"}});var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,
139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,
203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(c){function f(a,c){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var h=a.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(c,!0,!0,window,1,h.screenX,h.screenY,h.clientX,h.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(f)}}c.support.touch="ontouchend"in document;if(c.support.touch){var a=c.ui.mouse.prototype,h=a._mouseInit,n;a._touchStart=function(a){!n&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,
f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))};a._touchMove=function(a){n&&(this._touchMoved=!0,f(a,"mousemove"))};a._touchEnd=function(a){n&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),n=!1)};a._mouseInit=function(){this.element.bind("touchstart",c.proxy(this,"_touchStart")).bind("touchmove",c.proxy(this,"_touchMove")).bind("touchend",c.proxy(this,"_touchEnd"));h.call(this)}}})(jQuery);
i18n={appleOnly:"* These icons are only shown on Apple mobile devices (iPhone, iPod, iPad). Other devices may show corrupt characters.",colorDifference1:"There is no contrast. This code is not readable.",colorDifference2n:"The contrast is worst. Most likely it's not possible to read the code.",colorDifference2i:"The contrast is worst and the background is darker than the code. Most likely it's not possible to read the code.",colorDifference3n:"The contrast is very bad. Many readers may not read the code.",
colorDifference3i:"The contrast is very bad and the background is darker than the code. Many readers may not read the code.",colorDifference4n:"The contrast is bad. Some readers may not read the code.",colorDifference4i:"The contrast is bad and the background is darker than the code. Some readers may not read the code.",colorDifference5n:"The contrast is good.",colorDifference5i:"The contrast is good, but the background is darker than the code. Some readers may not read the code.",colorDifference6n:"The contrast is very good.",
colorDifference6i:"The contrast is very good, but the background is darker than the code. Some readers may not read the code.",colorDifference7n:"The contrast is perfect, all readers should be able to read this code.",colorDifference7i:"The contrast is perfect, but the background is darker than the code. Some readers may not read the code.",requestingData:"Requesting data...",addressNotFound:"Address not found.",addressMarked:"Address marked."};
(function(c){function f(a,c,f){var u,A,B,L=c.version,da=c.errorCorrection,V=Array(8*C[C.length-1][E.TOTAL_BYTES]),U=0;switch(c.encodeMode){case c.ENCODE_MODE.NUMERIC:for(u=B=0;u<a.length;u++)if(48<=a[u]&&57>=a[u])B=10*B+(a[u]-48),2===u%3&&(U=l(V,U,n(B,10)),B=0);else throw new TypeError("Invalid data format.");switch(u%3){case 1:U=l(V,U,n(B,4));break;case 2:U=l(V,U,n(B,7))}if(0<L)1<=L&&9>=L?A=10:10<=L&&26>=L?A=12:27<=L&&40>=L&&(A=14);else{u=h(U+4+10,da);if(0<u)if(u<Math.abs(L)&&(u=Math.abs(L)),1<=
u&&9>=u)A=10;else if(u=h(U+4+12,da),0<u)if(u<Math.abs(L)&&(u=Math.abs(L)),10<=u&&26>=u)A=12;else if(u=h(U+4+14,da),0<u)if(u<Math.abs(L)&&(u=Math.abs(L)),27<=u&&40>=u)A=14;else throw new RangeError("Bug in version detection.");else throw new RangeError("Too much data.");else throw new RangeError("Too much data.");else throw new RangeError("Too much data.");L=u}break;case c.ENCODE_MODE.ALPHA_NUMERIC:B=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,
88,89,90,32,36,37,42,43,45,46,47,58];var aa,ca;for(u=0;u<a.length-1;u+=2){aa=z(96===(a[u]&96)?a[u]&95:a[u],B);ca=z(96===(a[u+1]&96)?a[u+1]&95:a[u+1],B);if(-1===aa||-1===ca)throw Error("Character not supported in ALPHA_NUMERIC encoding mode.");U=l(V,U,n(45*aa+ca,11))}if(u===a.length-1){aa=z(96===(a[u]&96)?a[u]&95:a[u],B);if(-1===aa)throw Error("Character not supported in ALPHA_NUMERIC encoding mode.");U=l(V,U,n(aa,6))}if(0<L)1<=L&&9>=L?A=9:10<=L&&26>=L?A=11:27<=L&&40>=L&&(A=13);else{u=h(U+4+9,da);
if(0<u)if(u<Math.abs(L)&&(u=Math.abs(L)),1<=u&&9>=u)A=9;else if(u=h(U+4+11,da),0<u)if(u<Math.abs(L)&&(u=Math.abs(L)),10<=u&&26>=u)A=11;else if(u=h(U+4+13,da),0<u)if(u<Math.abs(L)&&(u=Math.abs(L)),27<=u&&40>=u)A=13;else throw new RangeError("Bug in version detection.");else throw new RangeError("Too much data.");else throw new RangeError("Too much data.");else throw new RangeError("Too much data.");L=u}break;case c.ENCODE_MODE.BYTE:case c.ENCODE_MODE.UTF8:case c.ENCODE_MODE.UTF8_SIGNATURE:for(u=0;u<
a.length;u++)U=l(V,U,n(a[u],8));if(0<L)0<=L&&9>=L?A=8:10<=L&&40>=L&&(A=16);else{u=h(U+4+8,da);if(0<u)if(u<Math.abs(L)&&(u=Math.abs(L)),1<=u&&9>=u)A=8;else if(u=h(U+4+16,da),0<u)if(u<Math.abs(L)&&(u=Math.abs(L)),10<=u&&40>=u)A=16;else throw new RangeError("Bug in version detection.");else throw new RangeError("Too much data.");else throw new RangeError("Too much data.");L=u}break;case c.ENCODE_MODE.KANJI:throw Error('Encoding mode "KANJI" not supported yet.');default:throw Error("Unsupported encoding mode.");
}if(f)return L;V=n(c.encodeMode&15,4).concat(n(a.length,A)).concat(V);U+=4+A;a=C[L][E.TOTAL_BYTES]-C[L][E.ECC_BYTES][da]<<3;if(U>a)throw new RangeError("Invalid Size. Please select higher Size.");u=a-U;4<u&&(u=4);U=l(V,U,p(u,0));U=l(V,U,p((8-U%8)%8,0));u=0;for(B=a-U>>>3;u<B;u++)U=l(V,U,u&1?[0,0,0,1,0,0,0,1]:[1,1,1,0,1,1,0,0]);a=Math.floor((C[L][E.TOTAL_BYTES]-C[L][E.ECC_BYTES][da])/(C[L][E.EC_BLOCKS][da][0]+C[L][E.EC_BLOCKS][da][1]));c=Math.floor(C[L][E.ECC_BYTES][da]/(C[L][E.EC_BLOCKS][da][0]+C[L][E.EC_BLOCKS][da][1]));
A=[];u=0;for(B=C[L][E.EC_BLOCKS][da][0];u<B;u++){U=[];for(f=0;f<a;f++)U.push(o(V.splice(0,8)));A.push(U)}u=0;for(B=C[L][E.EC_BLOCKS][da][1];u<B;u++){U=[];for(f=0;f<=a;f++)U.push(o(V.splice(0,8)));A.push(U)}V=[];U=[];f=1;for(u=0;255>u;u++)V.push(f),U[f]=u,f<<=1,255<f&&(f^=285);ca=[1];u=0;for(B=c;u<B;u++){ca[u+1]=1;for(f=u;0<f;f--)ca[f]=0<ca[f]?ca[f-1]^V[(U[ca[f]]+u)%255]:ca[f-1];ca[0]=V[(U[ca[0]]+u)%255]}aa=[];for(u=ca.length-1;0<=u;u--)aa.push(ca[u]);B=[];for(f=0;f<A.length;f++)for(B[f]=[].concat(A[f]).concat(p(c,
0));B[f].length>=aa.length;){ca=B[f][0];for(u=0;u<aa.length;u++)B[f][u]^=V[(U[aa[u]]+U[ca])%255];if(0!==B[f].shift())throw Error("Bug while generating the ECC");}V=Array(8*C[C.length-1][E.TOTAL_BYTES]);for(u=U=0;u<=a;u++)for(f=0;f<A.length;f++)u<A[f].length&&(U=l(V,U,n(A[f][u],8)));for(u=0;u<c;u++)for(f=0;f<B.length;f++)u<B[f].length&&(U=l(V,U,n(B[f][u],8)));a=17+(L<<2);c=Array(a);for(u=0;u<a;u++)c[u]=p(a,0);q(c,0,0,F,N.FINDER);q(c,0,a-7,F,N.FINDER);q(c,a-7,0,F,N.FINDER);for(u=0;8>u;u++)c[u][7]=N.SEPARATOR,
c[7][u]=N.SEPARATOR,c[u][a-8]=N.SEPARATOR,c[7][a-1-u]=N.SEPARATOR,c[a-1-u][7]=N.SEPARATOR,c[a-8][u]=N.SEPARATOR;for(u=8;u<a-8;u++)c[u][6]=N.TIMING|(u+1)%2,c[6][u]=N.TIMING|(u+1)%2;if(1<L){u=C[L][E.ALIGNMENT_PATTERN_POSITION_OFFSET];for(A=B=4*L+10;;){for(f=B;;){6===f&&6===A||6===f&&A===a-7||f===a-7&&6===A||q(c,f-2,A-2,I,N.ALIGNMENT);if(6===f)break;f-=u;18>f&&(f=6)}if(6===A)break;A-=u;18>A&&(A=6)}}if(7<=L){L=C[L][E.VERSION_PATTERN];for(u=0;6>u;u++)for(f=0;3>f;f++)c[a-11+f][u]=N.VERSION|L&1,c[u][a-11+
f]=N.VERSION|L&1,L>>=1}for(u=0;8>u;u++)c[a-1-u][8]=N.FORMAT|0,c[8][a-1-u]=N.FORMAT|0,6!==u&&(c[8][u]=N.FORMAT|0,c[u][8]=N.FORMAT|0);c[8][8]=N.FORMAT|0;c[a-8][8]=N.FORMAT|1;L=-1;f=A=a-1;for(u=0;u<U;u++){c[A][f]=N.DATA|V[u];do if(6<f&&0===(f&1)||6>f&&1===(f&1))f--;else if(-1===L&&0===A||1===L&&A===a-1){if(0===f){if(u<U-1)throw new RangeError("Too much data while writing the symbol.");break}L=-L;f--;6===f&&f--}else A+=L,f++;while(0!==c[A][f])}L=[];for(u=0;u<O.length;u++){L[u]=[];for(A=0;A<a;A++){L[u][A]=
[];for(f=0;f<a;f++)L[u][A][f]=c[A][f]&N.DATA?(c[A][f]^O[u](f,A))&1:c[A][f]&1}V=n(G[da][u],15);L[u][a-1][8]=L[u][8][0]=V[0];L[u][a-2][8]=L[u][8][1]=V[1];L[u][a-3][8]=L[u][8][2]=V[2];L[u][a-4][8]=L[u][8][3]=V[3];L[u][a-5][8]=L[u][8][4]=V[4];L[u][a-6][8]=L[u][8][5]=V[5];L[u][a-7][8]=L[u][8][7]=V[6];L[u][8][a-8]=L[u][8][8]=V[7];L[u][8][a-7]=L[u][7][8]=V[8];L[u][8][a-6]=L[u][5][8]=V[9];L[u][8][a-5]=L[u][4][8]=V[10];L[u][8][a-4]=L[u][3][8]=V[11];L[u][8][a-3]=L[u][2][8]=V[12];L[u][8][a-2]=L[u][1][8]=V[13];
L[u][8][a-1]=L[u][0][8]=V[14]}da=0;V=4294967295;for(u=0;u<O.length;u++){for(A=U=B=aa=ca=0;A<a;A++)for(f=0;f<a;f++)6<=f&&(1===(L[u][A][f-6]&L[u][A][f-5]&L[u][A][f-4]&L[u][A][f-3]&L[u][A][f-2]&L[u][A][f-1]&L[u][A][f])||0===(L[u][A][f-6]|L[u][A][f-5]|L[u][A][f-4]|L[u][A][f-3]|L[u][A][f-2]|L[u][A][f-1]|L[u][A][f]))&&U++,6<=A&&(1===(L[u][A-6][f]&L[u][A-5][f]&L[u][A-4][f]&L[u][A-3][f]&L[u][A-2][f]&L[u][A-1][f]&L[u][A][f])||0===(L[u][A-6][f]|L[u][A-5][f]|L[u][A-4][f]|L[u][A-3][f]|L[u][A-2][f]|L[u][A-1][f]|
L[u][A][f]))&&U++,0<f&&0<A&&(1===(L[u][A][f]&L[u][A][f-1]&L[u][A-1][f]&L[u][A-1][f-1])||0===(L[u][A][f]|L[u][A][f-1]|L[u][A-1][f]|L[u][A-1][f-1]))&&B++,6<=f&&1===L[u][A][f-6]&&(0===L[u][A][f-5]&&1===L[u][A][f-4]&&1===L[u][A][f-3]&&1===L[u][A][f-2]&&0===L[u][A][f-1]&&1===L[u][A][f])&&aa++,6<=A&&1===L[u][A-6][f]&&(0===L[u][A-5][f]&&1===L[u][A-4][f]&&1===L[u][A-3][f]&&1===L[u][A-2][f]&&0===L[u][A-1][f]&&1===L[u][A][f])&&aa++,ca+=L[u][A][f];ca=Math.abs(100*ca/(a*a)-50)/5;U=3*U+3*B+40*aa+10*ca;U<V&&(V=
U,da=u)}for(A=0;A<a;A++)for(f=0;f<a;f++)c[A][f]=c[A][f]&(N.DATA|N.FORMAT)?L[da][A][f]:c[A][f]&1;return c}function a(a,h){var f,l,n,o,p;switch(typeof a){case "string":f=a;break;case "number":f=a.toString();break;case "object":if(a.constructor===c[B].prototype.Input)f=a.toString();else{if((Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a))return a;f=(new c[B].prototype.Input(a.dataType,a.data)).toString()}break;default:throw new TypeError("Unsupported input parameter.");
}l=h.encodeMode===h.ENCODE_MODE.UTF8_SIGNATURE?[239,187,191]:[];if(h.encodeMode===h.ENCODE_MODE.UTF8_SIGNATURE||h.encodeMode===h.ENCODE_MODE.UTF8){n=0;for(p=f.length;n<p;n++)o=f.charCodeAt(n),128>o?l.push(o):127<o&&2048>o?l.push(o>>6|192,o&63|128):l.push(o>>12|224,o>>6&63|128,o&63|128)}else{n=0;for(p=f.length;n<p;n++)l.push(f.charCodeAt(n))}return l}function h(a,c){for(var h=1;h<C.length;h++)if(a<=C[h][E.TOTAL_BYTES]-C[h][E.ECC_BYTES][c]<<3)return h;return 0}function n(a,c){var h=Array(c);if("number"===
typeof a&&0<c&&32>=c){for(var f=c-1;0<=f;f--)h[f]=a&1,a>>=1;return h}throw Error("Invalid parameters in toBits().");}function o(a,c){c=c||0;return((a[c]||0)<<7)+((a[c+1]||0)<<6)+((a[c+2]||0)<<5)+((a[c+3]||0)<<4)+((a[c+4]||0)<<3)+((a[c+5]||0)<<2)+((a[c+6]||0)<<1)+(a[c+7]||0)}function p(a,c){for(var h=Array(a),f=0;f<a;f++)h[f]=c;return h}function l(a,c,h){for(var f=0;f<h.length;f++)a[c+f]=h[f];return c+h.length}function q(a,c,h,f,l){var n,o,p,q;p=0;for(q=f.length;p<q;p++){n=0;for(o=f[p].length;n<o;n++)a[h+
p][c+n]=f[p][n]^l}}function z(a,c){if("function"===typeof c.indexOf)return c.indexOf(a);for(var h=0;h<c.length;h++)if(c[h]===a)return h;return-1}function A(a,c){for(var h in a)if(a[h]===c)return!0;return!1}function u(a){if("object"!=typeof a)return a;var c={},h;for(h in a)c[h]="object"===typeof a[h]?u(a[h]):a[h];return c}var B="JSQR";c[B]=function(){};c[B].prototype.encode=function(a,h){return new c[B].prototype.Matrix(a,h)};c[B].prototype.Input=function(a,c){if("undefined"!==typeof a){if(!A(this.DATA_TYPE,
a))throw new TypeError("Unsupported dataType.");}else a=this.DATA_TYPE.DEFAULT;try{Object.defineProperty(this,"dataType",{configurable:!1,writeable:!0,get:function(){return a},set:function(c){if(A(this.DATA_TYPE,c))a=c;else throw new TypeError("Unsupported dataType.");}})}catch(h){this.dataType=a}this.data="object"===typeof c?u(c):c};c[B].prototype.Input.prototype.DATA_TYPE={DEFAULT:0,TEXT:0,URL:1,BOOKMARK:2,CALL:3,SMS:4,EMAIL:5,VCARD:6,MECARD:7,VEVENT:8,GOOGLE_MAPS:9,BING_MAPS:10,GEO:11,ITUNES:12,
ITUNES_REVIEW:13,ANDROID_MARKET:14,FACEBOOK_USER_PROFILE:15,FOURSQUARE:16,TWEET_FETCH:17,TWEET:18,BLACKBERRY_MESSENGER_USER:19,ANDROID_WIFI:20,WIKIPEDIA:21,YOUTUBE_USER:22,YOUTUBE_VIDEO:23};c[B].prototype.DATA_TYPE=c[B].prototype.Input.prototype.DATA_TYPE;c[B].prototype.Input.prototype.toString=function(){function a(c){var h=n.data;if("string"===typeof c){var c=c.split("."),f;for(f=0;f<c.length;f++)h=h[c[f]]}return h}function c(h){h=a(h);return"undefined"===typeof h?"":h.toString()}function h(a,c){for(var f in c)a=
a.replace(f,c[f],"g");return a}function f(){var a=arguments[0].split("."),c=n,h;for(h=0;h<a.length;h++)c=c[a[h]];for(h=1;h<arguments.length;h++){if("object"===typeof c&&"function"===typeof arguments[h]&&null!==c&&c.constructor===arguments[h]||null===c&&null===arguments[h]||typeof c===arguments[h])return!0;"function"===typeof arguments[h]&&(arguments[h]=arguments[h].name)}if("undefined"===typeof c)throw new TypeError(arguments[0]+" is undefined.");throw new TypeError("Unexcepted type ("+typeof c+") of "+
arguments[0]+" ("+[].slice.call(arguments,1).join("|")+").");}function l(){var a,c,h,f;for(h=0;h<arguments.length;h++){a=arguments[h].split(".");c=n;for(f=0;f<a.length;f++)c=c[a[f]];if("string"===typeof c&&0===c.length)throw Error("Required: "+arguments[h]);}}var n=this,o,p,q;switch(this.dataType){case this.DATA_TYPE.DEFAULT:case this.DATA_TYPE.TEXT:if("object"===typeof this.data)return f("data.text","string","number"),l("data.text"),c("text");f("data","string","number");l("data");return c();case this.DATA_TYPE.URL:switch(typeof this.data){case "string":return l("data"),
(/^[a-zA-Z]+:\/\//.test(c())?"":"http://")+c();case "object":return f("data.url","string"),l("data.url"),(/^[a-zA-Z]+:\/\//.test(c("url"))?"":"http://")+c("url");default:throw new TypeError("Unexcepted type of data.url (string).");}case this.DATA_TYPE.BOOKMARK:return f("data","object"),f("data.title","string","number"),f("data.url","string"),l("data.title","data.url"),"MEBKM:TITLE:"+c("title")+";URL:"+(/^[a-zA-Z]+:\/\//.test(c("url"))?"":"http://")+c("url");case this.DATA_TYPE.CALL:switch(typeof this.data){case "string":case "number":return l("data"),
"TEL:"+c();case "object":switch(typeof this.data.phoneNumber){case "string":case "number":return l("data.phoneNumber"),"TEL:"+c("phoneNumber");default:throw new TypeError("Unexcepted type of data (string|number).");}default:throw new TypeError("Unexcepted type of data.phoneNumber (string|number).");}case this.DATA_TYPE.SMS:return f("data","object"),f("data.phoneNumber","string","number"),f("data.message","string","number"),l("data.phoneNumber"),"SMSTO:"+c("phoneNumber")+":"+c("message");case this.DATA_TYPE.EMAIL:return f("data",
"object"),f("data.recipient","string"),f("data.subject","string"),f("data.body","string"),l("data.recipient"),"SMTP:"+c("recipient").replace(":","")+":"+c("subject").replace(/:/g,"\\:")+":"+c("body");case this.DATA_TYPE.VCARD:f("data","object");f("data.version","string","number");f("data.type","string");f("data.firstName","string","number");f("data.middleName","string","number");f("data.lastName","string","number");f("data.organization","string","number");f("data.title","string","number");f("data.mobilePhone",
"string","number");f("data.work","object");f("data.work.street","string","number");f("data.work.city","string");f("data.work.zip","string","number");f("data.work.state","string");f("data.work.country","string");f("data.work.phone","string","number");f("data.work.fax","string","number");f("data.work.eMail","string");f("data.work.url","string");f("data.home","object");f("data.home.street","string","number");f("data.home.city","string","number");f("data.home.zip","string","number");f("data.home.state",
"string","number");f("data.home.country","string");f("data.home.phone","string","number");f("data.home.eMail","string");f("data.home.url","string");f("data.birthday",Date,null);l("data.version","data.type");q={"\\":"\\\\",";":"\\;",",":"\\,","\n":"\\n"};o=[];switch(parseFloat(c("version"))){case 2.1:o[0]="2.1";break;case 3:o[0]="3.0";break;default:throw Error("Unsupported VCARD.version ("+c("version")+").");}switch(c("type").toLowerCase()){case "person":o[1]=(0<c("firstName").length||0<c("middleName").length||
0<c("lastName").length?"FN:"+(h(c("firstName"),q)+" "+h(c("middleName"),q)+" "+h(c("lastName"),q)).replace(/\s{2,}/g," ").replace(/^\s+|\s+$/g,"")+"\n":"")+(0<c("organization").length?"ORG:"+h(c("organization"),q)+"\n":"");break;case "company":o[1]=(0<c("organization").length?"ORG:"+h(c("organization"),q)+"\n":"")+(0<c("organization").length?"FN:"+h(c("organization"),q)+"\n":"")+"X-ABShowAs:COMPANY\n";break;default:throw Error("Unsupported VCARD.type ("+c("type")+").");}return"BEGIN:VCARD\nVERSION:"+
o[0]+"\n"+(0<c("lastName").length||0<c("firstName").length||0<c("middleName").length?"N:"+h(c("lastName"),q)+";"+h(c("firstName"),q)+";"+h(c("middleName"),q)+";;\n":"")+o[1]+(0<c("title").length?"TITLE:"+h(c("title"),q)+"\n":"")+(a("work")&&0<c("work.eMail").length?"EMAIL;"+("3.0"===o[0]?"type=INTERNET;type=":"INTERNET;")+"WORK:"+h(c("work.eMail"),q)+"\n":"")+(a("home")&&0<c("home.eMail").length?"EMAIL;"+("3.0"===o[0]?"type=INTERNET;type=":"INTERNET;")+"HOME:"+h(c("home.eMail"),q)+"\n":"")+(0<c("mobilePhone").length?
"TEL;"+("3.0"===o[0]?"type=":"")+"CELL:"+h(c("mobilePhone"),q)+"\n":"")+(a("work")&&0<c("work.phone").length?"TEL;"+("3.0"===o[0]?"type=":"")+"WORK:"+h(c("work.phone"),q)+"\n":"")+(a("home")&&0<c("home.phone").length?"TEL;"+("3.0"===o[0]?"type=":"")+"HOME:"+h(c("home.phone"),q)+"\n":"")+(a("work")&&0<c("work.fax").length?"TEL;"+("3.0"===o[0]?"type=WORK,":"WORK;")+"FAX:"+h(c("work.fax"),q)+"\n":"")+(a("work")&&(0<c("work.street").length||0<c("work.city").length||0<c("work.state").length||0<c("work.zip").length||
0<c("work.country").length)?"ADR;"+("3.0"===o[0]?"type=":"")+"WORK:;;"+h(c("work.street"),q)+";"+h(c("work.city"),q)+";"+h(c("work.state"),q)+";"+h(c("work.zip"),q)+";"+h(c("work.country"),q)+"\n":"")+(a("home")&&(0<c("home.street").length||0<c("home.city").length||0<c("home.state").length||0<c("home.zip").length||0<c("home.country").length)?"ADR;"+("3.0"===o[0]?"type=":"")+"HOME:;;"+h(c("home.street"),q)+";"+h(c("home.city"),q)+";"+h(c("home.state"),q)+";"+h(c("home.zip"),q)+";"+h(c("home.country"),
q)+"\n":"")+(a("birthday")&&null!==a("birthday")?"BDAY;value=date:"+a("birthday").getFullYear()+("0"+(a("birthday").getMonth()+1)).substr(-2)+("0"+a("birthday").getDate()).substr(-2)+";":"")+(a("work")&&0<c("work.url").length?"URL;"+("3.0"===o[0]?"type=":"")+"WORK:"+h(c("work.url"),q)+"\n":"")+(a("home")&&0<c("home.url").length?"URL;"+("3.0"===o[0]?"type=":"")+"HOME:"+h(c("home.url"),q)+"\n":"")+"END:VCARD";case this.DATA_TYPE.MECARD:return f("data","object"),f("data.firstName","string","number"),
f("data.lastName","string","number"),f("data.eMail","string"),f("data.phoneNumber","string","number"),f("data.videoCall","string","number"),f("data.birthday",Date,null),f("data.poBox","string","number"),f("data.room","string","number"),f("data.street","string","number"),f("data.city","string"),f("data.state","string"),f("data.zip","string","number"),f("data.country","string"),f("data.url","string","number"),f("data.memo","string","number"),q={"\\":"\\\\",":":"\\:",";":"\\;",",":"\\,"},"MECARD:"+(0<
c("lastName").length||0<c("firstName")?"N:"+h(c("lastName"),q)+(0<c("firstName").length?","+h(c("firstName"),q):"")+";":"")+(0<c("phoneNumber").length?"TEL:"+h(c("phoneNumber"),q)+";":"")+(0<c("videoCall").length?"TEL-AV:"+h(c("videoCall"),q)+";":"")+(0<c("eMail").length?"EMAIL:"+h(c("eMail"),q)+";":"")+(0<c("url").length?"URL:"+h(c("url"),q)+";":"")+(0<c("memo").length?"NOTE:"+h(c("memo"),q)+";":"")+(a("birthday")&&null!==a("birthday")?"BDAY:"+a("birthday").getFullYear()+("0"+(a("birthday").getMonth()+
1)).substr(-2)+("0"+a("birthday").getDate()).substr(-2)+";":"")+(0<c("street").length?"ADR:"+h(c("poBox"),q)+","+h(c("room"),q)+","+h(c("street"),q)+","+h(c("city"),q)+","+h(c("state"),q)+","+h(c("zip"),q)+","+h(c("country"),q)+";":"")+";";case this.DATA_TYPE.VEVENT:f("data","object");f("data.format","string");f("data.summary","string","number");f("data.description","string","number");f("data.locationName","string","number");f("data.fullDay","boolean");f("data.startDate",Date);f("data.endDate",Date);
l("data.format","data.summary","data.fullDay","data.startDate","data.endDate");if(Date.parse(c("startDate"))>Date.parse(c("endDate")))throw new RangeError("VEVENT.startDate must be older than VEVENT.endDate.");q={"\\":"\\\\",";":"\\;",",":"\\,","\n":"\\n"};o="BEGIN:VEVENT\nSUMMARY:"+h(c("summary"),q)+"\n"+(0<c("description").length?"DESCRIPTION:"+h(c("description"),q)+"\n":"")+(0<c("locationName").length?"LOCATION:"+h(c("locationName"),q)+"\n":"")+"DTSTART:"+a("startDate").getFullYear()+("0"+(a("startDate").getMonth()+
1)).substr(-2)+("0"+a("startDate").getDate()).substr(-2)+(!a("fullDay")?"T"+("0"+a("startDate").getHours()).substr(-2)+("0"+a("startDate").getMinutes()).substr(-2)+("0"+a("startDate").getSeconds()).substr(-2):"")+"\nDTEND:"+a("endDate").getFullYear()+("0"+(a("endDate").getMonth()+1)).substr(-2)+("0"+a("endDate").getDate()).substr(-2)+(!a("fullDay")?"T"+("0"+a("endDate").getHours()).substr(-2)+("0"+a("endDate").getMinutes()).substr(-2)+("0"+a("endDate").getSeconds()).substr(-2):"")+"\nEND:VEVENT";
switch(c("format").toLowerCase()){case "icalendar":return"BEGIN:VCALENDAR\nVERSION:2.0\n"+o+"\nEND:VCALENDAR";case "zxing":return o;default:throw Error("Unsupported VEVENT.format ("+c("format")+").");}case this.DATA_TYPE.GOOGLE_MAPS:return f("data","object"),f("data.locationName","string"),f("data.longitude","string","number"),f("data.latitude","string","number"),l("data.longitude","data.latitude"),"http://maps.google.com/maps?f=q&q="+c("latitude")+"%2C"+c("longitude")+"+%28"+encodeURIComponent(c("locationName"))+
"%29";case this.DATA_TYPE.BING_MAPS:return f("data","object"),f("data.longitude","string","number"),f("data.latitude","string","number"),l("data.longitude","data.latitude"),"http://www.bing.com/maps/?v=2&cp="+c("latitude")+"~"+c("longitude")+"&lvl=16&dir=0&sty=r";case this.DATA_TYPE.GEO:return f("data","object"),f("data.longitude","string","number"),f("data.latitude","string","number"),l("data.longitude","data.latitude"),"GEO:"+c("latitude")+","+c("longitude");case this.DATA_TYPE.ITUNES:"object"===
typeof this.data?(f("data.appId","string","number"),l("data.appId"),o=c("appId")):(f("data","string","number"),l("data"),o=c());if(!/\d+$/.test(o))throw Error("Invalid ITUNES.appId. The id must be numeric.");return"http://itunes.apple.com/app/id"+/\d+$/.exec(o)[0];case this.DATA_TYPE.ITUNES_REVIEW:"object"===typeof this.data?(f("data.appId","string","number"),l("data.appId"),o=c("appId")):(f("data","string","number"),l("data"),o=c());if(!/\d+$/.test(o))throw Error("Invalid ITUNES.appId. The id must be numeric.");
return"itms-apps://ax.itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&id="+/\d+$/.exec(o)[0];case this.DATA_TYPE.ANDROID_MARKET:f("data","object");f("data.searchType","string");f("data.linkType","string");f("data.search","string","number");l("data.searchType","data.linkType","data.search");switch(c("linkType").toLowerCase()){case "market":o="market://";break;case "website":o="http://market.android.com/";break;default:throw Error("Unsupported ANDROID_MARKET.linkType ("+
c("linkType")+").");}switch(c("searchType").toLowerCase()){case "raw":return o+"search?q="+encodeURIComponent(c("search"));case "package":return o+"search?q=pname%3A"+encodeURIComponent(c("search"));case "publisher":return o+"search?q=pub%3A"+encodeURIComponent(c("search"));case "details":return o+"details?id="+encodeURIComponent(c("search"));default:throw Error("Unsupported ANDROID_MARKET.searchType ("+c("searchType")+").");}case this.DATA_TYPE.FACEBOOK_USER_PROFILE:"object"===typeof this.data?(f("data.profileId",
"string","number"),l("data.profileId"),o=c("profileId")):(f("data","string","number"),l("data"),o=c());if(/^\d{15}$/.test(o))return"fb://profile/"+o;if(/(\/profile\/|(\?|&)id=)(\d{15})(%26|&|$)/.test(o))return"fb://profile/"+/(\/profile\/|(\?|&)id=)(\d{15})(%26|&|$)/.exec(o)[3];throw Error("Invalid FACEBOOK_USER_PROFILE.videoId. The id must be numeric, 15 characters in length.");case this.DATA_TYPE.FOURSQUARE:"object"===typeof this.data?(f("data.venueId","string","number"),l("data.venueId"),o=c("venueId")):
(f("data","string","number"),l("data"),o=c());if(!/\d+$/.test(o))throw Error("Invalid FOURSQUARE.venueId. The id must be numeric.");return"http://foursquare.com/venue/"+/\d+$/.exec(o)[0];case this.DATA_TYPE.WIKIPEDIA:return"object"===typeof this.data?(f("data.url","string","number"),l("data.url"),o=c("url")):(f("data","string","number"),l("data"),o=c()),q={" ":"_"},p=/\/\/([a-z\-]*)\.?wikipedia.org\/wiki\/(.*)/i.exec(o),null===p||3!==p.length?"http://qrwp.org/"+h(o,q):"http://"+(0<p[1].length?p[1]+
".":"")+"qrwp.org/"+h(p[2],q);case this.DATA_TYPE.YOUTUBE_USER:return"object"===typeof this.data?(f("data.userName","string","number"),l("data.userName"),o=c("userName")):(f("data","string","number"),l("data"),o=c()),"http://youtube.com/user/"+o;case this.DATA_TYPE.YOUTUBE_VIDEO:"object"===typeof this.data?(f("data.videoId","string","number"),l("data.videoId"),o=c("videoId")):(f("data","string","number"),l("data"),o=c());if(/^[-_A-Za-z0-9]+$/.test(o))return"youtube://"+o;if(/(youtu.be\/|(\?|&)v=|\/v\/)([-_A-Za-z0-9]+)(%26|&|$)/.test(o))return"youtube://"+
/(youtu.be\/|(\?|&)v=|\/v\/)([-_A-Za-z0-9]+)(%26|&|$)/.exec(o)[3];throw Error("Invalid YOUTUBE.videoId. The id must be alphanumeric.");case this.DATA_TYPE.TWEET_FETCH:throw Error("DATA_TYPE.TWEET_FETCH is currently unsupported.");case this.DATA_TYPE.TWEET:if("object"===typeof this.data)return f("data.text","string","number"),l("data.text"),"http://twitter.com/home?status="+encodeURIComponent(c("text"));f("data","string","number");l("data");return"http://twitter.com/home?status="+encodeURIComponent(c());
case this.DATA_TYPE.BLACKBERRY_MESSENGER_USER:f("data","object");f("data.firstName","string");f("data.lastName","string");f("data.bbmPin","string");l("data.bbmPin");if(!/^[A-Za-z0-9]{8}$/.test(c("bbmPin")))throw Error("Invalid BLACKBERRY_MESSENGER_USER.bbmPin. The pin must be alphanumeric, eight characters in length.");return"bbm:"+c("bbmPin")+"00000000"+c("firstName")+" "+c("lastName");case this.DATA_TYPE.ANDROID_WIFI:return f("data","object"),f("data.ssid","string"),f("data.password","string","number"),
f("data.networkType","string"),l("data.ssid","data.networkType"),"WIFI:S:"+c("ssid")+";T:"+c("networkType")+(0<c("password").length?";P:"+c("password"):"")+";;";default:throw new TypeError("Unsupported dataType.");}};c[B].prototype.Code=function(a,c,h){"object"===typeof a&&"undefined"===typeof c&&"undefined"===typeof h&&(h=a.errorCorrection,c=a.version,a=a.encodeMode);if("undefined"!==typeof a){if(!A(this.ENCODE_MODE,a))throw new TypeError("Unsupported encodeMode.");}else a=this.ENCODE_MODE.UTF8;
try{Object.defineProperty(this,"encodeMode",{configurable:!1,writeable:!0,get:function(){return a},set:function(c){if(A(this.ENCODE_MODE,c))a=c;else throw new TypeError("Unsupported encodeMode.");}})}catch(f){this.encodeMode=a}if("undefined"!==typeof c){if("number"!==typeof c)throw new TypeError("Invalid version type.");if(-40>c||40<c)throw new RangeError("Invalid version value.");}else c=this.DEFAULT;try{Object.defineProperty(this,"version",{configurable:!1,writeable:!0,get:function(){return c},
set:function(a){if("number"!==typeof a)throw new TypeError("Invalid version type.");if(-40>a||40<a)throw new RangeError("Invalid version value.");c=a}})}catch(l){this.version=c}if("undefined"!==typeof h){if(!A(this.ERROR_CORRECTION,h))throw new TypeError("Invalid errorCorrection.");}else h=this.ERROR_CORRECTION.M;try{Object.defineProperty(this,"errorCorrection",{configurable:!1,writeable:!0,get:function(){return h},set:function(a){if(A(this.ERROR_CORRECTION,a))h=a;else throw new TypeError("Invalid errorCorrection.");
}})}catch(n){this.errorCorrection=h}};c[B].prototype.Code.prototype.ENCODE_MODE={NUMERIC:1,ALPHA_NUMERIC:2,BYTE:4,UTF8:20,UTF8_SIGNATURE:36,STRUCTURED_APPEND:3,FNC1_POS1:5,ECI:7,KANJI:8,FNC1_POS2:9};c[B].prototype.ENCODE_MODE=c[B].prototype.Code.prototype.ENCODE_MODE;c[B].prototype.Code.prototype.ERROR_CORRECTION={L:1,M:0,Q:3,H:2};c[B].prototype.ERROR_CORRECTION=c[B].prototype.Code.prototype.ERROR_CORRECTION;c[B].prototype.Code.prototype.DEFAULT=0;c[B].prototype.DEFAULT=c[B].prototype.Code.prototype.DEFAULT;
c[B].prototype.Code.prototype.getVersion=function(c){return 0<this.version?this.version:f(a(c,this),this,!0)};c[B].prototype.Code.prototype.getMinVersion=function(h){var l=new c[B].prototype.Code(this.encodeMode,this.DEFAULT,this.errorCorrection);return f(a(h,l),l,!0)};c[B].prototype.Matrix=function(c,h){var l,n,o=this;l=f(a(c,h),h);for(n=0;n<l.length;n++)this[n]=l[n];try{Object.defineProperty(this,"scale",{configurable:!1,writeable:!0,get:function(){return q},set:function(a){if("number"!==typeof a)throw new TypeError("Invalid scale type.");
if(0>=a||256<a)throw new RangeError("Scale value out of range.");q=a}});var q=4}catch(u){this.scale=4}try{Object.defineProperty(this,"margin",{configurable:!1,writeable:!0,get:function(){return z},set:function(a){if("number"!==typeof a)throw new TypeError("Invalid margin type.");if(0>a||256<a)throw new RangeError("Margin value out of range.");z=a}});var z=4}catch(A){this.margin=4}try{Object.defineProperty(this,"color1",{configurable:!1,writeable:!0,get:function(){return B},set:function(a){if("string"===
typeof a)B=a;else throw new TypeError("Invalid color1 type.");}});var B="rgb(0,0,0)"}catch(C){this.color1="rgb(0,0,0)"}try{Object.defineProperty(this,"color0",{configurable:!1,writeable:!0,get:function(){return F},set:function(a){if("string"===typeof a)F=a;else throw new TypeError("Invalid color2 type.");}});var F="none"}catch(I){this.color0="none"}try{Object.defineProperty(this,"length",{configurable:!1,writeable:!1,get:function(){return l.length}})}catch(N){this.length=new function(){this.toString=
function(){return l.length}}}try{Object.defineProperty(this,"width",{configurable:!1,writeable:!1,get:function(){return l.length+(o.margin<<1)}})}catch(E){this.width=new function(){this.toString=function(){return l.length+(o.margin<<1)}}}try{Object.defineProperty(this,"pixelWidth",{configurable:!1,writeable:!1,get:function(){return(l.length+(o.margin<<1))*o.scale}})}catch(O){this.pixelWidth=new function(){this.toString=function(){return(l.length+(o.margin<<1))*o.scale}}}this.draw=function(a,c,h){var a=
a.getContext("2d"),f=this.scale,n=this.margin,o,p;for(p=0;p<l.length;p++)for(o=0;o<l[p].length;o++)l[p][o]&&a.fillRect(c+(o+n)*f,h+(p+n)*f,f,f)};this.drawHTML=function(a,c,h){var c=c||"div",f=this.scale,n=this.margin,o=this.color1,p='<div style="position:relative; background:'+this.color2+'">',q,u,z;for(u=0;u<l.length;u++)for(q=0;q<l.length;q+=z)if(z=1,1===l[u][q]){for(;q+z<l.length&&1===l[u][q+z];)z++;p=h?p+("<"+c+' style="width:'+z*f+"px; height:"+f+"px; left:"+(q+n)*f+"px; top:"+(u+n)*f+'px;"></'+
c+">"):p+("<"+c+' style="position:absolute; width:'+z*f+"px; height:"+f+"px; left:"+(q+n)*f+"px; top:"+(u+n)*f+"px; background:"+o+';"></'+c+">")}p+=NaN;a&&"undefined"!=typeof a.innerHTML&&(a.innerHTML=p);return p};this.toDataURL=function(){};this.toSVG=function(){};this.toArray=function(){var a,c,h=p(l.length+(z<<1),0);for(c=0;c<l.length;c++){h[c+z]=p(l[c].length+(z<<1),0);for(a=0;a<l[c].length;a++)h[c+z][a+z]=l[c][a]}return h};this.toString=function(){return this.toArray().toString()};this.getDebuggingData=
function(){}};var E={TOTAL_BYTES:0,REMAINDER_BITS:1,ECC_BYTES:2,EC_BLOCKS:3,ALIGNMENT_PATTERN_POSITION_OFFSET:4,VERSION_PATTERN:5},C=[null,[26,0,[10,7,17,13],[[1,0],[1,0],[1,0],[1,0]],0,null],[44,7,[16,10,28,22],[[1,0],[1,0],[1,0],[1,0]],12,null],[70,7,[26,15,44,36],[[1,0],[1,0],[2,0],[2,0]],16,null],[100,7,[36,20,64,52],[[2,0],[1,0],[4,0],[2,0]],20,null],[134,7,[48,26,88,72],[[2,0],[1,0],[2,2],[2,2]],24,null],[172,7,[64,36,112,96],[[4,0],[2,0],[4,0],[4,0]],28,null],[196,0,[72,40,130,108],[[4,0],
[2,0],[4,1],[2,4]],16,31892],[242,0,[88,48,156,132],[[2,2],[2,0],[4,2],[4,2]],18,34236],[292,0,[110,60,192,160],[[3,2],[2,0],[4,4],[4,4]],20,39577],[346,0,[130,72,224,192],[[4,1],[2,2],[6,2],[6,2]],22,42195],[404,0,[150,80,264,224],[[1,4],[4,0],[3,8],[4,4]],24,48118],[466,0,[176,96,308,260],[[6,2],[2,2],[7,4],[4,6]],26,51042],[532,0,[198,104,352,288],[[8,1],[4,0],[12,4],[8,4]],28,55367],[581,3,[216,120,384,320],[[4,5],[3,1],[11,5],[11,5]],20,58893],[655,3,[240,132,432,360],[[5,5],[5,1],[11,7],[5,
7]],22,63784],[733,3,[280,144,480,408],[[7,3],[5,1],[3,13],[15,2]],24,68472],[815,3,[308,168,532,448],[[10,1],[1,5],[2,17],[1,15]],24,70749],[901,3,[338,180,588,504],[[9,4],[5,1],[2,19],[17,1]],26,76311],[991,3,[364,196,650,546],[[3,11],[3,4],[9,16],[17,4]],28,79154],[1085,3,[416,224,700,600],[[3,13],[3,5],[15,10],[15,5]],28,84390],[1156,4,[442,224,750,644],[[17,0],[4,4],[19,6],[17,6]],22,87683],[1258,4,[476,252,816,690],[[17,0],[2,7],[34,0],[7,16]],24,92361],[1364,4,[504,270,900,750],[[4,14],[4,
5],[16,14],[11,14]],24,96236],[1474,4,[560,300,960,810],[[6,14],[6,4],[30,2],[11,16]],26,102084],[1588,4,[588,312,1050,870],[[8,13],[8,4],[22,13],[7,22]],26,102881],[1706,4,[644,336,1110,952],[[19,4],[10,2],[33,4],[28,6]],28,110507],[1828,4,[700,360,1200,1020],[[22,3],[8,4],[12,28],[8,26]],28,110734],[1921,3,[728,390,1260,1050],[[3,23],[3,10],[11,31],[4,31]],24,117786],[2051,3,[784,420,1350,1140],[[21,7],[7,7],[19,26],[1,37]],24,119615],[2185,3,[812,450,1440,1200],[[19,10],[5,10],[23,25],[15,25]],
26,126325],[2323,3,[868,480,1530,1290],[[2,29],[13,3],[23,28],[42,1]],26,127568],[2465,3,[924,510,1620,1350],[[10,23],[17,0],[19,35],[10,35]],26,133589],[2611,3,[980,540,1710,1440],[[14,21],[17,1],[11,46],[29,19]],28,136944],[2761,3,[1036,570,1800,1530],[[14,23],[13,6],[59,1],[44,7]],28,141498],[2876,0,[1064,570,1890,1590],[[12,26],[12,7],[22,41],[39,14]],24,145311],[3034,0,[1120,600,1980,1680],[[6,34],[6,14],[2,64],[46,10]],26,150283],[3196,0,[1204,630,2100,1770],[[29,14],[17,4],[24,46],[49,10]],
26,152622],[3362,0,[1260,660,2220,1860],[[13,32],[4,18],[42,32],[48,14]],26,158308],[3532,0,[1316,720,2310,1950],[[40,7],[20,4],[10,67],[43,22]],28,161089],[3706,0,[1372,750,2430,2040],[[18,31],[19,6],[20,61],[34,34]],28,167017]],G=[[21522,20773,24188,23371,17913,16590,20375,19104],[30660,29427,32170,30877,26159,25368,27713,26998],[5769,5054,7399,6608,1890,597,3340,2107],[13663,12392,16177,14854,9396,8579,11994,11245]],F=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,1,1,1,0,1],[1,0,1,1,1,0,1],[1,0,1,1,1,
0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],I=[[1,1,1,1,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,1,1,1,1]],O=[function(a,c){return 0===(c+a)%2},function(a,c){return 0===c%2},function(a){return 0===a%3},function(a,c){return 0===(c+a)%3},function(a,c){return 0===(Math.floor(c/2)+Math.floor(a/3))%2},function(a,c){return 0===c*a%2+c*a%3},function(a,c){return 0===(c*a%2+c*a%3)%2},function(a,c){return 0===(c*a%3+(c+a)%2)%2}],N={FINDER:2,SEPARATOR:4,TIMING:8,ALIGNMENT:16,VERSION:32,FORMAT:64,DATA:128}})(window);
(function(){function c(a,c,h,f,l,n){var o=(299*a+587*c+114*h)/1E3,p=(299*f+587*l+114*n)/1E3,o=(Math.max(o,p)-Math.min(o,p))/125,a=(Math.max(a,f)-Math.min(a,f)+(Math.max(c,l)-Math.min(c,l))+(Math.max(h,n)-Math.min(h,n)))/500;return(o+a)/2}function f(c){var h=document.getElementById("forms").firstChild,f=/^encode:([a-z-]+)/;u=/encode-([a-z\-]+)(\.[a-z][a-z])?.html/.exec(c.currentTarget.href)[1];B=u.toUpperCase().replace("-","_","g");$j("#typeSelect a").removeClass("active");$j("#typeSelect li").removeClass("active");
$j("#typeSelect li").removeClass("selected");$j('#typeSelect a[href*="encode-'+u+'.html"]').addClass("active");for($j('#typeSelect a[href*="encode-'+u+'.html"]').parent().addClass("active").addClass("selected");null!==h;)1===h.nodeType&&f.test(h.id)&&(h.style.display=f.exec(h.id)[1]===u?"block":"none"),h=h.nextSibling;-1!==$j.inArray(u,["text","sms","email"])?$j("#emoji").css("display","block"):$j("#emoji").css("display","none");a();"function"===typeof c.preventDefault&&c.preventDefault();return!1}
function a(){var a=document.getElementById("encode:"+u).elements,f=new JSQR,q=new f.Code;q.encodeMode=q.ENCODE_MODE.UTF8_SIGNATURE;q.version=parseInt($j("#qrVersion").val(),10);q.errorCorrection=q.ERROR_CORRECTION[$j("#qrErrorCorrection").val()];var z=new f.Input;try{z.dataType=z.DATA_TYPE[B]}catch(A){$j("#error").html(A.message);$j("#preview").css("display","none");$j("#example").text("-");$j("#encodedData").text("-");$j("#error").css("display","block");return}z.data={};for(var G,M=0;M<a.length;M++)if(!("undefined"===
typeof a[M].name||""===a[M].name))if(-1!=$j.inArray(a[M].name,["startDate","endDate"]))G=$j(a[M]).datepicker("getDate"),null!==G&&("no"===n(a.fullDay)&&("startDate"===a[M].name?(G.setHours(a["startTime:hours"].value),G.setMinutes(a["startTime:minutes"].value),G.setSeconds(a["startTime:seconds"].value)):(G.setHours(a["endTime:hours"].value),G.setMinutes(a["endTime:minutes"].value),G.setSeconds(a["endTime:seconds"].value))),h(z.data,a[M].name,G));else if("birthday"===a[M].name)h(z.data,a[M].name,$j(a[M]).datepicker("getDate"));
else if(-1===$j.inArray(a[M].name,"startTime:hours startTime:minutes startTime:seconds endTime:hours endTime:minutes endTime:seconds".split(" ")))if(-1!==$j.inArray(a[M].name,["fullDay"]))h(z.data,a[M].name,"yes"===n(a[a[M].name]));else switch(a[M].nodeName.toUpperCase()){case "SELECT":h(z.data,a[M].name,a[M].value);break;case "TEXTAREA":h(z.data,a[M].name,a[M].value.replace(/{#([a-fA-F0-9]+)}/g,function(a,c){return String.fromCharCode(parseInt(c,16))}));break;case "INPUT":"RADIO"===a[M].type.toUpperCase()?
h(z.data,a[M].name,n(a[a[M].name])):h(z.data,a[M].name,a[M].value)}"sms"===u&&$j("#smsLength").html(z.data.message.length+" characters ("+(0===z.data.message.length?1:Math.ceil(z.data.message.length/160))+" SMS)");null!==C&&(clearTimeout(C),C=null);a=z.data;"object"===typeof a&&(a=l(a,1,!1,"jsObj"),a=0<a.length?"{{BREAK}"+a+"{BREAK}}":"");a=o(p(a));G=$j("#qrForeColor").val();M=$j("#qrBackColor").val();/^[0-9a-f]{6}$/i.test(G)||(G="000000");/^[0-9a-f]{6}$/i.test(M)||(M="ffffff");var J=c(parseInt(M.substr(0,
2),16),parseInt(M.substr(2,2),16),parseInt(M.substr(4,2),16),parseInt(G.substr(0,2),16),parseInt(G.substr(2,2),16),parseInt(G.substr(4,2),16)),K=c(0,0,0,parseInt(G.substr(0,2),16),parseInt(G.substr(2,2),16),parseInt(G.substr(4,2),16))>c(parseInt(M.substr(0,2),16),parseInt(M.substr(2,2),16),parseInt(M.substr(4,2),16),0,0,0);0.1>J?$j("#colorDifference").css("background-position","-284px center").html(i18n.colorDifference1):0.25>J?$j("#colorDifference").css("background-position","-284px center").html(i18n["colorDifference2"+
(K?"i":"n")]):0.75>J?$j("#colorDifference").css("background-position","-284px center").html(i18n["colorDifference3"+(K?"i":"n")]):1>J?$j("#colorDifference").css("background-position","-284px center").html(i18n["colorDifference4"+(K?"i":"n")]):1.4>J?$j("#colorDifference").css("background-position","0 center").html(i18n["colorDifference5"+(K?"i":"n")]):1.65>J?$j("#colorDifference").css("background-position","0 center").html(i18n["colorDifference6"+(K?"i":"n")]):$j("#colorDifference").css("background-position",
"0 center").html(i18n["colorDifference7"+(K?"i":"n")]);G="rgb("+parseInt(G.substr(0,2),16)+","+parseInt(G.substr(2,2),16)+","+parseInt(G.substr(4,2),16)+")";M="rgb("+parseInt(M.substr(0,2),16)+","+parseInt(M.substr(2,2),16)+","+parseInt(M.substr(4,2),16)+")";$j("#example").html("var qr = new JSQR();<br /><br />var code = new qr.Code();<br />code.encodeMode = code.ENCODE_MODE.UTF8_SIGNATURE;<br />code.version = "+("0"==$j("#qrVersion").val()?"code.DEFAULT":$j("#qrVersion").val())+";<br />code.errorCorrection = code.ERROR_CORRECTION."+
$j("#qrErrorCorrection").val()+";<br /><br />var input = new qr.Input();<br />input.dataType = input.DATA_TYPE."+B+";<br />"+(0<a.length?"input.data = "+a+";<br />":"")+"<br />var matrix = new qr.Matrix(input, code);<br />"+(""!=$j("#qrScale").val()&&"2"!=$j("#qrScale").val()?"matrix.scale = "+$j("#qrScale").val()+";<br />":"")+("4"!=$j("#qrMargin").val()?"matrix.margin = "+$j("#qrMargin").val()+";<br />":"")+"<br />var canvas = document.createElement('canvas');<br />canvas.setAttribute('width', matrix.pixelWidth);<br />canvas.setAttribute('height', matrix.pixelWidth);<br />canvas.getContext('2d').fillStyle = '"+
G+"';<br />matrix.draw(canvas, 0, 0);<br />document.body.appendChild(canvas);<br />");try{$j("#encodedData").html(o(p(z.toString()))),$j(".qr_embed").show()}catch(X){$j("#error").html(X.message);$j(".qr_embed").hide();$j("#preview").css("display","none");$j("#encodedData").text("-");$j("#error").css("display","block");return}var L=G,da=M;C=setTimeout(function(){C=null;try{E=new f.Matrix(z,q);E.margin=parseInt($j("#qrMargin").val());E.scale=""!=$j("#qrScale").val()?parseInt($j("#qrScale").val()):Math.floor(280/
E.width);$j('#qrScale option[value=""]').text("Auto ("+Math.floor(280/E.width)+"x)");"0"==$j("#qrVersion").val()?$j('#qrVersion option[value="0"]').text("Auto (V. "+(E.length-17)/4+" / "+E.length+"px\u00b2)"):$j('#qrVersion option[value="0"]').text("Auto");var a=$j("#preview_qr")[0],c=a.getContext("2d");280>=E.pixelWidth?(a.width=E.pixelWidth,a.height=E.pixelWidth,c.fillStyle=da,c.fillRect(0,0,a.width,a.height),c.fillStyle=L,E.draw(a,0,0),a.style.marginLeft="-5px"):(a.width=280,a.height=280,c.fillStyle=
da,c.fillRect(0,0,a.width,a.height),c.fillStyle=L,a.style.marginTop=a.style.marginBottom=a.style.marginLeft="0",E.draw(a,Math.round((280-E.pixelWidth)/2),Math.round((280-E.pixelWidth)/2)));$j("#preview").css("display","block");$j("#error").css("display","none")}catch(h){$j("#error").html(h.message),$j("#preview").css("display","none"),$j("#error").css("display","block")}},250)}function h(a,c,h){c=c.split(".");1===c.length?a[c[0]]=h:2===c.length&&("object"!==typeof a[c[0]]&&(a[c[0]]={}),a[c[0]][c[1]]=
h)}function n(a){for(var c=0;c<a.length;c++)if(a[c].checked)return a[c].value;return!1}function o(a){return a.replace(/[\ue000-\ue5ff]/g,function(a){return'<span class="emojiTxt" style="background-position:-'+17*(a.charCodeAt(0)-1&255)+"px -"+17*((a.charCodeAt(0)&3840)>>8)+'px;">'+a+"</span>"})}function p(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\ /g,"&nbsp;").replace(/\{BREAK\}/g,"<br />")}function l(a,c,h,f){var n="",o,p=0,u;for(u in a)if(!("string"===
typeof a[u]&&0===a[u].length)&&!("object"===typeof a[u]&&null!==a[u]&&a[u].constructor!==Date&&(o=l(a[u],c+1,a[u]instanceof Array,f+(h?"["+u+"]":"[&quot;"+u+"&quot;]")),0===o.length))){0<p&&(n+=",{BREAK}");n+=q(c);h||(n+='"'+u+'": ');switch(typeof a[u]){case "object":n=null===a[u]?n+"null":a[u].constructor===Date?n+("new Date("+a[u].getFullYear()+", "+a[u].getMonth()+", "+a[u].getDate()+(0!=a[u].getHours()||0!==a[u].getMinutes()||0!==a[u].getSeconds()?", "+a[u].getHours()+", "+a[u].getMinutes()+", "+
a[u].getSeconds():"")+")"):n+((a[u]instanceof Array?"[":"{")+"{BREAK}"+o+"{BREAK}"+q(c)+(a[u]instanceof Array?"]":"}"));break;case "string":n+='"'+a[u].replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+'"';break;case "number":n+=a[u];break;case "boolean":n+=!0===a[u]?"true":"false";break;default:n+="null /* ERROR */"}p++}return n}function q(a){for(var c="",h=0;h<5*a;h++)c+=" ";return c}function z(a){window.attachEvent&&"[object Opera]"!=
Object.prototype.toString.call(window.opera)&&"number"!=typeof G&&(a.focus(),G=document.selection.createRange().duplicate().boundingHeight)}function A(a){a.createTextRange&&(a.caretPos=document.selection.createRange().duplicate())}var u="",B="",E,C=null;emojis=[90,90,83,77,76,55];$j(document).ready(function(){$j("#typeSelect a").click(f);$j.browser.msie||!document.addEventListener?($j("#forms input, #forms textarea").change(a).keyup(a),$j("#forms select, #qrErrorCorrection, #qrVersion, #qrMargin, #qrScale").change(a),
$j("#forms input, #forms textarea").bind("cut",a),$j("#forms input, #forms textarea").bind("paste",a)):($j("#forms select, #qrErrorCorrection, #qrVersion, #qrMargin, #qrScale").change(a),$j("#forms input, #forms textarea").each(function(){this.addEventListener("input",a,!1)}));loadingForm="encode-url.html";f({currentTarget:{href:loadingForm}});$j('input[type="text"], input[type="url"], input[type="email"], textarea').keyup(function(){$j(this)[""===$j(this).val()?"addClass":"removeClass"]("empty")}).change(function(){$j(this)[""===
$j(this).val()?"addClass":"removeClass"]("empty")});$j('input[type="text"], input[type="url"], input[type="email"], textarea').addClass(function(){return""===$j(this).val()?"empty":""});$j("#encodedData").click(function(){if($j.browser.msie){var a=document.body.createTextRange();a.moveToElementText(this);a.select()}else if($j.browser.mozilla||$j.browser.opera){var c=window.getSelection(),a=document.createRange();a.selectNodeContents(this);c.removeAllRanges();c.addRange(a)}else $j.browser.safari&&
(c=window.getSelection(),c.setBaseAndExtent(this,0,this,1))});$j("#encodedData").dblclick(function(){window.open($j(this).text())});$j("#preview").click(function(){$j("<canvas />").addClass("modal").appendTo($j("<div />").addClass("modalBg").appendTo("body").show().click(function(){$j(".modalBg").remove()}));var a=($j(window).width()<$j(window).height()?$j(window).width():$j(window).height())-40;E.scale=Math.floor(a/E.width);var a=$j(".modal")[0],c=a.getContext("2d"),h=$j("#qrForeColor").val(),f=
$j("#qrBackColor").val();/^[0-9a-f]{6}$/i.test(h)||(h="000000");/^[0-9a-f]{6}$/i.test(f)||(f="ffffff");$j(".modalBg")[0].style.backgroundColor="rgba("+parseInt(f.substr(0,2),16)+","+parseInt(f.substr(2,2),16)+","+parseInt(f.substr(4,2),16)+",0.5)";h="rgb("+parseInt(h.substr(0,2),16)+","+parseInt(h.substr(2,2),16)+","+parseInt(h.substr(4,2),16)+")";f="rgb("+parseInt(f.substr(0,2),16)+","+parseInt(f.substr(2,2),16)+","+parseInt(f.substr(4,2),16)+")";a.width=E.pixelWidth;a.height=E.pixelWidth;c.fillStyle=
f;c.fillRect(0,0,a.width,a.height);c.fillStyle=h;E.draw(a,0,0);a.style.marginLeft=Math.round(-E.pixelWidth/2)+"px";a.style.marginTop=Math.round(-E.pixelWidth/2)+"px"});$j(window).resize(function(){if(0!==$j(".modal").length){var a=($j(window).width()<$j(window).height()?$j(window).width():$j(window).height())-40;E.scale=Math.floor(a/E.width);var a=$j(".modal")[0],c=a.getContext("2d"),h=$j("#qrForeColor").val(),f=$j("#qrBackColor").val();/^[0-9a-f]{6}$/i.test(h)||(h="000000");/^[0-9a-f]{6}$/i.test(f)||
(f="ffffff");h="rgb("+parseInt(h.substr(0,2),16)+","+parseInt(h.substr(2,2),16)+","+parseInt(h.substr(4,2),16)+")";f="rgb("+parseInt(f.substr(0,2),16)+","+parseInt(f.substr(2,2),16)+","+parseInt(f.substr(4,2),16)+")";a.width=E.pixelWidth;a.height=E.pixelWidth;c.fillStyle=f;c.fillRect(0,0,a.width,a.height);c.fillStyle=h;E.draw(a,0,0);a.style.marginLeft=Math.round(-E.pixelWidth/2)+"px";a.style.marginTop=Math.round(-E.pixelWidth/2)+"px"}});$j('form[id="encode:vevent"] input[name="fullDay"]').change(function(){$j("#vevent-startTimeRow").css("display",
"no"===$j(this).val()?"table-row":"none");$j("#vevent-endTimeRow").css("display","no"===$j(this).val()?"table-row":"none")});$j("#qrForeColor").ColorPicker({livePreview:!0,color:"000000",onSubmit:function(c,h,f,l){$j(l).val(h);$j(l).ColorPickerHide();a()},onBeforeShow:function(){$j(this).ColorPickerSetColor(this.value)}}).bind("keyup",function(){$j(this).ColorPickerSetColor(this.value)});$j("#qrBackColor").ColorPicker({livePreview:!0,color:"ffffff",onSubmit:function(c,h,f,l){$j(l).val(h);$j(l).ColorPickerHide();
a()},onBeforeShow:function(){$j(this).ColorPickerSetColor(this.value)}}).bind("keyup",function(){$j(this).ColorPickerSetColor(this.value)});for(var c=0;c<emojis.length;c++){for(var h=0;h<emojis[c];h++)$j('<div class="emoji"/>').css("background-position",-(17*h)+"px "+-(17*c)+"px");$j("<div />").css("clear","both").appendTo($j("#emoji"));$j(".emoji").each(function(a){$j(this).attr("rel",c);$j(this).attr("ref",a)})}$j(".emoji").live("click",function(){for(var c=document.getElementById("encode:"+u).elements,
h=0;h<c.length;h++)if("TEXTAREA"===c[h].nodeName.toUpperCase()){code=57345+($j(this).attr("rel")<<8)+$j(this).attr("ref");var f=c[h],l="{#"+code.toString(16)+"}";if(isNaN(f.selectionStart))if(f.createTextRange&&f.caretPos){G!=f.caretPos.boundingHeight&&(f.focus(),A(f));var n=f.caretPos;n.text=" "==n.text.charAt(n.text.length-1)?n.text+l+" ":n.text+l}else f.value+=l;else{var n=f.selectionStart,o=f.selectionEnd,p=f,q=l,z="undefined"==typeof p.textLength?p.value.length:p.textLength,B=p.selectionStart,
C=p.selectionEnd,F=p.scrollTop;if(1==C||2==C)C=z;var E=p.value.substring(0,B),B=p.value.substring(B,C),z=p.value.substring(C,z);p.value=E+q+B+""+z;p.selectionStart=C+q.length+0;p.selectionEnd=p.selectionStart;p.focus();p.scrollTop=F;f.selectionStart=n+l.length;f.selectionEnd=o+l.length}f.focus()}a()});$j("<div />").appendTo($j("#emoji")).html('<p style="width:100%; max-width:100%;">'+i18n.appleOnly+"</p>");$j("#encode:text textarea, #encode:sms textarea, #encode:email textarea").focus(z).keyup(function(){A(this)}).click(function(){A(this)}).select(function(){A(this)})});
var G})();
var Canvas2Image=function(){var c=!1,f=document.createElement("canvas");f.getContext("2d")&&(c=!0);if(!c)return{saveAsBMP:function(){},saveAsPNG:function(){},saveAsJPEG:function(){}};var a=!!f.getContext("2d").getImageData,h=!!f.toDataURL,n=!!window.btoa,o=function(a){var c="";if("string"==typeof a)c=a;else for(var h=0;h<a.length;h++)c+=String.fromCharCode(a[h]);return btoa(c)},p=function(a){var c=document.createElement("img");c.src=a;return c},l=function(a,c,h){if(c&&h){var f=document.createElement("canvas");f.width=
c;f.height=h;f.style.width=c+"px";f.style.height=h+"px";f.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,c,h);return f}return a};return{saveAsPNG:function(a,c,f,n){if(!h)return!1;a=l(a,f,n).toDataURL("image/png");if(c)return p(a);c=a.replace("image/png","image/octet-stream");document.location.href=c;return!0},saveAsJPEG:function(a,c,f,n){if(!h)return!1;a=l(a,f,n).toDataURL("image/jpeg");if(5!=a.indexOf("image/jpeg"))return!1;if(c)return p(a);c=a.replace("image/jpeg","image/octet-stream");document.location.href=
c;return!0},saveAsBMP:function(c,h,f,u){if(!a||!n)return!1;var c=l(c,f,u),f=parseInt(c.width),u=parseInt(c.height),B=c.getContext("2d").getImageData(0,0,f,u),c=[],f=B.width,E=B.height;c.push(66);c.push(77);u=3*f*E+54;c.push(u%256);u=Math.floor(u/256);c.push(u%256);u=Math.floor(u/256);c.push(u%256);u=Math.floor(u/256);c.push(u%256);c.push(0);c.push(0);c.push(0);c.push(0);c.push(54);c.push(0);c.push(0);c.push(0);u=[];u.push(40);u.push(0);u.push(0);u.push(0);var C=f;u.push(C%256);C=Math.floor(C/256);
u.push(C%256);C=Math.floor(C/256);u.push(C%256);C=Math.floor(C/256);u.push(C%256);C=E;u.push(C%256);C=Math.floor(C/256);u.push(C%256);C=Math.floor(C/256);u.push(C%256);C=Math.floor(C/256);u.push(C%256);u.push(1);u.push(0);u.push(24);u.push(0);u.push(0);u.push(0);u.push(0);u.push(0);C=3*f*E;u.push(C%256);C=Math.floor(C/256);u.push(C%256);C=Math.floor(C/256);u.push(C%256);C=Math.floor(C/256);u.push(C%256);for(C=0;16>C;C++)u.push(0);var C=(4-3*f%4)%4,B=B.data,G="";do{for(var F=4*f*(E-1),I="",O=0;O<f;O++)var N=
4*O,I=I+String.fromCharCode(B[F+N+2]),I=I+String.fromCharCode(B[F+N+1]),I=I+String.fromCharCode(B[F+N]);for(F=0;F<C;F++)I+=String.fromCharCode(0);G+=I}while(--E);c=o(c.concat(u))+o(G);if(h)return p("data:image/bmp;base64,"+c);document.location.href="data:image/octet-stream;base64,"+c;return!0}}}();
(function(){function c(c){var h,f,l,q,z,A;l=c.length;f=0;for(h="";f<l;){q=c.charCodeAt(f++)&255;if(f==l){h+=a.charAt(q>>2);h+=a.charAt((q&3)<<4);h+="==";break}z=c.charCodeAt(f++);if(f==l){h+=a.charAt(q>>2);h+=a.charAt((q&3)<<4|(z&240)>>4);h+=a.charAt((z&15)<<2);h+="=";break}A=c.charCodeAt(f++);h+=a.charAt(q>>2);h+=a.charAt((q&3)<<4|(z&240)>>4);h+=a.charAt((z&15)<<2|(A&192)>>6);h+=a.charAt(A&63)}return h}function f(a){var c,f,l,q,z;q=a.length;l=0;for(z="";l<q;){do c=h[a.charCodeAt(l++)&255];while(l<
q&&-1==c);if(-1==c)break;do f=h[a.charCodeAt(l++)&255];while(l<q&&-1==f);if(-1==f)break;z+=String.fromCharCode(c<<2|(f&48)>>4);do{c=a.charCodeAt(l++)&255;if(61==c)return z;c=h[c]}while(l<q&&-1==c);if(-1==c)break;z+=String.fromCharCode((f&15)<<4|(c&60)>>2);do{f=a.charCodeAt(l++)&255;if(61==f)return z;f=h[f]}while(l<q&&-1==f);if(-1==f)break;z+=String.fromCharCode((c&3)<<6|f)}return z}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];window.btoa||(window.btoa=c);window.atob||(window.atob=f)})();
(function(c){var f=65,a={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},h=function(a,h){var f=ba(a);c(h).data("colorpicker").fields.eq(1).val(f.r).end().eq(2).val(f.g).end().eq(3).val(f.b).end()},n=function(a,h){c(h).data("colorpicker").fields.eq(4).val(a.h).end().eq(5).val(a.s).end().eq(6).val(a.b).end()},o=function(a,h){c(h).data("colorpicker").fields.eq(0).val(ea(ba(a))).end()},
p=function(a,h){c(h).data("colorpicker").selector.css("backgroundColor","#"+ea(ba({h:a.h,s:100,b:100})));c(h).data("colorpicker").selectorIndic.css({left:parseInt(150*a.s/100,10),top:parseInt(150*(100-a.b)/100,10)})},l=function(a,h){c(h).data("colorpicker").hue.css("top",parseInt(150-150*a.h/360,10))},q=function(a,h){c(h).data("colorpicker").currentColor.css("backgroundColor","#"+ea(ba(a)))},z=function(a,h){c(h).data("colorpicker").newColor.css("backgroundColor","#"+ea(ba(a)))},A=function(a){a=a.charCode||
a.keyCode||-1;if(a>f&&90>=a||32==a)return!1;!0===c(this).parent().parent().data("colorpicker").livePreview&&u.apply(this)},u=function(a){var f=c(this).parent().parent(),q;if(0<this.parentNode.className.indexOf("_hex")){q=f.data("colorpicker");var u=this.value,A=6-u.length;if(0<A){for(var B=[],C=0;C<A;C++)B.push("0");B.push(u);u=B.join("")}u=qa(ca(u));q.color=q=u}else 0<this.parentNode.className.indexOf("_hsb")?f.data("colorpicker").color=q=aa({h:parseInt(f.data("colorpicker").fields.eq(4).val(),10),
s:parseInt(f.data("colorpicker").fields.eq(5).val(),10),b:parseInt(f.data("colorpicker").fields.eq(6).val(),10)}):(q=f.data("colorpicker"),u=parseInt(f.data("colorpicker").fields.eq(1).val(),10),A=parseInt(f.data("colorpicker").fields.eq(2).val(),10),B=parseInt(f.data("colorpicker").fields.eq(3).val(),10),u={r:Math.min(255,Math.max(0,u)),g:Math.min(255,Math.max(0,A)),b:Math.min(255,Math.max(0,B))},q.color=q=qa(u));a&&(h(q,f.get(0)),o(q,f.get(0)),n(q,f.get(0)));p(q,f.get(0));l(q,f.get(0));z(q,f.get(0));
f.data("colorpicker").onChange.apply(f,[q,ea(ba(q)),ba(q)])},B=function(){c(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus")},E=function(){f=0<this.parentNode.className.indexOf("_hex")?70:65;c(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");c(this).parent().addClass("colorpicker_focus")},C=function(a){var h=c(this).parent().find("input").focus(),a={el:c(this).parent().addClass("colorpicker_slider"),max:0<this.parentNode.className.indexOf("_hsb_h")?
360:0<this.parentNode.className.indexOf("_hsb")?100:255,y:a.pageY,field:h,val:parseInt(h.val(),10),preview:c(this).parent().parent().data("colorpicker").livePreview};c(document).bind("mouseup",a,F);c(document).bind("mousemove",a,G)},G=function(a){a.data.field.val(Math.max(0,Math.min(a.data.max,parseInt(a.data.val+a.pageY-a.data.y,10))));a.data.preview&&u.apply(a.data.field.get(0),[!0]);return!1},F=function(a){u.apply(a.data.field.get(0),[!0]);a.data.el.removeClass("colorpicker_slider").find("input").focus();
c(document).unbind("mouseup",F);c(document).unbind("mousemove",G);return!1},I=function(){var a={cal:c(this).parent(),y:c(this).offset().top};a.preview=a.cal.data("colorpicker").livePreview;c(document).bind("mouseup",a,N);c(document).bind("mousemove",a,O)},O=function(a){u.apply(a.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,a.pageY-a.data.y)))/150,10)).get(0),[a.data.preview]);return!1},N=function(a){h(a.data.cal.data("colorpicker").color,a.data.cal.get(0));
o(a.data.cal.data("colorpicker").color,a.data.cal.get(0));c(document).unbind("mouseup",N);c(document).unbind("mousemove",O);return!1},R=function(){var a={cal:c(this).parent(),pos:c(this).offset()};a.preview=a.cal.data("colorpicker").livePreview;c(document).bind("mouseup",a,M);c(document).bind("mousemove",a,T);c(document).bind("dblclick",a,J)},T=function(a){u.apply(a.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,a.pageY-a.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*
Math.max(0,Math.min(150,a.pageX-a.data.pos.left))/150,10)).get(0),[a.data.preview]);return!1},M=function(a){h(a.data.cal.data("colorpicker").color,a.data.cal.get(0));o(a.data.cal.data("colorpicker").color,a.data.cal.get(0));c(document).unbind("mouseup",M);c(document).unbind("mousemove",T);return!1},J=function(){$j(".colorpicker_submit").trigger("click");return!1},K=function(){c(this).addClass("colorpicker_focus")},X=function(){c(this).removeClass("colorpicker_focus")},L=function(){var a=c(this).parent(),
h=a.data("colorpicker").color;a.data("colorpicker").origColor=h;q(h,a.get(0));a.data("colorpicker").onSubmit(h,ea(ba(h)),ba(h),a.data("colorpicker").el)},da=function(){var a,h,f,l=c("#"+c(this).data("colorpickerId"));l.data("colorpicker").onBeforeShow.apply(this,[l.get(0)]);var n=c(this).offset(),o="CSS1Compat"==document.compatMode;a=window.pageXOffset||(o?document.documentElement.scrollLeft:document.body.scrollLeft);h=window.pageYOffset||(o?document.documentElement.scrollTop:document.body.scrollTop);
f=window.innerWidth||(o?document.documentElement.clientWidth:document.body.clientWidth);var p=n.top+this.offsetHeight,n=n.left;p+176>h+(window.innerHeight||(o?document.documentElement.clientHeight:document.body.clientHeight))&&(p-=this.offsetHeight+176);n+356>a+f&&(n-=356);l.css({left:n+"px",top:p+"px",zIndex:2E6});!1!=l.data("colorpicker").onShow.apply(this,[l.get(0)])&&l.show();c(document).bind("mousedown",{cal:l},V);return!1},V=function(a){U(a.data.cal.get(0),a.target,a.data.cal.get(0))||(!1!=
a.data.cal.data("colorpicker").onHide.apply(this,[a.data.cal.get(0)])&&a.data.cal.hide(),c(document).unbind("mousedown",V))},U=function(a,c,h){if(a==c)return!0;if(a.contains)return a.contains(c);if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(c)&16);for(c=c.parentNode;c&&c!=h;){if(c==a)return!0;c=c.parentNode}return!1},aa=function(a){return{h:Math.min(360,Math.max(0,a.h)),s:Math.min(100,Math.max(0,a.s)),b:Math.min(100,Math.max(0,a.b))}},ca=function(a){a=parseInt(-1<a.indexOf("#")?
a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&255}},qa=function(a){var c={h:0,s:0,b:0},h=Math.min(a.r,a.g,a.b),f=Math.max(a.r,a.g,a.b),h=f-h;c.b=f;c.s=0!=f?255*h/f:0;c.h=0!=c.s?a.r==f?(a.g-a.b)/h:a.g==f?2+(a.b-a.r)/h:4+(a.r-a.g)/h:-1;c.h*=60;0>c.h&&(c.h+=360);c.s*=100/255;c.b*=100/255;return c},ba=function(a){var c,h,f;c=Math.round(a.h);var l=Math.round(255*a.s/100),a=Math.round(255*a.b/100);if(0==l)c=h=f=a;else{var l=(255-l)*a/255,n=(a-l)*(c%60)/60;360==c&&(c=0);60>c?(c=a,f=l,h=l+n):120>
c?(h=a,f=l,c=a-n):180>c?(h=a,c=l,f=l+n):240>c?(f=a,c=l,h=a-n):300>c?(f=a,h=l,c=l+n):360>c?(c=a,h=l,f=a-n):f=h=c=0}return{r:Math.round(c),g:Math.round(h),b:Math.round(f)}},ea=function(a){var h=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];c.each(h,function(a,c){1==c.length&&(h[a]="0"+c)});return h.join("")},la=function(){var a=c(this).parent(),f=a.data("colorpicker").origColor;a.data("colorpicker").color=f;h(f,a.get(0));o(f,a.get(0));n(f,a.get(0));p(f,a.get(0));l(f,a.get(0));z(f,a.get(0))};
c.fn.extend({ColorPicker:function(f){f=c.extend({},a,f||{});if("string"==typeof f.color)f.color=qa(ca(f.color));else if(void 0!=f.color.r&&void 0!=f.color.g&&void 0!=f.color.b)f.color=qa(f.color);else if(void 0!=f.color.h&&void 0!=f.color.s&&void 0!=f.color.b)f.color=aa(f.color);else return this;return this.each(function(){if(!c(this).data("colorpickerId")){var a=c.extend({},f);a.origColor=f.color;var F="collorpicker_"+parseInt(1E3*Math.random());c(this).data("colorpickerId",F);F=c('<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit">Apply</div></div>').attr("id",
F);a.flat?F.appendTo(this).show():F.appendTo(document.body);a.fields=F.find("input").bind("keyup",A).bind("change",u).bind("blur",B).bind("focus",E);F.find("span").bind("mousedown",C).end().find(">div.colorpicker_current_color").bind("click",la);a.selector=F.find("div.colorpicker_color").bind("mousedown",R);a.selectorIndic=a.selector.find("div div");a.el=this;a.hue=F.find("div.colorpicker_hue div");F.find("div.colorpicker_hue").bind("mousedown",I);a.newColor=F.find("div.colorpicker_new_color");a.currentColor=
F.find("div.colorpicker_current_color");F.data("colorpicker",a);F.find("div.colorpicker_submit").bind("mouseenter",K).bind("mouseleave",X).bind("click",L);h(a.color,F.get(0));n(a.color,F.get(0));o(a.color,F.get(0));l(a.color,F.get(0));p(a.color,F.get(0));q(a.color,F.get(0));z(a.color,F.get(0));a.flat?F.css({position:"relative",display:"block"}):c(this).bind(a.eventName,da)}})},ColorPickerHide:function(){return this.each(function(){c(this).data("colorpickerId")&&c("#"+c(this).data("colorpickerId")).hide()})},
ColorPickerShow:function(){return this.each(function(){c(this).data("colorpickerId")&&da.apply(this)})},ColorPickerSetColor:function(a){if("string"==typeof a)a=qa(ca(a));else if(void 0!=a.r&&void 0!=a.g&&void 0!=a.b)a=qa(a);else if(void 0!=a.h&&void 0!=a.s&&void 0!=a.b)a=aa(a);else return this;return this.each(function(){if(c(this).data("colorpickerId")){var f=c("#"+c(this).data("colorpickerId"));f.data("colorpicker").color=a;f.data("colorpicker").origColor=a;h(a,f.get(0));n(a,f.get(0));o(a,f.get(0));
l(a,f.get(0));p(a,f.get(0));q(a,f.get(0));z(a,f.get(0))}})}})})(jQuery);
(function(c){c.Jcrop=function(f,a){function h(a){return Math.round(a)+"px"}function n(a){a=c(a).offset();return[a.left,a.top]}function o(a){return[a.pageX-X[0],a.pageY-X[1]]}function p(a){"object"!==typeof a&&(a={});K=c.extend(K,a);c.each(["onChange","onSelect","onRelease","onDblClick"],function(a,c){"function"!==typeof K[c]&&(K[c]=function(){})})}function l(a,c,h){X=n(ba);vb.setCursor("move"===a?a:a+"-resize");if("move"===a)return vb.activateHandlers(z(c),C,h);var c=Fa.getFixed(),f=A(a),l=Fa.getCorner(A(f));
Fa.setPressed(Fa.getCorner(f));Fa.setCurrent(l);vb.activateHandlers(q(a,c),C,h)}function q(a,c){return function(h){if(K.aspectRatio)switch(a){case "e":h[1]=c.y+1;break;case "w":h[1]=c.y+1;break;case "n":h[0]=c.x+1;break;case "s":h[0]=c.x+1}else switch(a){case "e":h[1]=c.y2;break;case "w":h[1]=c.y2;break;case "n":h[0]=c.x2;break;case "s":h[0]=c.x2}Fa.setCurrent(h);Ca.update()}}function z(a){var c=a;Ta.watchKeys();return function(a){Fa.moveOffset([a[0]-c[0],a[1]-c[1]]);c=a;Ca.update()}}function A(a){switch(a){case "n":return"sw";
case "s":return"nw";case "e":return"nw";case "w":return"ne";case "ne":return"sw";case "nw":return"se";case "se":return"nw";case "sw":return"ne"}}function u(a){return function(c){if(K.disabled||"move"===a&&!K.allowMove)return!1;X=n(ba);Wa=!0;l(a,o(c));c.stopPropagation();c.preventDefault();return!1}}function B(a,c,h){var f=a.width(),l=a.height();f>c&&0<c&&(f=c,l=c/a.width()*a.height());l>h&&0<h&&(l=h,f=h/a.height()*a.width());ra=a.width()/f;pa=a.height()/l;a.width(f).height(l)}function E(a){return{x:a.x*
ra,y:a.y*pa,x2:a.x2*ra,y2:a.y2*pa,w:a.w*ra,h:a.h*pa}}function C(){var a=Fa.getFixed();a.w>K.minSelect[0]&&a.h>K.minSelect[1]?(Ca.enableHandles(),Ca.done()):Ca.release();vb.setCursor(K.allowSelect?"crosshair":"default")}function G(a){if(K.disabled||!K.allowSelect)return!1;Wa=!0;X=n(ba);Ca.disableHandles();vb.setCursor("crosshair");var c=o(a);Fa.setPressed(c);Ca.update();vb.activateHandlers(F,C,"touch"===a.type.substring(0,5));Ta.watchKeys();a.stopPropagation();a.preventDefault();return!1}function F(a){Fa.setCurrent(a);
Ca.update()}function I(){var a=c("<div></div>").addClass(K.baseClass+"-tracker");da&&a.css({opacity:0,backgroundColor:"white"});return a}function O(a){N([a[0]/ra,a[1]/pa,a[2]/ra,a[3]/pa]);K.onSelect.call(fa,E(Fa.getFixed()));Ca.enableHandles()}function N(a){Fa.setPressed([a[0],a[1]]);Fa.setCurrent([a[2],a[3]]);Ca.update()}function R(){K.disabled=!0;Ca.disableHandles();Ca.setCursor("default");vb.setCursor("default")}function T(){K.disabled=!1;J()}function M(a,h,f){h=h||K.bgColor;K.bgFade&&c.fx.step.hasOwnProperty("backgroundColor")&&
K.fadeTime&&!f?a.animate({backgroundColor:h},{queue:!1,duration:K.fadeTime}):a.css("backgroundColor",h)}function J(a){K.allowResize?a?Ca.enableOnly():Ca.enableHandles():Ca.disableHandles();vb.setCursor(K.allowSelect?"crosshair":"default");Ca.setCursor(K.allowMove?"move":"default");K.hasOwnProperty("trueSize")&&(ra=K.trueSize[0]/ea,pa=K.trueSize[1]/la);K.hasOwnProperty("setSelect")&&(O(K.setSelect),Ca.done(),delete K.setSelect);tb.refresh();K.bgColor!=Pa&&(M(K.shade?tb.getShades():ga,K.shade?K.shadeColor||
K.bgColor:K.bgColor),Pa=K.bgColor);ab!=K.bgOpacity&&(ab=K.bgOpacity,K.shade?tb.refresh():Ca.setBgOpacity(ab));Va=K.maxSize[0]||0;Ka=K.maxSize[1]||0;Sa=K.minSize[0]||0;Qa=K.minSize[1]||0;K.hasOwnProperty("outerImage")&&(ba.attr("src",K.outerImage),delete K.outerImage);Ca.refresh()}var K=c.extend({},c.Jcrop.defaults),X,L=navigator.userAgent.toLowerCase(),da=/msie/.test(L),V=/msie [1-6]\./.test(L);"object"!==typeof f&&(f=c(f)[0]);"object"!==typeof a&&(a={});p(a);var U={border:"none",visibility:"visible",
margin:0,padding:0,position:"absolute",top:0,left:0},aa=c(f),ca=!0;if("IMG"==f.tagName){if(0!=aa[0].width&&0!=aa[0].height)aa.width(aa[0].width),aa.height(aa[0].height);else{var qa=new Image;qa.src=aa[0].src;aa.width(qa.width);aa.height(qa.height)}var ba=aa.clone().removeAttr("id").css(U).show();ba.width(aa.width());ba.height(aa.height());aa.after(ba).hide()}else ba=aa.css(U).show(),ca=!1,null===K.shade&&(K.shade=!0);B(ba,K.boxWidth,K.boxHeight);var ea=ba.width(),la=ba.height(),ga=c("<div />").width(ea).height(la).addClass(K.baseClass+
"-holder").css({position:"relative",backgroundColor:K.bgColor}).insertAfter(aa).append(ba);K.addClass&&ga.addClass(K.addClass);var ia=c("<div />"),ya=c("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Za=c("<div />").width("100%").height("100%").css("zIndex",320),Na=c("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var a=Fa.getFixed();K.onDblClick.call(fa,a)}).insertBefore(ba).append(ya,Za);ca&&(ia=c("<img />").attr("src",ba.attr("src")).css(U).width(ea).height(la),
ya.append(ia));V&&Na.css({overflowY:"hidden"});var Oa=K.boundary,Ia=I().width(ea+2*Oa).height(la+2*Oa).css({position:"absolute",top:h(-Oa),left:h(-Oa),zIndex:290}).mousedown(G),Pa=K.bgColor,ab=K.bgOpacity,Va,Ka,Sa,Qa,ra,pa,Wa,mb;X=n(ba);var Xa,sb=function(){var a={},c=["touchstart","touchmove","touchend"],h=document.createElement("div"),f;try{for(f=0;f<c.length;f++){var l=c[f],l="on"+l,n=l in h;n||(h.setAttribute(l,"return;"),n="function"==typeof h[l]);a[c[f]]=n}return a.touchstart&&a.touchend&&a.touchmove}catch(o){return!1}},
ib;ib=!0===K.touchSupport||!1===K.touchSupport?K.touchSupport:sb();Xa={createDragger:function(a){return function(c){if(K.disabled||"move"===a&&!K.allowMove)return!1;X=n(ba);Wa=!0;l(a,o(Xa.cfilter(c)),!0);c.stopPropagation();c.preventDefault();return!1}},newSelection:function(a){return G(Xa.cfilter(a))},cfilter:function(a){a.pageX=a.originalEvent.changedTouches[0].pageX;a.pageY=a.originalEvent.changedTouches[0].pageY;return a},isSupported:sb,support:ib};var Fa,cb=function(){if(!K.aspectRatio){var a=
xa-na,c=sa-ka;Va&&Math.abs(a)>Va&&(xa=0<a?na+Va:na-Va);Ka&&Math.abs(c)>Ka&&(sa=0<c?ka+Ka:ka-Ka);Qa/pa&&Math.abs(c)<Qa/pa&&(sa=0<c?ka+Qa/pa:ka-Qa/pa);Sa/ra&&Math.abs(a)<Sa/ra&&(xa=0<a?na+Sa/ra:na-Sa/ra);0>na&&(xa-=na,na-=na);0>ka&&(sa-=ka,ka-=ka);0>xa&&(na-=xa,xa-=xa);0>sa&&(ka-=sa,sa-=sa);xa>ea&&(a=xa-ea,na-=a,xa-=a);sa>la&&(a=sa-la,ka-=a,sa-=a);na>ea&&(a=na-la,sa-=a,ka-=a);ka>la&&(a=ka-la,sa-=a,ka-=a);return Ea(jb(na,ka,xa,sa))}var a=K.aspectRatio,c=K.minSize[0]/ra,h=K.maxSize[0]/ra,f=xa-na,l=sa-
ka,n=Math.abs(f),o=Math.abs(l);0===h&&(h=10*ea);n/o<a?(n=sa,o*=a,o=0>f?na-o:o+na,0>o?(o=0,n=Math.abs((o-na)/a),n=0>l?ka-n:n+ka):o>ea&&(o=ea,n=Math.abs((o-na)/a),n=0>l?ka-n:n+ka)):(o=xa,n/=a,n=0>l?ka-n:ka+n,0>n?(n=0,o=Math.abs((n-ka)*a),o=0>f?na-o:o+na):n>la&&(n=la,o=Math.abs(n-ka)*a,o=0>f?na-o:o+na));o>na?(o-na<c?o=na+c:o-na>h&&(o=na+h),n=n>ka?ka+(o-na)/a:ka-(o-na)/a):o<na&&(na-o<c?o=na-c:na-o>h&&(o=na-h),n=n>ka?ka+(na-o)/a:ka-(na-o)/a);0>o?(na-=o,o=0):o>ea&&(na-=o-ea,o=ea);0>n?(ka-=n,n=0):n>la&&
(ka-=n-la,n=la);return Ea(jb(na,ka,o,n))},nb=function(a){0>a[0]&&(a[0]=0);0>a[1]&&(a[1]=0);a[0]>ea&&(a[0]=ea);a[1]>la&&(a[1]=la);return[Math.round(a[0]),Math.round(a[1])]},jb=function(a,c,h,f){var l=a,n=h,o=c,p=f;h<a&&(l=h,n=a);f<c&&(o=f,p=c);return[l,o,n,p]},Ea=function(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}},na=0,ka=0,xa=0,sa=0,pb,La;Fa={flipCoords:jb,setPressed:function(a){a=nb(a);xa=na=a[0];sa=ka=a[1]},setCurrent:function(a){a=nb(a);pb=a[0]-xa;La=a[1]-sa;xa=a[0];sa=a[1]},
getOffset:function(){return[pb,La]},moveOffset:function(a){var c=a[0],a=a[1];0>na+c&&(c-=c+na);0>ka+a&&(a-=a+ka);la<sa+a&&(a+=la-(sa+a));ea<xa+c&&(c+=ea-(xa+c));na+=c;xa+=c;ka+=a;sa+=a},getCorner:function(a){var c=cb();switch(a){case "ne":return[c.x2,c.y];case "nw":return[c.x,c.y];case "se":return[c.x2,c.y2];case "sw":return[c.x,c.y2]}},getFixed:cb};var tb,gb=function(){return Ab(Fa.getFixed())},Ab=function(a){kb.top.css({left:h(a.x),width:h(a.w),height:h(a.y)});kb.bottom.css({top:h(a.y2),left:h(a.x),
width:h(a.w),height:h(la-a.y2)});kb.right.css({left:h(a.x2),width:h(ea-a.x2)});kb.left.css({width:h(a.x)})},Ma=function(){return c("<div />").css({position:"absolute",backgroundColor:K.shadeColor||K.bgColor}).appendTo(rb)},Ba=function(){fb||(fb=!0,rb.insertBefore(ba),gb(),Ca.setBgOpacity(1,0,1),ia.hide(),Aa(K.shadeColor||K.bgColor,1),Ca.isAwake()?ub(K.bgOpacity,1):ub(1,1))},Aa=function(a,c){M(Ya(),a,c)},Gb=function(){fb&&(rb.remove(),ia.show(),fb=!1,Ca.isAwake()?Ca.setBgOpacity(K.bgOpacity,1,1):(Ca.setBgOpacity(1,
1,1),Ca.disableHandles()),M(ga,0,1))},ub=function(a,c){fb&&(K.bgFade&&!c?rb.animate({opacity:1-a},{queue:!1,duration:K.fadeTime}):rb.css({opacity:1-a}))},Ya=function(){return rb.children()},fb=!1,rb=c("<div />").css({position:"absolute",zIndex:240,opacity:0}),kb={top:Ma(),left:Ma().height(la),right:Ma().height(la),bottom:Ma()};tb={update:gb,updateRaw:Ab,getShades:Ya,setBgColor:Aa,enable:Ba,disable:Gb,resize:function(a,c){kb.left.css({height:h(c)});kb.right.css({height:h(c)})},refresh:function(){K.shade?
Ba():Gb();Ca.isAwake()&&ub(K.bgOpacity)},opacity:ub};var Ca,ob=function(a,h){var f=c("<div />").mousedown(u(a)).css({cursor:a+"-resize",position:"absolute",zIndex:h}).addClass("ord-"+a);Xa.support&&f.bind("touchstart.jcrop",Xa.createDragger(a));Za.append(f);return f},Ib=function(){var a=Fa.getFixed();Fa.setPressed([a.x,a.y]);Fa.setCurrent([a.x2,a.y2]);qb()},qb=function(a){if(Cc)return Lb(a)},Lb=function(a){var c=Fa.getFixed(),f=c.h;Na.width(Math.round(c.w)).height(Math.round(f));var f=c.x,l=c.y;K.shade||
ia.css({top:h(-l),left:h(-f)});Na.css({top:h(l),left:h(f)});K.shade&&tb.updateRaw(c);Cc||(Na.show(),K.shade?tb.opacity(ab):Zb(ab,!0),Cc=!0);a?K.onSelect.call(fa,E(c)):K.onChange.call(fa,E(c))},Zb=function(a,c,h){if(Cc||c)K.bgFade&&!h?ba.animate({opacity:a},{queue:!1,duration:K.fadeTime}):ba.css("opacity",a)},D=function(){S=!0;if(K.allowResize)return Za.show(),!0},ta=function(){S=!1;Za.hide()},P=function(a){a?(mb=!0,ta()):(mb=!1,D())},Cc,$b=370,S=!1;if(K.dragEdges&&c.isArray(K.createDragbars)){var Kd=
K.createDragbars,vc;for(vc=0;vc<Kd.length;vc++)ob(Kd[vc],$b++).addClass("jcrop-dragbar")}if(c.isArray(K.createHandles)){var Rc=K.createHandles,Jc;for(Jc=0;Jc<Rc.length;Jc++){var Yc=K.handleSize,Zc=ob(Rc[Jc],$b++).css({opacity:K.handleOpacity}).addClass(K.baseClass+"-handle");Yc&&Zc.width(Yc).height(Yc)}}if(K.drawBorders&&c.isArray(K.createBorders)){var $c=K.createBorders,ld,Eb;for(Eb=0;Eb<$c.length;Eb++){switch($c[Eb]){case "n":ld="hline";break;case "s":ld="hline bottom";break;case "e":ld="vline right";
break;case "w":ld="vline"}var ha=ld,ma=c("<div />").css({position:"absolute",opacity:K.borderOpacity}).addClass(K.baseClass+"-"+ha);ya.append(ma)}}c(document).bind("touchstart.jcrop-ios",function(a){c(a.currentTarget).hasClass("jcrop-tracker")&&a.stopPropagation()});var ad=I().mousedown(u("move")).css({cursor:"move",position:"absolute",zIndex:360});Xa.support&&ad.bind("touchstart.jcrop",Xa.createDragger("move"));ya.append(ad);ta();Ca={updateVisible:qb,update:Lb,release:function(){ta();Na.hide();K.shade?
tb.opacity(1):Zb(1);Cc=!1;K.onRelease.call(fa)},refresh:Ib,isAwake:function(){return Cc},setCursor:function(a){ad.css("cursor",a)},enableHandles:D,enableOnly:function(){S=!0},showHandles:function(){S&&Za.show()},disableHandles:ta,animMode:P,setBgOpacity:Zb,done:function(){P(!1);Ib()}};var vb,Ob=function(a){ja(o(a));return!1},W=function(a){a.preventDefault();a.stopPropagation();Wa&&(Wa=!1,H(o(a)),Ca.isAwake()&&K.onSelect.call(fa,E(Fa.getFixed())),Ia.css({zIndex:290}),c(document).unbind(".jcrop"),ja=
function(){},H=function(){});return!1},bc=function(a){ja(o(Xa.cfilter(a)));return!1},va=function(a){return W(Xa.cfilter(a))},ja=function(){},H=function(){},Ld=K.trackDocument;Ld||Ia.mousemove(Ob).mouseup(W).mouseout(W);ba.before(Ia);vb={activateHandlers:function(a,h,f){Wa=!0;ja=a;H=h;Ia.css({zIndex:450});f?c(document).bind("touchmove.jcrop",bc).bind("touchend.jcrop",va):Ld&&c(document).bind("mousemove.jcrop",Ob).bind("mouseup.jcrop",W);return!1},setCursor:function(a){Ia.css("cursor",a)}};var Ta,Ze=
function(){oa.hide()},Jb=function(a,c,h){K.allowMove&&(Fa.moveOffset([c,h]),Ca.updateVisible(!0));a.preventDefault();a.stopPropagation()},lb=function(a){if(a.ctrlKey||a.metaKey)return!0;var c=a.shiftKey?10:1;switch(a.keyCode){case 37:Jb(a,-c,0);break;case 39:Jb(a,c,0);break;case 38:Jb(a,0,-c);break;case 40:Jb(a,0,c);break;case 27:K.allowSelect&&Ca.release();break;case 9:return!0}return!1},oa=c('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),Sc=
c("<div />").css({position:"absolute",overflow:"hidden"}).append(oa);K.keySupport&&(oa.keydown(lb).blur(Ze),V||!K.fixedSupport?(oa.css({position:"absolute",left:"-20px"}),Sc.append(oa).insertBefore(ba)):oa.insertBefore(ba));Ta={watchKeys:function(){K.keySupport&&(oa.show(),oa.focus())}};Xa.support&&Ia.bind("touchstart.jcrop",Xa.newSelection);Za.hide();J(!0);var fa={setImage:function(a,c){Ca.release();R();var h=new Image;h.onload=function(){var f=h.height,l=K.boxWidth,n=K.boxHeight;ba.width(h.width).height(f);
ba.attr("src",a);ia.attr("src",a);B(ba,l,n);ea=ba.width();la=ba.height();ia.width(ea).height(la);Ia.width(ea+2*Oa).height(la+2*Oa);ga.width(ea).height(la);tb.resize(ea,la);T();"function"===typeof c&&c.call(fa)};h.src=a},animateTo:function(a,c){var h=a[0]/ra,f=a[1]/pa,l=a[2]/ra,n=a[3]/pa;if(!mb){var o=Fa.flipCoords(h,f,l,n),p=Fa.getFixed(),q=[p.x,p.y,p.x2,p.y2],u=K.animationDelay,z=o[0]-q[0],A=o[1]-q[1],B=o[2]-q[2],C=o[3]-q[3],F=0,E=K.swingSpeed,h=q[0],f=q[1],l=q[2],n=q[3];Ca.animMode(!0);var D=function(){F+=
(100-F)/E;q[0]=Math.round(h+F/100*z);q[1]=Math.round(f+F/100*A);q[2]=Math.round(l+F/100*B);q[3]=Math.round(n+F/100*C);99.8<=F&&(F=100);100>F?(N(q),window.setTimeout(D,u)):(Ca.done(),Ca.animMode(!1),"function"===typeof c&&c.call(fa))};window.setTimeout(D,u)}},setSelect:O,setOptions:function(a){p(a);J()},tellSelect:function(){return E(Fa.getFixed())},tellScaled:function(){return Fa.getFixed()},setClass:function(a){ga.removeClass().addClass(K.baseClass+"-holder").addClass(a)},disable:R,enable:T,cancel:function(){Ca.done();
vb.activateHandlers(null,null)},release:Ca.release,destroy:function(){ga.remove();aa.show();aa.css("visibility","visible");c(f).removeData("Jcrop")},focus:Ta.watchKeys,getBounds:function(){return[ea*ra,la*pa]},getWidgetSize:function(){return[ea,la]},getScaleFactor:function(){return[ra,pa]},getOptions:function(){return K},ui:{holder:ga,selection:Na}};da&&ga.bind("selectstart",function(){return!1});aa.data("Jcrop",fa);return fa};c.fn.Jcrop=function(f,a){var h;this.each(function(){if(c(this).data("Jcrop")){if("api"===
f)return c(this).data("Jcrop");c(this).data("Jcrop").setOptions(f)}else"IMG"==this.tagName?c.Jcrop.Loader(this,function(){c(this).css({display:"block",visibility:"hidden"});h=c.Jcrop(this,f);c.isFunction(a)&&a.call(h)}):(c(this).css({display:"block",visibility:"hidden"}),h=c.Jcrop(this,f),c.isFunction(a)&&a.call(h))});return this};c.Jcrop.Loader=function(f,a,h){function n(){p.complete?(o.unbind(".jcloader"),c.isFunction(a)&&a.call(p)):window.setTimeout(n,50)}var o=c(f),p=o[0];o.bind("load.jcloader",
n).bind("error.jcloader",function(){o.unbind(".jcloader");c.isFunction(h)&&h.call(p)});p.complete&&c.isFunction(a)&&(o.unbind(".jcloader"),a.call(p))};c.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:0.6,bgFade:!1,borderOpacity:0.4,handleOpacity:0.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:"n s e w nw ne se sw".split(" "),createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,
dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);this.createjs=this.createjs||{};
(function(){var c=function(a,c,f){this.initialize(a,c,f)},f=c.prototype;f.type=null;f.target=null;f.currentTarget=null;f.eventPhase=0;f.bubbles=!1;f.cancelable=!1;f.timeStamp=0;f.defaultPrevented=!1;f.propagationStopped=!1;f.immediatePropagationStopped=!1;f.removed=!1;f.initialize=function(a,c,f){this.type=a;this.bubbles=c;this.cancelable=f;this.timeStamp=(new Date).getTime()};f.preventDefault=function(){this.defaultPrevented=!0};f.stopPropagation=function(){this.propagationStopped=!0};f.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};f.remove=function(){this.removed=!0};f.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};f.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){var c=function(){},f=c.prototype;c.initialize=function(a){a.addEventListener=f.addEventListener;a.on=f.on;a.removeEventListener=a.off=f.removeEventListener;a.removeAllEventListeners=f.removeAllEventListeners;a.hasEventListener=f.hasEventListener;a.dispatchEvent=f.dispatchEvent;a._dispatchEvent=f._dispatchEvent};f._listeners=null;f._captureListeners=null;f.initialize=function(){};f.addEventListener=function(a,c,f){var o;o=f?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var p=o[a];return p&&this.removeEventListener(a,c,f),p=o[a],p?p.push(c):o[a]=[c],c};f.on=function(a,c,f,o,p,l){return c.handleEvent&&(f=f||c,c=c.handleEvent),f=f||this,this.addEventListener(a,function(a){c.call(f,a,p);o&&a.remove()},l)};f.removeEventListener=function(a,c,f){if(f=f?this._captureListeners:this._listeners){var o=f[a];if(o)for(var p=0,l=o.length;l>p;p++)if(o[p]==c){1==l?delete f[a]:o.splice(p,1);break}}};f.off=f.removeEventListener;f.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};f.dispatchEvent=function(a,c){if("string"==typeof a){var f=this._listeners;if(!f||!f[a])return!1;a=new createjs.Event(a)}if(a.target=c||this,a.bubbles&&this.parent){for(var o=this,f=[o];o.parent;)f.push(o=o.parent);for(var p=f.length,o=p-1;0<=o&&!a.propagationStopped;o--)f[o]._dispatchEvent(a,1+(0==o));for(o=1;p>o&&!a.propagationStopped;o++)f[o]._dispatchEvent(a,
3)}else this._dispatchEvent(a,2);return a.defaultPrevented};f.hasEventListener=function(a){var c=this._listeners,f=this._captureListeners;return!!(c&&c[a]||f&&f[a])};f.toString=function(){return"[EventDispatcher]"};f._dispatchEvent=function(a,c){var f,o=1==c?this._captureListeners:this._listeners;if(a&&o&&(o=o[a.type])&&(f=o.length)){a.currentTarget=this;a.eventPhase=c;a.removed=!1;for(var o=o.slice(),p=0;f>p&&!a.immediatePropagationStopped;p++){var l=o[p];l.handleEvent?l.handleEvent(a):l(a);a.removed&&
(this.off(a.type,l,1==c),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,f){for(var a=0,h=c.length;h>a;a++)if(f===c[a])return a;return-1}})();this.createjs=this.createjs||{};(function(){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=!1;c.timingMode=null;c.maxDelta=0;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._addEventListener=c.addEventListener;c.addEventListener=function(){!c._inited&&c.init();c._addEventListener.apply(c,arguments)};c._paused=!1;c._inited=!1;c._startTime=0;c._pausedTime=
0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._timerId=null;c._raf=!0;c.init=function(){c._inited||(c._inited=!0,c._times=[],c._tickTimes=[],c._startTime=c._getTime(),c._times.push(c._lastTime=0),c.setInterval(c._interval))};c.reset=function(){if(c._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(c._timerId)}else clearTimeout(c._timerId);
c.removeAllEventListeners("tick")};c.setInterval=function(a){c._interval=a;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(a){c.setInterval(1E3/a)};c.getFPS=function(){return 1E3/c._interval};c.getMeasuredTickTime=function(a){var h=c._tickTimes;if(1>h.length)return-1;for(var a=Math.min(h.length,a||0|c.getFPS()),f=0;a>f;f++);return h/a};c.getMeasuredFPS=function(a){var h=c._times;return 2>h.length?-1:(a=Math.min(h.length-1,a||0|c.getFPS()),1E3/((h[0]-h[a])/
a))};c.setPaused=function(a){c._paused=a};c.getPaused=function(){return c._paused};c.getTime=function(a){return c._getTime()-c._startTime-(a?c._pausedTime:0)};c.getEventTime=function(a){return(c._lastTime||c._startTime)-(a?c._pausedTime:0)};c.getTicks=function(a){return c._ticks-(a?c._pausedTicks:0)};c._handleSynch=function(){var a=c._getTime()-c._startTime;c._timerId=null;c._setupTick();a-c._lastTime>=0.97*(c._interval-1)&&c._tick()};c._handleRAF=function(){c._timerId=null;c._setupTick();c._tick()};
c._handleTimeout=function(){c._timerId=null;c._setupTick();c._tick()};c._setupTick=function(){if(null==c._timerId){var a=c.timingMode||c.useRAF&&c.RAF_SYNCHED;if(a==c.RAF_SYNCHED||a==c.RAF){var h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(h)return c._timerId=h(a==c.RAF?c._handleRAF:c._handleSynch),c._raf=!0,void 0}c._raf=!1;c._timerId=setTimeout(c._handleTimeout,c._interval)}};
c._tick=function(){var a=c._getTime()-c._startTime,h=a-c._lastTime,f=c._paused;if(c._ticks++,f&&(c._pausedTicks++,c._pausedTime+=h),c._lastTime=a,c.hasEventListener("tick")){var o=new createjs.Event("tick"),p=c.maxDelta;o.delta=p&&h>p?p:h;o.paused=f;o.time=a;o.runTime=a-c._pausedTime;c.dispatchEvent(o)}for(c._tickTimes.unshift(c._getTime()-a);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(a);100<c._times.length;)c._times.pop()};var f=window.performance&&(performance.now||performance.mozNow||
performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return f&&f.call(performance)||(new Date).getTime()};createjs.Ticker=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,f,o,p,l,q,z,A,u){this.initialize(a,c,f,o,p,l,q,z,A,u)},f=c.prototype=new createjs.Event;f.stageX=0;f.stageY=0;f.rawX=0;f.rawY=0;f.nativeEvent=null;f.pointerID=0;f.primary=!1;f.addEventListener=null;f.removeEventListener=null;f.removeAllEventListeners=null;f.dispatchEvent=null;f.hasEventListener=null;f._listeners=null;createjs.EventDispatcher.initialize(f);f.Event_initialize=f.initialize;f.initialize=function(a,c,f,o,p,l,q,z,A,u){this.Event_initialize(a,c,f);this.stageX=
o;this.stageY=p;this.nativeEvent=l;this.pointerID=q;this.primary=z;this.rawX=null==A?o:A;this.rawY=null==u?p:u};f.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};f.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,f,o,p,l){this.initialize(a,c,f,o,p,l)},f=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;f.a=1;f.b=0;f.c=0;f.d=1;f.tx=0;f.ty=0;f.alpha=1;f.shadow=null;f.compositeOperation=null;f.initialize=function(a,c,f,o,p,l){return this.a=null==a?1:a,this.b=c||0,this.c=f||0,this.d=null==o?1:o,this.tx=p||0,this.ty=l||0,this};f.prepend=function(a,c,f,o,p,l){var q=this.tx;if(1!=a||0!=c||0!=f||1!=o){var z=this.a,A=this.c;this.a=z*a+this.b*f;this.b=z*c+this.b*o;this.c=A*a+this.d*
f;this.d=A*c+this.d*o}return this.tx=q*a+this.ty*f+p,this.ty=q*c+this.ty*o+l,this};f.append=function(a,c,f,o,p,l){var q=this.a,z=this.b,A=this.c,u=this.d;return this.a=a*q+c*A,this.b=a*z+c*u,this.c=f*q+o*A,this.d=f*z+o*u,this.tx=p*q+l*A+this.tx,this.ty=p*z+l*u+this.ty,this};f.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty),this.prependProperties(a.alpha,a.shadow,a.compositeOperation),this};f.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty),this.appendProperties(a.alpha,
a.shadow,a.compositeOperation),this};f.prependTransform=function(a,h,f,o,p,l,q,z,A){if(p%360)var u=p*c.DEG_TO_RAD,p=Math.cos(u),u=Math.sin(u);else p=1,u=0;return(z||A)&&(this.tx-=z,this.ty-=A),l||q?(l*=c.DEG_TO_RAD,q*=c.DEG_TO_RAD,this.prepend(p*f,u*f,-u*o,p*o,0,0),this.prepend(Math.cos(q),Math.sin(q),-Math.sin(l),Math.cos(l),a,h)):this.prepend(p*f,u*f,-u*o,p*o,a,h),this};f.appendTransform=function(a,h,f,o,p,l,q,z,A){if(p%360)var u=p*c.DEG_TO_RAD,p=Math.cos(u),u=Math.sin(u);else p=1,u=0;return l||
q?(l*=c.DEG_TO_RAD,q*=c.DEG_TO_RAD,this.append(Math.cos(q),Math.sin(q),-Math.sin(l),Math.cos(l),a,h),this.append(p*f,u*f,-u*o,p*o,0,0)):this.append(p*f,u*f,-u*o,p*o,a,h),(z||A)&&(this.tx-=z*this.a+A*this.c,this.ty-=z*this.b+A*this.d),this};f.rotate=function(a){var c=Math.cos(a),a=Math.sin(a),f=this.a,o=this.c,p=this.tx;return this.a=f*c-this.b*a,this.b=f*a+this.b*c,this.c=o*c-this.d*a,this.d=o*a+this.d*c,this.tx=p*c-this.ty*a,this.ty=p*a+this.ty*c,this};f.skew=function(a,h){return a*=c.DEG_TO_RAD,
h*=c.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(a),Math.cos(a),0,0),this};f.scale=function(a,c){return this.a*=a,this.d*=c,this.c*=a,this.b*=c,this.tx*=a,this.ty*=c,this};f.translate=function(a,c){return this.tx+=a,this.ty+=c,this};f.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this};f.invert=function(){var a=this.a,c=this.b,f=this.c,o=this.d,p=this.tx,l=a*o-c*f;return this.a=o/l,this.b=-c/l,this.c=-f/
l,this.d=a/l,this.tx=(f*this.ty-o*p)/l,this.ty=-(a*this.ty-c*p)/l,this};f.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};f.transformPoint=function(a,c,f){return f=f||{},f.x=a*this.a+c*this.c+this.tx,f.y=a*this.b+c*this.d+this.ty,f};f.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var h=Math.atan2(-this.c,this.d),f=Math.atan2(this.b,this.a);
return h==f?(a.rotation=f/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=h/c.DEG_TO_RAD,a.skewY=f/c.DEG_TO_RAD),a};f.reinitialize=function(a,c,f,o,p,l,q,z,A){return this.initialize(a,c,f,o,p,l),this.alpha=null==q?1:q,this.shadow=z,this.compositeOperation=A,this};f.copy=function(a){return this.reinitialize(a.a,a.b,a.c,a.d,a.tx,a.ty,a.alpha,a.shadow,a.compositeOperation)};f.appendProperties=function(a,c,f){return this.alpha*=a,this.shadow=c||this.shadow,
this.compositeOperation=f||this.compositeOperation,this};f.prependProperties=function(a,c,f){return this.alpha*=a,this.shadow=this.shadow||c,this.compositeOperation=this.compositeOperation||f,this};f.clone=function(){return(new c).copy(this)};f.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c;createjs.Matrix2D=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c){this.initialize(a,c)},f=c.prototype;f.x=0;f.y=0;f.initialize=function(a,c){return this.x=null==a?0:a,this.y=null==c?0:c,this};f.copy=function(a){return this.initialize(a.x,a.y)};f.clone=function(){return new c(this.x,this.y)};f.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,f,o){this.initialize(a,c,f,o)},f=c.prototype;f.x=0;f.y=0;f.width=0;f.height=0;f.initialize=function(a,c,f,o){return this.x=a||0,this.y=c||0,this.width=f||0,this.height=o||0,this};f.copy=function(a){return this.initialize(a.x,a.y,a.width,a.height)};f.clone=function(){return new c(this.x,this.y,this.width,this.height)};f.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=c})();
this.createjs=this.createjs||{};
(function(){var c=function(a,c,f,o,p,l,q){this.initialize(a,c,f,o,p,l,q)},f=c.prototype;f.target=null;f.overLabel=null;f.outLabel=null;f.downLabel=null;f.play=!1;f._isPressed=!1;f._isOver=!1;f.initialize=function(a,c,f,o,p,l,q){a.addEventListener&&(this.target=a,a.cursor="pointer",this.overLabel=null==f?"over":f,this.outLabel=null==c?"out":c,this.downLabel=null==o?"down":o,this.play=p,this.setEnabled(!0),this.handleEvent({}),l&&(q&&(l.actionsEnabled=!1,l.gotoAndStop&&l.gotoAndStop(q)),a.hitArea=l))};
f.setEnabled=function(a){var c=this.target;a?(c.addEventListener("rollover",this),c.addEventListener("rollout",this),c.addEventListener("mousedown",this),c.addEventListener("pressup",this)):(c.removeEventListener("rollover",this),c.removeEventListener("rollout",this),c.removeEventListener("mousedown",this),c.removeEventListener("pressup",this))};f.toString=function(){return"[ButtonHelper]"};f.handleEvent=function(a){var c,f=this.target,a=a.type;"mousedown"==a?(this._isPressed=!0,c=this.downLabel):
"pressup"==a?(this._isPressed=!1,c=this._isOver?this.overLabel:this.outLabel):"rollover"==a?(this._isOver=!0,c=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,c=this._isPressed?this.overLabel:this.outLabel);this.play?f.gotoAndPlay&&f.gotoAndPlay(c):f.gotoAndStop&&f.gotoAndStop(c)};createjs.ButtonHelper=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,f,o){this.initialize(a,c,f,o)},f=c.prototype;c.identity=null;f.color=null;f.offsetX=0;f.offsetY=0;f.blur=0;f.initialize=function(a,c,f,o){this.color=a;this.offsetX=c;this.offsetY=f;this.blur=o};f.toString=function(){return"[Shadow]"};f.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);createjs.Shadow=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},f=c.prototype=new createjs.EventDispatcher;f.complete=!0;f.framerate=0;f._animations=null;f._frames=null;f._images=null;f._data=null;f._loadCount=0;f._frameHeight=0;f._frameWidth=0;f._numFrames=0;f._regX=0;f._regY=0;f.initialize=function(a){var c,f,o;if(null!=a){if(this.framerate=a.framerate||0,a.images&&0<(f=a.images.length)){o=this._images=[];for(c=0;f>c;c++){var p=a.images[c];if("string"==typeof p){var l=p,p=new Image;p.src=l}o.push(p);p.getContext||
p.complete||(this._loadCount++,this.complete=!1,function(a){p.onload=function(){a._handleImageLoad()}}(this))}}if(null!=a.frames)if(a.frames instanceof Array){this._frames=[];o=a.frames;c=0;for(f=o.length;f>c;c++)l=o[c],this._frames.push({image:this._images[l[4]?l[4]:0],rect:new createjs.Rectangle(l[0],l[1],l[2],l[3]),regX:l[5]||0,regY:l[6]||0})}else f=a.frames,this._frameWidth=f.width,this._frameHeight=f.height,this._regX=f.regX||0,this._regY=f.regY||0,this._numFrames=f.count,0==this._loadCount&&
this._calculateFrames();if(this._animations=[],null!=(f=a.animations)){this._data={};for(var q in f){a={name:q};l=f[q];if("number"==typeof l)o=a.frames=[l];else if(l instanceof Array)if(1==l.length)a.frames=[l[0]];else{a.speed=l[3];a.next=l[2];o=a.frames=[];for(c=l[0];c<=l[1];c++)o.push(c)}else a.speed=l.speed,a.next=l.next,c=l.frames,o=a.frames="number"==typeof c?[c]:c.slice(0);(!0===a.next||void 0===a.next)&&(a.next=q);(!1===a.next||2>o.length&&a.next==q)&&(a.next=null);a.speed||(a.speed=1);this._animations.push(q);
this._data[q]=a}}}};f.getNumFrames=function(a){if(null==a)return this._frames?this._frames.length:this._numFrames;a=this._data[a];return null==a?0:a.frames.length};f.getAnimations=function(){return this._animations.slice(0)};f.getAnimation=function(a){return this._data[a]};f.getFrame=function(a){var c;return this._frames&&(c=this._frames[a])?c:null};f.getFrameBounds=function(a,c){var f=this.getFrame(a);return f?(c||new createjs.Rectangle).initialize(-f.regX,-f.regY,f.rect.width,f.rect.height):null};
f.toString=function(){return"[SpriteSheet]"};f.clone=function(){var a=new c;return a.complete=this.complete,a._animations=this._animations,a._frames=this._frames,a._images=this._images,a._data=this._data,a._frameHeight=this._frameHeight,a._frameWidth=this._frameWidth,a._numFrames=this._numFrames,a._loadCount=this._loadCount,a};f._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))};f._calculateFrames=function(){if(!this._frames&&
0!=this._frameWidth){this._frames=[];for(var a=0,c=this._frameWidth,f=this._frameHeight,o=0,p=this._images;o<p.length;o++){for(var l=p[o],q=0|(l.width+1)/c,z=0|(l.height+1)/f,z=0<this._numFrames?Math.min(this._numFrames-a,q*z):q*z,A=0;z>A;A++)this._frames.push({image:l,rect:new createjs.Rectangle(A%q*c,(0|A/q)*f,c,f),regX:this._regX,regY:this._regY});a+=z}this._numFrames=a}};createjs.SpriteSheet=c})();this.createjs=this.createjs||{};
(function(){function c(a,c,h){this.f=a;this.params=c;this.path=null==h?!0:h}c.prototype.exec=function(a){this.f.apply(a,this.params)};var f=function(){this.initialize()},a=f.prototype;f.getRGB=function(a,c,h,f){return null!=a&&null==h&&(f=c,h=255&a,c=255&a>>8,a=255&a>>16),null==f?"rgb("+a+","+c+","+h+")":"rgba("+a+","+c+","+h+","+f+")"};f.getHSL=function(a,c,h,f){return null==f?"hsl("+a%360+","+c+"%,"+h+"%)":"hsla("+a%360+","+c+"%,"+h+"%,"+f+")"};f.Command=c;f.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,
H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"0":52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};f.STROKE_CAPS_MAP=["butt","round","square"];f.STROKE_JOINTS_MAP=["miter","round","bevel"];var h=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(h.getContext){var n=f._ctx=h.getContext("2d");
f.beginCmd=new c(n.beginPath,[],!1);f.fillCmd=new c(n.fill,[],!1);f.strokeCmd=new c(n.stroke,[],!1);h.width=h.height=1}a._strokeInstructions=null;a._strokeStyleInstructions=null;a._strokeIgnoreScale=!1;a._fillInstructions=null;a._fillMatrix=null;a._instructions=null;a._oldInstructions=null;a._activeInstructions=null;a._active=!1;a._dirty=!1;a.initialize=function(){this.clear();this._ctx=f._ctx};a.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)};
a.draw=function(a){this._dirty&&this._updateInstructions();for(var c=this._instructions,h=0,f=c.length;f>h;h++)c[h].exec(a)};a.drawAsPath=function(a){this._dirty&&this._updateInstructions();for(var c,h=this._instructions,f=0,n=h.length;n>f;f++)((c=h[f]).path||0==f)&&c.exec(a)};a.moveTo=function(a,h){return this._activeInstructions.push(new c(this._ctx.moveTo,[a,h])),this};a.lineTo=function(a,h){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.lineTo,[a,h])),this};a.arcTo=
function(a,h,f,n,z){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.arcTo,[a,h,f,n,z])),this};a.arc=function(a,h,f,n,z,A){return this._dirty=this._active=!0,null==A&&(A=!1),this._activeInstructions.push(new c(this._ctx.arc,[a,h,f,n,z,A])),this};a.quadraticCurveTo=function(a,h,f,n){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,[a,h,f,n])),this};a.bezierCurveTo=function(a,h,f,n,z,A){return this._dirty=this._active=
!0,this._activeInstructions.push(new c(this._ctx.bezierCurveTo,[a,h,f,n,z,A])),this};a.rect=function(a,h,f,n){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.rect,[a,h,f,n])),this};a.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new c(this._ctx.closePath,[]))),this};a.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=
this._fillMatrix=null,this._active=this._dirty=this._strokeIgnoreScale=!1,this};a.beginFill=function(a){return this._active&&this._newPath(),this._fillInstructions=a?[new c(this._setProp,["fillStyle",a],!1)]:null,this._fillMatrix=null,this};a.beginLinearGradientFill=function(a,h,f,n,z,A){this._active&&this._newPath();f=this._ctx.createLinearGradient(f,n,z,A);n=0;for(z=a.length;z>n;n++)f.addColorStop(h[n],a[n]);return this._fillInstructions=[new c(this._setProp,["fillStyle",f],!1)],this._fillMatrix=
null,this};a.beginRadialGradientFill=function(a,h,f,n,z,A,u,B){this._active&&this._newPath();f=this._ctx.createRadialGradient(f,n,z,A,u,B);n=0;for(z=a.length;z>n;n++)f.addColorStop(h[n],a[n]);return this._fillInstructions=[new c(this._setProp,["fillStyle",f],!1)],this._fillMatrix=null,this};a.beginBitmapFill=function(a,h,f){this._active&&this._newPath();a=this._ctx.createPattern(a,h||"");return this._fillInstructions=[new c(this._setProp,["fillStyle",a],!1)],this._fillMatrix=f?[f.a,f.b,f.c,f.d,f.tx,
f.ty]:null,this};a.endFill=function(){return this.beginFill()};a.setStrokeStyle=function(a,h,l,n,z){return this._active&&this._newPath(),this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==a?"1":a],!1),new c(this._setProp,["lineCap",null==h?"butt":isNaN(h)?h:f.STROKE_CAPS_MAP[h]],!1),new c(this._setProp,["lineJoin",null==l?"miter":isNaN(l)?l:f.STROKE_JOINTS_MAP[l]],!1),new c(this._setProp,["miterLimit",null==n?"10":n],!1)],this._strokeIgnoreScale=z,this};a.beginStroke=function(a){return this._active&&
this._newPath(),this._strokeInstructions=a?[new c(this._setProp,["strokeStyle",a],!1)]:null,this};a.beginLinearGradientStroke=function(a,h,f,n,z,A){this._active&&this._newPath();f=this._ctx.createLinearGradient(f,n,z,A);n=0;for(z=a.length;z>n;n++)f.addColorStop(h[n],a[n]);return this._strokeInstructions=[new c(this._setProp,["strokeStyle",f],!1)],this};a.beginRadialGradientStroke=function(a,h,f,n,z,A,u,B){this._active&&this._newPath();f=this._ctx.createRadialGradient(f,n,z,A,u,B);n=0;for(z=a.length;z>
n;n++)f.addColorStop(h[n],a[n]);return this._strokeInstructions=[new c(this._setProp,["strokeStyle",f],!1)],this};a.beginBitmapStroke=function(a,h){this._active&&this._newPath();var f=this._ctx.createPattern(a,h||"");return this._strokeInstructions=[new c(this._setProp,["strokeStyle",f],!1)],this};a.endStroke=function(){return this.beginStroke(),this};a.curveTo=a.quadraticCurveTo;a.drawRect=a.rect;a.drawRoundRect=function(a,c,h,f,n){return this.drawRoundRectComplex(a,c,h,f,n,n,n,n),this};a.drawRoundRectComplex=
function(a,h,f,n,z,A,u,B){var E=(n>f?f:n)/2,C=0,G=0,F=0,I=0;0>z&&(z*=C=-1);z>E&&(z=E);0>A&&(A*=G=-1);A>E&&(A=E);0>u&&(u*=F=-1);u>E&&(u=E);0>B&&(B*=I=-1);B>E&&(B=E);this._dirty=this._active=!0;var E=this._ctx.arcTo,O=this._ctx.lineTo;return this._activeInstructions.push(new c(this._ctx.moveTo,[a+f-A,h]),new c(E,[a+f+A*G,h-A*G,a+f,h+A,A]),new c(O,[a+f,h+n-u]),new c(E,[a+f+u*F,h+n+u*F,a+f-u,h+n,u]),new c(O,[a+B,h+n]),new c(E,[a-B*I,h+n+B*I,a,h+n-B,B]),new c(O,[a,h+z]),new c(E,[a-z*C,h-z*C,a+z,h,z]),
new c(this._ctx.closePath)),this};a.drawCircle=function(a,c,h){return this.arc(a,c,h,0,2*Math.PI),this};a.drawEllipse=function(a,h,f,n){this._dirty=this._active=!0;var z=0.5522848*(f/2),A=0.5522848*(n/2),u=a+f,B=h+n,f=a+f/2,n=h+n/2;return this._activeInstructions.push(new c(this._ctx.moveTo,[a,n]),new c(this._ctx.bezierCurveTo,[a,n-A,f-z,h,f,h]),new c(this._ctx.bezierCurveTo,[f+z,h,u,n-A,u,n]),new c(this._ctx.bezierCurveTo,[u,n+A,f+z,B,f,B]),new c(this._ctx.bezierCurveTo,[f-z,B,a,n+A,a,n])),this};
a.inject=function(a,h){return this._dirty=this._active=!0,this._activeInstructions.push(new c(a,[h])),this};a.drawPolyStar=function(a,h,f,n,z,A){this._dirty=this._active=!0;null==z&&(z=0);z=1-z;null==A?A=0:A/=180/Math.PI;var u=Math.PI/n;this._activeInstructions.push(new c(this._ctx.moveTo,[a+Math.cos(A)*f,h+Math.sin(A)*f]));for(var B=0;n>B;B++)A+=u,1!=z&&this._activeInstructions.push(new c(this._ctx.lineTo,[a+Math.cos(A)*f*z,h+Math.sin(A)*f*z])),A+=u,this._activeInstructions.push(new c(this._ctx.lineTo,
[a+Math.cos(A)*f,h+Math.sin(A)*f]));return this};a.decodePath=function(a){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],h=[2,2,4,6,0],n=0,z=a.length,A=[],u=0,B=0,E=f.BASE_64;z>n;){var C=a.charAt(n),G=E[C],F=G>>3,I=c[F];if(!I||3&G)throw"bad path data (@"+n+"): "+C;C=h[F];F||(u=B=0);A.length=0;n++;G=(1&G>>2)+2;for(F=0;C>F;F++){var O=E[a.charAt(n)],N=O>>5?-1:1,O=(31&O)<<6|E[a.charAt(n+1)];3==G&&(O=O<<6|E[a.charAt(n+2)]);O=N*O/10;F%2?u=O+=u:B=O+=B;A[F]=O;
n+=G}I.apply(this,A)}return this};a.clone=function(){var a=new f;return a._instructions=this._instructions.slice(),a._activeInstructions=this._activeInstructions.slice(),a._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(a._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(a._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(a._strokeStyleInstructions=this._strokeStyleInstructions.slice()),a._active=this._active,a._dirty=
this._dirty,a._fillMatrix=this._fillMatrix,a._strokeIgnoreScale=this._strokeIgnoreScale,a};a.toString=function(){return"[Graphics]"};a.mt=a.moveTo;a.lt=a.lineTo;a.at=a.arcTo;a.bt=a.bezierCurveTo;a.qt=a.quadraticCurveTo;a.a=a.arc;a.r=a.rect;a.cp=a.closePath;a.c=a.clear;a.f=a.beginFill;a.lf=a.beginLinearGradientFill;a.rf=a.beginRadialGradientFill;a.bf=a.beginBitmapFill;a.ef=a.endFill;a.ss=a.setStrokeStyle;a.s=a.beginStroke;a.ls=a.beginLinearGradientStroke;a.rs=a.beginRadialGradientStroke;a.bs=a.beginBitmapStroke;
a.es=a.endStroke;a.dr=a.drawRect;a.rr=a.drawRoundRect;a.rc=a.drawRoundRectComplex;a.dc=a.drawCircle;a.de=a.drawEllipse;a.dp=a.drawPolyStar;a.p=a.decodePath;a._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(f.beginCmd);this._appendInstructions(this._fillInstructions);this._appendInstructions(this._strokeInstructions);this._appendInstructions(this._strokeInstructions&&this._strokeStyleInstructions);this._appendInstructions(this._activeInstructions);
this._fillInstructions&&this._appendDraw(f.fillCmd,this._fillMatrix);this._strokeInstructions&&this._appendDraw(f.strokeCmd,this._strokeIgnoreScale&&[1,0,0,1,0,0])};a._appendInstructions=function(a){a&&this._instructions.push.apply(this._instructions,a)};a._appendDraw=function(a,h){h?this._instructions.push(new c(this._ctx.save,[],!1),new c(this._ctx.transform,h,!1),a,new c(this._ctx.restore,[],!1)):this._instructions.push(a)};a._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=
this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};a._setProp=function(a,c){this[a]=c};createjs.Graphics=f})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},f=c.prototype=new createjs.EventDispatcher;c.suppressCrossDomainErrors=!1;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._hitTestCanvas=a,c._hitTestContext=a.getContext("2d"),a.width=a.height=1);c._nextCacheID=1;f.alpha=1;f.cacheCanvas=null;f.id=-1;f.mouseEnabled=!0;f.name=null;f.parent=null;f.regX=0;f.regY=0;f.rotation=0;f.scaleX=1;f.scaleY=1;f.skewX=0;f.skewY=0;f.shadow=null;f.visible=!0;f.x=0;
f.y=0;f.compositeOperation=null;f.snapToPixel=!1;f.filters=null;f.cacheID=0;f.mask=null;f.hitArea=null;f.cursor=null;f._cacheOffsetX=0;f._cacheOffsetY=0;f._cacheScale=1;f._cacheDataURLID=0;f._cacheDataURL=null;f._matrix=null;f._rectangle=null;f._bounds=null;f.initialize=function(){this.id=createjs.UID.get();this._matrix=new createjs.Matrix2D;this._rectangle=new createjs.Rectangle};f.isVisible=function(){return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY))};f.draw=function(a,c){var f=
this.cacheCanvas;if(c||!f)return!1;var p,l=this._cacheScale,q=this._cacheOffsetX,z=this._cacheOffsetY;return(p=this._applyFilterBounds(q,z,0,0))&&(q=p.x,z=p.y),a.drawImage(f,q,z,f.width/l,f.height/l),!0};f.updateContext=function(a){var c,f=this.mask;f&&f.graphics&&!f.graphics.isEmpty()&&(c=f.getMatrix(f._matrix),a.transform(c.a,c.b,c.c,c.d,c.tx,c.ty),f.graphics.drawAsPath(a),a.clip(),c.invert(),a.transform(c.a,c.b,c.c,c.d,c.tx,c.ty));c=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,
this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?a.transform(c.a,c.b,c.c,c.d,0|c.tx+0.5,0|c.ty+0.5):a.transform(c.a,c.b,c.c,c.d,c.tx,c.ty);a.globalAlpha*=this.alpha;this.compositeOperation&&(a.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(a,this.shadow)};f.cache=function(a,c,f,p,l){l=l||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));
this._cacheWidth=f;this._cacheHeight=p;this._cacheOffsetX=a;this._cacheOffsetY=c;this._cacheScale=l;this.updateCache()};f.updateCache=function(a){var f,o=this.cacheCanvas,p=this._cacheScale,l=this._cacheOffsetX*p,q=this._cacheOffsetY*p,z=this._cacheWidth,A=this._cacheHeight;if(!o)throw"cache() must be called before updateCache()";var u=o.getContext("2d");(f=this._applyFilterBounds(l,q,z,A))&&(l=f.x,q=f.y,z=f.width,A=f.height);z=Math.ceil(z*p);A=Math.ceil(A*p);z!=o.width||A!=o.height?(o.width=z,o.height=
A):a||u.clearRect(0,0,z+1,A+1);u.save();u.globalCompositeOperation=a;u.setTransform(p,0,0,p,-l,-q);this.draw(u,!0);this._applyFilters();u.restore();this.cacheID=c._nextCacheID++};f.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};f.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};f.getStage=function(){for(var a=
this;a.parent;)a=a.parent;return a instanceof createjs.Stage?a:null};f.localToGlobal=function(a,c){var f=this.getConcatenatedMatrix(this._matrix);return null==f?null:(f.append(1,0,0,1,a,c),new createjs.Point(f.tx,f.ty))};f.globalToLocal=function(a,c){var f=this.getConcatenatedMatrix(this._matrix);return null==f?null:(f.invert(),f.append(1,0,0,1,a,c),new createjs.Point(f.tx,f.ty))};f.localToLocal=function(a,c,f){a=this.localToGlobal(a,c);return f.globalToLocal(a.x,a.y)};f.setTransform=function(a,c,
f,p,l,q,z,A,u){return this.x=a||0,this.y=c||0,this.scaleX=null==f?1:f,this.scaleY=null==p?1:p,this.rotation=l||0,this.skewX=q||0,this.skewY=z||0,this.regX=A||0,this.regY=u||0,this};f.getMatrix=function(a){return(a?a.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};f.getConcatenatedMatrix=function(a){a?a.identity():a=new createjs.Matrix2D;
for(var c=this;null!=c;)a.prependTransform(c.x,c.y,c.scaleX,c.scaleY,c.rotation,c.skewX,c.skewY,c.regX,c.regY).prependProperties(c.alpha,c.shadow,c.compositeOperation),c=c.parent;return a};f.hitTest=function(a,f){var o=c._hitTestContext;o.setTransform(1,0,0,1,-a,-f);this.draw(o);var p=this._testHit(o);return o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,2,2),p};f.set=function(a){for(var c in a)this[c]=a[c];return this};f.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);
var a=this.cacheCanvas;if(a){var c=this._cacheScale;return this._rectangle.initialize(this._cacheOffsetX,this._cacheOffsetY,a.width/c,a.height/c)}return null};f.getTransformedBounds=function(){return this._getBounds()};f.setBounds=function(a,c,f,p){null==a&&(this._bounds=a);this._bounds=(this._bounds||new createjs.Rectangle).initialize(a,c,f,p)};f.clone=function(){var a=new c;return this.cloneProps(a),a};f.toString=function(){return"[DisplayObject (name="+this.name+")]"};f.cloneProps=function(a){a.alpha=
this.alpha;a.name=this.name;a.regX=this.regX;a.regY=this.regY;a.rotation=this.rotation;a.scaleX=this.scaleX;a.scaleY=this.scaleY;a.shadow=this.shadow;a.skewX=this.skewX;a.skewY=this.skewY;a.visible=this.visible;a.x=this.x;a.y=this.y;a._bounds=this._bounds;a.mouseEnabled=this.mouseEnabled;a.compositeOperation=this.compositeOperation};f._applyShadow=function(a,c){c=c||Shadow.identity;a.shadowColor=c.color;a.shadowOffsetX=c.offsetX;a.shadowOffsetY=c.offsetY;a.shadowBlur=c.blur};f._tick=function(a){var c=
this._listeners;c&&c.tick&&(c=new createjs.Event("tick"),c.params=a,this._dispatchEvent(c,this,2))};f._testHit=function(a){try{var f=1<a.getImageData(0,0,1,1).data[3]}catch(o){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return f};f._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,c=this.cacheCanvas.getContext("2d"),
f=this.cacheCanvas.width,p=this.cacheCanvas.height,l=0;a>l;l++)this.filters[l].applyFilter(c,0,0,f,p)};f._applyFilterBounds=function(a,c,f,p){var l,q,z=this.filters;if(z&&(q=z.length)){for(z=0;q>z;z++){var A=this.filters[z];(A=A.getBounds&&A.getBounds())&&(l||(l=this._rectangle.initialize(a,c,f,p)),l.x+=A.x,l.y+=A.y,l.width+=A.width,l.height+=A.height)}return l}};f._getBounds=function(a,c){return this._transformBounds(this.getBounds(),a,c)};f._transformBounds=function(a,c,f){if(!a)return a;var p=
a.x,l=a.y,q=a.width,z=a.height,A=f?this._matrix.identity():this.getMatrix(this._matrix);(p||l)&&A.appendTransform(0,0,1,1,0,0,0,-p,-l);c&&A.prependMatrix(c);var c=q*A.a,q=q*A.b,f=z*A.c,z=z*A.d,u=A.tx,A=A.ty,B=u,E=u,C=A,G=A;return(p=c+u)<B?B=p:p>E&&(E=p),(p=c+f+u)<B?B=p:p>E&&(E=p),(p=f+u)<B?B=p:p>E&&(E=p),(l=q+A)<C?C=l:l>G&&(G=l),(l=q+z+A)<C?C=l:l>G&&(G=l),(l=z+A)<C?C=l:l>G&&(G=l),a.initialize(B,C,E-B,G-C)};createjs.DisplayObject=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},f=c.prototype=new createjs.DisplayObject;f.children=null;f.mouseChildren=!0;f.DisplayObject_initialize=f.initialize;f.initialize=function(){this.DisplayObject_initialize();this.children=[]};f.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a))};f.DisplayObject_draw=f.draw;f.draw=function(a,c){if(this.DisplayObject_draw(a,c))return!0;for(var f=this.children.slice(0),
o=0,p=f.length;p>o;o++){var l=f[o];l.isVisible()&&(a.save(),l.updateContext(a),l.draw(a),a.restore())}return!0};f.addChild=function(a){if(null==a)return a;var c=arguments.length;if(1<c){for(var f=0;c>f;f++)this.addChild(arguments[f]);return arguments[c-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a};f.addChildAt=function(a,c){var f=arguments.length,o=arguments[f-1];if(0>o||o>this.children.length)return arguments[f-2];if(2<f){for(var p=0;f-1>p;p++)this.addChildAt(arguments[p],
o+p);return arguments[f-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(c,0,a),a};f.removeChild=function(a){var c=arguments.length;if(1<c){for(var f=!0,o=0;c>o;o++)f=f&&this.removeChild(arguments[o]);return f}return this.removeChildAt(createjs.indexOf(this.children,a))};f.removeChildAt=function(a){var c=arguments.length;if(1<c){for(var f=[],o=0;c>o;o++)f[o]=arguments[o];f.sort(function(a,c){return c-a});for(var p=!0,o=0;c>o;o++)p=p&&this.removeChildAt(f[o]);return p}if(0>
a||a>this.children.length-1)return!1;c=this.children[a];return c&&(c.parent=null),this.children.splice(a,1),!0};f.removeAllChildren=function(){for(var a=this.children;a.length;)a.pop().parent=null};f.getChildAt=function(a){return this.children[a]};f.getChildByName=function(a){for(var c=this.children,f=0,o=c.length;o>f;f++)if(c[f].name==a)return c[f];return null};f.sortChildren=function(a){this.children.sort(a)};f.getChildIndex=function(a){return createjs.indexOf(this.children,a)};f.getNumChildren=
function(){return this.children.length};f.swapChildrenAt=function(a,c){var f=this.children,o=f[a],p=f[c];o&&p&&(f[a]=p,f[c]=o)};f.swapChildren=function(a,c){for(var f,o,p=this.children,l=0,q=p.length;q>l&&(p[l]==a&&(f=l),p[l]==c&&(o=l),null==f||null==o);l++);l!=q&&(p[f]=c,p[o]=a)};f.setChildIndex=function(a,c){var f=this.children,o=f.length;if(!(a.parent!=this||0>c||c>=o)){for(var p=0;o>p&&f[p]!=a;p++);p!=o&&p!=c&&(f.splice(p,1),f.splice(c,0,a))}};f.contains=function(a){for(;a;){if(a==this)return!0;
a=a.parent}return!1};f.hitTest=function(a,c){return null!=this.getObjectUnderPoint(a,c)};f.getObjectsUnderPoint=function(a,c){var f=[],o=this.localToGlobal(a,c);return this._getObjectsUnderPoint(o.x,o.y,f),f};f.getObjectUnderPoint=function(a,c){var f=this.localToGlobal(a,c);return this._getObjectsUnderPoint(f.x,f.y)};f.DisplayObject_getBounds=f.getBounds;f.getBounds=function(){return this._getBounds(null,!0)};f.getTransformedBounds=function(){return this._getBounds()};f.clone=function(a){var h=new c;
if(this.cloneProps(h),a)for(var f=h.children=[],o=0,p=this.children.length;p>o;o++){var l=this.children[o].clone(a);l.parent=h;f.push(l)}return h};f.toString=function(){return"[Container (name="+this.name+")]"};f.DisplayObject__tick=f._tick;f._tick=function(a){for(var c=this.children.length-1;0<=c;c--){var f=this.children[c];f._tick&&f._tick(a)}this.DisplayObject__tick(a)};f._getObjectsUnderPoint=function(a,h,f,o){for(var p=createjs.DisplayObject._hitTestContext,l=this._matrix,q=this.children.length-
1;0<=q;q--){var z=this.children[q],A=o&&z.hitArea;if(z.visible&&(A||z.isVisible())&&(!o||z.mouseEnabled))if(!A&&z instanceof c){if(z=z._getObjectsUnderPoint(a,h,f,o),!f&&z)return z}else if(!(z.getConcatenatedMatrix(l),A&&(l.appendTransform(A.x,A.y,A.scaleX,A.scaleY,A.rotation,A.skewX,A.skewY,A.regX,A.regY),l.alpha=A.alpha),p.globalAlpha=l.alpha,p.setTransform(l.a,l.b,l.c,l.d,l.tx-a,l.ty-h),(A||z).draw(p),!this._testHit(p))){if(p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,2,2),!f)return o&&!this.mouseChildren?
this:z;f.push(z)}}return null};f._getBounds=function(a,c){var f=this.DisplayObject_getBounds();if(f)return this._transformBounds(f,a,c);var o,p,l,q,z=c?this._matrix.identity():this.getMatrix(this._matrix);a&&z.prependMatrix(a);for(var A=this.children.length,u=0;A>u;u++){var B=this.children[u];if(B.visible&&(f=B._getBounds(z))){var B=f.x,E=f.y,C=B+f.width,G=E+f.height;(o>B||null==o)&&(o=B);(C>p||null==p)&&(p=C);(l>E||null==l)&&(l=E);(G>q||null==q)&&(q=G)}}return null==p?null:this._rectangle.initialize(o,
l,p-o,q-l)};createjs.Container=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},f=c.prototype=new createjs.Container;c._snapToPixelEnabled=!1;f.autoClear=!0;f.canvas=null;f.mouseX=0;f.mouseY=0;f.snapToPixelEnabled=!1;f.mouseInBounds=!1;f.tickOnUpdate=!0;f.mouseMoveOutside=!1;f.nextStage=null;f._pointerData=null;f._pointerCount=0;f._primaryPointerID=null;f._mouseOverIntervalID=null;f.Container_initialize=f.initialize;f.initialize=function(a){this.Container_initialize();this.canvas="string"==typeof a?document.getElementById(a):
a;this._pointerData={};this.enableDOMEvents(!0)};f.update=function(){if(this.canvas){this.tickOnUpdate&&(this.dispatchEvent("tickstart"),this._tick(arguments.length?arguments:null),this.dispatchEvent("tickend"));this.dispatchEvent("drawstart");c._snapToPixelEnabled=this.snapToPixelEnabled;this.autoClear&&this.clear();var a=this.canvas.getContext("2d");a.save();this.updateContext(a);this.draw(a,!1);a.restore();this.dispatchEvent("drawend")}};f.handleEvent=function(a){"tick"==a.type&&this.update(a)};
f.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};f.toDataURL=function(a,c){c||(c="image/png");var f,o=this.canvas.getContext("2d"),p=this.canvas.width,l=this.canvas.height;if(a){f=o.getImageData(0,0,p,l);var q=o.globalCompositeOperation;o.globalCompositeOperation="destination-over";o.fillStyle=a;o.fillRect(0,0,p,l)}var z=this.canvas.toDataURL(c);return a&&(o.clearRect(0,0,p+1,l+1),o.putImageData(f,
0,0),o.globalCompositeOperation=q),z};f.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var c=this;this._mouseOverIntervalID=setInterval(function(){c._testMouseOver()},1E3/Math.min(50,a))};f.enableDOMEvents=function(a){null==a&&(a=!0);var c,f=this._eventListeners;if(!a&&f){for(c in f)a=f[c],a.t.removeEventListener(c,a.f,!1);this._eventListeners=null}else if(a&&
!f&&this.canvas){var a=window.addEventListener?window:document,o=this,f=this._eventListeners={};f.mouseup={t:a,f:function(a){o._handleMouseUp(a)}};f.mousemove={t:a,f:function(a){o._handleMouseMove(a)}};f.dblclick={t:a,f:function(a){o._handleDoubleClick(a)}};f.mousedown={t:this.canvas,f:function(a){o._handleMouseDown(a)}};for(c in f)a=f[c],a.t.addEventListener(c,a.f,!1)}};f.clone=function(){var a=new c(null);return this.cloneProps(a),a};f.toString=function(){return"[Stage (name="+this.name+")]"};f._getElementRect=
function(a){var c;try{c=a.getBoundingClientRect()}catch(f){c={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var o=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),p=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),l=window.getComputedStyle?getComputedStyle(a):a.currentStyle,a=parseInt(l.paddingLeft)+parseInt(l.borderLeftWidth),q=parseInt(l.paddingTop)+parseInt(l.borderTopWidth),
z=parseInt(l.paddingRight)+parseInt(l.borderRightWidth),l=parseInt(l.paddingBottom)+parseInt(l.borderBottomWidth);return{left:c.left+o+a,right:c.right+o-z,top:c.top+p+q,bottom:c.bottom+p-l}};f._getPointerData=function(a){var c=this._pointerData[a];return c||(c=this._pointerData[a]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=a)),c};f._handleMouseMove=function(a){a||(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};f._handlePointerMove=function(a,c,f,o){if(this.canvas){var p=
this._getPointerData(a),l=p.inBounds;if(this._updatePointerPosition(a,c,f,o),l||p.inBounds||this.mouseMoveOutside)-1==a&&p.inBounds==!l&&this._dispatchMouseEvent(this,l?"mouseleave":"mouseenter",!1,a,p,c),this._dispatchMouseEvent(this,"stagemousemove",!1,a,p,c),this._dispatchMouseEvent(p.target,"pressmove",!0,a,p,c),(l=p.event)&&l.hasEventListener("mousemove")&&l.dispatchEvent(new createjs.MouseEvent("mousemove",!1,!1,p.x,p.y,c,a,a==this._primaryPointerID,p.rawX,p.rawY),oTarget),this.nextStage&&this.nextStage._handlePointerMove(a,
c,f,o)}};f._updatePointerPosition=function(a,c,f,o){var p=this._getElementRect(this.canvas),f=f-p.left,o=o-p.top,l=this.canvas.width,q=this.canvas.height,f=f/((p.right-p.left)/l),o=o/((p.bottom-p.top)/q),p=this._getPointerData(a);(p.inBounds=0<=f&&0<=o&&l-1>=f&&q-1>=o)?(p.x=f,p.y=o):this.mouseMoveOutside&&(p.x=0>f?0:f>l-1?l-1:f,p.y=0>o?0:o>q-1?q-1:o);p.posEvtObj=c;p.rawX=f;p.rawY=o;a==this._primaryPointerID&&(this.mouseX=p.x,this.mouseY=p.y,this.mouseInBounds=p.inBounds)};f._handleMouseUp=function(a){this._handlePointerUp(-1,
a,!1)};f._handlePointerUp=function(a,c,f){var o=this._getPointerData(a);this._dispatchMouseEvent(this,"stagemouseup",!1,a,o,c);var p=o.target;p&&(this._getObjectsUnderPoint(o.x,o.y,null,!0)==p&&this._dispatchMouseEvent(p,"click",!0,a,o,c),this._dispatchMouseEvent(p,"pressup",!0,a,o,c));var l=o.event;l&&l.hasEventListener("mouseup")&&l.dispatchEvent(new createjs.MouseEvent("mouseup",!1,!1,o.x,o.y,c,a,a==this._primaryPointerID,o.rawX,o.rawY),p);f?(a==this._primaryPointerID&&(this._primaryPointerID=
null),delete this._pointerData[a]):o.event=o.target=null;this.nextStage&&this.nextStage._handlePointerUp(a,c,f)};f._handleMouseDown=function(a){this._handlePointerDown(-1,a)};f._handlePointerDown=function(a,c,f,o){null!=o&&this._updatePointerPosition(a,c,f,o);var p=this._getPointerData(a);this._dispatchMouseEvent(this,"stagemousedown",!1,a,p,c);p.target=this._getObjectsUnderPoint(p.x,p.y,null,!0);this._dispatchMouseEvent(p.target,"mousedown",!0,a,p,c);this.nextStage&&this.nextStage._handlePointerDown(a,
c,f,o)};f._testMouseOver=function(a){if(-1==this._primaryPointerID&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var c,f,o,p=this._getPointerData(-1),l=p.posEvtObj,q=-1;o="";(a||this.mouseInBounds&&l&&l.target==this.canvas)&&(c=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var a=this._mouseOverTarget||[],z=a[a.length-1],A=this._mouseOverTarget=[];for(f=c;f;)A.unshift(f),null!=f.cursor&&
(o=f.cursor),f=f.parent;this.canvas.style.cursor=o;o=0;for(f=A.length;f>o&&A[o]==a[o];o++)q=o;z!=c&&this._dispatchMouseEvent(z,"mouseout",!0,-1,p,l);for(o=a.length-1;o>q;o--)this._dispatchMouseEvent(a[o],"rollout",!1,-1,p,l);for(o=A.length-1;o>q;o--)this._dispatchMouseEvent(A[o],"rollover",!1,-1,p,l);z!=c&&this._dispatchMouseEvent(c,"mouseover",!0,-1,p,l)}};f._handleDoubleClick=function(a){var c=this._getPointerData(-1),f=this._getObjectsUnderPoint(c.x,c.y,null,!0);this._dispatchMouseEvent(f,"dblclick",
!0,-1,c,a);this.nextStage&&this.nextStage._handleDoubleClick(a)};f._dispatchMouseEvent=function(a,c,f,o,p,l){if(a&&(f||a.hasEventListener(c)))c=new createjs.MouseEvent(c,f,!1,p.x,p.y,l,o,o==this._primaryPointerID,p.rawX,p.rawY),a.dispatchEvent(c)};createjs.Stage=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},f=c.prototype=new createjs.DisplayObject;f.image=null;f.snapToPixel=!0;f.sourceRect=null;f.DisplayObject_initialize=f.initialize;f.initialize=function(a){this.DisplayObject_initialize();"string"==typeof a?(this.image=new Image,this.image.src=a):this.image=a};f.isVisible=function(){var a=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&
a))};f.DisplayObject_draw=f.draw;f.draw=function(a,c){if(this.DisplayObject_draw(a,c))return!0;var f=this.sourceRect;return f?a.drawImage(this.image,f.x,f.y,f.width,f.height,0,0,f.width,f.height):a.drawImage(this.image,0,0),!0};f.DisplayObject_getBounds=f.getBounds;f.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;a=this.sourceRect||this.image;return this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState)?this._rectangle.initialize(0,0,a.width,a.height):
null};f.clone=function(){var a=new c(this.image);return this.sourceRect&&(a.sourceRect=this.sourceRect.clone()),this.cloneProps(a),a};f.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c){this.initialize(a,c)},f=c.prototype=new createjs.DisplayObject;f.currentFrame=0;f.currentAnimation=null;f.paused=!0;f.spriteSheet=null;f.snapToPixel=!0;f.offset=0;f.currentAnimationFrame=0;f.framerate=0;f._advanceCount=0;f._animation=null;f._currentFrame=null;f.DisplayObject_initialize=f.initialize;f.initialize=function(a,c){this.DisplayObject_initialize();this.spriteSheet=a;c&&this.gotoAndPlay(c)};f.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;
return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a))};f.DisplayObject_draw=f.draw;f.draw=function(a,c){if(this.DisplayObject_draw(a,c))return!0;this._normalizeFrame();var f=this.spriteSheet.getFrame(0|this._currentFrame);if(!f)return!1;var o=f.rect;return a.drawImage(f.image,o.x,o.y,o.width,o.height,-f.regX,-f.regY,o.width,o.height),!0};f.play=function(){this.paused=!1};f.stop=function(){this.paused=!0};f.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};f.gotoAndStop=function(a){this.paused=
!0;this._goto(a)};f.advance=function(a){var c=this._animation&&this._animation.speed||1,f=this.framerate||this.spriteSheet.framerate,a=f&&null!=a?a/(1E3/f):1;this._animation?this.currentAnimationFrame+=a*c:this._currentFrame+=a*c;this._normalizeFrame()};f.DisplayObject_getBounds=f.getBounds;f.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};f.clone=function(){var a=new c(this.spriteSheet);return this.cloneProps(a),a};f.toString=
function(){return"[Sprite (name="+this.name+")]"};f.DisplayObject__tick=f._tick;f._tick=function(a){this.paused||this.advance(a&&a[0]&&a[0].delta);this.DisplayObject__tick(a)};f._normalizeFrame=function(){var a,c=this._animation,f=this.paused,o=this._currentFrame,p=this.currentAnimationFrame;if(c)if(a=c.frames.length,(0|p)>=a){var l=c.next;if(!this._dispatchAnimationEnd(c,o,f,l,a-1)){if(l)return this._goto(l,p-a);this.paused=!0;p=this.currentAnimationFrame=c.frames.length-1;this._currentFrame=c.frames[p]}}else this._currentFrame=
c.frames[0|p];else if(a=this.spriteSheet.getNumFrames(),o>=a&&!this._dispatchAnimationEnd(c,o,f,a-1)&&(this._currentFrame-=a)>=a)return this._normalizeFrame();this.currentFrame=0|this._currentFrame};f._dispatchAnimationEnd=function(a,c,f,o,p){var l=a?a.name:null;if(this.hasEventListener("animationend")){var q=new createjs.Event("animationend");q.name=l;q.next=o;this.dispatchEvent(q)}return!f&&this.paused&&(this.currentAnimationFrame=p),this.paused!=f||this._animation!=a||this._currentFrame!=c};f.DisplayObject_cloneProps=
f.cloneProps;f.cloneProps=function(a){this.DisplayObject_cloneProps(a);a.currentFrame=this.currentFrame;a._currentFrame=this._currentFrame;a.currentAnimation=this.currentAnimation;a.paused=this.paused;a._animation=this._animation;a.currentAnimationFrame=this.currentAnimationFrame;a.framerate=this.framerate};f._goto=function(a,c){if(isNaN(a)){var f=this.spriteSheet.getAnimation(a);f&&(this.currentAnimationFrame=c||0,this._animation=f,this.currentAnimation=a,this._normalizeFrame())}else this.currentAnimationFrame=
0,this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()};createjs.Sprite=c})();this.createjs=this.createjs||{};(function(){if(!createjs.Sprite)throw"BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.";(createjs.BitmapAnimation=function(c){console.log("BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.");this.initialize(c)}).prototype=new createjs.Sprite})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},f=c.prototype=new createjs.DisplayObject;f.graphics=null;f.DisplayObject_initialize=f.initialize;f.initialize=function(a){this.DisplayObject_initialize();this.graphics=a?a:new createjs.Graphics};f.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a))};f.DisplayObject_draw=f.draw;f.draw=function(a,c){return this.DisplayObject_draw(a,c)?!0:(this.graphics.draw(a),
!0)};f.clone=function(a){a=new c(a&&this.graphics?this.graphics.clone():this.graphics);return this.cloneProps(a),a};f.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,f){this.initialize(a,c,f)},f=c.prototype=new createjs.DisplayObject,a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._workingContext=a.getContext("2d"),a.width=a.height=1);c.H_OFFSETS={start:0,left:0,center:-0.5,end:-1,right:-1};c.V_OFFSETS={top:0,hanging:-0.01,middle:-0.4,alphabetic:-0.8,ideographic:-0.85,bottom:-1};f.text="";f.font=null;f.color=null;f.textAlign="left";f.textBaseline="top";f.maxWidth=null;f.outline=0;
f.lineHeight=0;f.lineWidth=null;f.DisplayObject_initialize=f.initialize;f.initialize=function(a,c,f){this.DisplayObject_initialize();this.text=a;this.font=c;this.color=f};f.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a))};f.DisplayObject_draw=f.draw;f.draw=function(a,c){if(this.DisplayObject_draw(a,c))return!0;var f=this.color||"#000";return this.outline?(a.strokeStyle=f,a.lineWidth=1*this.outline):
a.fillStyle=f,this._drawText(this._prepContext(a)),!0};f.getMeasuredWidth=function(){return this._prepContext(c._workingContext).measureText(this.text).width};f.getMeasuredLineHeight=function(){return 1.2*this._prepContext(c._workingContext).measureText("M").width};f.getMeasuredHeight=function(){return this._drawText(null,{}).height};f.DisplayObject_getBounds=f.getBounds;f.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;if(null==this.text||""==this.text)return null;var a=this._drawText(null,
{}),f=this.maxWidth&&this.maxWidth<a.width?this.maxWidth:a.width,o=f*c.H_OFFSETS[this.textAlign||"left"],p=(this.lineHeight||this.getMeasuredLineHeight())*c.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.initialize(o,p,f,a.height)};f.clone=function(){var a=new c(this.text,this.font,this.color);return this.cloneProps(a),a};f.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};f.DisplayObject_cloneProps=f.cloneProps;f.cloneProps=function(a){this.DisplayObject_cloneProps(a);
a.textAlign=this.textAlign;a.textBaseline=this.textBaseline;a.maxWidth=this.maxWidth;a.outline=this.outline;a.lineHeight=this.lineHeight;a.lineWidth=this.lineWidth};f._prepContext=function(a){return a.font=this.font,a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a};f._drawText=function(a,f){var o=!!a;o||(a=this._prepContext(c._workingContext));for(var p=this.lineHeight||this.getMeasuredLineHeight(),l=0,q=0,z=String(this.text).split(/(?:\r\n|\r|\n)/),A=0,u=z.length;u>A;A++){var B=
z[A],E=null;if(null!=this.lineWidth&&(E=a.measureText(B).width)>this.lineWidth)for(var C=B.split(/(\s)/),B=C[0],E=a.measureText(B).width,G=1,F=C.length;F>G;G+=2){var I=a.measureText(C[G]+C[G+1]).width;E+I>this.lineWidth?(o&&this._drawTextLine(a,B,q*p),E>l&&(l=E),B=C[G+1],E=a.measureText(B).width,q++):(B+=C[G]+C[G+1],E+=I)}o&&this._drawTextLine(a,B,q*p);f&&null==E&&(E=a.measureText(B).width);E>l&&(l=E);q++}return f&&(f.count=q,f.width=l,f.height=q*p),f};f._drawTextLine=function(a,c,f){this.outline?
a.strokeText(c,0,f,this.maxWidth||65535):a.fillText(c,0,f,this.maxWidth||65535)};createjs.Text=c})();this.createjs=this.createjs||{};
(function(){function c(a,c){this.initialize(a,c)}var f=c.prototype=new createjs.DisplayObject;f.text="";f.spriteSheet=null;f.lineHeight=0;f.letterSpacing=0;f.spaceWidth=0;f.DisplayObject_initialize=f.initialize;f.initialize=function(a,c){this.DisplayObject_initialize();this.text=a;this.spriteSheet=c};f.DisplayObject_draw=f.draw;f.draw=function(a,c){return this.DisplayObject_draw(a,c)?!0:(this._drawText(a),void 0)};f.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&
this.text;return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a))};f.getBounds=function(){var a=this._rectangle;return this._drawText(null,a),a.width?a:null};f._getFrame=function(a,c){var f,o=c.getAnimation(a);return o||(a!=(f=a.toUpperCase())||a!=(f=a.toLowerCase())||(f=null),f&&(o=c.getAnimation(f))),o&&c.getFrame(o.frames[0])};f._getLineHeight=function(a){return(a=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0))?a.rect.height:1};f._getSpaceWidth=
function(a){return(a=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0))?a.rect.width:1};f._drawText=function(a,c){var f,o,p,l=0,q=0,z=this.spaceWidth,A=this.lineHeight,u=this.spriteSheet,B=!!this._getFrame(" ",u);B||0!=z||(z=this._getSpaceWidth(u));0==A&&(A=this._getLineHeight(u));for(var E=0,C=0,G=this.text.length;G>C;C++)if(f=this.text.charAt(C),B||" "!=f)if("\n"!=f&&"\r"!=f){var F=this._getFrame(f,u);if(F){var I=F.rect;p=F.regX;f=I.width;
a&&a.drawImage(F.image,I.x,I.y,f,o=I.height,l-p,q-F.regY,f,o);l+=f+this.letterSpacing}}else"\r"==f&&"\n"==this.text.charAt(C+1)&&C++,l-p>E&&(E=l-p),l=0,q+=A;else l+=z;l-p>E&&(E=l-p);c&&(c.width=E-this.letterSpacing,c.height=q+A)};createjs.BitmapText=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"SpriteSheetUtils cannot be instantiated";},f=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");f.getContext&&(c._workingCanvas=f,c._workingContext=f.getContext("2d"),f.width=f.height=1);c.addFlippedFrames=function(a,h,f,o){if(h||f||o){var p=0;h&&c._flip(a,++p,!0,!1);f&&c._flip(a,++p,!1,!0);o&&c._flip(a,++p,!0,!0)}};c.extractFrame=function(a,h){isNaN(h)&&(h=a.getAnimation(h).frames[0]);var f=a.getFrame(h);if(!f)return null;var o=f.rect,
p=c._workingCanvas;p.width=o.width;p.height=o.height;c._workingContext.drawImage(f.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height);f=new Image;return f.src=p.toDataURL("image/png"),f};c.mergeAlpha=function(a,c,f){f||(f=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));f.width=Math.max(c.width,a.width);f.height=Math.max(c.height,a.height);var o=f.getContext("2d");return o.save(),o.drawImage(a,0,0),o.globalCompositeOperation="destination-in",o.drawImage(c,0,0),o.restore(),
f};c._flip=function(a,f,n,o){for(var p=a._images,l=c._workingCanvas,q=c._workingContext,z=p.length/f,A=0;z>A;A++){var u=p[A];u.__tmp=A;q.setTransform(1,0,0,1,0,0);q.clearRect(0,0,l.width+1,l.height+1);l.width=u.width;l.height=u.height;q.setTransform(n?-1:1,0,0,o?-1:1,n?u.width:0,o?u.height:0);q.drawImage(u,0,0);var B=new Image;B.src=l.toDataURL("image/png");B.width=u.width;B.height=u.height;p.push(B)}q=a._frames;l=q.length/f;for(A=0;l>A;A++){var u=q[A],E=u.rect.clone(),B=p[u.image.__tmp+z*f],C={image:B,
rect:E,regX:u.regX,regY:u.regY};n&&(E.x=B.width-E.x-E.width,C.regX=E.width-u.regX);o&&(E.y=B.height-E.y-E.height,C.regY=E.height-u.regY);q.push(C)}n="_"+(n?"h":"")+(o?"v":"");o=a._animations;a=a._data;p=o.length/f;for(A=0;p>A;A++){q=o[A];u=a[q];z={name:q+n,frequency:u.frequency,next:u.next,frames:[]};u.next&&(z.next+=n);q=u.frames;u=0;for(B=q.length;B>u;u++)z.frames.push(q[u]+l*f);a[z.name]=z;o.push(z.name)}};createjs.SpriteSheetUtils=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},f=c.prototype=new createjs.EventDispatcher;c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";f.maxWidth=2048;f.maxHeight=2048;f.spriteSheet=null;f.scale=1;f.padding=1;f.timeSlice=0.3;f.progress=-1;f._frames=null;f._animations=null;f._data=null;f._nextFrameIndex=0;f._index=0;f._timerID=null;f._scale=1;f.initialize=function(){this._frames=[];this._animations={}};f.addFrame=function(a,f,n,o,
p,l){if(this._data)throw c.ERR_RUNNING;f=f||a.bounds||a.nominalBounds;return!f&&a.getBounds&&(f=a.getBounds()),f?(n=n||1,this._frames.push({source:a,sourceRect:f,scale:n,funct:o,params:p,scope:l,index:this._frames.length,height:f.height*n})-1):null};f.addAnimation=function(a,f,n,o){if(this._data)throw c.ERR_RUNNING;this._animations[a]={frames:f,next:n,frequency:o}};f.addMovieClip=function(a,f,n){if(this._data)throw c.ERR_RUNNING;var o=a.frameBounds,p=f||a.bounds||a.nominalBounds;if(!p&&a.getBounds&&
(p=a.getBounds()),!p&&!o)return null;for(var f=this._frames.length,l=a.timeline.duration,q=0;l>q;q++)this.addFrame(a,o&&o[q]?o[q]:p,n,function(a){var c=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(a);this.actionsEnabled=c},[q],a);var q=a.timeline._labels,a=[],z;for(z in q)a.push({index:q[z],label:z});if(a.length){a.sort(function(a,c){return a.index-c.index});q=0;for(z=a.length;z>q;q++){for(var n=a[q].label,o=f+(q==z-1?l:a[q+1].index),p=[],A=f+a[q].index;o>A;A++)p.push(A);this.addAnimation(n,
p,!0)}}};f.build=function(){if(this._data)throw c.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};f.buildAsync=function(a){if(this._data)throw c.ERR_RUNNING;this.timeSlice=a;this._startBuild();var f=this;this._timerID=setTimeout(function(){f._run()},50-50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)))};f.stopAsync=function(){clearTimeout(this._timerID);this._data=null};f.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};f.toString=function(){return"[SpriteSheetBuilder]"};
f._startBuild=function(){var a=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var f=[];this._data={images:[],frames:f,animations:this._animations};var n=this._frames.slice();if(n.sort(function(a,c){return a.height<=c.height?-1:1}),n[n.length-1].height+2*a>this.maxHeight)throw c.ERR_DIMENSIONS;for(var o=0,p=0,l=0;n.length;){var q=this._fillRow(n,o,l,f,a);if(q.w>p&&(p=q.w),o+=q.h,!q.h||!n.length){var z=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
z.width=this._getSize(p,this.maxWidth);z.height=this._getSize(o,this.maxHeight);this._data.images[l]=z;q.h||(p=o=0,l++)}}};f._getSize=function(a,c){for(var f=4;Math.pow(2,++f)<a;);return Math.min(c,Math.pow(2,f))};f._fillRow=function(a,f,n,o,p){for(var l=this.maxWidth,q=this.maxHeight,f=f+p,q=q-f,z=p,A=0,u=a.length-1;0<=u;u--){var B=a[u],E=this._scale*B.scale,C=B.sourceRect,G=B.source,F=Math.floor(E*C.x-p),I=Math.floor(E*C.y-p),O=Math.ceil(E*C.height+2*p),C=Math.ceil(E*C.width+2*p);if(C>l)throw c.ERR_DIMENSIONS;
O>q||z+C>l||(B.img=n,B.rect=new createjs.Rectangle(z,f,C,O),A=A||O,a.splice(u,1),o[B.index]=[z,f,C,O,n,Math.round(-F+E*G.regX-p),Math.round(-I+E*G.regY-p)],z+=C)}return{w:z,h:A}};f._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};f._run=function(){for(var a=50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)),c=(new Date).getTime()+a,f=!1;c>(new Date).getTime();)if(!this._drawNext()){f=!0;break}if(f)this._endBuild();
else{var o=this;this._timerID=setTimeout(function(){o._run()},50-a)}a=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(c=new createjs.Event("progress"),c.progress=a,this.dispatchEvent(c))};f._drawNext=function(){var a=this._frames[this._index],c=a.scale*this._scale,f=a.rect,o=a.sourceRect,p=this._data.images[a.img].getContext("2d");return a.funct&&a.funct.apply(a.scope,a.params),p.save(),p.beginPath(),p.rect(f.x,f.y,f.width,f.height),p.clip(),p.translate(Math.ceil(f.x-
o.x*c),Math.ceil(f.y-o.y*c)),p.scale(c,c),a.source.draw(p),p.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},f=c.prototype=new createjs.DisplayObject;f.htmlElement=null;f._oldMtx=null;f._visible=!1;f.DisplayObject_initialize=f.initialize;f.initialize=function(a){"string"==typeof a&&(a=document.getElementById(a));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=a;a=a.style;a.position="absolute";a.transformOrigin=a.WebkitTransformOrigin=a.msTransformOrigin=a.MozTransformOrigin=a.OTransformOrigin="0% 0%"};f.isVisible=function(){return null!=
this.htmlElement};f.draw=function(){return this.visible&&(this._visible=!0),!0};f.cache=function(){};f.uncache=function(){};f.updateCache=function(){};f.hitTest=function(){};f.localToGlobal=function(){};f.globalToLocal=function(){};f.localToLocal=function(){};f.clone=function(){throw"DOMElement cannot be cloned.";};f.toString=function(){return"[DOMElement (name="+this.name+")]"};f.DisplayObject__tick=f._tick;f._tick=function(a){var c=this.getStage();this._visible=!1;c&&c.on("drawend",this._handleDrawEnd,
this,!0);this.DisplayObject__tick(a)};f._handleDrawEnd=function(){var a=this.htmlElement;if(a){var a=a.style,c=this._visible?"visible":"hidden";if(c!=a.visibility&&(a.visibility=c),this._visible){var c=this.getConcatenatedMatrix(this._matrix),f=this._oldMtx;if(f&&f.alpha==c.alpha||(a.opacity=""+(0|1E4*c.alpha)/1E4,f&&(f.alpha=c.alpha)),!f||f.tx!=c.tx||f.ty!=c.ty||f.a!=c.a||f.b!=c.b||f.c!=c.c||f.d!=c.d){var o="matrix("+(0|1E4*c.a)/1E4+","+(0|1E4*c.b)/1E4+","+(0|1E4*c.c)/1E4+","+(0|1E4*c.d)/1E4+","+
(0|c.tx+0.5);a.transform=a.WebkitTransform=a.OTransform=a.msTransform=o+","+(0|c.ty+0.5)+")";a.MozTransform=o+"px,"+(0|c.ty+0.5)+"px)";this._oldMtx=f?f.copy(c):c.clone()}}}};createjs.DOMElement=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},f=c.prototype;f.initialize=function(){};f.getBounds=function(){return null};f.applyFilter=function(){};f.toString=function(){return"[Filter]"};f.clone=function(){return new c};createjs.Filter=c})();
this.createjs=this.createjs||{};
(function(){var c=function(a,c,f){this.initialize(a,c,f)},f=c.prototype=new createjs.Filter;f.initialize=function(a,c,f){(isNaN(a)||0>a)&&(a=0);this.blurX=0|a;(isNaN(c)||0>c)&&(c=0);this.blurY=0|c;(isNaN(f)||1>f)&&(f=1);this.quality=0|f};f.blurX=0;f.blurY=0;f.quality=1;f.mul_table=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,
281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,
343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];f.shg_table=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,
15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,
16,17,16,17,16,17,9];f.getBounds=function(){var a=0.5*Math.pow(this.quality,0.6);return new createjs.Rectangle(-this.blurX*a,-this.blurY*a,2*this.blurX*a,2*this.blurY*a)};f.applyFilter=function(a,c,f,o,p,l,q,z){l=l||a;null==q&&(q=c);null==z&&(z=f);try{var A=a.getImageData(c,f,o,p)}catch(u){return!1}a=this.blurX/2;if(isNaN(a)||0>a)return!1;var a=a|0,B=this.blurY/2;if(isNaN(B)||0>B||(B|=0,0==a&&0==B))return!1;var E=this.quality;(isNaN(E)||1>E)&&(E=1);E|=0;3<E&&(E=3);1>E&&(E=1);var C,G,F,I,O,N,R,T,M,
J,K,X,L=A.data,da=a+a+1;I=B+B+1;var V=o-1,U=p-1,aa=a+1,ca=B+1,qa={r:0,b:0,g:0,a:0,next:null},c=qa;for(C=1;da>C;C++)c=c.next={r:0,b:0,g:0,a:0,next:null};c.next=qa;f=da={r:0,b:0,g:0,a:0,next:null};for(C=1;I>C;C++)f=f.next={r:0,b:0,g:0,a:0,next:null};for(f.next=da;0<E--;){O=I=0;for(var ba=this.mul_table[a],ea=this.shg_table[a],f=p;-1<--f;){N=aa*(J=L[I]);R=aa*(K=L[I+1]);T=aa*(X=L[I+2]);M=aa*(F=L[I+3]);c=qa;for(C=aa;-1<--C;)c.r=J,c.g=K,c.b=X,c.a=F,c=c.next;for(C=1;aa>C;C++)G=I+((C>V?V:C)<<2),N+=c.r=L[G],
R+=c.g=L[G+1],T+=c.b=L[G+2],M+=c.a=L[G+3],c=c.next;C=qa;for(c=0;o>c;c++)L[I++]=N*ba>>>ea,L[I++]=R*ba>>>ea,L[I++]=T*ba>>>ea,L[I++]=M*ba>>>ea,G=O+((G=c+a+1)<V?G:V)<<2,N-=C.r-(C.r=L[G]),R-=C.g-(C.g=L[G+1]),T-=C.b-(C.b=L[G+2]),M-=C.a-(C.a=L[G+3]),C=C.next;O+=o}ba=this.mul_table[B];ea=this.shg_table[B];for(c=0;o>c;c++){I=c<<2;N=ca*(J=L[I]);R=ca*(K=L[I+1]);T=ca*(X=L[I+2]);M=ca*(F=L[I+3]);f=da;for(C=0;ca>C;C++)f.r=J,f.g=K,f.b=X,f.a=F,f=f.next;F=o;for(C=1;B>=C;C++)I=F+c<<2,N+=f.r=L[I],R+=f.g=L[I+1],T+=f.b=
L[I+2],M+=f.a=L[I+3],f=f.next,U>C&&(F+=o);if(I=c,C=da,0<E)for(f=0;p>f;f++)G=I<<2,L[G+3]=F=M*ba>>>ea,0<F?(L[G]=N*ba>>>ea,L[G+1]=R*ba>>>ea,L[G+2]=T*ba>>>ea):L[G]=L[G+1]=L[G+2]=0,G=c+((G=f+ca)<U?G:U)*o<<2,N-=C.r-(C.r=L[G]),R-=C.g-(C.g=L[G+1]),T-=C.b-(C.b=L[G+2]),M-=C.a-(C.a=L[G+3]),C=C.next,I+=o;else for(f=0;p>f;f++)G=I<<2,L[G+3]=F=M*ba>>>ea,0<F?(F=255/F,L[G]=(N*ba>>>ea)*F,L[G+1]=(R*ba>>>ea)*F,L[G+2]=(T*ba>>>ea)*F):L[G]=L[G+1]=L[G+2]=0,G=c+((G=f+ca)<U?G:U)*o<<2,N-=C.r-(C.r=L[G]),R-=C.g-(C.g=L[G+1]),
T-=C.b-(C.b=L[G+2]),M-=C.a-(C.a=L[G+3]),C=C.next,I+=o}}return l.putImageData(A,q,z),!0};f.clone=function(){return new c(this.blurX,this.blurY,this.quality)};f.toString=function(){return"[BlurFilter]"};createjs.BlurFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},f=c.prototype=new createjs.Filter;f.initialize=function(a){this.alphaMap=a};f.alphaMap=null;f._alphaMap=null;f._mapData=null;f.applyFilter=function(a,c,f,o,p,l,q,z){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;l=l||a;null==q&&(q=c);null==z&&(z=f);try{var A=a.getImageData(c,f,o,p)}catch(u){return!1}a=A.data;c=this._mapData;f=a.length;for(o=0;f>o;o+=4)a[o+3]=c[o]||0;return A.data=a,l.putImageData(A,q,z),!0};f.clone=function(){return new c(this.alphaMap)};
f.toString=function(){return"[AlphaMapFilter]"};f._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,c=this._alphaMap=this.alphaMap,f=c;c instanceof HTMLCanvasElement?a=f.getContext("2d"):(f=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),f.width=c.width,f.height=c.height,a=f.getContext("2d"),a.drawImage(c,0,0));try{var o=a.getImageData(0,0,c.width,c.height)}catch(p){return!1}return this._mapData=
o.data,!0};createjs.AlphaMapFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},f=c.prototype=new createjs.Filter;f.initialize=function(a){this.mask=a};f.mask=null;f.applyFilter=function(a,c,f,o,p,l,q,z){return this.mask?(l=l||a,null==q&&(q=c),null==z&&(z=f),l.save(),l.globalCompositeOperation="destination-in",l.drawImage(this.mask,q,z),l.restore(),!0):!0};f.clone=function(){return new c(this.mask)};f.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,f,o,p,l,q,z){this.initialize(a,c,f,o,p,l,q,z)},f=c.prototype=new createjs.Filter;f.redMultiplier=1;f.greenMultiplier=1;f.blueMultiplier=1;f.alphaMultiplier=1;f.redOffset=0;f.greenOffset=0;f.blueOffset=0;f.alphaOffset=0;f.initialize=function(a,c,f,o,p,l,q,z){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=c?c:1;this.blueMultiplier=null!=f?f:1;this.alphaMultiplier=null!=o?o:1;this.redOffset=p||0;this.greenOffset=l||0;this.blueOffset=q||0;this.alphaOffset=z||
0};f.applyFilter=function(a,c,f,o,p,l,q,z){l=l||a;null==q&&(q=c);null==z&&(z=f);try{var A=a.getImageData(c,f,o,p)}catch(u){return!1}a=A.data;c=a.length;for(f=0;c>f;f+=4)a[f]=a[f]*this.redMultiplier+this.redOffset,a[f+1]=a[f+1]*this.greenMultiplier+this.greenOffset,a[f+2]=a[f+2]*this.blueMultiplier+this.blueOffset,a[f+3]=a[f+3]*this.alphaMultiplier+this.alphaOffset;return l.putImageData(A,q,z),!0};f.toString=function(){return"[ColorFilter]"};f.clone=function(){return new c(this.redMultiplier,this.greenMultiplier,
this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};createjs.ColorFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,f,o){this.initialize(a,c,f,o)},f=c.prototype=[];c.DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.2,0.21,0.22,0.24,0.25,0.27,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.8,0.83,0.86,0.89,0.92,0.95,0.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,
7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];c.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];c.LENGTH=c.IDENTITY_MATRIX.length;f.initialize=function(a,c,f,o){return this.reset(),this.adjustColor(a,c,f,o),this};f.reset=function(){return this.copyMatrix(c.IDENTITY_MATRIX)};f.adjustColor=function(a,c,f,o){return this.adjustHue(o),this.adjustContrast(c),this.adjustBrightness(a),this.adjustSaturation(f)};f.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),
this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),this)};f.adjustContrast=function(a){if(0==a||isNaN(a))return this;var a=this._cleanValue(a,100),f;return 0>a?f=127+127*(a/100):(f=a%1,f=0==f?c.DELTA_INDEX[a]:c.DELTA_INDEX[a<<0]*(1-f)+c.DELTA_INDEX[(a<<0)+1]*f,f=127*f+127),this._multiplyMatrix([f/127,0,0,0,0.5*(127-f),0,f/127,0,0,0.5*(127-f),0,0,f/127,0,0.5*(127-f),0,0,0,1,0,0,0,0,0,1]),this};f.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,
100);a=1+(0<a?3*a/100:a/100);return this._multiplyMatrix([0.3086*(1-a)+a,0.6094*(1-a),0.082*(1-a),0,0,0.3086*(1-a),0.6094*(1-a)+a,0.082*(1-a),0,0,0.3086*(1-a),0.6094*(1-a),0.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]),this};f.adjustHue=function(a){if(0==a||isNaN(a))return this;var a=this._cleanValue(a,180)/180*Math.PI,c=Math.cos(a),a=Math.sin(a);return this._multiplyMatrix([0.213+0.787*c+-0.213*a,0.715+-0.715*c+-0.715*a,0.072+-0.072*c+0.928*a,0,0,0.213+-0.213*c+0.143*a,0.715+c*(1-0.715)+0.14*a,0.072+-0.072*
c+-0.283*a,0,0,0.213+-0.213*c+-0.787*a,0.715+-0.715*c+0.715*a,0.072+0.928*c+0.072*a,0,0,0,0,0,1,0,0,0,0,0,1]),this};f.concat=function(a){return a=this._fixMatrix(a),a.length!=c.LENGTH?this:(this._multiplyMatrix(a),this)};f.clone=function(){return new c(this)};f.toArray=function(){return this.slice(0,c.LENGTH)};f.copyMatrix=function(a){for(var f=c.LENGTH,n=0;f>n;n++)this[n]=a[n];return this};f._multiplyMatrix=function(a){for(var c=[],f=0;5>f;f++){for(var o=0;5>o;o++)c[o]=this[o+5*f];for(o=0;5>o;o++){for(var p=
0,l=0;5>l;l++)p+=a[o+5*l]*c[l];this[o+5*f]=p}}};f._cleanValue=function(a,c){return Math.min(c,Math.max(-c,a))};f._fixMatrix=function(a){return a instanceof c&&(a=a.slice(0)),a.length<c.LENGTH?a=a.slice(0,a.length).concat(c.IDENTITY_MATRIX.slice(a.length,c.LENGTH)):a.length>c.LENGTH&&(a=a.slice(0,c.LENGTH)),a};createjs.ColorMatrix=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},f=c.prototype=new createjs.Filter;f.matrix=null;f.initialize=function(a){this.matrix=a};f.applyFilter=function(a,c,f,o,p,l,q,z){l=l||a;null==q&&(q=c);null==z&&(z=f);try{var A=a.getImageData(c,f,o,p)}catch(u){return!1}var B,E,C,G,a=A.data,c=a.length;B=this.matrix;for(var f=B[0],o=B[1],p=B[2],F=B[3],I=B[4],O=B[5],N=B[6],R=B[7],T=B[8],M=B[9],J=B[10],K=B[11],X=B[12],L=B[13],da=B[14],V=B[15],U=B[16],aa=B[17],ca=B[18],qa=B[19],ba=0;c>ba;ba+=4)B=a[ba],E=
a[ba+1],C=a[ba+2],G=a[ba+3],a[ba]=B*f+E*o+C*p+G*F+I,a[ba+1]=B*O+E*N+C*R+G*T+M,a[ba+2]=B*J+E*K+C*X+G*L+da,a[ba+3]=B*V+E*U+C*aa+G*ca+qa;return l.putImageData(A,q,z),!0};f.toString=function(){return"[ColorMatrixFilter]"};f.clone=function(){return new c(this.matrix)};createjs.ColorMatrixFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints};c.enable=function(f,a,h){return f&&f.canvas&&c.isSupported()?(f.__touch={pointers:{},multitouch:!a,preventDefault:!h,count:0},"ontouchstart"in window?c._IOS_enable(f):window.navigator.msPointerEnabled&&c._IE_enable(f),!0):!1};c.disable=function(f){f&&("ontouchstart"in window?c._IOS_disable(f):window.navigator.msPointerEnabled&&
c._IE_disable(f))};c._IOS_enable=function(f){var a=f.canvas,h=f.__touch.f=function(a){c._IOS_handleEvent(f,a)};a.addEventListener("touchstart",h,!1);a.addEventListener("touchmove",h,!1);a.addEventListener("touchend",h,!1);a.addEventListener("touchcancel",h,!1)};c._IOS_disable=function(c){var a=c.canvas;a&&(c=c.__touch.f,a.removeEventListener("touchstart",c,!1),a.removeEventListener("touchmove",c,!1),a.removeEventListener("touchend",c,!1),a.removeEventListener("touchcancel",c,!1))};c._IOS_handleEvent=
function(c,a){if(c){c.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var h=a.changedTouches,n=a.type,o=0,p=h.length;p>o;o++){var l=h[o],q=l.identifier;l.target==c.canvas&&("touchstart"==n?this._handleStart(c,q,a,l.pageX,l.pageY):"touchmove"==n?this._handleMove(c,q,a,l.pageX,l.pageY):("touchend"==n||"touchcancel"==n)&&this._handleEnd(c,q,a))}}};c._IE_enable=function(f){var a=f.canvas,h=f.__touch.f=function(a){c._IE_handleEvent(f,a)};a.addEventListener("MSPointerDown",h,!1);window.addEventListener("MSPointerMove",
h,!1);window.addEventListener("MSPointerUp",h,!1);window.addEventListener("MSPointerCancel",h,!1);f.__touch.preventDefault&&(a.style.msTouchAction="none");f.__touch.activeIDs={}};c._IE_disable=function(c){var a=c.__touch.f;window.removeEventListener("MSPointerMove",a,!1);window.removeEventListener("MSPointerUp",a,!1);window.removeEventListener("MSPointerCancel",a,!1);c.canvas&&c.canvas.removeEventListener("MSPointerDown",a,!1)};c._IE_handleEvent=function(c,a){if(c){c.__touch.preventDefault&&a.preventDefault&&
a.preventDefault();var h=a.type,n=a.pointerId,o=c.__touch.activeIDs;"MSPointerDown"==h?a.srcElement==c.canvas&&(o[n]=!0,this._handleStart(c,n,a,a.pageX,a.pageY)):o[n]&&("MSPointerMove"==h?this._handleMove(c,n,a,a.pageX,a.pageY):("MSPointerUp"==h||"MSPointerCancel"==h)&&(delete o[n],this._handleEnd(c,n,a)))}};c._handleStart=function(c,a,h,n,o){var p=c.__touch;if(p.multitouch||!p.count){var l=p.pointers;l[a]||(l[a]=!0,p.count++,c._handlePointerDown(a,h,n,o))}};c._handleMove=function(c,a,h,n,o){c.__touch.pointers[a]&&
c._handlePointerMove(a,h,n,o)};c._handleEnd=function(c,a,h){var n=c.__touch,o=n.pointers;o[a]&&(n.count--,c._handlePointerUp(a,h,!0),delete o[a])};createjs.Touch=c})();this.createjs=this.createjs||{};(function(){var c=createjs.EaselJS=createjs.EaselJS||{};c.version="0.7.0";c.buildDate="Tue, 01 Oct 2013 16:02:38 GMT"})();
(function(){var c,f,a,h,n,o,p=-1,l=svgedit.history.ChangeElementCommand,q=svgedit.history.BatchCommand,z=z||{};svgedit=svgedit||{};var A,u,B="default";svgedit.imageFilters||(svgedit.imageFilters={});svgedit.imageFilters.clickColorFilters=function(a,c){B=c;$j(".filteredMainImage").hide();$j(".canvasLoader").show();flagImage=0;$j(".filteredMainImage").attr("src",a);setTimeout(function(){$j(".brightnessSlider").slider("option","value",0);$j(".saturationSlider").slider("option","value",0);$j(".hueSlider").slider("option",
"value",0);$j(".blurSlider").slider("option","value",0);$j(".contrastSlider").slider("option","value",0);$j(".redChannelSlider").slider("option","value",255);$j(".greenChannelSlider").slider("option","value",255);$j(".blueChannelSlider").slider("option","value",255);$j(".right_section").show();$j("#canvas").hide();$j(".filteredMainImage").show();$j(".canvasLoader").hide()},200)};svgedit.imageFilters.initFiltersSlider=function(){flagImage=0;$j(".brightnessSlider").slider({value:0,min:-100,max:100,
range:"min",disabled:!1,start:function(){flagImage++;$j(".filteredMainImage").hide();$j(".applySlider").hide();$j(".right_section").show();$j("#canvas").show();1==flagImage&&svgCanvas.initFilters()}});$j(".saturationSlider").slider({value:0,min:-100,max:100,range:"min",disabled:!1,start:function(){flagImage++;$j(".filteredMainImage").hide();$j(".applySlider").hide();$j(".right_section").show();$j("#canvas").show();1==flagImage&&svgCanvas.initFilters()}});$j(".contrastSlider").slider({value:0,min:-50,
max:50,range:"min",disabled:!1,start:function(){flagImage++;$j(".filteredMainImage").hide();$j(".applySlider").hide();$j(".right_section").show();$j("#canvas").show();1==flagImage&&svgCanvas.initFilters()}});$j(".hueSlider").slider({value:0,min:-180,max:180,range:"min",disabled:!1,start:function(){flagImage++;$j(".filteredMainImage").hide();$j(".applySlider").hide();$j(".right_section").show();$j("#canvas").show();1==flagImage&&svgCanvas.initFilters()}});$j(".blurSlider").slider({value:0,min:0,max:10,
range:"min",disabled:!1,start:function(){flagImage++;$j(".filteredMainImage").hide();$j(".applySlider").hide();$j(".right_section").show();$j("#canvas").show();console.log($j(".blurSlider").slider("value"));1==flagImage&&svgCanvas.initFilters()}});$j(".redChannelSlider").slider({value:255,min:0,max:255,range:"min",disabled:!1,start:function(){flagImage++;$j(".filteredMainImage").hide();$j(".applySlider").hide();$j(".right_section").show();$j("#canvas").show();1==flagImage&&svgCanvas.initFilters()}});
$j(".greenChannelSlider").slider({value:255,min:0,max:255,range:"min",disabled:!1,start:function(){flagImage++;$j(".filteredMainImage").hide();$j(".applySlider").hide();$j(".right_section").show();$j("#canvas").show();1==flagImage&&svgCanvas.initFilters()}});$j(".blueChannelSlider").slider({value:255,min:0,max:255,range:"min",disabled:!1,start:function(){flagImage++;$j(".filteredMainImage").hide();$j(".applySlider").hide();$j(".right_section").show();$j("#canvas").show();1==flagImage&&svgCanvas.initFilters()}})};
svgedit.imageFilters.thumbClick=function(a){filter_selected=$j(a).parent().width()-$j(a).width();$j(".selected_filter").removeClass("selected_filter");$j(".active_filter").removeClass("active_filter");$j(a).next().addClass("selected_filter");$j(a).addClass("active_filter");$j(".selected_filter").css("margin-left",Math.round($j(a).parent().width()-11-filter_selected/2))};svgedit.imageFilters.initColorFilters=function(a,c,f,h){$j(".defaultfilter_btn").hasClass("active_filter")||(B="default");A=c;a+=
"Btn";$j("#"+a).attr("src",h);$j("#"+a).attr("ref",f);$j("#"+a).attr("ref_matrix",a);z=$j(svgFactory_.getSelectedElements())[0];$j("#"+a).next().next().show();$j("#"+a).show();$j("#"+a).prev().hide();$j(".canvasLoader").hide()};svgedit.imageFilters.getImageData=function(a){u=a};svgedit.imageFilters.initFilters=function(){$j(".canvasLoader").show();z=$j(svgFactory_.getSelectedElements())[0];canvasMainImgPath="true"==$j(".filteredMainImage").attr("thumbfilter")?$j(".filteredMainImage").attr("src"):
u.main;canvasMainImgPath=canvasMainImgPath.replace("cdn-media","www");temp=null;temp=new createjs.ColorMatrixFilter([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0]);c=new Image;c.onload=C;c.src=canvasMainImgPath};var E;E=299<window.innerWidth&&998>window.innerWidth&&svgEditor.curConfig.mobileActivate?240:500;var C=function(){canvas=document.getElementById("canvas");orig_width=z.getAttribute("orig_w");orig_height=z.getAttribute("orig_h");aspect_ratio=orig_width/orig_height;299<window.innerWidth&&
998>window.innerWidth&&svgEditor.curConfig.mobileActivate?(250>orig_width&&450>orig_height&&(E=max_val=Math.max(orig_width,orig_height)),1<=aspect_ratio&&1.11111>aspect_ratio&&250==E&&(E=450*aspect_ratio),1>aspect_ratio&&250==E&&(E=450)):(500>orig_width&&450>orig_height&&(E=max_val=Math.max(orig_width,orig_height)),1<=aspect_ratio&&1.11111>aspect_ratio&&500==E&&(E=450*aspect_ratio),1>aspect_ratio&&500==E&&(E=450));defaultfilterBtn=document.getElementsByClassName("defaultfilter_btn");1<aspect_ratio?
(canvas.setAttribute("width",E),c_h=E/aspect_ratio,canvas.setAttribute("height",c_h)):1>=aspect_ratio&&(c_w=E*aspect_ratio,canvas.setAttribute("width",c_w),canvas.setAttribute("height",E));canvasTopMargin=($j(".canvas").height()-$j(".canvas canvas").height())/2;$j(".canvas canvas").css("margin-top",canvasTopMargin);$j(".right_section").css("display","block");stage=canvasStage=new createjs.Stage(canvas);bmp=new createjs.Bitmap(c);var a=bmp.getBounds();s_x=canvas.getAttribute("width")/a.width;s_y=canvas.getAttribute("height")/
a.height;a=bmp;s_x>s_y?(a.scaleX=s_y,a.scaleY=s_y):(a.scaleX=s_x,a.scaleY=s_x);a=bmp;s_x>s_y?a.cache(0,0,c.width,c.height,[scale=s_y-0.1]):a.cache(0,0,c.width,c.height,[scale=s_x-0.1]);stage.addChild(bmp);brightnessSlide=$j(".brightnessSlider").slider("option","value");saturationSlide=$j(".saturationSlider").slider("option","value");contrastSlide=$j(".contrastSlider").slider("option","value");hueSlide=$j(".hueSlider").slider("option","value");blurSlide=$j(".blurSlider").slider("option","value");redSlide=
$j(".redChannelSlider").slider("option","value");greenSlide=$j(".greenChannelSlider").slider("option","value");blueSlide=$j(".blueChannelSlider").slider("option","value");$j("#apply_filters").click(function(){$j(".apply_filter").css("display","block")});$j(".defaultfilter_btn").click(function(){var a=stage;a.autoClear=true;a.removeAllChildren();a.update()});$j(".brightnessSlider").slider({value:brightnessSlide,min:-100,max:100,range:"min",disabled:!1,change:F,slide:G});$j(".saturationSlider").slider({value:saturationSlide,
min:-100,max:100,range:"min",disabled:!1,change:F,slide:G});$j(".contrastSlider").slider({value:contrastSlide,min:-50,max:50,range:"min",disabled:!1,change:F,slide:G});$j(".hueSlider").slider({value:hueSlide,min:-180,max:180,range:"min",disabled:!1,change:F,slide:G});$j(".blurSlider").slider({value:blurSlide,min:0,max:10,range:"min",disabled:!1,change:F,slide:G});$j(".redChannelSlider").slider({value:redSlide,min:0,max:255,range:"min",disabled:!1,change:F,slide:G});$j(".greenChannelSlider").slider({value:greenSlide,
min:0,max:255,range:"min",disabled:!1,change:F,slide:G});$j(".blueChannelSlider").slider({value:blueSlide,min:0,max:255,range:"min",disabled:!1,change:F,slide:G});$j("#reset_filters").click(O);I()};svgedit.imageFilters.handleImageReset=function(){B="default";$j(".selected_filter").removeClass("selected_filter");$j(".filteredMainImage").show();$j(".filteredMainImage").attr("src",A);$j("#canvas").hide();svgCanvas.clickColorFilters(A,"default")};svgedit.imageFilters.save_filters=function(){var a=$j(".brightnessSlider").slider("option",
"value"),c=$j(".contrastSlider").slider("option","value"),f=$j(".saturationSlider").slider("option","value"),h=$j(".hueSlider").slider("option","value"),n=$j(".blurSlider").slider("option","value"),o=$j(".redChannelSlider").slider("option","value"),p=$j(".greenChannelSlider").slider("option","value"),u=$j(".blueChannelSlider").slider("option","value");r=o/255;g=p/255;b=u/255;brightness=100*(a/255);a=c;DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.2,0.21,
0.22,0.24,0.25,0.27,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.8,0.83,0.86,0.89,0.92,0.95,0.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];0==a||isNaN(a)?contrast=0:(a=Math.min(50,Math.max(-50,a)),0>a?c=127+127*(a/100):(c=a%1,c=0==c?DELTA_INDEX[a]:DELTA_INDEX[a<<0]*(1-c)+DELTA_INDEX[(a<<
0)+1]*c,c=127*c+127),contrast=contrastMatrix="5x5:"+c/127+",0,0,0,"+0.5*(127-c)+",0,"+c/127+",0,0,"+0.5*(127-c)+",0,0,"+c/127+",0,"+0.5*(127-c)+",0,0,0,1,0,0,0,0,0,1");a=h;0==a||isNaN(a)?hue=0:(a=Math.min(180,Math.max(-180,a)),a=a/180*Math.PI,h=Math.cos(a),a=Math.sin(a),hue=hueMatrix="5x5:"+(0.213+0.787*h+-0.213*a)+","+(0.715+-0.715*h+-0.715*a)+","+(0.072+-0.072*h+0.928*a)+",0,0,"+(0.213+-0.213*h+0.143*a)+","+(0.715+h*(1-0.715)+0.14*a)+","+(0.072+-0.072*h+-0.283*a)+",0,0,"+(0.213+-0.213*h+-0.787*
a)+","+(0.715+-0.715*h+0.715*a)+","+(0.072+0.928*h+0.072*a)+",0,0,0,0,0,1,0,0,0,0,0,1");0==f||isNaN(f)?saturation=0:(f=1+(0<f?3*f/100:f/100),saturation=saturationMatrix="5x5:"+(parseFloat(0.3086*(1-f))+parseFloat(f))+","+0.6094*(1-f)+","+0.082*(1-f)+",0,0,"+0.3086*(1-f)+","+(parseFloat(0.6094*(1-f))+parseFloat(f))+","+0.082*(1-f)+",0,0,"+0.3086*(1-f)+","+0.6094*(1-f)+","+(parseFloat(0.082*(1-f))+parseFloat(f))+",0,0,0,0,0,1,0,0,0,0,0,1");blr=3*n/2.5;console.log(blr);undo_redo_url=z.getAttribute("xlink:href");
undoMgr=svgCanvas.undoMgr;var A=new q;$j("#updating_box").show();image_url=z.getAttribute("xlink:href");"true"==z.getAttribute("filtered_image")&&(image_url=z.getAttribute("xlink:href"),image_url=image_url.replace("_filtered",""),0<image_url.indexOf("?ts")&&(image_url=image_url.substring(0,image_url.indexOf("?ts"))));B=B.split("Btn")[0];$j.ajax({url:"/dol/index/generateFilteredImage",data:{image_url:image_url,r:r,g:g,b:b,brightness:brightness,saturation:saturation,blr:blr,hue:hue,contrast:contrast,
filter_name:B},type:"POST",success:function(a){z.setAttribute("filtered_image","true");z.setAttribute("xlink:href",a);$j(new Image).load(function(){$j("#updating_box .desc-rendering").hide();$j("#updating_box").hide()}).attr("src",a);A.addSubCommand(new l(z,{"xlink:href":undo_redo_url}));A.isEmpty()||svgCanvas.undoMgr.addCommandToHistory(A);undoMgr.getUndoStackSize()>0&&$j("#tool_undo").removeClass("disabled");$j(".brightnessSlider").slider("option","value",0);$j(".saturationSlider").slider("option",
"value",0);$j(".hueSlider").slider("option","value",0);$j(".blurSlider").slider("option","value",0);$j(".contrastSlider").slider("option","value",0);$j(".redChannelSlider").slider("option","value",255);$j(".greenChannelSlider").slider("option","value",255);$j(".blueChannelSlider").slider("option","value",255)}});$j("#imagefilter_wrapper").dialog("close");n=stage;n.autoClear=!0;n.removeAllChildren();n.update()};svgedit.imageFilters.resetCurrentSlider=function(a){a.hasClass("resetRGBSlider")?a.prev().slider("option",
"value",255):a.prev().slider("option","value",0)};var G=function(){-1==p&&(p=setInterval(I,250))},F=function(){clearInterval(p);p=-1;I()},I=function(){var c=$j(".brightnessSlider").slider("option","value"),l=$j(".contrastSlider").slider("option","value"),p=$j(".saturationSlider").slider("option","value"),q=$j(".hueSlider").slider("option","value"),u=$j(".blurSlider").slider("option","value"),z=$j(".redChannelSlider").slider("option","value"),A=$j(".greenChannelSlider").slider("option","value"),B=
$j(".blueChannelSlider").slider("option","value");filter_cm=new createjs.ColorMatrix;filter_cm.adjustColor(c,l,p,q);o=new createjs.ColorMatrixFilter(filter_cm);f=new createjs.BlurFilter(u,u,2);a=new createjs.ColorFilter(z/255,1,1,1);h=new createjs.ColorFilter(1,A/255,1,1);n=new createjs.ColorFilter(1,1,B/255,1);bmp.filters=[o,f,a,h,n];bmp.updateCache();stage.update();$j(".canvasLoader").hide();$j(".default_filters_wrapper").mCustomScrollbar("update");canvasLeftMargin_thumb=($j("#default_filters li").width()-
$j(".defaultfilter_btn").width())/2;$j(".defaultfilter_btn").css("margin-left",canvasLeftMargin_thumb);canvasLoadingLeft_thumb=($j("#default_filters li").width()-$j(".loadingImg").width())/2;canvasLoadingTop_thumb=($j("#default_filters li").height()-28-$j(".loadingImg").height())/2},O=function(){B="default";$j(".selected_filter").removeClass("selected_filter");$j(".filteredMainImage").show();$j(".filteredMainImage").attr("src",A);$j("#canvas").hide();$j(".brightnessSlider").slider("option","value",
0);$j(".saturationSlider").slider("option","value",0);$j(".hueSlider").slider("option","value",0);$j(".blurSlider").slider("option","value",0);$j(".contrastSlider").slider("option","value",0);$j(".redChannelSlider").slider("option","value",255);$j(".greenChannelSlider").slider("option","value",255);$j(".blueChannelSlider").slider("option","value",255);I()};svgedit.imageFilters.init=function(a,c){config_=a;svgFactory_=c}})();
(function(c,f,a,h){var n=a("html"),o=a(c),p=a(f),l=a.fancybox=function(){l.open.apply(this,arguments)},q=navigator.userAgent.match(/msie/i),z=null,A=f.createTouch!==h,u=function(c){return c&&c.hasOwnProperty&&c instanceof a},B=function(c){return c&&"string"===a.type(c)},E=function(a){return B(a)&&0<a.indexOf("%")},C=function(a,c){var f=parseInt(a,10)||0;c&&E(a)&&(f*=l.getViewport()[c]/100);return Math.ceil(f)},G=function(a,c){return C(a,c)+"px"};a.extend(l,{version:"2.1.5",defaults:{padding:15,margin:20,
width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!A,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},
keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(q?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,
openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:a.noop,beforeLoad:a.noop,afterLoad:a.noop,beforeShow:a.noop,afterShow:a.noop,beforeChange:a.noop,beforeClose:a.noop,afterClose:a.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,
isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(c,f){if(c&&(a.isPlainObject(f)||(f={}),!1!==l.close(!0)))return a.isArray(c)||(c=u(c)?a(c).get():[c]),a.each(c,function(n,o){var p={},q,z,A,C,E;"object"===a.type(o)&&(o.nodeType&&(o=a(o)),u(o)?(p={href:o.data("fancybox-href")||o.attr("href"),title:a("<div/>").text(o.data("fancybox-title")||o.attr("title")).html(),isDom:!0,element:o},
a.metadata&&a.extend(!0,p,o.metadata())):p=o);q=f.href||p.href||(B(o)?o:null);z=f.title!==h?f.title:p.title||"";C=(A=f.content||p.content)?"html":f.type||p.type;!C&&p.isDom&&(C=o.data("fancybox-type"),C||(C=(C=o.prop("class").match(/fancybox\.(\w+)/))?C[1]:null));if(B(q)&&(C||(l.isImage(q)?C="image":l.isSWF(q)?C="swf":"#"===q.charAt(0)?C="inline":B(o)&&(C="html",A=o)),"ajax"===C))E=q.split(/\s+/,2),q=E.shift(),E=E.shift();A||("inline"===C?q?A=a(B(q)?q.replace(/.*(?=#[^\s]+$)/,""):q):p.isDom&&(A=o):
"html"===C?A=q:!C&&(!q&&p.isDom)&&(C="inline",A=o));a.extend(p,{href:q,type:C,content:A,title:z,selector:E});c[n]=p}),l.opts=a.extend(!0,{},l.defaults,f),f.keys!==h&&(l.opts.keys=f.keys?a.extend({},l.defaults.keys,f.keys):!1),l.group=c,l._start(l.opts.index)},cancel:function(){var a=l.coming;a&&!1===l.trigger("onCancel")||(l.hideLoading(),a&&(l.ajaxLoad&&l.ajaxLoad.abort(),l.ajaxLoad=null,l.imgPreload&&(l.imgPreload.onload=l.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),
l.coming=null,l.current||l._afterZoomOut(a)))},close:function(c){l.cancel();!1!==l.trigger("beforeClose")&&(l.unbindEvents(),l.isActive&&(!l.isOpen||!0===c?(a(".fancybox-wrap").stop(!0).trigger("onReset").remove(),l._afterZoomOut()):(l.isOpen=l.isOpened=!1,l.isClosing=!0,a(".fancybox-item, .fancybox-nav").remove(),l.wrap.stop(!0,!0).removeClass("fancybox-opened"),l.transitions[l.current.closeMethod]())))},play:function(a){var c=function(){clearTimeout(l.player.timer)},f=function(){c();l.current&&
l.player.isActive&&(l.player.timer=setTimeout(l.next,l.current.playSpeed))},h=function(){c();p.unbind(".player");l.player.isActive=!1;l.trigger("onPlayEnd")};if(!0===a||!l.player.isActive&&!1!==a){if(l.current&&(l.current.loop||l.current.index<l.group.length-1))l.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":h,"onUpdate.player":f,"beforeLoad.player":c}),f(),l.trigger("onPlayStart")}else h()},next:function(a){var c=l.current;c&&(B(a)||(a=c.direction.next),l.jumpto(c.index+1,a,"next"))},
prev:function(a){var c=l.current;c&&(B(a)||(a=c.direction.prev),l.jumpto(c.index-1,a,"prev"))},jumpto:function(a,c,f){var n=l.current;if(n&&(a=C(a),l.direction=c||n.direction[a>=n.index?"next":"prev"],l.router=f||"jumpto",n.loop&&(0>a&&(a=n.group.length+a%n.group.length),a%=n.group.length),n.group[a]!==h))l.cancel(),l._start(a)},reposition:function(c,f){var h=l.current,n=h?h.wrap:null,o;n&&(o=l._getPosition(f),c&&"scroll"===c.type?(delete o.position,n.stop(!0,!0).animate(o,200)):(n.css(o),h.pos=a.extend({},
h.dim,o)))},update:function(a){var c=a&&a.originalEvent&&a.originalEvent.type,f=!c||"orientationchange"===c;f&&(clearTimeout(z),z=null);l.isOpen&&!z&&(z=setTimeout(function(){var h=l.current;if(h&&!l.isClosing){l.wrap.removeClass("fancybox-tmp");(f||c==="load"||c==="resize"&&h.autoResize)&&l._setDimension();c==="scroll"&&h.canShrink||l.reposition(a);l.trigger("onUpdate");z=null}},f&&!A?0:300))},toggle:function(c){l.isOpen&&(l.current.fitToView="boolean"===a.type(c)?c:!l.current.fitToView,A&&(l.wrap.removeAttr("style").addClass("fancybox-tmp"),
l.trigger("onUpdate")),l.update())},hideLoading:function(){p.unbind(".loading");a("#fancybox-loading").remove()},showLoading:function(){var c,f;l.hideLoading();c=a('<div id="fancybox-loading"><div></div></div>').click(l.cancel).appendTo("body");p.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),l.cancel()});l.defaults.fixed||(f=l.getViewport(),c.css({position:"absolute",top:0.5*f.h+f.y,left:0.5*f.w+f.x}));l.trigger("onLoading")},getViewport:function(){var a=l.current&&
l.current.locked||!1,f={x:o.scrollLeft(),y:o.scrollTop()};a&&a.length?(f.w=a[0].clientWidth,f.h=a[0].clientHeight):(f.w=A&&c.innerWidth?c.innerWidth:o.width(),f.h=A&&c.innerHeight?c.innerHeight:o.height());return f},unbindEvents:function(){l.wrap&&u(l.wrap)&&l.wrap.unbind(".fb");p.unbind(".fb");o.unbind(".fb")},bindEvents:function(){var c=l.current,f;c&&(o.bind("orientationchange.fb"+(A?"":" resize.fb")+(c.autoCenter&&!c.locked?" scroll.fb":""),l.update),(f=c.keys)&&p.bind("keydown.fb",function(n){var o=
n.which||n.keyCode,p=n.target||n.srcElement;if(27===o&&l.coming)return!1;!n.ctrlKey&&(!n.altKey&&!n.shiftKey&&!n.metaKey&&(!p||!p.type&&!a(p).is("[contenteditable]")))&&a.each(f,function(f,p){if(1<c.group.length&&p[o]!==h)return l[f](p[o]),n.preventDefault(),!1;if(-1<a.inArray(o,p))return l[f](),n.preventDefault(),!1})}),a.fn.mousewheel&&c.mouseWheel&&l.wrap.bind("mousewheel.fb",function(f,h,n,o){for(var p=a(f.target||null),q=!1;p.length&&!q&&!p.is(".fancybox-skin")&&!p.is(".fancybox-wrap");)q=p[0]&&
!(p[0].style.overflow&&"hidden"===p[0].style.overflow)&&(p[0].clientWidth&&p[0].scrollWidth>p[0].clientWidth||p[0].clientHeight&&p[0].scrollHeight>p[0].clientHeight),p=a(p).parent();if(0!==h&&!q&&1<l.group.length&&!c.canShrink){if(0<o||0<n)l.prev(0<o?"down":"left");else if(0>o||0>n)l.next(0>o?"up":"right");f.preventDefault()}}))},trigger:function(c,f){var h,n=f||l.coming||l.current;if(n){a.isFunction(n[c])&&(h=n[c].apply(n,Array.prototype.slice.call(arguments,1)));if(!1===h)return!1;n.helpers&&a.each(n.helpers,
function(f,h){if(h&&l.helpers[f]&&a.isFunction(l.helpers[f][c]))l.helpers[f][c](a.extend(!0,{},l.helpers[f].defaults,h),n)})}p.trigger(c)},isImage:function(a){return B(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return B(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(c){var f={},h,n,c=C(c);h=l.group[c]||null;if(!h)return!1;f=a.extend(!0,{},l.opts,h);h=f.margin;n=f.padding;"number"===a.type(h)&&(f.margin=[h,h,h,h]);"number"===a.type(n)&&
(f.padding=[n,n,n,n]);f.modal&&a.extend(!0,f,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});f.autoSize&&(f.autoWidth=f.autoHeight=!0);"auto"===f.width&&(f.autoWidth=!0);"auto"===f.height&&(f.autoHeight=!0);f.group=l.group;f.index=c;l.coming=f;if(!1===l.trigger("beforeLoad"))l.coming=null;else{n=f.type;h=f.href;if(!n)return l.coming=null,l.current&&l.router&&"jumpto"!==l.router?(l.current.index=c,l[l.router](l.direction)):!1;l.isActive=
!0;if("image"===n||"swf"===n)f.autoHeight=f.autoWidth=!1,f.scrolling="visible";"image"===n&&(f.aspectRatio=!0);"iframe"===n&&A&&(f.scrolling="scroll");f.wrap=a(f.tpl.wrap).addClass("fancybox-"+(A?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+f.wrapCSS).appendTo(f.parent||"body");a.extend(f,{skin:a(".fancybox-skin",f.wrap),outer:a(".fancybox-outer",f.wrap),inner:a(".fancybox-inner",f.wrap)});a.each(["Top","Right","Bottom","Left"],function(a,c){f.skin.css("padding"+c,G(f.padding[a]))});l.trigger("onReady");
if("inline"===n||"html"===n){if(!f.content||!f.content.length)return l._error("content")}else if(!h)return l._error("href");"image"===n?l._loadImage():"ajax"===n?l._loadAjax():"iframe"===n?l._loadIframe():l._afterLoad()}},_error:function(c){a.extend(l.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:c,content:l.coming.tpl.error});l._afterLoad()},_loadImage:function(){var a=l.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;l.coming.width=
this.width/l.opts.pixelRatio;l.coming.height=this.height/l.opts.pixelRatio;l._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;l._error("image")};a.src=l.coming.href;!0!==a.complete&&l.showLoading()},_loadAjax:function(){var c=l.coming;l.showLoading();l.ajaxLoad=a.ajax(a.extend({},c.ajax,{url:c.href,error:function(a,c){l.coming&&"abort"!==c?l._error("ajax",a):l.hideLoading()},success:function(a,f){"success"===f&&(c.content=a,l._afterLoad())}}))},_loadIframe:function(){var c=l.coming,
f=a(c.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",A?"auto":c.iframe.scrolling).attr("src",c.href);a(c.wrap).bind("onReset",function(){try{a(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(c){}});c.iframe.preload&&(l.showLoading(),f.one("load",function(){a(this).data("ready",1);A||a(this).bind("load.fb",l.update);a(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();l._afterLoad()}));c.content=f.appendTo(c.inner);c.iframe.preload||
l._afterLoad()},_preloadImages:function(){var a=l.group,c=l.current,f=a.length,h=c.preload?Math.min(c.preload,f-1):0,n,o;for(o=1;o<=h;o+=1)n=a[(c.index+o)%f],"image"===n.type&&n.href&&((new Image).src=n.href)},_afterLoad:function(){var c=l.coming,f=l.current,h,n,o,p,q;l.hideLoading();if(c&&!1!==l.isActive)if(!1===l.trigger("afterLoad",c,f))c.wrap.stop(!0).trigger("onReset").remove(),l.coming=null;else{f&&(l.trigger("beforeChange",f),f.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());
l.unbindEvents();h=c.content;n=c.type;o=c.scrolling;a.extend(l,{wrap:c.wrap,skin:c.skin,outer:c.outer,inner:c.inner,current:c,previous:f});p=c.href;switch(n){case "inline":case "ajax":case "html":c.selector?h=a("<div>").html(h).find(c.selector):u(h)&&(h.data("fancybox-placeholder")||h.data("fancybox-placeholder",a('<div class="fancybox-placeholder"></div>').insertAfter(h).hide()),h=h.show().detach(),c.wrap.bind("onReset",function(){a(this).find(h).length&&h.hide().replaceAll(h.data("fancybox-placeholder")).data("fancybox-placeholder",
false)}));break;case "image":h=c.tpl.image.replace(/\{href\}/g,p);break;case "swf":h='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+p+'"></param>',q="",a.each(c.swf,function(a,c){h=h+('<param name="'+a+'" value="'+c+'"></param>');q=q+(" "+a+'="'+c+'"')}),h+='<embed src="'+p+'" type="application/x-shockwave-flash" width="100%" height="100%"'+q+"></embed></object>"}(!u(h)||!h.parent().is(c.inner))&&c.inner.append(h);
l.trigger("beforeShow");c.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o);l._setDimension();l.reposition();l.isOpen=!1;l.coming=null;l.bindEvents();if(l.isOpened){if(f.prevMethod)l.transitions[f.prevMethod]()}else a(".fancybox-wrap").not(c.wrap).stop(!0).trigger("onReset").remove();l.transitions[l.isOpened?c.nextMethod:c.openMethod]();l._preloadImages()}},_setDimension:function(){var c=l.getViewport(),f=0,h=!1,n=!1,h=l.wrap,o=l.skin,p=l.inner,q=l.current,n=q.width,u=q.height,z=q.minWidth,
A=q.minHeight,B=q.maxWidth,da=q.maxHeight,V=q.scrolling,U=q.scrollOutside?q.scrollbarWidth:0,aa=q.margin,ca=C(aa[1]+aa[3]),qa=C(aa[0]+aa[2]),ba,ea,la,ga,ia,ya,Za,Na,Oa;h.add(o).add(p).width("auto").height("auto").removeClass("fancybox-tmp");aa=C(o.outerWidth(!0)-o.width());ba=C(o.outerHeight(!0)-o.height());ea=ca+aa;la=qa+ba;ga=E(n)?(c.w-ea)*C(n)/100:n;ia=E(u)?(c.h-la)*C(u)/100:u;if("iframe"===q.type){if(Oa=q.content,q.autoHeight&&1===Oa.data("ready"))try{Oa[0].contentWindow.document.location&&(p.width(ga).height(9999),
ya=Oa.contents().find("body"),U&&ya.css("overflow-x","hidden"),ia=ya.outerHeight(!0))}catch(Ia){}}else if(q.autoWidth||q.autoHeight)p.addClass("fancybox-tmp"),q.autoWidth||p.width(ga),q.autoHeight||p.height(ia),q.autoWidth&&(ga=p.width()),q.autoHeight&&(ia=p.height()),p.removeClass("fancybox-tmp");n=C(ga);u=C(ia);Na=ga/ia;z=C(E(z)?C(z,"w")-ea:z);B=C(E(B)?C(B,"w")-ea:B);A=C(E(A)?C(A,"h")-la:A);da=C(E(da)?C(da,"h")-la:da);ya=B;Za=da;q.fitToView&&(B=Math.min(c.w-ea,B),da=Math.min(c.h-la,da));ea=c.w-
ca;qa=c.h-qa;if(q.aspectRatio){if(n>B&&(n=B,u=C(n/Na)),u>da&&(u=da,n=C(u*Na)),n<z&&(n=z,u=C(n/Na)),u<A)u=A,n=C(u*Na)}else n=Math.max(z,Math.min(n,B)),q.autoHeight&&"iframe"!==q.type&&(p.width(n),u=p.height()),u=Math.max(A,Math.min(u,da));if(q.fitToView)if(p.width(n).height(u),h.width(n+aa),c=h.width(),ca=h.height(),q.aspectRatio)for(;(c>ea||ca>qa)&&(n>z&&u>A)&&!(19<f++);)u=Math.max(A,Math.min(da,u-10)),n=C(u*Na),n<z&&(n=z,u=C(n/Na)),n>B&&(n=B,u=C(n/Na)),p.width(n).height(u),h.width(n+aa),c=h.width(),
ca=h.height();else n=Math.max(z,Math.min(n,n-(c-ea))),u=Math.max(A,Math.min(u,u-(ca-qa)));U&&("auto"===V&&u<ia&&n+aa+U<ea)&&(n+=U);p.width(n).height(u);h.width(n+aa);c=h.width();ca=h.height();h=(c>ea||ca>qa)&&n>z&&u>A;n=q.aspectRatio?n<ya&&u<Za&&n<ga&&u<ia:(n<ya||u<Za)&&(n<ga||u<ia);a.extend(q,{dim:{width:G(c),height:G(ca)},origWidth:ga,origHeight:ia,canShrink:h,canExpand:n,wPadding:aa,hPadding:ba,wrapSpace:ca-o.outerHeight(!0),skinSpace:o.height()-u});!Oa&&(q.autoHeight&&u>A&&u<da&&!n)&&p.height("auto")},
_getPosition:function(a){var c=l.current,f=l.getViewport(),h=c.margin,n=l.wrap.width()+h[1]+h[3],o=l.wrap.height()+h[0]+h[2],h={position:"absolute",top:h[0],left:h[3]};c.autoCenter&&c.fixed&&!a&&o<=f.h&&n<=f.w?h.position="fixed":c.locked||(h.top+=f.y,h.left+=f.x);h.top=G(Math.max(h.top,h.top+(f.h-o)*c.topRatio));h.left=G(Math.max(h.left,h.left+(f.w-n)*c.leftRatio));return h},_afterZoomIn:function(){var c=l.current;c&&((l.isOpen=l.isOpened=!0,l.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0),
l.update(),(c.closeClick||c.nextClick&&1<l.group.length)&&l.inner.css("cursor","pointer").bind("click.fb",function(f){!a(f.target).is("a")&&!a(f.target).parent().is("a")&&(f.preventDefault(),l[c.closeClick?"close":"next"]())}),c.closeBtn&&a(c.tpl.closeBtn).appendTo(l.skin).bind("click.fb",function(a){a.preventDefault();l.close()}),c.arrows&&1<l.group.length&&((c.loop||0<c.index)&&a(c.tpl.prev).appendTo(l.outer).bind("click.fb",l.prev),(c.loop||c.index<l.group.length-1)&&a(c.tpl.next).appendTo(l.outer).bind("click.fb",
l.next)),l.trigger("afterShow"),!c.loop&&c.index===c.group.length-1)?l.play(!1):l.opts.autoPlay&&!l.player.isActive&&(l.opts.autoPlay=!1,l.play(!0)))},_afterZoomOut:function(c){c=c||l.current;a(".fancybox-wrap").trigger("onReset").remove();a.extend(l,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});l.trigger("afterClose",c)}});l.transitions={getOrigPosition:function(){var a=l.current,c=a.element,f=a.orig,h={},n=50,
o=50,p=a.hPadding,q=a.wPadding,z=l.getViewport();!f&&(a.isDom&&c.is(":visible"))&&(f=c.find("img:first"),f.length||(f=c));u(f)?(h=f.offset(),f.is("img")&&(n=f.outerWidth(),o=f.outerHeight())):(h.top=z.y+(z.h-o)*a.topRatio,h.left=z.x+(z.w-n)*a.leftRatio);if("fixed"===l.wrap.css("position")||a.locked)h.top-=z.y,h.left-=z.x;return h={top:G(h.top-p*a.topRatio),left:G(h.left-q*a.leftRatio),width:G(n+q),height:G(o+p)}},step:function(a,c){var f,h,n=c.prop;h=l.current;var o=h.wrapSpace,p=h.skinSpace;if("width"===
n||"height"===n)f=c.end===c.start?1:(a-c.start)/(c.end-c.start),l.isClosing&&(f=1-f),h="width"===n?h.wPadding:h.hPadding,h=a-h,l.skin[n](C("width"===n?h:h-o*f)),l.inner[n](C("width"===n?h:h-o*f-p*f))},zoomIn:function(){var c=l.current,f=c.pos,h=c.openEffect,n="elastic"===h,o=a.extend({opacity:1},f);delete o.position;n?(f=this.getOrigPosition(),c.openOpacity&&(f.opacity=0.1)):"fade"===h&&(f.opacity=0.1);l.wrap.css(f).animate(o,{duration:"none"===h?0:c.openSpeed,easing:c.openEasing,step:n?this.step:
null,complete:l._afterZoomIn})},zoomOut:function(){var a=l.current,c=a.closeEffect,f="elastic"===c,h={opacity:0.1};f&&(h=this.getOrigPosition(),a.closeOpacity&&(h.opacity=0.1));l.wrap.animate(h,{duration:"none"===c?0:a.closeSpeed,easing:a.closeEasing,step:f?this.step:null,complete:l._afterZoomOut})},changeIn:function(){var a=l.current,c=a.nextEffect,f=a.pos,h={opacity:1},n=l.direction,o;f.opacity=0.1;"elastic"===c&&(o="down"===n||"up"===n?"top":"left","down"===n||"right"===n?(f[o]=G(C(f[o])-200),
h[o]="+=200px"):(f[o]=G(C(f[o])+200),h[o]="-=200px"));"none"===c?l._afterZoomIn():l.wrap.css(f).animate(h,{duration:a.nextSpeed,easing:a.nextEasing,complete:l._afterZoomIn})},changeOut:function(){var c=l.previous,f=c.prevEffect,h={opacity:0.1},n=l.direction;"elastic"===f&&(h["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px");c.wrap.animate(h,{duration:"none"===f?0:c.prevSpeed,easing:c.prevEasing,complete:function(){a(this).trigger("onReset").remove()}})}};l.helpers.overlay=
{defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!A,fixed:!0},overlay:null,fixed:!1,el:a("html"),create:function(c){var f,c=a.extend({},this.defaults,c);this.overlay&&this.close();f=l.coming?l.coming.parent:c.parent;this.overlay=a('<div class="fancybox-overlay"></div>').appendTo(f&&f.lenth?f:"body");this.fixed=!1;c.fixed&&l.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(c){var f=this,c=a.extend({},this.defaults,c);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):
this.create(c);this.fixed||(o.bind("resize.overlay",a.proxy(this.update,this)),this.update());c.closeClick&&this.overlay.bind("click.overlay",function(c){if(a(c.target).hasClass("fancybox-overlay")){l.isActive?l.close():f.close();return false}});this.overlay.css(c.css).show()},close:function(){o.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(a(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),o.scrollTop(this.scrollV).scrollLeft(this.scrollH));a(".fancybox-overlay").remove().hide();
a.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",c;this.overlay.width(a).height("100%");q?(c=Math.max(f.documentElement.offsetWidth,f.body.offsetWidth),p.width()>c&&(a=p.width())):p.width()>o.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(c,f){var h=this.overlay;a(".fancybox-overlay").stop(!0,!0);h||this.create(c);c.locked&&(this.fixed&&f.fixed)&&(f.locked=this.overlay.append(f.wrap),f.fixed=!1);!0===c.showEarly&&this.beforeShow.apply(this,
arguments)},beforeShow:function(c,f){f.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&a("*").filter(function(){return"fixed"===a(this).css("position")&&!a(this).hasClass("fancybox-overlay")&&!a(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=o.scrollTop(),this.scrollH=o.scrollLeft(),this.el.addClass("fancybox-lock"),o.scrollTop(this.scrollV).scrollLeft(this.scrollH));this.open(c)},onUpdate:function(){this.fixed||this.update()},
afterClose:function(c){this.overlay&&!l.coming&&this.overlay.fadeOut(c.speedOut,a.proxy(this.close,this))}};l.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(c){var f=l.current,h=f.title,n=c.type;a.isFunction(h)&&(h=h.call(f.element,f));if(B(h)&&""!==a.trim(h)){f=a('<div class="fancybox-title fancybox-title-'+n+'-wrap">'+h+"</div>");switch(n){case "inside":n=l.skin;break;case "outside":n=l.wrap;break;case "over":n=l.inner;break;default:n=l.skin,f.appendTo("body"),q&&f.width(f.width()),
f.wrapInner('<span class="child"></span>'),l.current.margin[2]+=Math.abs(C(f.css("margin-bottom")))}f["top"===c.position?"prependTo":"appendTo"](n)}}};a.fn.fancybox=function(c){var f,h=a(this),n=this.selector||"",o=function(o){var p=a(this).blur(),q=f,u,z;!o.ctrlKey&&(!o.altKey&&!o.shiftKey&&!o.metaKey)&&!p.is(".fancybox-wrap")&&(u=c.groupAttr||"data-fancybox-group",z=p.attr(u),z||(u="rel",z=p.get(0)[u]),z&&(""!==z&&"nofollow"!==z)&&(p=n.length?a(n):h,p=p.filter("["+u+'="'+z+'"]'),q=p.index(this)),
c.index=q,!1!==l.open(p,c)&&o.preventDefault())},c=c||{};f=c.index||0;!n||!1===c.live?h.unbind("click.fb-start").bind("click.fb-start",o):p.undelegate(n,"click.fb-start").delegate(n+":not('.fancybox-item, .fancybox-nav')","click.fb-start",o);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var f,o;a.scrollbarWidth===h&&(a.scrollbarWidth=function(){var c=a('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),f=c.children(),f=f.innerWidth()-
f.height(99).innerWidth();c.remove();return f});if(a.support.fixedPosition===h){f=a.support;o=a('<div style="position:fixed;top:20px;"></div>').appendTo("body");var p=20===o[0].offsetTop||15===o[0].offsetTop;o.remove();f.fixedPosition=p}a.extend(l.defaults,{scrollbarWidth:a.scrollbarWidth(),fixed:a.support.fixedPosition,parent:a("body")});f=a(c).width();n.addClass("fancybox-lock-test");o=a(c).width();n.removeClass("fancybox-lock-test");a("<style type='text/css'>.fancybox-margin{margin-right:"+(o-
f)+"px;}</style>").appendTo("head")})})(window,document,jQuery);
(function(c,f){"function"===typeof define&&define.amd?define(["jquery"],f):"object"===typeof exports?f(require("jquery")):f(c.jQuery)})(this,function(c){function f(a,h){if(!(this instanceof f))return new f(a,h);if("input"!==a.nodeName.toLowerCase()||"checkbox"!==a.type)return c.error("OnOff should be called on checkboxes");var l=c.data(a,f.datakey);if(l)return l;this.options=h=c.extend({},f.defaults,h);this.elem=a;this.$elem=c(a).addClass(h.className);this.$doc=c(a.ownerDocument||document);h.namespace+=
c.guid++;a.id||(a.id="onoffswitch"+p++);this.enable();c.data(a,f.datakey,this)}var a="over out down up move enter leave cancel".split(" "),h=c.extend({},c.event.mouseHooks),n={};if(window.PointerEvent)c.each(a,function(a,f){c.event.fixHooks[n[f]="pointer"+f]=h});else{var o=h.props;h.props=o.concat("touches changedTouches targetTouches altKey ctrlKey metaKey shiftKey".split(" "));h.filter=function(a,c){var f,h=o.length;if(!c.pageX&&c.touches&&(f=c.touches[0]))for(;h--;)a[o[h]]=f[o[h]];return a};c.each(a,
function(a,f){if(2>a)n[f]="mouse"+f;else{var l="touch"+("down"===f?"start":"up"===f?"end":f);c.event.fixHooks[l]=h;n[f]=l+" mouse"+f}})}c.pointertouch=n;var p=1,l=Array.prototype.slice;f.datakey="_onoff";f.defaults={namespace:".onoff",className:"onoffswitch-checkbox"};f.prototype={constructor:f,instance:function(){return this},wrap:function(){var a=this.elem,f=this.$elem,h=this.options,l=f.parent(".onoffswitch");l.length||(f.wrap('<div class="onoffswitch"></div>'),l=f.parent().addClass(a.className.replace(h.className,
"")));this.$con=l;f=f.next('label[for="'+a.id+'"]');f.length||(f=c("<label/>").attr("for",a.id).insertAfter(a));this.$label=f.addClass("onoffswitch-label");a=f.find(".onoffswitch-inner");a.length||(a=c("<div/>").addClass("onoffswitch-inner").prependTo(f));this.$inner=a;a=f.find(".onoffswitch-switch");a.length||(a=c("<div/>").addClass("onoffswitch-switch").appendTo(f));this.$switch=a},_handleMove:function(){this.disabled||(this.$switch.css("right",right),this.$inner.css("marginLeft",100*-(right/this.maxRight)+
"%"))},_startMove:function(a){a.preventDefault();var f=this.elem,h=this.$switch,l=h[0];this.$inner.add(h).css("transition","none");this.maxRight=this.$con.width()-h.width()-c.css(l,"margin-left",!0)-c.css(l,"margin-right",!0)-c.css(l,"border-left-width",!0)-c.css(l,"border-right-width",!0);f=f.checked;this.moved=!1;this.startX=a.clientX+(f?0:this.maxRight);return!1},_bind:function(){this._unbind();this.$switch.on(c.pointertouch.down,c.proxy(this._startMove,this))},enable:function(){this.wrap();this._bind();
this.disabled=!1},_unbind:function(){this.$doc.add(this.$switch).off(this.options.namespace)},disable:function(){this.disabled=!0;this._unbind()},unwrap:function(){this.disable();this.$label.remove();this.$elem.unwrap().removeClass(this.options.className)},isDisabled:function(){return this.disabled},destroy:function(){this.disable();c.removeData(this.elem,f.datakey)},option:function(a,f){var h,l=this.options;if(!a)return c.extend({},l);if("string"===typeof a){if(1===arguments.length)return void 0!==
l[a]?l[a]:null;h={};h[a]=f}else h=a;c.each(h,c.proxy(function(a,c){switch(a){case "namespace":this._unbind();break;case "className":this.$elem.removeClass(l.className)}l[a]=c;switch(a){case "namespace":this._bind();break;case "className":this.$elem.addClass(c)}},this))}};c.fn.onoff=function(a){var h,n,o,p;return"string"===typeof a?(p=[],n=l.call(arguments,1),this.each(function(){(h=c.data(this,f.datakey))?"_"!==a.charAt(0)&&("function"===typeof(o=h[a])&&void 0!==(o=o.apply(h,n)))&&p.push(o):p.push(void 0)}),
p.length?1===p.length?p[0]:p:this):this.each(function(){new f(this,a)})};return c.OnOff=f});
(function(c,f,a,h){function n(a,f){this.element=a;this.options=c.extend({},l,f);this._defaults=l;this._name=p;this.init()}function o(){var c=(a.body||a.documentElement).style,f="transition";if("string"==typeof c[f])return!0;v=["Moz","Webkit","Khtml","O","ms"];for(var f=f.charAt(0).toUpperCase()+f.substr(1),h=0;h<v.length;h++)if("string"==typeof c[v[h]+f])return!0;return!1}var p="tooltipster",l={animation:"fade",arrow:!0,arrowColor:"",content:"",delay:0,fixedWidth:0,maxWidth:0,functionBefore:function(a,
c){c()},functionReady:function(){},functionAfter:function(){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!0,position:"right",speed:0,timer:svgedit.browser.isTouch()?5E3:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},q=!0;o()||(q=!1);var z=!!("ontouchstart"in f);c(f).on("mousemove.tooltipster",function(){z=!1;c(f).off("mousemove.tooltipster")});n.prototype={init:function(){var f=
$j(this.element),l=this,n=!0,f=c(this.element);!1==l.options.touchDevices&&z&&(n=!1);a.all&&!a.querySelector&&(n=!1);if(!0==n){if(!0==this.options.iconDesktop&&!z||!0==this.options.iconTouch&&z)n=f.attr("ref"),f.removeAttr("ref"),n=c('<span class="'+l.options.iconTheme.replace(".","")+'" ref="'+n+'">'+this.options.icon+"</span>"),n.insertAfter(f),f.data("tooltipsterIcon",n),f=n;n=0<c.trim(l.options.content).length?l.options.content:f.attr("ref");f.data("tooltipsterContent",n);f.removeAttr("ref");
if(!0==this.options.touchDevices&&z&&("click"==this.options.trigger||"hover"==this.options.trigger))f.bind("touchstart",function(){l.showTooltip()});else{$j("#tools_ellipse_show, #tools_rect_show, #tools_background_show").click(function(){$j(this).addClass("hide");l.hideTooltip()});"ready"==this.options.trigger&&(l.showTooltip(),f.hasClass("enhance_image")&&$j(".tooltipster-base").css("left","0"));"onclick"==this.options.trigger&&l.showTooltip();if("hover"==this.options.trigger)if(f.on("mouseenter.tooltipster",
function(){$j("#tools_ellipse").css("display")=="none"&&$j("#tools_ellipse_show").removeClass("hide");$j("#tools_background").css("display")=="none"&&$j("#tools_background_show").removeClass("hide");$j("#tools_rect").css("display")=="none"&&$j("#tools_rect_show").removeClass("hide");$j(this).hasClass("hide")||$j(this).hasClass("hideImageTootip")?l.hideTooltip():l.showTooltip()}),!0==this.options.interactive)f.on("mouseleave.tooltipster",function(){var a=f.data("tooltipster"),c=false;if(a!==h&&a!==
""){a.mouseenter(function(){c=true});a.mouseleave(function(){c=false});setTimeout(function(){c==true?a.mouseleave(function(){l.hideTooltip()}):l.hideTooltip()},l.options.interactiveTolerance)}else l.hideTooltip()});else f.on("mouseleave.tooltipster",function(){l.hideTooltip()});if("click"==this.options.trigger)f.on("click.tooltipster",function(){f.data("tooltipster")==""||f.data("tooltipster")==h?l.showTooltip():l.hideTooltip()})}}},showTooltip:function(){var a=c(this.element),f=this;a.data("tooltipsterIcon")!==
h&&(a=a.data("tooltipsterIcon"));a.hasClass("tooltipster-disable")||(0<c(".tooltipster-base").not(".tooltipster-dying").length&&!0==f.options.onlyOne&&c(".tooltipster-base").not(".tooltipster-dying").not(a.data("tooltipster")).each(function(){c(this).addClass("tooltipster-kill");c(this).data("origin").data("plugin_tooltipster").hideTooltip()}),a.clearQueue().delay(f.options.delay).queue(function(){f.options.functionBefore(a,function(){if(a.data("tooltipster")!==h&&""!==a.data("tooltipster")){var l=
a.data("tooltipster");if(!l.hasClass("tooltipster-kill")){var n="tooltipster-"+f.options.animation;l.removeClass("tooltipster-dying");!0==q&&l.clearQueue().addClass(n+"-show");0<f.options.timer&&(n=l.data("tooltipsterTimer"),clearTimeout(n),n=setTimeout(function(){l.data("tooltipsterTimer",h);f.hideTooltip()},f.options.timer),l.data("tooltipsterTimer",n));!0==f.options.touchDevices&&z&&c("body").bind("touchstart",function(a){if(f.options.interactive==true){var h=true;c(a.target).parents().each(function(){c(this).hasClass("tooltipster-base")&&
(h=false)});if(h==true){f.hideTooltip();c("body").unbind("touchstart")}}else{f.hideTooltip();c("body").unbind("touchstart")}})}}else{c("body").css("overflow-x","hidden");var p=a.data("tooltipsterContent"),G=f.options.theme.replace(".",""),n="tooltipster-"+f.options.animation,F="-webkit-transition-duration: "+f.options.speed+"ms; -webkit-animation-duration: "+f.options.speed+"ms; -moz-transition-duration: "+f.options.speed+"ms; -moz-animation-duration: "+f.options.speed+"ms; -o-transition-duration: "+
f.options.speed+"ms; -o-animation-duration: "+f.options.speed+"ms; -ms-transition-duration: "+f.options.speed+"ms; -ms-animation-duration: "+f.options.speed+"ms; transition-duration: "+f.options.speed+"ms; animation-duration: "+f.options.speed+"ms;",I=0<f.options.fixedWidth?"width:"+Math.round(f.options.fixedWidth)+"px;":"",O=0<f.options.maxWidth?"max-width:"+Math.round(f.options.maxWidth)+"px;":"",l=c('<div class="tooltipster-base '+G+" "+n+'" style="'+I+" "+O+" "+(!0==f.options.interactive?"pointer-events: auto;":
"")+" "+F+'"></div>'),G=c('<div class="tooltipster-content"></div>');G.html(p);l.append(G);l.appendTo("body");a.data("tooltipster",l);l.data("origin",a);f.positionTooltip();f.options.functionReady(a,l);!0==q?l.addClass(n+"-show"):l.css("display","none").removeClass(n).fadeIn(f.options.speed);var N=p,R=setInterval(function(){var h=a.data("tooltipsterContent");0==c("body").find(a).length?(l.addClass("tooltipster-dying"),f.hideTooltip()):N!==h&&""!==h&&(N=h,l.find(".tooltipster-content").html(h),!0==
f.options.updateAnimation&&(o()?(l.css({width:"","-webkit-transition":"all "+f.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+f.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+f.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+f.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+f.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),
setTimeout(function(){l.removeClass("tooltipster-content-changing");setTimeout(function(){l.css({"-webkit-transition":f.options.speed+"ms","-moz-transition":f.options.speed+"ms","-o-transition":f.options.speed+"ms","-ms-transition":f.options.speed+"ms",transition:f.options.speed+"ms"})},f.options.speed)},f.options.speed)):l.fadeTo(f.options.speed,0.5,function(){l.fadeTo(f.options.speed,1)})),f.positionTooltip());(0==c("body").find(l).length||0==c("body").find(a).length)&&clearInterval(R)},200);0<
f.options.timer&&(n=setTimeout(function(){l.data("tooltipsterTimer",h);f.hideTooltip()},f.options.timer+f.options.speed),l.data("tooltipsterTimer",n));!0==f.options.touchDevices&&z&&c("body").bind("touchstart",function(a){if(f.options.interactive==true){var h=true;c(a.target).parents().each(function(){c(this).hasClass("tooltipster-base")&&(h=false)});if(h==true){f.hideTooltip();c("body").unbind("touchstart")}}else{f.hideTooltip();c("body").unbind("touchstart")}});l.mouseleave(function(){f.hideTooltip()})}});
a.dequeue()}))},hideTooltip:function(){var a=c(this.element),f=this;a.data("tooltipsterIcon")!==h&&(a=a.data("tooltipsterIcon"));var l=a.data("tooltipster");l==h&&(l=c(".tooltipster-dying"));a.clearQueue();if(l!==h&&""!==l){var n=l.data("tooltipsterTimer");n!==h&&clearTimeout(n);n="tooltipster-"+f.options.animation;!0==q?l.clearQueue().removeClass(n+"-show").addClass("tooltipster-dying").delay(f.options.speed).queue(function(){l.remove();a.data("tooltipster","");c("body").css("verflow-x","");f.options.functionAfter(a)}):
l.clearQueue().addClass("tooltipster-dying").fadeOut(f.options.speed,function(){l.remove();a.data("tooltipster","");c("body").css("verflow-x","");f.options.functionAfter(a)})}},positionTooltip:function(){var a=c(this.element),l=this;a.data("tooltipsterIcon")!==h&&(a=a.data("tooltipsterIcon"));if(a.data("tooltipster")!==h&&""!==a.data("tooltipster")){var n=a.data("tooltipster");n.css("width","");var o=c(f).width(),p=a.outerWidth(!1),q=a.outerHeight(!1),z=n.outerWidth(!1),I=$j.browser.safari?n.innerWidth()+
10:n.innerWidth()+1;n.innerWidth();var O=n.outerHeight(!1),N=a.offset(),R=N.top,N=N.left+7,T=h;if(a.is("area")){var M=a.attr("shape"),p=a.parent().attr("name"),J=c('img[usemap="#'+p+'"]'),N=J.offset().left,K=J.offset().top,p=a.attr("coords")!==h?a.attr("coords").split(","):h;if("circle"==M)var M=parseInt(p[0]),J=parseInt(p[1]),X=parseInt(p[2]),q=2*X,p=2*X,R=K+J-X,N=N+M-X;else if("rect"==M)M=parseInt(p[0]),J=parseInt(p[1]),X=parseInt(p[2]),q=parseInt(p[3])-J,p=X-M,R=K+J,N+=M;else if("poly"==M){var L=
X=J=M=0,da="even";for(i=0;i<p.length;i++){var V=parseInt(p[i]);"even"==da?(V>X&&(X=V,0==i&&(M=X)),V<M&&(M=V),da="odd"):(V>L&&(L=V,1==i&&(J=L)),V<J&&(J=V),da="even")}q=L-J;p=X-M;R=K+J;N+=M}else q=J.outerHeight(!1),p=J.outerWidth(!1),R=K}0==l.options.fixedWidth&&n.css({width:Math.round(I)+"px",height:Math.round(I)+"px","padding-left":"0px","padding-right":"0px"});var U=0,aa=0,ca=parseInt(l.options.offsetY),K=parseInt(l.options.offsetX),M=function(){var a=c(f).scrollLeft();if(0>U-a){var h=U-a;U=a;n.data("arrow-reposition",
h)}U+z-a>o&&(h=U-(o+a-z),U=o+a-z,n.data("arrow-reposition",h))},J=function(a,h){0>R-c(f).scrollTop()-O-ca-12&&-1<h.indexOf("top")&&(l.options.position=a,T=h);R+q+O+12+ca>c(f).scrollTop()+c(f).height()&&-1<h.indexOf("bottom")&&(l.options.position=a,T=h,aa=R-O-ca-12)};"top"==l.options.position&&(X=a.outerWidth(),U=N-I/2+parseInt(X)/2+5.5,aa=R-I-12,M(),J("bottom","top"));"top-left"==l.options.position&&(U=N+K,aa=R-O-ca-12,M(),J("bottom-left","top-left"));"top-right"==l.options.position&&(U=N+p+K-z,aa=
R-O-ca-12,M(),J("bottom-right","top-right"));"bottom"==l.options.position&&(U=N-(N+z-(N+p))/2+K,0==q&&(q+=172),aa=R+q+ca+12,M(),J("top","bottom"));"bottom-left"==l.options.position&&(U=N+K,aa=R+q+ca+12,M(),J("top-left","bottom-left"));"bottom-right"==l.options.position&&(U=N+p+K-z,aa=R+q+ca+12+149,M(),J("top-right","bottom-right"));"left"==l.options.position&&(U=N-K-z-12,myLeftMirror=N+K+p+12,M=R+O-(R+a.outerHeight(!1)),M=a.outerHeight(),aa=R-I/2+parseInt(M)/2,0>U&&myLeftMirror+z>o?(M=2*parseFloat(n.css("border-width")),
J=z+U-M,n.css("width",J+"px"),O=n.outerHeight(!1),U=N-K-J-12-M,M=R+O-(R+a.outerHeight(!1)),aa=R-M/2-ca):0>U&&(U=N+K+p+12,n.data("arrow-reposition","left")),a.hasClass("enhance_image")&&(U-=20));"right"==l.options.position&&(U=N+K+p+12,myLeftMirror=N-K-z-12,M=R+O-(R+a.outerHeight(!1)),M=a.outerHeight(),aa=R-I/2+parseInt(M)/2-3.5,U+z>o&&0>myLeftMirror?(M=2*parseFloat(n.css("border-width")),n.css("width",o-U-M+"px"),O=n.outerHeight(!1)+100,M=R+O-(R+a.outerHeight(!1)),aa=R-M/2-ca):U+z>o&&(U=N-K-z-12,
n.data("arrow-reposition","right")));!0==l.options.arrow&&(a="tooltipster-arrow-"+l.options.position,I=1>l.options.arrowColor.length?n.css("background-color"):l.options.arrowColor,(p=n.data("arrow-reposition"))?"left"==p?(a="tooltipster-arrow-right",p=""):"right"==p?(a="tooltipster-arrow-left",p=""):p="left:"+Math.round(p)+"px;":p="","top"==l.options.position||"top-left"==l.options.position||"top-right"==l.options.position?(N=parseFloat(n.css("border-bottom-width")),K=n.css("border-bottom-color")):
"bottom"==l.options.position||"bottom-left"==l.options.position||"bottom-right"==l.options.position?(N=parseFloat(n.css("border-top-width")),K=n.css("border-top-color")):"left"==l.options.position?(N=parseFloat(n.css("border-right-width")),K=n.css("border-right-color")):"right"==l.options.position?(N=parseFloat(n.css("border-left-width")),K=n.css("border-left-color")):(N=parseFloat(n.css("border-bottom-width")),K=n.css("border-bottom-color")),1<N&&N++,M="",0!==N&&(M="",K="border-color: "+K+";",-1!==
a.indexOf("bottom")?M="margin-top: -"+Math.round(N)+"px;":-1!==a.indexOf("top")?M="margin-bottom: -"+Math.round(N)+"px;":-1!==a.indexOf("left")?M="margin-right: -"+Math.round(N)+"px;":-1!==a.indexOf("right")&&(M="margin-left: -"+Math.round(N)+"px;"),M='<span class="tooltipster-arrow-border" style="'+M+" "+K+';"></span>'),n.find(".tooltipster-arrow").remove(),n.append('<div class="'+a+' tooltipster-arrow" style="'+p+'">'+M+'<span style="border-color:'+I+';"></span></div>'));n.css({top:Math.round(aa)+
"px",left:Math.round(U)+"px"});T!==h&&(l.options.position=T)}}};c.fn[p]=function(a,f){if("string"===typeof a){var l=this;if(l.data("plugin_tooltipster")==h){var o=l.find("*"),l=c();o.each(function(){c(this).data("plugin_tooltipster")!==h&&l.push(c(this))})}l.each(function(){switch(a.toLowerCase()){case "show":c(this).data("plugin_tooltipster").showTooltip();break;case "hide":c(this).data("plugin_tooltipster").hideTooltip();break;case "disable":c(this).addClass("tooltipster-disable");break;case "enable":c(this).removeClass("tooltipster-disable");
break;case "destroy":c(this).data("plugin_tooltipster").hideTooltip();c(this).data("plugin_tooltipster","").attr("ref",l.data("tooltipsterContent")).data("tooltipsterContent","").data("plugin_tooltipster","").off("mouseenter.tooltipster mouseleave.tooltipster click.tooltipster").unbind("touchstart");break;case "update":c(this).data("tooltipsterIcon")==h?c(this).data("tooltipsterContent",f):c(this).data("tooltipsterIcon").data("tooltipsterContent",f);break;case "reposition":c(this).data("plugin_tooltipster").positionTooltip()}});
return this}return this.each(function(){"object"==typeof c.data(this,"plugin_"+p)&&c.data(this,"plugin_"+p,new n(this,a));c.data(this,"plugin_"+p)||c.data(this,"plugin_"+p,new n(this,a));var f=c(this).data("plugin_tooltipster").options;if(!0==f.iconDesktop&&!z||!0==f.iconTouch&&z)f=c(this).data("plugin_tooltipster"),c(this).next().data("plugin_tooltipster",f)})};z&&f.addEventListener("orientationchange",function(){0<c(".tooltipster-base").length&&c(".tooltipster-base").each(function(){c(this).data("origin").data("plugin_tooltipster").hideTooltip()})},
!1);c(f).on("resize.tooltipster",function(){var a=c(".tooltipster-base").data("origin");null!==a&&a!==h&&a.tooltipster("reposition")})})(jQuery,window,document);